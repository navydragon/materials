"use strict";(()=>{var UM=Object.create;var Zu=Object.defineProperty;var WM=Object.getOwnPropertyDescriptor;var qM=Object.getOwnPropertyNames;var GM=Object.getPrototypeOf,jM=Object.prototype.hasOwnProperty;var oi=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Xu=(e,t)=>{for(var o in t)Zu(e,o,{get:t[o],enumerable:!0})},YM=(e,t,o,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of qM(t))!jM.call(e,n)&&n!==o&&Zu(e,n,{get:()=>t[n],enumerable:!(r=WM(t,n))||r.enumerable});return e};var Mt=(e,t,o)=>(o=e!=null?UM(GM(e)):{},YM(t||!e||!e.__esModule?Zu(o,"default",{value:e,enumerable:!0}):o,e));var or=oi((G9,Xy)=>{Xy.exports=window.immer});var Rh=oi((rQ,Ih)=>{Ih.exports=window.hyperHTML});var Md=oi((FU,Uh)=>{Uh.exports=window.reatom});var ix=oi((SW,nx)=>{nx.exports=window.protobuf});var N_=oi((D0e,$_)=>{$_.exports=window.FastAverageColor});var _P=oi((uvt,CP)=>{CP.exports=window.hljs});var O=class e{static log(t,...o){console.log(t,...o)}static warn(t,...o){console.warn(t,...o)}static error(t,...o){console.error(t,...o)}static assert(t,o){t||e.error("Assertion failed"+(o?": "+o:""))}};function V(e,t){return O.assert(e,t),e}function kr(e){throw new Error(e)}function ie(e){return e!==void 0}function Ju(e){return e===void 0}function Ry(e){return e!==null}function yn(e){return e===null}function ro(e){return ie(e)&&Ry(e)}function xa(e){return Ju(e)||yn(e)}function ri(e){return!ZM(e)}function ZM(e){return e===!1||xa(e)}function Dy(e){return typeof e=="boolean"}function qt(e){return typeof e=="string"}function hn(e){return typeof e=="object"&&Ry(e)}function Ys(e){return typeof e=="function"}function Zs(e,t="assert failed"){e||kr(t)}function w(e,t="verify failed"){return xa(e)&&kr(t),e}function Qe(e,t=`checkNever failed, received '${String(e)}'`){kr(t)}function Ay({type:e,edge:t,fn:o,timeout:r}){let n,i;Zs(!(e==="debounce"&&t==="leading"));function a(p){ie(n)&&(clearTimeout(n),n=void 0),p&&(n=setTimeout(p,r))}function s(){if(!i)return;let p;try{p=o(...i.params),i.resolve(p)}catch(m){a(),w(i).reject(m)}finally{i=void 0}return p}function c(){i==null||i.resolve(void 0),i=void 0}let l=(...p)=>{c();let m=ie(n);if(!m||e==="debounce"){let d=()=>{a(i&&t==="leading"?d:void 0),s()};a(d)}return new Promise((d,g)=>{i={params:p,resolve:d,reject:g},t==="leading"&&!m&&s()})};return l.isPending=()=>!!i,l.flush=()=>(a(),s()),l.force=(...p)=>(l.cancel(),o(...p)),l.cancel=()=>{a(),c()},l}var Xs=()=>{},ed=e=>e;var Js=(e,t,o="trailing")=>Ay({type:"throttle",fn:e,timeout:t,edge:o});function q(e){return`${e}px`}function td(e,t=0){return`${Number(e.toFixed(t))}%`}function Vy(e){let t=!1,o;return()=>(t||(o=e(),t=!0),o)}function Ly(){let e=[];return{add:t=>(e.push(t),()=>{let o=e.indexOf(t);o>=0&&e.splice(o,1)}),dispatch:t=>{e.forEach(o=>o(t))},dispose:()=>{e.length=0}}}function no(e){return e.replace(/-\w/g,t=>t.charAt(1).toUpperCase())}function So(e,t,o=Object.is){return e.length===t.length&&e.every((r,n)=>o(r,t[n]))}function Jo(e){for(let t=e.length-1;t>0;t--){let o=Math.floor(Math.random()*(t+1));[e[t],e[o]]=[e[o],e[t]]}}function Oy(e,t){let o=e.indexOf(t),r=o>=0;return r&&e.splice(o,1),r}function Fy(e,t,o){let r=e[t];e[t]=e[o],e[o]=r}function er(e){return e.filter(ri)}function ec(e){return Object.keys(e)}function Sa(e){return Object.entries(e)}function ni(e,t){let o={};return ec(e).forEach(r=>{o[r]=t(e[r],r)}),o}function tc(e,t){if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((o,r)=>tc(o,t[r]));if(hn(e)&&hn(t)){let o=Object.keys(e),r=Object.keys(t);return o.length===r.length&&o.every(n=>r.includes(n)&&tc(e[n],t[n]))}return Object.is(e,t)}function od(e,t,o){return e.reduce((r,n,i)=>(r[t(n,i)]=o?o(n,i):n,r),{})}function Ky(e,t){let o={};return Object.keys(e).forEach(r=>{let n=e[r];ie(n)&&t(n,r)&&(o[r]=n)}),o}function oc(e){return Ky(e,ri)}function $y(e,t){ec(e).forEach(o=>{t(e[o],o)})}function J(e,t,o){if(!t.hasOwnProperty(e)){if(o)return o(e);kr(`switchEnum() failed, received '${e}'`)}return t[e]}function Ny(e,t,o){return J(e,t,o&&(r=>()=>o(r)))(e)}function ka(e){let t=typeof e;return t==="object"&&e!=null||t==="function"}function rd(e){return Array.isArray(e)}var z=(e,t=`Unhandled value: ${JSON.stringify(e,null," ")}`)=>O.error(t);var XM=0,rc=class{constructor(t,o,r,n,i=null){this.listener=t,this.src=o,this.type=r,this.capture=!!n,this.handler=i,this.key=++XM}};var nc=class extends rc{constructor(t,o,r,n,i,a){super(t,r,n,i,a),this.proxy=o,this.callOnce=!1,this.removed=!1}markAsRemoved(){this.removed=!0,this.listener=null,this.proxy=null,this.src=null,this.handler=null}};function zy(e,t,o){for(let r in e)if(t.call(o,e[r],r,e))return!0;return!1}function Hy(e,t,o){if(e){for(let r in e)if(t.call(o,e[r],r,e))return r}}function ic(e,t){for(let o in e)if(!(o in t)||e[o]!==t[o])return!1;for(let o in t)if(!(o in e))return!1;return!0}function Qy(e,t,o){let r={};if(e)for(let n in e)t.call(o,e[n],n,e)&&(r[n]=e[n]);return r}function Ca(e,t,o){for(let r in e)e.hasOwnProperty(r)&&t.call(o,e[r],r,e)}function tr(e,t){let o=t(e);if(o!==void 0)return o;if(typeof e!="object"||e==null)return e;if(Array.isArray(e))return e.map(n=>tr(n,t));let r={};for(let n of Object.keys(e))r[n]=tr(e[n],t);return r}function Uy(e,t){for(let o of Object.keys(t))e[o]=t[o]}function It(e){return e&&JSON.parse(JSON.stringify(e))}var _a=class{constructor(t){this.src=t,this.listeners={},this._typeCount=0}getTypeCount(){return this._typeCount}getListenerCount(){let t=0;for(let o of Object.keys(this.listeners))t+=this.listeners[o].length;return t}add(t,o,r,n,i){let a=t.toString(),s=this.listeners[a];s||(s=this.listeners[a]=[],this._typeCount++);let c,l=this._findListenerIndex(s,o,n,i);return l>-1?(c=s[l],r||(c.callOnce=!1)):(c=new nc(o,null,this.src,a,!!n,i),c.callOnce=r,s.push(c)),c}remove(t,o,r,n){let i=t.toString();if(!(i in this.listeners))return!1;let a=this.listeners[i],s=this._findListenerIndex(a,o,r,n);return s>-1?(a[s].markAsRemoved(),a.splice(s,1),a.length===0&&(delete this.listeners[i],this._typeCount--),!0):!1}removeByKey(t){let o=t.type;if(!(o in this.listeners))return!1;let r=this.listeners[o],n=r.indexOf(t),i=n>=0;return i&&(r.splice(n,1),t.markAsRemoved(),this.listeners[o].length===0&&(delete this.listeners[o],--this._typeCount)),i}getListeners(t,o){let r=this.listeners[t.toString()],n=[];if(r)for(let i=0;i<r.length;++i){let a=r[i];a.capture==o&&n.push(a)}return n}getListener(t,o,r,n){let i=this.listeners[t.toString()],a=-1;return i&&(a=this._findListenerIndex(i,o,r,n)),a>-1?i[a]:null}hasListener(t="",o=void 0){let r=ie(t),n=r?t.toString():"",i=ie(o);return zy(this.listeners,a=>{for(let s=0;s<a.length;++s)if((!r||a[s].type==n)&&(!i||a[s].capture==o))return!0;return!1})}_findListenerIndex(t,o,r,n){for(let i=0;i<t.length;++i){let a=t[i];if(!a.removed&&a.listener==o&&a.capture==!!r&&a.handler==n)return i}return-1}};var id="ispring_lm_"+(Math.random()*1e6|0),nd;function JM(){if(!gt.addEventListener||!Object.defineProperty)return!1;let e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});return gt.addEventListener("test",Function.prototype,t),gt.removeEventListener("test",Function.prototype,t),e}function eI(){return ie(nd)||(nd=JM()),nd}function ad(e){let t=e[id];return t instanceof _a?t:null}function Rt(e){let t=e;if(!t||t.removed)return!1;let o=t.src,r=t.type,n=t.proxy;o.removeEventListener&&o.removeEventListener(r,n,t.capture);let i=ad(o);return i?(i.removeByKey(t),i.getTypeCount()===0&&(o[id]=null)):t.markAsRemoved(),!0}function tI(e){let{listener:t,handler:o,callOnce:r}=e,n=o?t.bind(o):t;return r?(...i)=>{n(...i),Rt(e)}:n}function st(e,t,o,r,n=null){let i=ka(r)?V(r).capture:!!r,a=ad(e);a||(a=new _a(e),e[id]=a);let s=!!(r&&r.once),c=a.add(t,o,s,i,n);if(c.proxy)return c;let l=tI(c);if(c.proxy=l,e.addEventListener){let p=eI()?r:i;ie(p)||(p=!1),e.addEventListener(t.toString(),l,p)}else throw new Error("addEventListener is unavailable.");return c}function Wy(e,t,o,r,n){r=!!r;let i=ad(e);return i?i.getListener(t,o,r,n):null}var ac=class{dispose(){}};var oI=0,Cr=class extends ac{constructor(){super(),this._listenersKeys=null,this._activeSignals=null,this._disposables=null,this._customDestructHandlers=null}addDestructHandler(t){this._customDestructHandlers=this._customDestructHandlers||[],this._customDestructHandlers.push(t)}dispose(){if(this._destruct(),this._customDestructHandlers)for(let t of this._customDestructHandlers)t();if(this._disposables)for(let t of this._disposables)sd(t);if(this._listenersKeys){for(let t of this._listenersKeys)Rt(t);this._listenersKeys=null}if(this._activeSignals)for(let t of Object.keys(this._activeSignals))this._removeSignalByKey(t)}_listen(t,o,r,n){this._listenersKeys=this._listenersKeys||[];let i=st(this._getEventTarget(t),o,r,n,this);return this._listenersKeys.push(i),i}_unlisten(t,o,r){let n=Wy(this._getEventTarget(t),o,r,!1);return!!n&&this._unlistenByKey(n)}_unlistenByKey(t){let o=V(this._listenersKeys),r=o.indexOf(t);return r>=0&&o.splice(r,1),Rt(t)}_addSignal(t,o,r){this._activeSignals=this._activeSignals||{},t.add(o,this,r);let n=++oI;return this._activeSignals[n]={dispatcher:t,fn:o,priority:r},n}_addSignalCallOnce(t,o,r){let n=(...i)=>{o.apply(this,i),this._removeSignal(t,n,r)};this._addSignal(t,n,r)}_removeSignal(t,o,r){let n=Hy(this._activeSignals,i=>ic(i,{dispatcher:t,fn:o,priority:r}));n&&this._removeSignalByKey(n)}_removeSignalByKey(t){if(!(this._activeSignals&&this._activeSignals[t])){O.warn("unknown signal key");return}let{dispatcher:o,fn:r,priority:n}=this._activeSignals[t];o.remove(r,this,n),delete this._activeSignals[t]}_removeAllEvents(t){if(t){if(this._activeSignals){let o=Qy(this._activeSignals,r=>r.dispatcher.eventOwner()===t);for(let r of Object.keys(o))this._removeSignalByKey(r)}if(this._listenersKeys){let o=this._getEventTarget(t),r=this._listenersKeys.filter(n=>n.src===o);for(let n of r)this._unlistenByKey(n)}}}_addDisposable(t){return this._disposables=this._disposables||[],!t||this._disposables.includes(t)||this._disposables.push(t),t}_removeDisposable(...t){if(this._disposables){for(let o of t)if(o){this._cleanItemDependencies(o);let r=this._disposables.indexOf(o);r>=0&&(this._disposables.splice(r,1),sd(o))}}}_cleanItemDependencies(t){this._removeAllEvents(t)}_cleanDependencies(...t){for(let o of t)o&&this._cleanItemDependencies(o)}_getEventTarget(t){return t}_destruct(){}};function cd(e,t){return e>t?1:e<t?-1:0}function rI(e,t,o,r,n){let i=0,a=e.length,s;for(;i<a;){let c=i+a>>1,l;o?l=t.call(n,e[c],c,e):l=t(r,e[c]),l>0?i=c+1:(a=c,s=!l)}return s?i:~i}function nI(e,t,o=cd){return rI(e,o,!1,t)}function qy(e,t,o){let r=nI(e,t,o);return r<0?(e.splice(-(r+1),0,t),!0):!1}function sc(e,t){let o=(t%e.length+e.length)%e.length;return e[o]}var cc=class{constructor(){this._priorities=null,this._values=null,this._zeroPriorityValues=null}push(t,o){this._addPriority(o);let r=this._getPriorityValues(o);r?r.push(t):O.warn("Priority array values are zero")}remove(t,o){let r=this._getPriorityValues(o);r&&Oy(r,t)}removeAt(t,o){let r=this._getPriorityValues(o);r&&r.splice(t,1)}getValuesWithPriority(t){if(t===0)return this._zeroPriorityValues||[];if(!this._values)return O.warn("Priority array values are zero"),[];if(!(t in this._values))return[];let o=this._getPriorityValues(t);return o||(O.warn("Priority array values are zero"),[])}getAllValues(){if(!this._values)return this._zeroPriorityValues?this._zeroPriorityValues.slice():[];let t=[],o=V(this._priorities);for(let r=0;r<o.length;++r){let n=o[r],i=this._getPriorityValues(n);i&&t.push(...i)}return t}_addPriority(t){if(t===0){this._zeroPriorityValues=this._zeroPriorityValues||[];return}this._priorities=this._priorities||[0],this._values=this._values||{},t in this._values||(this._values[t]=[],qy(this._priorities,t))}_getPriorityValues(t){return t===0?this._zeroPriorityValues:V(this._values)[t]}};var io=class extends Cr{constructor(t=null){super(),this._handlers=null,this._owner=t}eventOwner(){return this._owner}add(t,o,r=0){this._handlers=this._handlers||new cc,this._handlers.push({fn:t,context:o},r)}addCallOnce(t,o,r=0){let n=i=>{t.call(o,i),this.remove(n,o,r)};this.add(n,o,r)}remove(t,o,r=0){if(!this._handlers){O.warn("Signal has no handlers!");return}let n=this._handlers.getValuesWithPriority(r),i=n.length;for(let a=0;a<i;++a){let s=w(n[a]);if(s.fn===t&&s.context===o){this._handlers.removeAt(a,r);break}}}has(t,o,r=0){if(!this._handlers)return!1;let n=this._handlers.getValuesWithPriority(r),i=n.length;for(let a=0;a<i;++a){let s=w(n[a]);if(s.fn===t&&s.context===o)return!0}return!1}dispatch(t){if(!this._handlers)return;let o=this._handlers.getAllValues(),r=o.length;for(let n=0;n<r;++n){let i=w(o[n]);if(this._handlers.getAllValues().indexOf(i)!==-1)try{i.fn.apply(i.context,[t])}catch(a){ld(a,!0)}}}toFn(){return t=>this.dispatch(t)}handlersCount(){return this._handlers?this._handlers.getAllValues().length:0}};var gt=Function("return this")(),iI=()=>!0;function pd(e,t){if(iI()){if(t){O.error(e);return}O.warn(e)}}function ld(e,t){let o=e.stack||e.toString();String(o).indexOf(e.message)<0&&pd(e.message,t),pd(o,t)}var D9=Object.getPrototypeOf({});function sd(e){e&&(V(!e.disposed),Ys(e.dispose)&&e.dispose(),e.disposed=!0)}function Gy(e,t){let o=e.split("."),r=gt;!(V(o[0])in r)&&typeof r.execScript!="undefined"&&r.execScript("var "+o[0]);for(let n;o.length&&(n=o.shift());)!o.length&&ie(t)?r[n]=t:r[n]&&r[n]!==Object.prototype[n]?r=r[n]:r=r[n]={}}gt.onerror=function(...e){let[t,,,,o]=e;return o?ld(o,!0):pd(t,!0),!0};var ao=gt.requestAnimationFrame||gt.mozRequestAnimationFrame||gt.webkitRequestAnimationFrame||gt.msRequestAnimationFrame||setTimeout,aI=gt.cancelAnimationFrame||gt.mozCancelAnimationFrame||gt.webkitCancelAnimationFrame||gt.msCancelAnimationFrame||clearTimeout,L9=gt.requestIdleCallback||sI;function sI(e){let t=Date.now();return setTimeout(()=>{e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)}function lc(e,t){let o=t?e.bind(t):e,r;function n(){aI(r),r=null}function i(){r&&n(),r=ao(o)}function a(){return r!==null}return{call:i,cancel:n,isSheduled:a}}function Bt(e,t,o){return Math.max(t,Math.min(o,e))}function jy(e){return e>0?1:e===0?0:-1}function Ba(e,t=0){return parseFloat(e.toFixed(t))}function pc({reducer:e,timingFn:t,duration:o,abortSignal:r,beforeAnimation:n,afterAnimation:i}){let a=Date.now(),s=!1,c=new io;function l(){if(s)return;let m=Bt(Date.now()-a,0,o),d=t(m/o);e.animate(d),m<o?ao(l):(i&&i(),r&&r.remove(p),c.dispatch(!0),ao(()=>{e.complete()}))}n&&n(),ao(l);function p(){s=!0,V(r).remove(p),c.dispatch(!1)}return r&&r.add(p),c}function Yy(e){return{animate:t=>{e.forEach(o=>o.animate(t))},complete:()=>{e.forEach(t=>t.complete())},changedProperties:[]}}function Dt(e,t,o){De(e,{[t]:o})}function De(e,t,o=window){(e instanceof o.HTMLElement||e instanceof o.SVGElement)&&Object.keys(t).forEach(r=>{let n=t[r];ro(n)&&(n=n.toString()),e.style.setProperty(r,n)})}function va(e){De(document.documentElement,e)}function ii(e){return w(getComputedStyle(document.documentElement)).getPropertyValue(e)}function Zy(e){let t=window.getComputedStyle(e),o=t&&t.transform?t.transform:"";return o==="none"&&(o=""),o}function Ee(...e){return e.filter(t=>t).join(" ")}function mc(e){return--e*e*e+1}var At=Mt(or());(0,At.enableAllPlugins)();function uc(e,t){let o;function r(){o&&(clearTimeout(o.id),o=void 0)}function n(){if(o){let s=o.handler;r(),s()}}function i(...s){r();let c=()=>{r(),e(...s)};o={id:setTimeout(c,t),handler:c}}function a(...s){r(),e(...s)}return{isPending:()=>ie(o),cancel:r,flush:n,call:i,forceCall:a}}function dc(e){return e.startsWith("blob:")}function cI(e,t){if(typeof e.className=="string"){e.className=t;return}e.className.baseVal=t}function lI(e){return typeof e.className=="string"?e.className:e.className.baseVal}function pI(e){if(e.classList)return e.classList;let t=e.className;return qt(t)&&t.match(/\S+/g)||[]}function mI(e,t){return e.classList?e.classList.contains(t):pI(e).includes(t)}function Jy(e,t){if(e instanceof Element){if(e.classList){e.classList.add(t);return}if(!mI(e,t)){let o=lI(e),r="";o&&(r=`${o} `),cI(e,r+t)}}}function eh(e){if(navigator.clipboard)navigator.clipboard.writeText(e);else{let o=st(document,"copy",r=>{r.clipboardData&&(r.clipboardData.setData("text/plain",e),r.preventDefault(),Rt(o))});document.execCommand("copy")}}function md(e,t,o){let r=e/255,n=t/255,i=o/255,a=Math.max(r,n,i),s=Math.min(r,n,i),c=0,l=0,p=.5*(a+s);return a!==s&&(a===r?c=60*(n-i)/(a-s):a===n?c=60*(i-r)/(a-s)+120:a===i&&(c=60*(r-n)/(a-s)+240),p>0&&p<=.5?l=(a-s)/(2*p):l=(a-s)/(2-2*p)),[Math.round(c+360)%360,l,p]}function Ae(e){var n;e=(n=uI(e))!=null?n:e;let t=parseInt(e.substr(1,2),16),o=parseInt(e.substr(3,2),16),r=parseInt(e.substr(5,2),16);return[t,o,r]}function uI(e){return e.startsWith("#")||(e="#"+e),e.match(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/)?(e.length===4&&(e=e.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")),e.toLowerCase()):null}function fc(e){let t=Ae(e);return md(w(t[0]),w(t[1]),w(t[2]))}function ai(e,t){let o=w(t[3]);return[(1-o)*w(e[0])+o*w(t[0]),(1-o)*w(e[1])+o*w(t[1]),(1-o)*w(e[2])+o*w(t[2])]}var gc=class extends Cr{addDisposable(t){return this._addDisposable(t)}addSignal(t,o,r){return this._addSignal(t,o,r)}addSignalCallOnce(t,o,r){return this._addSignalCallOnce(t,o,r)}listen(t,o,r,n){return this._listen(t,o,r,n)}};var _r=class extends Cr{_createDependencyGroup(){return this._addDisposable(new gc)}_createSignal(t){let o=new io(this);if(this._addDisposable(o),t)if(Array.isArray(t))for(let r of t)this._addSignal(r,n=>o.dispatch(n));else this._addSignal(t,r=>o.dispatch(r));return o}_createSignalProxy({signal:t,checkDispatchFn:o,modifyDataFn:r}){let n=new io(this);return this._addDisposable(n),this._addSignal(t,i=>{if(!o||o(i)){let a=r?r(i):i;n.dispatch(a)}}),n}};var yc={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12};function th(e,t){return e?e.closest(`div[data-wrapper-key="${t}"]`):null}var ko={NBSP:String.fromCharCode(160),ZERO_WIDTH_SPACE:String.fromCharCode(8203),ELLIPSIS:"\u2026",NDASH:"\u2013",GREATER_THAN_OR_EQUAL_TO:String.fromCharCode(8805),LESS_THAN:String.fromCharCode(60),LESS_THAN_OR_EQUAL_TO:String.fromCharCode(8804),PERCENT:String.fromCharCode(37),LTR_DIRECTION:"\u200E",RTL_QUESTION_SIGN:"\u2E2E"};function oh(e){return{width:e.offsetWidth,height:e.offsetHeight}}function si(e){return{width:e.right-e.left,height:e.bottom-e.top}}function hc(e){return`url("data:image/svg+xml,${e.replace(/"/g,"'").replace(/\s{2,}/g," ").replace(/[\r\n%#()<>?[\\\]^`{|}]/g,encodeURIComponent)}")`}var rr={SPAN:"SPAN",DIV:"DIV",SVG:"SVG",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",UL:"UL",OL:"OL",LI:"LI",P:"P",BR:"BR",B:"B",STRONG:"STRONG",I:"I",EM:"EM",A:"A",U:"U",S:"S",STRIKE:"STRIKE",SUP:"SUP",SUB:"SUB",IMG:"IMG",IFRAME:"IFRAME",BLOCKQUOTE:"BLOCKQUOTE",Q:"Q",FIGURE:"FIGURE",FIGCAPTION:"FIGCAPTION",LINK:"LINK",CANVAS:"CANVAS",INPUT:"INPUT",BUTTON:"BUTTON",TABLE:"TABLE",TD:"TD",HR:"HR",PRE:"PRE",CODE:"CODE"};function ud(){return"ontouchstart"in document.documentElement}function dI(e){return e.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}function fI(e,t,o,r="g"){return e.replace(new RegExp(dI(t),r),o)}function rh(e,t,o){let r=e;for(let n of Object.keys(t)){let i=t[n],a=o(n);r=fI(r,a,i)}return r}function nh(e,t){return e.slice(0,t).replace(/[^\s]*\s*$/,"").length}function ih(e,t){let o=/^\s*[^\s]*/i.exec(e.slice(t)),r=o?o[0].length:0;return t+r}var ah=["Learn.Reports.SendReportOnSchedulePopup.Schedule.Month.Day","Learn.EditContent.CompletionTab.ReenrollmentAfterCourseCompletion.Part1","Learn.EditContent.CompletionTab.ReenrollmentBeforeCertExpires.Part1","Learn.EditContent.CompletionTab.ReenrollmentAfterCourseCompletion.Part2","Common.SideBar.StorageBar.Progress.Part1","Common.SideBar.StorageBar.Progress.Part2"];var xc=class extends _r{constructor(t){super(),this._messages=t}addMessages(t){this._messages={...this._messages,...t}}getMessage(t,o){if(!this._messages.hasOwnProperty(t))return t;let r=V(this._messages[t]||ah.includes(t));return typeof r!="string"&&(r=""),o&&(r=rh(r,o,this._generateKey)),r}messages(){return this._messages}hasMessage(t){return this._messages.hasOwnProperty(t)}_generateKey(t){return"{"+t.toLowerCase()+"}"}};var ci;function gI(e){if(ci){O.warn("i18n has already been declared");return}ci=e}function sh(e){if(ci){ci.addMessages(e);return}let t=new xc(e);gI(t)}function B(e,t){let o=typeof e=="string"?e:e.value;return ci?ci.getMessage(o,t):(O.warn("i18n is not initialized"),o)}function Br(e){return{value:e}}function ch(e){return B("Common.Colon",{text:e})}function yI(){return window.navigator.platform.includes("Mac")}function hI(){return window.navigator.userAgent.includes("Chrome")}function lh(){return yI()&&!hI()}function xI(){return/Macintosh/i.test(navigator.userAgent)&&navigator.maxTouchPoints>1}function ph(){return!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)||xI()}function Sc(){return/Firefox/.test(navigator.userAgent)}function vr(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(window.navigator.userAgent)}var xn={FULL:1180,MEDIUM:739};function kc(){return window.innerWidth>xn.FULL}function Cc(){return window.innerWidth<=xn.FULL&&window.innerWidth>xn.MEDIUM}function Tr(){return window.innerWidth<=xn.MEDIUM}var yt={CLICK:"click",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",CHANGE:"change",SELECTION_CHANGE:"selectionchange",INPUT:"input",TEXT_INPUT:"textInput",KEY_DOWN:"keydown",KEY_PRESS:"keypress",PASTE:"paste",CUT:"cut",COPY:"copy",BLUR:"blur",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",LOAD:"load",LOAD_END:"loadend",LOADED_METADATA:"loadedmetadata",UNLOAD:"unload",BEFOREUNLOAD:"beforeunload",ERROR:"error",DRAG_START:"dragstart",DRAG_OVER:"dragover",DRAG_END:"dragend",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DROP:"drop",RESIZE:"resize",SCROLL:"scroll",COMPOSITIONSTART:"compositionstart",COMPOSITIONUPDATE:"compositionupdate",COMPOSITIONEND:"compositionend",ORIENTATIONCHANGE:"orientationchange",CUSTOM_CONNECTED:"connected",CUSTOM_DISCONNECTED:"disconnected",TRANSITIONEND:"transitionend",TOUCHSTART:"touchstart",VISIBILITYCHANGE:"visibilitychange"};var qe={WIN_KEY_FF_LINUX:0,MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS_SIGN:43,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,FF_DASH:173,QUESTION_MARK:63,AT_SIGN:64,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLL_LOCK:145,FIRST_MEDIA_KEY:166,LAST_MEDIA_KEY:183,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,MAC_WK_CMD_LEFT:91,MAC_WK_CMD_RIGHT:93,WIN_IME:229,VK_NONAME:252,PHANTOM:255};var _c={left:0,center:1,right:2},SI=1;function mh(e){return e.buttons===SI}function li(e){e.stopPropagation()}function pi(e){Ca(e,(t,o)=>{Rt(t),delete e[o]})}var nr=new Map,dd=null;function uh(){return dd||(dd=new MutationObserver(e=>{for(let t of e){for(let o of t.removedNodes)for(let r of nr.keys()){let n=V(nr.get(r));n.remove&&o.contains&&o.contains(r)&&n.remove()}for(let o of t.addedNodes)for(let r of nr.keys()){let n=V(nr.get(r));n.add&&o.contains&&o.contains(r)&&n.add()}}})),dd}function dh(e,t){let o=nr.size===0;return O.assert(!nr.has(e)),nr.set(e,t),o&&uh().observe(document,{subtree:!0,childList:!0}),()=>{nr.delete(e),nr.size===0&&uh().disconnect()}}var fh={};function gd(){let e;for(;e===void 0||fh.hasOwnProperty(e)||!isNaN(Number(e));)e=Math.floor(Math.random()*16777216).toString(32);return fh[e]=!0,e}var fd=new WeakMap;function gh(e){return fd.has(e)||fd.set(e,gd()),fd.get(e)}var yh="renderBinding",f=(e,t=void 0,o=void 0)=>{let r=()=>[e,t,o];return r._meta=yh,r},se=(e,t,o=void 0,r=void 0)=>({id:typeof e=="string"?e:gh(e),binding:f(t,o,r)});function hh(e){return typeof e=="function"&&e._meta===yh}function Ne(e){return Object.freeze({initialValue:e})}function Bc(e,t,o){let r=e.get(t);if(!(r&&r.value===o)){if(yd.set(t,!0),r){r.value=o;return}e.set(t,{value:o})}}function xh(e,t){return e.has(t)?e.get(t).value:t.initialValue}function Sh(){yd.clear()}var yd=new Map;function kh(e){for(let t of e.keys())if(yd.has(t))return!0;return!1}var Ch=[],_h=[];function Bh(e){for(let t of e){t.clear&&t.clear();try{let o=t.callback();typeof o=="function"?t.clear=o:o&&(O.error("useEffect's callback should return a function"),t.clear=void 0)}catch(o){console.log(o)}}e.length=0}function vh(){Bh(_h)}function vc(){Bh(Ch)}function Th(e){e.clear&&(e.clear(),e.clear=null),e.sync?Ch.push(e):_h.push(e)}var hd=null,Sd=new Map;function kd(){if(!hd){let{call:e}=lc(Cd);hd=e}hd()}var xd=!1,Tc=!1;function Cd(){if(xd)return;if(xd=!0,vh(),xd=!1,Tc){O.error("render was already started"),kd();return}Tc=!0,Sh();let e=Sd;Sd=new Map;for(let t of e.keys())try{t()}catch(o){console.log(o)}vc(),Tc=!1}function bc(e){Sd.set(e,!0),kd()}function bh(){return Tc}function _d(e){Th(e),e.sync||kd()}var br=new Map,Sn=[];function wh(e,t){if(Sn.push({redrawFn:e,contextMap:t}),br.has(e)){let o=w(br.get(e));o.hookIndex=0,o.effectIndex=0}}function Eh(e){let t=w(Sn.pop()),o=br.get(t.redrawFn);if(o){if(O.assert(e instanceof Element),o.connected)O.assert(o.firstRenderHooksCount===o.hookData.length,`Incorrect hooks count
expected: ${o.firstRenderHooksCount}
actual: ${o.hookData.length}`),O.assert(o.firstRenderEffectsCount===o.effects.length,`Incorrect effects count
expected: ${o.firstRenderEffectsCount}
actual: ${o.effects.length}`);else{o.connected=!0;for(let r of o.effects)_d(r);o.firstRenderHooksCount=o.hookData.length,o.firstRenderEffectsCount=o.effects.length}return!0}return!1}function Ph(e){let t=br.get(e);if(t){for(let o of t.effects)o.clear&&o.clear();br.delete(e)}}function Bd(){if(!Sn.length)throw new Error("Hooks can be used only in render functions");let e=w(Sn[Sn.length-1]).redrawFn;return br.has(e)||br.set(e,{hookIndex:0,hookData:[],effectIndex:0,effects:[],redraw:e,connected:!1}),w(br.get(e))}var N=e=>{let t=Bd(),o=t.hookIndex;if(t.hookData.length===o){let r=i=>{typeof i=="function"&&(i=i(t.hookData[o][0])),t.hookData[o][0]=i,bc(t.redraw)},n=Ys(e)?e():e;t.hookData.push([n,r])}return++t.hookIndex,t.hookData[o]};function E(e){let t=Bd(),o=t.hookIndex;if(t.hookData.length===o){let n={current:e};t.hookData.push(n)}let r=t.hookData[o];return++t.hookIndex,r}function Mh(e,t,o){let r=Bd(),n=r.effectIndex;if(r.effects.length===n){let a={callback:e,sync:o,clear:null,deps:t};r.effects.push(a)}else{let a=w(r.effects[n]);a.callback=e}let i=w(r.effects[n]);r.connected&&(!t||!So(w(i.deps),t))&&_d(i),i.deps=t,++r.effectIndex}function M(e,t){Mh(e,t,!1)}function ee(e,t){Mh(e,t,!0)}function Ta(e){let t=E();return M(()=>{t.current=e},[e]),t.current}function D(e,t){let o=E(),r=Ta(t);return(!r||!So(r,t))&&(o.current=e()),o.current}function I(e,t){return D(()=>e,t)}function ne(e){return xh(w(Sn[Sn.length-1]).contextMap,e)}function ir(...e){}var ba=Mt(Rh());function kI(e,t={}){t.current=e}ba.default.define("save-ref",kI);var Dh=new WeakMap;function CI(e,t){let o=Dh.get(e)||Dh.set(e,{}).get(e);for(let r of Object.keys(t))if(r.slice(0,2)==="on"&&o[r]!==t[r]){let i=r.slice(2);o[r]&&e.removeEventListener(i,o[r]),o[r]=t[r],o[r]&&e.addEventListener(i,o[r],{passive:!0})}return""}ba.default.define("passive-events",CI);var Gt=ba.default.wire,nQ=ba.default.bind;var vd=new Map,wc=new WeakMap;function _I(e,t){return e===t?!0:typeof e=="object"&&typeof t=="object"&&ic(e,t)}function kn(e,t,o=new Map,r=void 0,n="html"){let i=t?`${t}`:"__root";vd.has(e)||vd.set(e,{});let a=vd.get(e);if(!a[i]){let s=Gt(void 0,n),c=0,l=new Map(o),p=0,m=[],d=[],g=null,y=new Map,h=new Map,k=(C,..._)=>{if(hh(C)||C==null){let v=_[0];return k.switch(()=>C,v)}else if(typeof C=="function"){let v=_[0],b=_[1];return k._getHtmlWireResultWithOptimizations(`_c${++c}`,C,v,b)}g&&!Object.is(C,g)&&O.warn("Template literal was changed"),g=C;let x=s(C,..._);return x.__clearCache=()=>{s=Gt(void 0,n)},k._finishRender(),r&&(r.current=x),x};k.contextMap=o,k.switch=(C,_)=>{m[p]||(m[p]=new Map);let x=m[p],v=d[p],b=C();if(!b)return++p,null;let[A,K,U]=b();if(Zs(!!x),!x.get(A)){let ge=x.has(A)?[...x.keys()].indexOf(A):x.size;x.set(A,bd(A,k._createChild(`_u${p}_${ge}`,n),l,_,U))}return++p,v&&v.delete(A),V(x.get(A))(K)},k.renderAll=(C,_)=>{let x=[],v=new Set;return C.forEach((b,A)=>{let K=_(b,A);if(K){let{id:U,binding:re}=K,ge=U;for(;v.has(U);)U=`${U}_copy`;v.add(U),ge!==U&&O.error(`duplicated child id: ${ge}`);let[Ce,Pt,gn]=re();U||(O.error("unexpected error: empty id in render all"),U=`_c${++c}`),x.push(k._getHtmlWireResultWithOptimizations(U,Ce,Pt,gn))}}),x},k.toSvgMode=()=>{let C=k._createChild(`_c${++c}`,"svg");return k._finishRender(),C},k.setRenderTypeForChildren=C=>{n=C},k._createChild=(C,_)=>kn(e,(t||"")+C,l,void 0,_),k._getHtmlWireResultWithOptimizations=(C,_,x,v)=>{let b=k._createChild(C,n);if(y.has(b))h.delete(b);else{let K=bd(_,b,l,v);y.set(b,K)}return V(y.get(b))(x)},k._finishRender=()=>{if(h.size)for(let C of h.keys()){let _=y.get(C);_?(_.clean(),y.delete(C)):O.warn("clean child error")}for(let C=0;C<d.length;++C){let _=w(d[C]);for(let x of _.keys()){let v=_.get(x);v?(v.clean(),w(m[C]).set(x,null)):v!==null&&O.warn("clean child error")}}h=new Map(y),d=m.map(C=>new Map(C)),c=0,p=0},k.renderIf=function(C,_,x){let v=_();return v?k(C,v,x):(++c,null)},k.setContext=(C,_)=>(Bc(l,C,_),k),k.clean=function(){k.clean=()=>console.log("clean already complete"),a[i]=null;for(let C of y.values())C.clean();for(let C of m)for(let _ of C.values())_&&_.clean();y.clear(),h.clear()},a[i]=k}return a[i]}function pe(e,t,o){let[r,n,i]=t(),a=r(e,n);return a instanceof Element&&Td(a,i),o&&(o.current=a),a}function Td(e,t){if(!t)return;let o=String(t);if(o.includes(" ")){O.error(`multiple classNames not allowed: ${o}`);return}Jy(e,o)}function bd(e,t,o=new Map,r="",n=""){let i,a=null,s=typeof r=="string"||r.___css?{className:String(r)}:r,c=!1;function l(){if(c)return;wh(l,V(o));let m=e(t,i),d=Eh(m);return a&&d?a!=m&&window.console.error(`[${e.name}] dom element was changed`):a=m,a instanceof Element&&(Td(a,s.className),Td(a,n)),s.ref&&(s.ref.current=a),m}function p(m){return!kh(V(o))&&_I(i,m)&&a?a:(i=m,V(l()))}return p.clean=function(){c=!0,Ph(l),t.clean()},p}function BI(e,t,o=kn(t),r=new Map){let n=wc.has(o);n||wc.set(o,bd(e,o,r));let i=wc.get(o),a=i(t);if(!n){let s=dh(a,{remove:()=>{document.body.contains(a)||(i.clean(),s(),wc.delete(o))}})}return ao(vc),a}function Cn(e){return(o,r)=>{let n=r&&r.contextMap;return BI(e,o,r,n)}}function Ah(e,t,o=t){let r=Cn(e),n=kn(o),i=!0;return a=>{if(i){let s=r(a,n);t(s),i=!1}else bc(()=>{r(a,n)})}}function ct(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function Vh(e,t,o,r){if(t<0&&e===0||t>0&&e===o-1||t===0)return e;let n=jy(t),i=l=>l+n;t=Math.abs(t);let a=e,s=r(i(a)),c=s/2;for(;c<t&&a<o&&a>=0;)c+=s/2,a=i(a),a>0&&a<o-1&&(s=r(i(a)),c+=s/2);return Bt(a,0,o-1)}function _n(e){return{x:e.left,y:e.top}}function wa(e){return{x:e.width,y:e.height}}function Bn(e,t){return{x:e.x*t.x,y:e.y*t.y}}function Lh(e,t){return{x:e.x/t.x,y:e.y/t.y}}function ar(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Ec(e){return{x:e,y:e}}var wr=(e,t,o)=>st(e,t,r=>{try{o(r)===!0&&r.preventDefault(),bh()||Cd()}catch(n){O.error(n)}});function Vt(){let e=[];return{add(t){return e.push(t),()=>{let o=e.indexOf(t);o>=0&&e.splice(o,1)}},dispatch(t){for(let o of e)o(t)}}}function Oh(e){let t=()=>e.current.scrollTop;return{onScroll:Vt(),getDomObject:()=>e.current,getRelativeElementOffset:o=>{let r=e.current,n=r.getBoundingClientRect(),i=o.getBoundingClientRect();return{x:r.scrollLeft+i.left-n.left,y:r.scrollTop+i.top-n.top}},getScrollLeft:()=>e.current.scrollLeft,getScrollTop:t,getClientWidth:()=>e.current.clientWidth,getClientHeight:()=>e.current.clientHeight,getMaxScrollX:()=>e.current.scrollWidth-e.current.clientWidth,getMaxScrollY:()=>e.current.scrollHeight-e.current.clientHeight,scroll:(o,r,n)=>{e.current.scrollTo({top:r,left:o,behavior:n})},scrollBy:(o,r)=>e.current.scroll(e.current.scrollLeft+o,e.current.scrollTop+r)}}var G=(e,t,o)=>{let r=E(o);r.current=o;let n=o===null;M(()=>{if(n)return;let i=st(e.current,t,a=>V(r.current)(a));return()=>Rt(i)},[e,t,n])};function ht(e,t,o,r,n=!1,i=!0){let a=r||{};G(e,"keydown",n?null:s=>{s.defaultPrevented||s.keyCode===t&&(a.ctrl===void 0||s.ctrlKey===a.ctrl)&&(a.shift===void 0||s.shiftKey===a.shift)&&(a.metaKey===void 0||s.metaKey===a.metaKey)&&(i&&s.preventDefault(),o(s))})}function Lt(e){let[t,o]=N(()=>({width:0,height:0})),r=E(Xs);return M(()=>{let n=V(e.current),i=new ResizeObserver(([a])=>{o(V(a).contentRect)});return i.observe(n),r.current=()=>i.disconnect(),()=>{i.disconnect()}},[e]),[t.width,t.height,r.current]}var vI=[];function mi(e,t=vI){let[o,r]=N(!1),[n,i]=N(!1),[a,s]=Lt(e);return M(()=>{let c=e.current.scrollWidth>e.current.clientWidth;c!==o&&r(c);let l=e.current.scrollHeight>e.current.clientHeight;l!==n&&i(l),ir(a,s,...t)},[e,o,n,a,s,t]),[o,n]}function ui(e,t){let[o]=mi(e,t);return o}function Fh(e,t){let[,o]=mi(e,t);return o}function te(e){let t=E();return t.current=e,t}function Kh({ref:e,enabled:t=!0,onDrag:o,onStart:r=()=>{},onEnd:n=()=>{}}){let i=te(o),a=te(r),s=te(n);M(()=>{if(!t)return;let c=e.current,l=null,p=null,m=wr(c,"mousedown",d=>{d.preventDefault(),a.current(d),i.current(d),l=wr(window,"mouseup",()=>{s.current(d),pi([l,p])}),p=wr(window,"mousemove",g=>{g.preventDefault(),i.current(g)})});return()=>pi([l,m,p])},[t,i,s,a,e])}function $h(e,t,o,r=300){let n=E(0),i=E(0);function a(){n.current=0,clearTimeout(i.current)}G(e,"click",c=>{c.preventDefault(),n.current+=1,n.current===1&&(i.current=setTimeout(()=>{o&&o(),a()},r)),n.current===2&&(t(),a())})}function P(){return E()}function Er(){return E()}function Pr(){let[,e]=N(!0);return I(()=>e(t=>!t),[])}function Ze({target:e,onResize:t,ignoreObservationStart:o=!1},r=[]){let n=te(t);ee(()=>{let i=e instanceof Element?e:e&&e.current;if(!i)return;let a=o,s=new ResizeObserver(([c])=>{if(a){a=!1;return}n.current&&n.current(w(c).contentRect)});return s.observe(i),()=>{s.disconnect()}},[e,n,o,...r])}function TI(e,t,o,r){e.current!==void 0&&(clearTimeout(e.current),e.current=void 0),r<=0?t(o):e.current=setTimeout(()=>{e.current=void 0,t(o)},r)}function di(e){let[t,o]=N(typeof e=="function"?e:()=>e),r=E(void 0),n=I((i,a)=>TI(r,s=>o(s),i,a),[]);return[t,n]}var wd=new WeakMap,Nh=(e,t)=>{let[,o]=N(()=>({})),r=E(),n=Ta(t);return(!n||!So(n,t))&&(r.current=e()),wd.has(o)||wd.set(o,i=>{r.current=i,o({})}),[r.current,wd.get(o)]};function Ea(e,t){let o=t&&t.crossOrigin;return new Promise((r,n)=>{let i=document.createElement("img");i.addEventListener(yt.LOAD,a),i.addEventListener(yt.ERROR,s),o&&(i.crossOrigin="Anonymous"),i.src=e;function a(){c(),r(i)}function s(){c(),n()}function c(){i.removeEventListener(yt.LOAD,a),i.removeEventListener(yt.ERROR,s)}})}var bI=10,SU=bI*1024*1024,zh=["png","jpg","jpeg","gif"],kU=zh.map(e=>`.${e}`);function Hh(){return zh.slice()}function Mc(e,t,o){let r=t[e];return r?qt(r)?{keyValue:r,newKeys:t}:{keyValue:(Mr(r)||r)._,newKeys:r}:(O.error(`key not found: ${e}, path: ${o.join(".")}`),{keyValue:e,newKeys:t})}function Ic(e,t,o){for(let r of Object.keys(t)){let{keyValue:n,newKeys:i}=Mc(r,t,o);if(n===e&&r!=="_")return{key:r,newKeys:i}}return O.error(`cant find value: ${e}, path: ${o.join(".")}`),{key:e,newKeys:t}}var Pc=class{constructor(t){this.keys=t}};function T(e){return new Pc(e)}function Mr(e){return e instanceof Pc?e.keys:null}function wo(e,t,o){if(rd(e))return e.map(n=>wo(n,t,o));let r=Mr(t);if(r)return ni(e,n=>wo(n,V(r),o));if(ka(e)){let n={};return Ca(e,(i,a)=>{let{keyValue:s,newKeys:c}=Mc(a,t,o);n[s]=wo(i,c,[...o,a])}),n}return e}function jt(e,t,o){if(rd(e))return e.map(n=>jt(n,t,o));let r=Mr(t);if(r)return ni(e,n=>jt(n,V(r),o));if(ka(e)){let n={};return Ca(e,(i,a)=>{let{key:s,newKeys:c}=Ic(a,t,o);n[s]=jt(i,c,[...o,s])}),n}return e}function wI(e,t){let o=t,r=[],n=e.path.map(i=>{let a=Mr(o);if(a)return o=a,r.push(i),i;if(!qt(i))return i;let{key:s,newKeys:c}=Ic(i,o,r);return r.push(s),o=c,s});return{...e,path:n,value:jt(e.value,o,r)}}function Qh(e,t){return e.map(o=>wI(o,t))}var Ed="data-focus-visible-added",Pd="focus-visible";var Wh=Mt(Md());var Ge=Mt(Md()),Ir=(e,...t)=>(0,Wh.declareAction)(e,...t);var Yt=(0,Ge.createStore)();function qh(){let e=[];return{add(t){let o=e.length?w(e[0]).state:null,r=t.state;if(o&&o.transactAction!==r.transactAction)throw new Error(`[model] states '${o.fullName}' and '${r.fullName}' belong to different models`);e.push(t)},commit(){for(;e.length;){let t=e.slice();e.length=0;let o=w(t[0]).state.transactAction;Yt.dispatch(o(od(t,r=>r.state.fullName,r=>r.setArg)))}}}}var fi=null,Rc=0;function Gh(){return fi}function jh(e){Rc===0&&!fi&&(fi=qh()),++Rc;let t;try{e()}catch(o){t=o}if(--Rc,Rc===0&&fi&&(t==null&&fi.commit(),fi=null),t!=null)throw t}function Zh({modelName:e,transactAction:t}){let o={},r=[];function n(l){if(o.hasOwnProperty(l))throw new Error(`[model ${e}] state '${l}' already defined`);return`${e}.${l}`}function i(l,p){let m=n(l),d=(0,Ge.declareAtom)([m],p,()=>{});return o[l]=d,{get:()=>Yt.getState(d),subscribe:g=>Yt.subscribe(d,g),fullName:m,atom:d,transactAction:t}}function a(l,p){let m=n(l),d=Ir([`${m} [set]`]),g=(0,Ge.declareAtom)([m],p,k=>{k(d,Yh),k(t,(C,_)=>_.hasOwnProperty(m)?Yh(C,_[m]):C)});o[l]=g;let y={get:()=>Yt.getState(g),subscribe:k=>Yt.subscribe(g,k),set:h,mutate:k=>h(C=>(0,At.produce)(C,k)),fullName:m,atom:g,transactAction:t};function h(k){let C=Gh();C?C.add({state:y,setArg:k}):Yt.dispatch(d(k))}return y}function s(l,p,m){let d=n(l),g=(0,Ge.combine)(ni(p,h=>h.atom)),y=(0,Ge.map)(d,g,m);return o[l]=y,{get:()=>Yt.getState(y),subscribe:h=>Yt.subscribe(y,h),fullName:d,atom:y,transactAction:t}}function c(l,p,m,d){let g=n(l),y=(0,Ge.combine)(g,ni(p,h=>h.atom));o[l]=y,r.push(()=>{if(d){let h=Yt.getState(y);m(h)}return Yt.subscribe(y,m)})}return{const:i,def:a,map:s,effect:c,subscribe:()=>{let l=(0,Ge.combine)(o),p=Yt.subscribe(l,()=>{}),m=r.map(d=>d());return()=>{m.map(d=>d()),p()}}}}function Yh(e,t){return typeof t=="function"?t(e):t}var Id={};function EI(e){return xa(Id[e])&&(Id[e]=0),Id[e]++}function Xh(e){let t=E(e),o=D(()=>{let r=t.current.parentModel,n=r?`${r.name}.${t.current.name}`:t.current.name,i=r?r.transactAction:Ir([ct()]),a=Zh({modelName:`${n}#${EI(n)}`,transactAction:i}),s=t.current.getStates(a),c=t.current.getActions(s),l=t.current.defEffects;return l&&l(a,s,c),{name:n,states:s,actions:c,transactAction:i,subscribe:a.subscribe}},[]);return M(()=>o.subscribe(),[o]),o}function Jh(e){return Xh(e)}var H=(e,t=o=>o)=>PI(e,t);function PI(e,t){let o=Pr(),r=te(t(e.get())),n=te(t);return M(()=>e.subscribe(i=>{let a=n.current(i);Object.is(a,r.current)||o()}),[r,n,e,o]),r.current}function ex(e,t={}){return new Promise((o,r)=>{let n=new XMLHttpRequest;n.open(t.method||"get",e,!0);for(let a in t.headers)t.headers.hasOwnProperty(a)&&n.setRequestHeader(a,t.headers[a]);n.withCredentials=t.credentials==="include",n.onload=()=>{o(i())},n.onerror=r,n.send(t.body);function i(){let a=[],s=[],c={},l;return n.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(p,m,d)=>(a.push(m=m.toLowerCase()),s.push([m,d]),l=c[m],c[m]=l?`${l},${d}`:d,"")),{ok:(n.status/100|0)===2,status:n.status,statusText:n.statusText,url:n.responseURL,clone:i,text:()=>Promise.resolve(n.responseText),json:()=>Promise.resolve(n.responseText).then(p=>JSON.parse(p)),blob:()=>Promise.resolve(new Blob([n.response])),headers:{keys:()=>a,entries:()=>s,get:p=>c[p.toLowerCase()],has:p=>p.toLowerCase()in c}}}})}async function Rd(e){let t=await ex(e);return t.ok?t.json():null}function tx(e){return new Promise((t,o)=>{let r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){let n=r.response;t(new Blob([n]))},r.onerror=o,r.send(null)})}var Rr=class{constructor(t){this.Type=t}};function rx(e,t){return new Promise((o,r)=>{if(e=e,typeof e.arrayBuffer=="undefined"){let n=new FileReader;st(n,yt.LOAD_END,()=>{n.result||r();let i=n.result;o(ox(i,t))}),st(n,yt.ERROR,r),n.readAsArrayBuffer(e)}else e.arrayBuffer().then(n=>o(ox(n,t))).catch(r)})}function ox(e,t){let o=w(new Uint32Array(e.slice(0,Uint32Array.BYTES_PER_ELEMENT))[0]),r=new Uint8Array(e.slice(Uint32Array.BYTES_PER_ELEMENT)),{Type:n}=t(o),i=n.decode(r),a=n.toObject(i);return{version:o,data:a}}var Dr=Mt(ix()),ax=Dr.Type,Pa=Dr.Field,MI=Dr.Root;var Dc={string:"string",int:"int32",float:"float",bool:"bool"},II=0,xt={String:e=>Z(e,Dc.string),Int:e=>Z(e,Dc.int),Bool:e=>Z(e,Dc.bool),Float:e=>Z(e,Dc.float)},RI=new MI;function W(e,t){t=t||`Type${++II}`;let o=new ax(t);for(let r of Object.keys(e)){let n=w(e[r]),i=n.ref;if(typeof i=="string")o=o.add(new Pa(r,n.id,i,n.rule));else if(i instanceof ax){let a=i;o=o.add(new Pa(r,n.id,a.name,n.rule))}else{let a=W(i);o=o.add(new Pa(r,n.id,a.name,n.rule))}}return RI.add(o),o}function Z(e,t,o="required"){return{id:e,ref:t,rule:o}}function me(e,t){return typeof t=="function"&&(t=t(e).ref),Z(e,t,"repeated")}function de(e,t){return typeof t=="function"&&(t=t(e).ref),Z(e,t,"optional")}function Ot(e){let t="type",o=W({}),r=W({}).add(new Pa(t,0,"string","required"));for(let n of Object.keys(e))e[n]=w(e[n]).add(new Pa(t,0,"string","required"));return o.fromObject=function(n){return w(e[n[t]]).fromObject(n)},o.toObject=function(n){return w(e[n[t]]).toObject(n)},o.encode=function(n,i){return w(e[n[t]]).encode(n,i)},o.decode=function(n,...i){if(n instanceof Dr.Reader){let a=n.pos,s=r.decode(n,...i),c=w(e[s[t]]);return n.pos=a,c.decode(n,...i)}throw new Error("top level union is not supported")},o.verify=function(n){let i=w(e[n[t]]);return i?i.verify(n):`unknown type ${n[t]}`},o}function cx(e){let t=e.length;if(!t)return 0;let o=0;for(;--t%4>1&&e.charAt(t)==="=";)++o;return Math.ceil(e.length*3)/4-o}var DI=new Array(64),lx=new Array(123);for(let e=0;e<64;)lx[DI[e]=e<26?e+65:e<52?e+71:e<62?e-4:e-59|43]=e++;var sx="invalid encoding";function px(e,t,o=0){let r=o,n=0,i;for(let a=0;a<e.length;){let s=e.charCodeAt(a++);if(s===61&&n>1)break;if((s=lx[s])===void 0)throw Error(sx);switch(n){case 0:i=s,n=1;break;case 1:t[o++]=i<<2|(s&48)>>4,i=s,n=2;break;case 2:t[o++]=(i&15)<<4|(s&60)>>2,i=s,n=3;break;case 3:t[o++]=(i&3)<<6|s,n=0;break}}if(n===1)throw Error(sx);return o-r}function mx(e,t){let o=new Uint8Array(cx(e));px(e,o);let r=w(new Uint32Array(o.buffer.slice(0,Uint32Array.BYTES_PER_ELEMENT))[0]),n=new Uint8Array(o.buffer.slice(Uint32Array.BYTES_PER_ELEMENT)),{Type:i}=t(r),a=i.decode(n);return i.toObject(a)}function Ar(e,t=[]){let o=D(()=>Oh(e),[e]);return M(()=>{let r=e.current;if(!r)return;let n=()=>o.onScroll.dispatch();return r.addEventListener("scroll",n),()=>r.removeEventListener("scroll",n)},[e,o.onScroll,...t]),o}function ux(e,t){M(()=>{if(t)return t(),e.onScroll.add(t)},[t,e])}function Vr(e){return e.order.length}function Ac(e,t,o){e.order.includes(t)||e.order.push(t),e.blocks[t]=o}function ze(e){let t=[];return ue(e,o=>{t.push(o)}),t}function Lr(){return{order:[],blocks:{}}}function Ve(e,t){let o=Lr();for(let r of e){let n=t(r);o.order.push(n),o.blocks[n]=r}return o}function AI(e,t){if(t<0||t>=e.order.length)return null;let o=e.order[t];return e.blocks[o]}function ot(e){return AI(e,0)}function gi(e,t){if(t<0||t>=e.order.length)return null;let o=e.order[t];return e.blocks[o]}function dx(e){return gi(e,0)}function fx(e){return gi(e,e.order.length-1)}function gx(e,t){let o=e.order.indexOf(t);return gi(e,o-1)}function yx(e,t){let o=e.order.indexOf(t);return gi(e,o+1)}function ue(e,t){e.order.forEach((o,r)=>{t(e.blocks[o],r)})}function fe(e,t){let o=Lr();return e.order.forEach(r=>{let n=t(e.blocks[r]);o.order.push(r),o.blocks[r]=n}),o}function hx(e,t){e.order.forEach(o=>{t(e.blocks[o])})}function xx(e,t,o){let r=e.order.indexOf(t);e.order.splice(r+1,0,o.key),e.blocks[o.key]=o}function Ma(e,t){e.order.push(t.id),e.blocks[t.id]=t}function Dd(e,t){e.order.push(t.key),e.blocks[t.key]=t}function yi(e,t){let o=e.order.indexOf(t);e.order.splice(o,1),delete e.blocks[t]}function Vc(e,t,o){e.order.includes(t)&&(delete e.blocks[t],e.order[e.order.indexOf(t)]=o.key,e.blocks[o.key]=o)}function sr(e,t){return{left:e.x,top:e.y,right:e.x+t.width,bottom:e.y+t.height}}function Sx(e){let t=_n(e),o=si(e),r=wa(o);return ar(t,Lh(r,Ec(2)))}function VI(e,t){return e.right>=t.left&&e.left<=t.right&&e.bottom>=t.top&&e.top<=t.bottom}function kx(e,t){if(!VI(e,t))return null;let o=Math.max(e.left,t.left),r=Math.max(e.top,t.top),n=Math.min(e.right,t.right),i=Math.min(e.bottom,t.bottom),a=n-o,s=i-r;return a*s}function Cx(e){return{width:e.right-e.left,height:e.bottom-e.top}}function _x(e){return new URL(e).host.toLowerCase()}function Bx(e,t,o=200){let r=D(()=>uc(()=>{},o),[o]);G(e,"touchstart",()=>{r.call()}),G(e,"touchend",n=>{r.isPending()&&(n.preventDefault(),t&&t()),r.cancel()})}var Lc=class{constructor({initialVersion:t,upgraders:o,fixers:r=[]}){this._initialVersion=t,this._upgraders=new Map,o.forEach((n,i)=>{this._validateUpgrader(t,n,i),this._upgraders.set(n.targetVersion,n.upgradeFn)}),this._fixers=new Map,r.forEach(n=>this._fixers.set(n.targetVersion,n.fixFn))}upgradeDocument(t,o){let r=!1;if(o.from===o.to){let i=this._fixDocument(t,o.to);return{upgradedDocument:i.document,isDocumentFixed:i.fixed}}if(o.from<this._initialVersion||o.to>this._initialVersion+this._upgraders.size)throw new Error;let n=this._fixDocument(t,o.from);t=n.document,r=n.fixed;for(let i=o.from+1;i<=o.to;++i)t=V(this._upgraders.get(i))(t),n=this._fixDocument(t,i),t=n.document,r=r||n.fixed;return{upgradedDocument:t,isDocumentFixed:r}}_fixDocument(t,o){let r=this._fixers.get(o),n={document:t,fixed:!1};return r&&(n=r(t)),{document:n.document,fixed:n.fixed}}_validateUpgrader(t,{targetVersion:o},r){if(t!==o-r-1)throw new Error}};function ce(e){return e}function Eo({document:e,initialVersion:t,versionFrom:o,versionTo:r,upgraders:n,fixers:i}){return new Lc({initialVersion:t,upgraders:n,fixers:i}).upgradeDocument(e,{from:o,to:r})}function vx(e){return e.map(t=>`.${t}`)}function Ad(e,t){let o=Ir([`[set]${e}`]);return[(0,Ge.declareAtom)([e],t,n=>[n(o,(i,a)=>a)]),o]}var LI=Ne(null);function OI(){let e=ne(LI);if(!e)throw new Error("[reatom] The provider is not defined");return e}function FI(e){let t=OI();if(typeof e!="function")throw new TypeError("[reatom] `useAction` argument must be a function");let r=I(n=>{let i=e(n);i&&t.dispatch(i)},[]);return r}var Tx=FI;function bx(e,t){e.push(t),e.length>3&&(e[e.length-3-1].markedAsRemoved=!0)}function wx(e,t){if(!e.length)return[t];let o=e.findIndex(l=>l.important),r=e.findIndex(l=>!l.important),n=r==-1,i=o==-1,a=e.filter(l=>l.important),s=e.filter(l=>!l.important);t.important?bx(a,t):bx(s,t);let c;return i?c=[...s,...a]:n?c=[...a,...s]:o<r?c=[...a,...s]:c=[...s,...a],c}function Ex(e,t){return e.filter(o=>o.id!==t)}var Ia=Vt(),Px=Vt();function vn(e){let t=ct();switch(e.type){case"basic":case"warning":case"critical":Ia.dispatch({id:t,type:e.type,important:e.important,text:e.text,onClose:e.onClose});break;case"withLoad":Ia.dispatch({id:t,type:e.type,important:e.important,text:e.text,operationCompletePromise:e.operationCompletePromise,onClose:e.onClose});break;case"withLoadAndCancel":Ia.dispatch({id:t,type:e.type,important:e.important,text:e.text,operationCompletePromise:e.operationCompletePromise,cancelButtonLabel:e.cancelButtonLabel,onCancel:e.onCancel,onClose:e.onClose});break;case"confirm":Ia.dispatch({id:t,type:e.type,important:e.important,text:e.text,doneButtonLabel:e.doneButtonLabel,cancelButtonLabel:e.cancelButtonLabel,onCancel:e.onCancel,onDone:e.onDone,onClose:e.onClose});break;default:z(e);break}return t}function hi(e){Px.dispatch(e)}function Mx(){let[e,t]=N(()=>[]),{unsubAdd:o,unsubRemove:r}=D(()=>({unsubAdd:Ia.add(n=>t(i=>wx(i,n))),unsubRemove:Px.add(n=>t(i=>Ex(i,n)))}),[]);return ee(()=>()=>{o(),r()},[o,r]),e}var Vd;function xi(e,t){return o=>{let r=Vd==null?void 0:Vd[e];return(r?r(o):t(o))||Xs}}var Ld=xi("showCriticalToast",({text:e,important:t=!1})=>{vn({type:"critical",important:t,text:e})});var Oc=xi("showBasicToast",({text:e,important:t=!1,onClose:o})=>{vn({type:"basic",important:t,text:e,onClose:o})});var $I=xi("showWarningToast",({text:e,important:t=!1})=>{vn({type:"warning",important:t,text:e})});var VY=xi("showToastWithLoad",({text:e,operationCompletePromise:t})=>{vn({type:"withLoad",text:e,important:!0,operationCompletePromise:t})});var LY=xi("showToastWithLoadAndCancel",({text:e,operationCompletePromise:t,onCancel:o})=>{vn({type:"withLoadAndCancel",text:e,important:!0,operationCompletePromise:t,cancelButtonLabel:B("Common.Toasts.CancelButtonLabel"),onCancel:o})});var OY=xi("showConfirmToast",({text:e,onDone:t,onCancel:o})=>{let r=vn({type:"confirm",text:e,important:!0,doneButtonLabel:B("Common.Done"),cancelButtonLabel:B("Common.Cancel"),onCancel:o,onDone:t});return()=>hi(r)});function Ix(e,t=document.documentElement){return getComputedStyle(t).getPropertyValue(e)}function Rx(e,t,o=document.documentElement){o.style.setProperty(e,t)}function Od(e){let t=document.createElement("span");return t.innerText=e,t.innerHTML}function Xe(...e){return e.filter(ri).join(" ")}function Dx(e,t){let o=t?no:ed;return(r,n,...i)=>{let a=o(r),s=[a];n&&Object.entries(n).forEach(([l,p])=>{let m=o(l);Dy(p)?p&&s.push(`${a}_${m}`):qt(p)?s.push(`${a}_${m}_${o(p)}`):kr(`invalid mod type: {${l}: ${String(p)}}`)});let c=s.map(l=>e[l]);return Xe(...c,...i)}}function u(e){let t=Dx(e),o={};return $y(e,(r,n)=>{let[i,a]=n.split("_",2);if(!i)return;let s=o[i];!a&&Ju(s)?o[i]=r:a&&!hn(s)&&(o[i]={withMods:c=>t(i,c)})}),o}var Fc=null;function Ax(e){if(Fc){O.warn("direction has already been declared");return}NI(e)}function NI(e){Fc=e,document.documentElement.dir=e}function so(){return Fc||(O.warn("direction is not initialized"),"ltr")}function Si(){return so()==="rtl"}var Ra="id";var Vx="state";var Lx="comp";function j(e){if(e)return typeof e=="string"&&(e={[Ra]:e}),Object.entries(e).filter(([t,o])=>ro(o)).map(([t,o])=>`${t}=${o}`).join(";")}function Da({elementSize:e={width:0,height:0},popoverSize:t,side:o,align:r,offsetX:n=0,offsetY:i=0}){let a={x:0,y:0};switch(o){case"top":a.y=-t.height-i;break;case"bottom":a.y=e.height+i;break;case"left":a.x=-t.width-n;break;case"right":a.x=e.width+n;break;default:z(o)}switch(r){case"start":switch(o){case"top":case"bottom":a.x=n;break;case"right":case"left":a.y=i;break;default:z(o)}break;case"center":switch(o){case"top":case"bottom":a.x=(e.width-t.width)/2;break;case"right":case"left":a.y=(e.height-t.height)/2;break;default:z(o)}break;case"end":switch(o){case"top":case"bottom":a.x=e.width-t.width-n;break;case"right":case"left":a.y=e.height-t.height-i;break;default:z(o)}break;default:z(r)}return a}function Fd(e,t,o){let r=0;switch(e){case"top":r=o.top-t.top;break;case"right":r=t.right-o.right;break;case"bottom":r=t.bottom-o.bottom;break;case"left":r=o.left-t.left;break;default:z(e)}return Math.max(0,r)}function Kd(e,t,o,r){let n=0;switch(t){case"start":switch(e){case"top":case"bottom":n=o.right-r.right;break;case"right":case"left":n=o.bottom-r.bottom;break;default:z(e)}break;case"center":switch(e){case"top":case"bottom":n=Math.max(o.right-r.right,r.left-o.left);break;case"right":case"left":n=Math.max(o.bottom-r.bottom,r.top-o.top);break;default:z(e)}break;case"end":switch(e){case"top":case"bottom":n=r.left-o.left;break;case"right":case"left":n=r.top-o.top;break;default:z(e)}break;default:z(t)}return Math.max(0,n)}function $d(e){switch(e){case"top":return"bottom";case"right":return"left";case"bottom":return"top";case"left":return"right";default:throw z(e),new Error}}function Nd(e){switch(e){case"start":return"end";case"center":throw new Error;case"end":return"start";default:throw z(e),new Error}}function Ox(e,t,o){switch(e){case"top":case"bottom":if(t.right>=o.right)return"end";if(t.left<=o.left)return"start";break;case"right":case"left":if(t.bottom>o.bottom)return"end";if(t.top<o.top)return"start";break;default:z(e)}return"center"}function Fx(e,t){switch(e){case"right":case"left":return{side:$d(e),align:t};case"top":case"bottom":return{side:e,align:t==="center"?t:Nd(t)};default:throw z(e),new Error}}function ki(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.707 5.707a1 1 0 0 0-1.414-1.414L10 8.586 5.707 4.293a1 1 0 0 0-1.414 1.414L8.586 10l-4.293 4.293a1 1 0 1 0 1.414 1.414L10 11.414l4.293 4.293a1 1 0 0 0 1.414-1.414L11.414 10l4.293-4.293z" fill="currentColor"/></svg>
`}function Kx(e,t){ee(()=>{for(let o in t)t.hasOwnProperty(o)&&e.current.setAttributeNS(null,o,t[o].toString())},[e,...Object.keys(t),...Object.keys(t).map(o=>t[o])])}var Tn=8;function Kc(e){switch(e){case"top":return"bottom";case"bottom":return"top";case"left":return"right";case"right":return"left";default:throw z(e),new Error}}function zI(e){switch(e){case"start":return"end";case"center":return"center";case"end":return"start";default:throw z(e),new Error}}function Or(e){switch(e){case"start":return 0;case"center":return-.5;case"end":return-1;default:throw z(e),new Error}}function HI(e,t){switch(e){case"top":return{x:Or(t),y:-1};case"bottom":return{x:Or(t),y:0};case"left":return{x:-1,y:Or(t)};case"right":return{x:0,y:Or(t)};default:throw z(e),new Error}}function QI(e,t){switch(e){case"top":return{x:-Or(t),y:0};case"bottom":return{x:-Or(t),y:1};case"left":return{x:0,y:-Or(t)};case"right":return{x:1,y:-Or(t)};default:throw z(e),new Error}}function zd({component:e,overlaySize:t,side:o,align:r,offset:n}){let i=si(e),a=Bn(wa(t),HI(o,r)),s=Bn(wa(i),QI(o,r)),c=ar(_n(e),a);return c=ar(c,n),c=ar(c,s),c}function Hd(e){switch(e.side){case"top":case"bottom":return Bn(e.offset,{x:1,y:-1});case"left":case"right":return Bn(e.offset,{x:-1,y:1});default:throw z(e.side),new Error}}function $x(e,t,o){function r([n,i],[a,s]){return a<n||i<s}switch(e){case"top":case"bottom":return r([t.top,t.bottom],[o.top,o.bottom]);case"left":case"right":return r([t.left,t.right],[o.left,o.right]);default:throw z(e),new Error}}function UI({viewPort:e,component:t,overlaySize:o,side:r,align:n,offset:i}){return $x(r,e,sr(zd({side:r,component:t,overlaySize:o,align:n,offset:i}),o))&&!$x(Kc(r),e,sr(zd({side:Kc(r),component:t,overlaySize:o,align:n,offset:Hd({side:r,offset:i})}),o))}function WI({side:e,viewPort:t,overlay:o}){let r=([n,i],[a,s])=>{n+=Tn,i-=Tn;let c=s-a;return Math.max(n,Math.min(i,s)-c)};switch(e){case"top":case"bottom":return{x:r([t.left,t.right],[o.left,o.right]),y:o.top};case"left":case"right":return{x:o.left,y:r([t.top,t.bottom],[o.top,o.bottom])};default:throw z(e),new Error}}function qI(e,t,o){let r=Si()?GI(e,t):{side:e,align:t},n=r.side===e?o:Hd({side:r.side,offset:o});return{side:r.side,align:r.align,offset:n}}function Aa(e){let t=qI(e.side,e.align,e.offset);return e.side=t.side,e.align=t.align,e.offset=t.offset,UI(e)?Kc(e.side):e.side}function $c(e){let t=Aa(e);return WI({viewPort:e.viewPort,side:t,overlay:sr(zd({...e,offset:t===e.side?e.offset:Hd(e),side:t}),e.overlaySize)})}function GI(e,t){switch(e){case"right":case"left":return{side:Kc(e),align:t};case"top":case"bottom":return{side:e,align:t==="center"?t:zI(t)};default:throw z(e),new Error}}var jI={pointer:"_llHY5E",pointer_color_purple:"_lG1pXf",pointer_color_dark:"_NRf2NJ"},Nx=jI;var YI=u(Nx),Nc=22;function ZI({targetRect:e,tooltipRect:t}){if(t.left>=e.right)return"right";if(t.right<=e.left)return"left";if(t.top>=e.bottom)return"bottom";if(t.bottom<=e.top)return"top";throw new Error("Never")}function XI({hintSide:e,tooltipRect:t,targetRect:o}){let r=Sx(o);switch(e){case"left":case"right":return r.y-t.top-Nc/2;case"top":case"bottom":return r.x-t.left-Nc/2;default:throw Qe(e),new Error}}function JI({hintSide:e,shift:t}){let o={left:"",right:"",top:"",bottom:""},r=J(e,{left:"top",right:"top",top:"left",bottom:"left"});return{...o,[e]:"calc(100% - 3px)",[r]:q(t-.5)}}function eR(e){return J(e,{left:"translateX(-6px) translateY(6px) rotate(90deg)",right:"translateX(6px) translateY(6px) rotate(-90deg)",top:"scaleY(-1)",bottom:""})}function zx(e,{color:t,tooltipRect:o,getTargetRect:r}){let n=E(),i=te(r);return Kx(n,{width:Nc,height:10,viewBox:`0 0 ${Nc} 10`}),M(()=>{let a=i.current(),s=ZI({tooltipRect:o,targetRect:a}),c=XI({hintSide:s,tooltipRect:o,targetRect:a}),l=JI({hintSide:s,shift:c});n.current.style.left=l.left,n.current.style.right=l.right,n.current.style.top=l.top,n.current.style.bottom=l.bottom,n.current.style.transform=eR(s)},[o,i,n]),e`
<svg
	xmlns="http://www.w3.org/2000/svg"
	save-ref=${n}
	class=${YI.pointer.withMods({color:t})}
>
	<path
		fill-rule="evenodd"
		clip-rule="evenodd"
		d="M10 0C13 0 15.9999 8 20 8H0C3.9749 8 7 0 10 0Z"
	/>
	<rect x="0" y="8" width="20" height="2"></rect>
</svg>
`}var tR={tooltip:"_Afudt6",content:"_7jxaMr",closeButton:"_RVpvRq",tooltip_text:"_08Ya4y",tooltip_size_small:"_HKoF1b",tooltip_size_large:"_SBazfI",tooltip_type_default:"_cDUFLT",tooltip_type_onboarding:"_ulDJqH",text:"_bQ5eII"},Hx=tR;var zc=u(Hx);function Hc(e,t){var m,d,g,y;let o=P(),{onClose:r=null,getPointerTargetRect:n,size:i="small",type:a="default",autotestData:s}=t,c=P();G(c,"mousedown",h=>h.stopPropagation());let l=t.contentType==="text"?f(rR,t.text):t.content;G(o,"mousedown",r);let p=D(()=>{var x,v,b,A,K,U,re,ge;let h=(v=(x=c==null?void 0:c.current)==null?void 0:x.offsetHeight)!=null?v:0,k=(A=(b=c==null?void 0:c.current)==null?void 0:b.offsetWidth)!=null?A:0,C=(U=(K=c==null?void 0:c.current)==null?void 0:K.offsetTop)!=null?U:0,_=(ge=(re=c==null?void 0:c.current)==null?void 0:re.offsetLeft)!=null?ge:0;return{top:C,bottom:C+h,left:_,right:_+k}},[(m=c==null?void 0:c.current)==null?void 0:m.offsetHeight,(d=c==null?void 0:c.current)==null?void 0:d.offsetTop,(g=c==null?void 0:c.current)==null?void 0:g.offsetLeft,(y=c==null?void 0:c.current)==null?void 0:y.offsetWidth]);return e`
<div class=${zc.tooltip.withMods({type:a,text:t.contentType==="text",size:i})}
	save-ref=${c}
	data-at=${j(s)}
>
	${e.renderIf(zx,()=>n&&{color:oR(a),getTargetRect:n,tooltipRect:p})}
	${e(l,zc.content)}
	${e.renderIf(ki,()=>!!r,{className:zc.closeButton,ref:o})}
</div>`}function oR(e){return J(e,{default:"dark",onboarding:"purple"})}function rR(e,t){return e`<div class=${zc.text}>${t}</div>`}var nR=!1;function Qx({propName:e,defaultValue:t,units:o,element:r,getCurrentValue:n}){let i=window.getComputedStyle(r),a=i&&i.getPropertyValue(e),s=a?parseFloat(a):t,c=r.style.getPropertyValue(e);return{animate:l=>{r.style.setProperty(e,`${n(l,s)}${o||""}`)},complete:()=>{r.style.setProperty(e,c)},changedProperties:[e]}}function iR(e,t){return Qx({propName:"opacity",defaultValue:1,element:e,getCurrentValue:t})}function aR(e,t){return Qx({propName:"max-height",defaultValue:0,units:"px",element:e,getCurrentValue:t})}function sR(e,t,o){let r=e.style.transform,n=Zy(e);return{animate:i=>{let a=[n],s=o&&o(i);if(s!=null){let[l,p]=s;a.push(`translate(${l}px, ${p}px)`)}let c=t&&t(i);if(c!=null)if(typeof c=="number")a.push(`scale(${c})`);else{let[l,p]=c;l!=null&&a.push(`scaleX(${l})`),p!=null&&a.push(`scaleY(${p})`)}e.style.transform=a.join(" ")},complete:()=>{e.style.transform=r},changedProperties:["transform"]}}function cR({reducer:e,duration:t,abortSignal:o,before:r,after:n}){return new Promise(i=>{let a=Date.now(),s=!1,c=o?o.add(()=>{s=!0}):()=>{};function l(){let p=Bt(Date.now()-a,0,t),m=p/t;e.animate(m),s||p>=t?(c(),e.complete(),i(),n&&n()):requestAnimationFrame(l)}r&&r(),l()})}function Qc({opacity:e,maxHeight:t,scale:o,translate:r,duration:n,before:i,after:a}){return nR?{play:()=>Promise.resolve()}:{play:(s,c)=>cR({reducer:Yy([e?iR(s,e):null,t?aR(s,t):null,o||r?sR(s,o,r):null].filter(ro)),duration:n,abortSignal:c,before:i&&(()=>w(i)(s)),after:a&&(()=>w(a)(s))})}}function Uc(e,t,o){let r=t-e;return n=>(o&&(n=o(n)),n>=1?t:e+r*n)}function Wc(e,t,o){let r=t[0]-e[0],n=t[1]-e[1];return i=>(o&&(i=o(i)),i>=1?t:[e[0]+r*i,e[1]+n*i])}function Ci(e,t){let o=e.getBoundingClientRect(),r=!1;function n(){if(r)return;let i=e.getBoundingClientRect();(Math.round(i.top)!=Math.round(o.top)||Math.round(i.left)!=Math.round(o.left)||i.width!=o.width||i.height!=o.height)&&(o=i,t()),requestAnimationFrame(n)}return requestAnimationFrame(n),()=>{r=!0}}function qc(e,t){let o=te(t);M(()=>{if(e)return Ci(e,o.current)},[e,o])}var Ux={};function Gc(e,t){Ux[e]=t}function Po(e){return Ux[e]||document.body}function jc({html:e,layer:t,createBinding:o,show:r,appearAnimation:n,hideAnimation:i}){let a=E(null),s=E(null),c=I(()=>{s.current&&(s.current.parentElement==t&&t.removeChild(s.current),s.current=null)},[t]),l=I(()=>{c();let d=a.current;d&&d.parentElement===t&&t.removeChild(d)},[c,t]);M(()=>l,[l]);let p=r?o():null,m=e(p);return ee(()=>{a.current!=m&&(m?(c(),m.style.position="absolute",O.assert(a.current==null),t.appendChild(m),n&&n(m)):a.current&&(s.current=a.current,i?i(a.current).then(c):c()),a.current=m)}),a}function Wx({getPopoverRect:e,side:t,align:o,rootElementRect:r,args:n,offset:i}){let a=e(i),s=Fd(t,a,r);if(s){let l=$d(t),p=Da({...n,side:l}),m=e(p);Fd(l,m,r)<s&&(n.side=l,i=p)}let c=Kd(n.side,o,a,r);if(c){let l=o=="center"?Ox(n.side,a,r):Nd(o),p=Da({...n,align:l}),m=e(p);Kd(n.side,l,m,r)<c&&(n.align=l,i=p)}return i}function lR(e,t){let o=e?e.getBoundingClientRect():{top:0,right:document.body.scrollHeight-document.body.offsetHeight?document.body.offsetWidth:window.innerWidth,bottom:document.body.offsetHeight,left:0};return{top:o.top+t.y,right:o.right+t.x,bottom:o.bottom+t.y,left:o.left+t.x}}function Yc({element:e,popover:t,isTopLayer:o,side:r,align:n,getOffset:i,autoInvert:a,rootElement:s}){let c=o?{x:window.pageXOffset,y:window.pageYOffset}:{x:0,y:0},l=lR(s,c),p=e.getBoundingClientRect(),m={width:p.width,height:p.height},d=oh(t);function g(_){let x=_.x+p.left+c.x,v=_.y+p.top+c.y;return{left:x,top:v,right:x+d.width,bottom:v+d.height}}let y=i&&i()||{x:0,y:0},h=Si()?Fx(r,n):{side:r,align:n},k={elementSize:m,popoverSize:d,side:h.side,align:h.align,offsetX:y.x,offsetY:y.y},C=Da(k);return a&&(C=Wx({getPopoverRect:g,side:h.side,align:h.align,rootElementRect:l,args:k,offset:C})),o&&(C.x+=p.left+c.x,C.y+=p.top+c.y),C}var qx=500;function pR({tooltipElement:e,elementRef:t,position:o,setVisible:r,ignoreIsElementWithinViewport:n}){if(e.style.left="0",e.style.top="0",e.style.transform=`translateX(${o.x}px) translateY(${o.y}px)`,!n&&!mR(e))return e.style.display="none",r(!1,0),Promise.resolve();let i=o.y>t.current.getBoundingClientRect().top?-5:5;return Qc({opacity:Uc(0,1),translate:Wc([0,i],[0,0]),duration:150}).play(e)}function Gx({html:e,elementRef:t,container:o,show:r=!0,stayOnHover:n=!1,side:i="top",align:a="center",offset:s={x:0,y:8},appearDelay:c=qx,hideDelay:l=n?qx:0,isPreventDefaultClick:p=!1,ignoreIsElementWithinViewport:m=!1}){let d=E(null),g=E(null),[y,h]=di(!1);M(()=>{ir(r),r||h(!1,l)},[l,h,r]),G(t,"mouseover",()=>h(!0,c)),G(t,"mouseout",()=>h(!1,l)),G(t,"click",C=>p&&C.preventDefault());let k=jc({html:e,layer:Po("tooltip"),createBinding:()=>o,show:r&&y,appearAnimation:C=>{function _(){return Yc({element:t.current,popover:C,side:i,align:a,isTopLayer:!0,getOffset:()=>s,autoInvert:!0})}return d.current=Ci(t.current,()=>h(!1,0)),pR({elementRef:t,tooltipElement:C,position:_(),setVisible:h,ignoreIsElementWithinViewport:!!m}).then(()=>{g.current=new ResizeObserver(()=>{let x=_();C.style.transform=`translateX(${x.x}px) translateY(${x.y}px)`}),g.current.observe(C)})},hideAnimation:()=>(d.current&&(d.current(),d.current=null),g.current&&(g.current.disconnect(),g.current=null),Promise.resolve())});return ee(()=>{let C=k.current;if(!n||!C)return;let _=()=>h(!0,0),x=()=>h(!1,l);return C.addEventListener("mouseover",_),C.addEventListener("mouseout",x),()=>{C.removeEventListener("mouseover",_),C.removeEventListener("mouseout",x)}}),{visible:y,setVisible:h}}function mR(e){let t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function jx(e){Gx({...e,container:f(Hc,{contentType:"text",text:e.text,size:e.size,autotestData:e.autotestData})})}function Ft(e){jx(e)}var uR={text:"_EfznYL"},Yx=uR;var dR=u(Yx);function vt(e,{text:t,disableTooltip:o,autotestData:r}){let n=P(),i=ui(n,[typeof t=="string"?t:t.html]);return Ft({html:e,elementRef:n,text:t,show:!o&&i}),e`
<div
	class=${dR.text}
	save-ref=${n}
	data-at=${j(r)}
>
	${t}
</div>`}function Mo(e,{focused:t,onFocusedChange:o}){if(ie(t)&&!ie(o))throw new Error("useFocusProps: `focused` requires `onFocusedChange`");M(()=>{if(!ie(t))return;let r=e.current,n=r===document.activeElement;t&&!n?(r.focus(),r.setAttribute(Ed,""),r.classList.add(Pd)):!t&&n&&(r.blur(),r.removeAttribute(Ed),r.classList.remove(Pd))},[t,e]),G(e,"focus",()=>{o&&o(!0)}),G(e,"blur",()=>{o&&o(!1)})}var fR={preloader:"_FDIdy2",spin:"_nboHb-",preloader_size_tiny:"_MkFXLX",preloader_size_small:"_NaXn-A",preloader_size_medium:"_Hdeggp",preloader_color_accent:"_IU66o1",preloader_color_subdued:"_Euyv5Q",preloader_color_onColor:"_N3JSoS"},Zx=fR;var gR=u(Zx);function Fr(e,{size:t="medium",color:o="accent"}){return e`
<div
	class=${gR.preloader.withMods({size:t,color:o})}
>
	<svg
		viewBox="0 0 32 32"
		xmlns="http://www.w3.org/2000/svg"
	>
		<path
			d="M30 16C30 23.732 23.732 30 16 30C8.26801 30 2 23.732 2 16C2 8.26801 8.26801 2 16 2"
			stroke="currentColor"
			stroke-width="2.5"
			stroke-linecap="round"
			fill="none"
		/>
	</svg>
</div>
`}var yR={button:"_jwZrnS",button_radius_default:"_n_Vogz",button_radius_circle:"_K1i24-",button_cursor_pointer:"_wsTb6U",button_cursor_grab:"_0tGs9Z",button_cursor_grabbing:"_lpacT8",button_size_xSmall:"_j8CWsg",button_spacing_none:"_BFBWjF",button_size_small:"_cbfq3R",button_size_medium:"_puUSrc",button_size_large:"_qDrv2N",button_size_xLarge:"_ql_TEb",button_spacing_default:"_o8aqb0",button_minWidth:"_irpium",button_spacing_icon:"_78h3H4",icon:"_r_aFXH",text:"_zqh9vG",button_bold:"_ONKU2Z",button_loading:"_euyv-r",preloader:"_mGBJw2",link:"_YwSBCF"},Xx=yR;var hR={button:"_c8SarF",text:"_Nai8XJ",icon:"_SqDEoa",button_pressed:"_uH3qPY",preloader:"_rBE_40"},Jx=hR;var xR={button:"_2Sgztl",text:"_iSJYT9",icon:"_Gay6bZ",button_pressed:"_Njl_dC",preloader:"_mrUBZh"},eS=xR;var SR={button:"_Rgok0q",icon:"_xetwxc",text:"_vRxME9",button_pressed:"_hLkcRi",preloader:"_8uQbKU"},tS=SR;var kR={button:"_QhieYK",text:"_bGOWJd",icon:"_Yf8_Gk",button_pressed:"_qOYQ05",preloader:"_dgT2u-"},oS=kR;var CR={button:"_ndBqdR",icon:"_MCY-We",text:"_z_zbRK",button_pressed:"_SH4bv-",preloader:"_NZLYOq"},rS=CR;var _R={button:"_ZF8435",text:"_WFt2dw",icon:"_1QSMus",button_pressed:"_kBeSpB",preloader:"_EWwKRa"},nS=_R;var BR={button:"_448cW1",text:"_WVO116",icon:"_GF0w9v",button_pressed:"_sFb1-w",preloader:"_uB50TO"},iS=BR;var vR={button:"_vk3PAi",text:"_EdvtU7",icon:"_b9f7UC",button_pressed:"_edlrFT",preloader:"_hYDfG2"},aS=vR;var TR={button:"_p58FE6",text:"_SYYFsS",icon:"_hjl3U-",button_pressed:"_rDtwUU",preloader:"_4_N_UG"},sS=TR;var bR={button:"_n4RhCi",text:"_xdVU9a",icon:"_Us9Pqx",button_pressed:"_TxzixR",preloader:"_wnwEZ4"},cS=bR;var wR={button:"_DdKph6",icon:"_cKMXBn",text:"_37HMvz",button_pressed:"_EXXwly",preloader:"_g0P9Xw"},lS=wR;var ER={button:"_9bTZEo",text:"_EK5Rj_",icon:"_zhsTwo",button_pressed:"_mEt_No",preloader:"_MFqBHE"},pS=ER;var PR={button:"_8wF32g",icon:"_qDWo2D",text:"_faN7Vg",button_pressed:"_52AYpy",preloader:"_QS91dP"},mS=PR;var MR={button:"_2R6hr8",text:"_U9XVvk",icon:"_I7-QKt",button_pressed:"_gjWRS3",preloader:"_dxwc5r"},uS=MR;var IR={button:"_usFNBI",icon:"_WPSmos",text:"_LkhqIU",button_pressed:"_MNK4_5",preloader:"_xp_gIZ"},dS=IR;var _i=u(Xx),RR=u(lS),DR=u(mS),AR=u(uS),VR=u(tS),LR=u(rS),OR=u(dS),FR=u(oS),KR=u(nS),$R=u(iS),NR=u(aS),zR=u(sS),HR=u(cS),QR=u(eS),UR=u(pS),WR=u(Jx);function fS(e,t){let o=P(),{size:r="medium",state:n="default",minWidth:i=!0,tooltip:a,cursor:s="pointer",radius:c="default",spacing:l="default",autotestData:p}=t,{iconLeft:m,text:d,iconRight:g}=jR(t),y=n==="loading",h=y||n==="disabled";function k(x){!h&&!x.defaultPrevented&&t.onClick&&(x.preventDefault(),t.onClick())}let C=J(t.style,{primary:RR,secondary:DR,destructive:VR,ghostDestructive:LR,warning:OR,ghost:FR,ghostInversed:KR,link:$R,linkInversed:NR,linkSecondary:zR,linkSecondaryAlpha:HR,complementary:QR,secondaryInversed:AR,promo:UR,aiPrimary:WR}),_=Xe(_i.button.withMods({size:r,spacing:t.structure==="icon"&&l==="default"?"icon":l,minWidth:t.structure!=="icon"&&i,loading:y,bold:ZR(t.style),radius:c,cursor:s}),C.button.withMods({pressed:n==="pressed"}));return Ft({html:e,elementRef:o,show:!!a,text:typeof a=="string"?a:typeof a=="object"?a.text:"",size:typeof a=="object"?a.size:void 0,side:typeof a=="object"?a.side:void 0,align:typeof a=="object"?a.align:void 0,offset:typeof a=="object"?a.offset:void 0}),Mo(o,t),e`
<button
	class=${_}
	disabled=${h}
	onclick=${k}
	save-ref=${o}
	data-at=${j(p)}
>
	${e.renderIf(gS,()=>!!m&&{className:Xe(_i.icon,C.icon),tooltip:a,icon:m})}
	${e.renderIf(qR,()=>!!d&&{className:Xe(_i.text,C.text),text:d,disableTooltip:!!a})}
	${e.renderIf(gS,()=>!!g&&{className:Xe(_i.icon,C.icon),icon:g})}
	${e.renderIf(GR,()=>y&&{className:Xe(_i.preloader,C.preloader),color:YR(t.style)})}
</button>
`}function gS(e,{className:t,icon:o}){return e`
<div class=${t}>
	${e(o)}
</div>
`}function qR(e,{className:t,text:o,disableTooltip:r}){return e`
<div class=${t}>
	${e(vt,{text:o,disableTooltip:r})}
</div>
`}function GR(e,{className:t,color:o}){return e`
<div class=${t}>
	${e(Fr,{size:"small",color:o})}
</div>
`}function jR(e){switch(e.structure){case"icon":return{iconLeft:e.icon,text:null,iconRight:null};case"text":return{iconLeft:null,text:e.text,iconRight:null};case"iconAndText":return{iconLeft:e.icon,text:e.text,iconRight:null};case"textAndIcon":return{iconLeft:null,text:e.text,iconRight:e.icon};case"iconAndTextAndIcon":return e;default:throw Qe(e),new Error}}function YR(e){return J(e,{primary:"onColor",secondary:"subdued",destructive:"onColor",ghostDestructive:"subdued",warning:"onColor",ghost:"subdued",ghostInversed:"onColor",link:"subdued",linkInversed:"onColor",linkSecondary:"subdued",linkSecondaryAlpha:"subdued",complementary:"subdued",secondaryInversed:"onColor",promo:"onColor",aiPrimary:"onColor"})}function ZR(e){return J(e,{primary:!0,secondary:!0,destructive:!0,ghostDestructive:!0,warning:!0,ghost:!0,ghostInversed:!0,link:!1,linkInversed:!1,linkSecondary:!1,linkSecondaryAlpha:!1,complementary:!0,secondaryInversed:!0,promo:!0,aiPrimary:!0})}function Le(e,t){return t.link?e`
<a
	href=${t.link.href}
	target=${t.link.target}
	class=${_i.link}
>
	${e(fS,{...t,onClick:void 0})}
</a>`:fS(e,t)}var XR={toast:"_2vFN6A",text:"_v9S4L_"},Kr=XR;var JR=u(Kr);function Bi(e,{text:t}){return e`
<div class=${JR.text}>
	${{html:t}}
</div>`}var eD={toast:"_7Trlqt",content:"_fTvqKk",button:"_9bK29U"},yS=eD;var tD=u(Kr),Qd=u(yS);function hS(e,{text:t,doneButton:o,cancelButton:r}){return e`
<div
	class=${`${tD.toast} ${Qd.toast}`}
>
	${e.switch(()=>typeof t=="function"?t(r==null?void 0:r.onClick):f(Bi,{text:t}))}
    ${e(Le,{style:"secondaryInversed",structure:"text",text:o.label,onClick:o.onClick,size:"small"},Qd.button)}
    ${e.renderIf(Le,()=>r&&{style:"ghostInversed",structure:"text",text:r.label,onClick:r.onClick,size:"small"},Qd.button)}
</div>`}function xS(e){return e`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="m4.5 11.5 7-7m0 7-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
`}var oD={toast_type_critical:"_IhO_zG",toast_type_basic:"_ASToTg",toast_type_warning:"_bkFxJ-",closeIcon:"_M-bbd8"},SS=oD;var rD=u(Kr),kS=u(SS);function CS(e,{type:t,text:o,onClose:r}){let n=P();ee(()=>{n.current.setAttribute("data-at",j(`toast-${t}-close-button`)||"")},[n,t]),G(n,"click",r),Bx(n,r);let i=kS.toast.withMods({type:t});return e`
<div
	class=${`${rD.toast} ${i}`}
	data-at=${j(`toast-${t}`)}
>
	${e.switch(()=>typeof o=="function"?o(r):f(Bi,{text:o}))}
	${e(xS,{},{ref:n,className:kS.closeIcon})}
</div>`}var nD={fadeInAnimation:"_L1C4YC",fadeInWithShift:"_OUdLkD",fadeOutAnimation:"_zM02OM",fadeOutWithShift:"_m43EOl"},vi=nD;var iD=u(vi);function Ti(e){ee(()=>{va({"--toast-fade-in-duration":`${240}ms`,"--toast-fade-out-duration":`${120}ms`}),Dt(e.current,"--shift-animation-height",`-${e.current.clientHeight+e.current.style.marginBottom}px`),e.current.classList.add(iD.fadeInAnimation)},[e])}var aD=u(vi);function Ud(e,t,o){let r=E(void 0),n=E(void 0),i=!o.important,a=I(()=>{r.current!==void 0&&clearTimeout(r.current),n.current!==void 0&&clearTimeout(n.current)},[]),s=I(()=>{a(),e.current.classList.add(aD.fadeOutAnimation),n.current=setTimeout(()=>hi(t),120)},[t,e,a]),c=I(()=>{r.current=setTimeout(()=>s(),4e3)},[s]);return M(()=>(i&&(c(),e.current.onmouseenter=a,e.current.onmouseleave=c),()=>a()),[e,c,a,i]),M(()=>{o.markedAsRemoved&&s()},[s,o.markedAsRemoved]),s}function BS(e,{toastId:t,toastData:o}){let r=P();Ti(r);let n=Ud(r,t,o);return pe(e,f(CS,{type:o.type,text:o.text,onClose:()=>{n(),o.onClose&&o.onClose()}}),r)}function vS(e,{toastId:t,toastData:o}){let r=P();Ti(r);let n=Ud(r,t,o);return pe(e,f(hS,{text:o.text,doneButton:{onClick:()=>{n(),o.onDone()},label:o.doneButtonLabel},cancelButton:o.cancelButtonLabel&&o.onCancel?{onClick:()=>{n(),o.onCancel&&o.onCancel()},label:o.cancelButtonLabel}:void 0}),r)}var sD={toast:"_rEZQWw",toast_withCancel:"_DU_uMQ",content:"_ZXo_qd",cancelButton:"_6SQAT6"},TS=sD;var cD=u(Kr),Wd=u(TS);function bS(e,{text:t,cancelButtonInfo:o}){let r=Wd.toast.withMods({withCancel:o!==void 0});return e`
<div class=${`${cD.toast} ${r}`}>
	${e(Fr,{size:"small",color:"onColor"})}
	${e.switch(()=>typeof t=="function"?t(o==null?void 0:o.onClick):f(Bi,{text:t}),Wd.content)}
	${e.renderIf(Le,()=>o&&{style:"secondaryInversed",structure:"text",text:o.label,onClick:o.onClick,size:"small"},Wd.cancelButton)}
</div>`}var lD=u(vi);function pD(e,t,o){let r=I(()=>{e.current.classList.add(lD.fadeOutAnimation),setTimeout(()=>hi(t),120)},[t,e]);return M(()=>{o.operationCompletePromise.then(r)},[r,o.operationCompletePromise]),M(()=>{o.markedAsRemoved&&r()},[r,o.markedAsRemoved]),r}function qd(e,{toastId:t,toastData:o}){let r=P();Ti(r);let n=pD(r,t,o),i=o.type==="withLoad"?{text:o.text,cancelButtonInfo:void 0}:{text:o.text,cancelButtonInfo:{onClick:()=>{o.onCancel(),n(),o.onClose&&o.onClose()},label:o.cancelButtonLabel}};return pe(e,f(bS,i),r)}var mD={container:"_h4K159",container_dir_ltr:"_vy2u7y",container_dir_rtl:"_ELkbRD",toast:"_wiBav4"},wS=mD;var Va=u(wS);function ES(e){let t=Mx(),o=so();return e`
<div class=${Va.container.withMods({dir:o})}>
	${e.renderAll(t,r=>{switch(r.type){case"basic":case"warning":case"critical":return se(r.id,BS,{toastId:r.id,toastData:{type:r.type,text:r.text,important:r.important,markedAsRemoved:r.markedAsRemoved,onClose:r.onClose}},Va.toast);case"withLoad":return se(r.id,qd,{toastId:r.id,toastData:{type:"withLoad",text:r.text,important:r.important,operationCompletePromise:r.operationCompletePromise,markedAsRemoved:r.markedAsRemoved,onClose:r.onClose}},Va.toast);case"withLoadAndCancel":return se(r.id,qd,{toastId:r.id,toastData:{type:"withLoadAndCancel",text:r.text,important:r.important,operationCompletePromise:r.operationCompletePromise,cancelButtonLabel:r.cancelButtonLabel,onCancel:r.onCancel,markedAsRemoved:r.markedAsRemoved,onClose:r.onClose}},Va.toast);case"confirm":return se(r.id,vS,{toastId:r.id,toastData:{type:"confirm",text:r.text,important:r.important,onDone:r.onDone,doneButtonLabel:r.doneButtonLabel,cancelButtonLabel:r.cancelButtonLabel,onCancel:r.onCancel,markedAsRemoved:r.markedAsRemoved,onClose:r.onClose}},Va.toast);default:return z(r),null}})}
</div>`}var PS=e=>Ld({text:e,important:!0});var MS=e=>Oc({text:e});var $r={accent:"#2972E0",link:"#2972E0",topPanelBackground:"#FFFFFF",topPanelText:"#42484E"};function La(e,t){let[o,r,n]=Ae(e);return`rgba(${o}, ${r}, ${n}, ${t})`}function IS(e,t){let[o,r,n]=fc(e);return`hsl(${o}, ${r*100}%, ${(n+t)*100}%)`}function RS(e=$r){return{"--color-accent-default":e.accent,"--color-accent-8":La(e.accent,.08),"--color-accent-16":La(e.accent,.16),"--color-accent-30":La(e.accent,.3),"--color-accent-60":La(e.accent,.6),"--color-accent-80":La(e.accent,.8),"--color-accent-dark":IS(e.accent,-.08),"--color-link-default":e.link,"--color-link-dark":IS(e.link,-.08),"--color-top-panel-background-default":e.topPanelBackground,"--color-top-panel-text-default":e.topPanelText}}function DS(){return{"action-primary-default":{base:"custom-accent"},"action-primary-hovered":{base:"custom-accent",fn:"hsl",s:-1,l:-4},"action-primary-pressed":{base:"custom-accent",fn:"hsl",s:-1,l:-8},"action-toggle-pressed-disabled":{base:"custom-accent",fn:"alpha",a:.36},"border-accent-default":{base:"custom-accent"},"border-accent-hovered":{base:"custom-accent",fn:"hsl",s:-1,l:-4},"border-accent-pressed":{base:"custom-accent",fn:"hsl",s:-1,l:-8},"custom-panel-hovered":{base:"custom-text-default",fn:"alpha",a:.12},"custom-panel-subdued":{base:"custom-text-default",fn:"alpha",a:.08},"custom-text-subdued":{base:"custom-text-default",fn:"alpha",a:.72},"focus-default":{base:"custom-accent",fn:"alpha",a:.4},"icon-accent-default":{base:"custom-accent"},"icon-accent-hovered":{base:"custom-accent",fn:"hsl",s:-1,l:-4},"icon-accent-pressed":{base:"custom-accent",fn:"hsl",s:-1,l:-8},"indicator-primary":{base:"custom-accent"},"surface-accent-default":{base:"custom-accent",fn:"alpha",a:.16},"surface-accent-hovered":{base:"custom-accent",fn:"alpha",a:.2},"surface-accent-subdued":{base:"custom-accent",fn:"alpha",a:.12},"text-accent-default":{base:"custom-accent"},"text-accent-hovered":{base:"custom-accent",fn:"hsl",s:-1,l:-4},"text-accent-pressed":{base:"custom-accent",fn:"hsl",s:-1,l:-8}}}var uD={grad:.9,turn:360,rad:360/(2*Math.PI)},cr=function(e){return typeof e=="string"?e.length>0:typeof e=="number"},rt=function(e,t,o){return t===void 0&&(t=0),o===void 0&&(o=Math.pow(10,t)),Math.round(o*e)/o+0},co=function(e,t,o){return t===void 0&&(t=0),o===void 0&&(o=1),e>o?o:e>t?e:t},zS=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},AS=function(e){return{r:co(e.r,0,255),g:co(e.g,0,255),b:co(e.b,0,255),a:co(e.a)}},Gd=function(e){return{r:rt(e.r),g:rt(e.g),b:rt(e.b),a:rt(e.a,3)}},dD=/^#([0-9a-f]{3,8})$/i,Xc=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},HS=function(e){var t=e.r,o=e.g,r=e.b,n=e.a,i=Math.max(t,o,r),a=i-Math.min(t,o,r),s=a?i===t?(o-r)/a:i===o?2+(r-t)/a:4+(t-o)/a:0;return{h:60*(s<0?s+6:s),s:i?a/i*100:0,v:i/255*100,a:n}},QS=function(e){var t=e.h,o=e.s,r=e.v,n=e.a;t=t/360*6,o/=100,r/=100;var i=Math.floor(t),a=r*(1-o),s=r*(1-(t-i)*o),c=r*(1-(1-t+i)*o),l=i%6;return{r:255*[r,s,a,a,c,r][l],g:255*[c,r,r,s,a,a][l],b:255*[a,a,c,r,r,s][l],a:n}},VS=function(e){return{h:zS(e.h),s:co(e.s,0,100),l:co(e.l,0,100),a:co(e.a)}},LS=function(e){return{h:rt(e.h),s:rt(e.s),l:rt(e.l),a:rt(e.a,3)}},OS=function(e){return QS((o=(t=e).s,{h:t.h,s:(o*=((r=t.l)<50?r:100-r)/100)>0?2*o/(r+o)*100:0,v:r+o,a:t.a}));var t,o,r},Oa=function(e){return{h:(t=HS(e)).h,s:(n=(200-(o=t.s))*(r=t.v)/100)>0&&n<200?o*r/100/(n<=100?n:200-n)*100:0,l:n/2,a:t.a};var t,o,r,n},fD=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,gD=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,yD=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,hD=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,FS={string:[[function(e){var t=dD.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?rt(parseInt(e[3]+e[3],16)/255,2):1}:e.length===6||e.length===8?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:e.length===8?rt(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=yD.exec(e)||hD.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:AS({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=fD.exec(e)||gD.exec(e);if(!t)return null;var o,r,n=VS({h:(o=t[1],r=t[2],r===void 0&&(r="deg"),Number(o)*(uD[r]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return OS(n)},"hsl"]],object:[[function(e){var t=e.r,o=e.g,r=e.b,n=e.a,i=n===void 0?1:n;return cr(t)&&cr(o)&&cr(r)?AS({r:Number(t),g:Number(o),b:Number(r),a:Number(i)}):null},"rgb"],[function(e){var t=e.h,o=e.s,r=e.l,n=e.a,i=n===void 0?1:n;if(!cr(t)||!cr(o)||!cr(r))return null;var a=VS({h:Number(t),s:Number(o),l:Number(r),a:Number(i)});return OS(a)},"hsl"],[function(e){var t=e.h,o=e.s,r=e.v,n=e.a,i=n===void 0?1:n;if(!cr(t)||!cr(o)||!cr(r))return null;var a=function(s){return{h:zS(s.h),s:co(s.s,0,100),v:co(s.v,0,100),a:co(s.a)}}({h:Number(t),s:Number(o),v:Number(r),a:Number(i)});return QS(a)},"hsv"]]},KS=function(e,t){for(var o=0;o<t.length;o++){var r=t[o][0](e);if(r)return[r,t[o][1]]}return[null,void 0]},xD=function(e){return typeof e=="string"?KS(e.trim(),FS.string):typeof e=="object"&&e!==null?KS(e,FS.object):[null,void 0]};var jd=function(e,t){var o=Oa(e);return{h:o.h,s:co(o.s+100*t,0,100),l:o.l,a:o.a}},Yd=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},$S=function(e,t){var o=Oa(e);return{h:o.h,s:o.s,l:co(o.l+100*t,0,100),a:o.a}},NS=function(){function e(t){this.parsed=xD(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return this.parsed!==null},e.prototype.brightness=function(){return rt(Yd(this.rgba),2)},e.prototype.isDark=function(){return Yd(this.rgba)<.5},e.prototype.isLight=function(){return Yd(this.rgba)>=.5},e.prototype.toHex=function(){return t=Gd(this.rgba),o=t.r,r=t.g,n=t.b,a=(i=t.a)<1?Xc(rt(255*i)):"","#"+Xc(o)+Xc(r)+Xc(n)+a;var t,o,r,n,i,a},e.prototype.toRgb=function(){return Gd(this.rgba)},e.prototype.toRgbString=function(){return t=Gd(this.rgba),o=t.r,r=t.g,n=t.b,(i=t.a)<1?"rgba("+o+", "+r+", "+n+", "+i+")":"rgb("+o+", "+r+", "+n+")";var t,o,r,n,i},e.prototype.toHsl=function(){return LS(Oa(this.rgba))},e.prototype.toHslString=function(){return t=LS(Oa(this.rgba)),o=t.h,r=t.s,n=t.l,(i=t.a)<1?"hsla("+o+", "+r+"%, "+n+"%, "+i+")":"hsl("+o+", "+r+"%, "+n+"%)";var t,o,r,n,i},e.prototype.toHsv=function(){return t=HS(this.rgba),{h:rt(t.h),s:rt(t.s),v:rt(t.v),a:rt(t.a,3)};var t},e.prototype.invert=function(){return Zt({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},e.prototype.saturate=function(t){return t===void 0&&(t=.1),Zt(jd(this.rgba,t))},e.prototype.desaturate=function(t){return t===void 0&&(t=.1),Zt(jd(this.rgba,-t))},e.prototype.grayscale=function(){return Zt(jd(this.rgba,-1))},e.prototype.lighten=function(t){return t===void 0&&(t=.1),Zt($S(this.rgba,t))},e.prototype.darken=function(t){return t===void 0&&(t=.1),Zt($S(this.rgba,-t))},e.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},e.prototype.alpha=function(t){return typeof t=="number"?Zt({r:(o=this.rgba).r,g:o.g,b:o.b,a:t}):rt(this.rgba.a,3);var o},e.prototype.hue=function(t){var o=Oa(this.rgba);return typeof t=="number"?Zt({h:t,s:o.s,l:o.l,a:o.a}):rt(o.h)},e.prototype.isEqual=function(t){return this.toHex()===Zt(t).toHex()},e}(),Zt=function(e){return e instanceof NS?e:new NS(e)};function Zd(e){return`--color-${e}`}function bn(e){return`var(${Zd(e)})`}function lo(e,t=document.documentElement){return Ix(Zd(e),t)}function US(e,t=document.documentElement){let o=DS();[...Sa(e),...Sa(o).map(([n,i])=>[n,SD(e,i)])].forEach(([n,i])=>{Rx(Zd(n),i,t)})}function SD(e,t){var r,n,i;let o=w(e[t.base],`base color '${t.base}' not found`);switch(t.fn){case void 0:return o;case"alpha":return Zt(o).alpha(t.a).toHex();case"hsl":{let{h:a,s,l:c,a:l}=Zt(o).toHsl();return Zt({h:a+((r=t.h)!=null?r:0),s:s+((n=t.s)!=null?n:0),l:c+((i=t.l)!=null?i:0),a:l}).toHex()}default:Qe(t)}}var WS="Roboto",qS={regular:{"display-large":"44px/52px","display-medium":"36px/44px","display-small":"32px/40px","display-xlarge":"56px/64px","header-large":"22px/30px","header-medium":"20px/28px","header-small":"18px/26px","header-xlarge":"24px/32px","header-xxlarge":"28px/36px","text-large":"16px/22px","text-medium":"15px/20px","text-small":"14px/20px","text-xlarge":"18px/26px","text-xsmall":"13px/16px","text-xxlarge":"20px/28px","text-xxsmall":"10px/16px"},compact:{"display-large":"48px/56px","display-medium":"40px/48px","display-small":"32px/40px","display-xlarge":"56px/64px","header-large":"22px/30px","header-medium":"20px/28px","header-small":"18px/26px","header-xlarge":"24px/32px","header-xxlarge":"28px/36px","text-large":"16px/22px","text-medium":"14px/20px","text-small":"13px/20px","text-xlarge":"18px/26px","text-xsmall":"12px/16px","text-xxlarge":"20px/28px","text-xxsmall":"10px/16px"}};function kD(e){return`--font-${e}`}function Jc(e){return Object.fromEntries(Sa(qS[e]).map(([t,o])=>[kD(t),`${o} var(--font-family, ${WS})`]))}var Xd={headerFontFamily:"Roboto",contentFontFamily:"Roboto"};function GS(e=Xd){return{"--header-font-family":e.headerFontFamily,"--content-font-family":e.contentFontFamily}}var el={accent:$r.accent,link:$r.link,topPanelBackground:$r.topPanelBackground,topPanelText:$r.topPanelText};function jS(e){el.accent=e.accent,el.link=e.link,el.topPanelBackground=e.topPanelBackground,el.topPanelText=e.topPanelText}function YS(e){let t=(e==null?void 0:e.baseFonts)||Xd,o=GS(t);e!=null&&e.element?De(e.element,o,e.windowContext):va(o)}function ZS(e){var n;let t=(n=e==null?void 0:e.windowContext)!=null?n:window,o={...$r,...e==null?void 0:e.baseColors};jS(o),US({"custom-accent":o.accent,"custom-panel-default":o.topPanelBackground,"custom-text-default":o.topPanelText},e==null?void 0:e.element);let r=RS(o);e!=null&&e.element?De(e.element,r,t):va(r)}var XS="";function JS(e){return XS&&e?`${XS}${e}`:e}var CD={topLayer:"_2lXsgT",popupLayer:"_e_gnrT",popupLayerMobile:"_mYr9SD",uploaderLayer:"_nsgh2c"},ek=CD;var tl=u(ek);function _D(e,t){let o=[tl.topLayer];e==="popup"&&(o.push(tl.popupLayer),vr()&&o.push(tl.popupLayerMobile)),e==="uploader"&&o.push(tl.uploaderLayer),t.classList.add(...o)}function Fa(e){let t=document.createElement("div");return _D(e,t),Gc(e,t),t}var tk="#E73018",ok="#FF8400",rk="#FFC252";var nk="#3CB46E";var ik="#7C46B9";var Ka="#323537",ol="#818181";var po="noColor";function bi(e){if(e&&e.color&&e.color!==po){let t=Ae(e.color),o=e.opacity;return`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${o})`}return""}var BD={container:"_fTlgGJ"},ak=BD;var vD=u(ak);function wi(e,t){return e`
<div
	class=${vD.container}
	data-at=${j(t.autotestData)}
>
	${e(Fr,t)}
</div>`}function TD(){let e=!1;try{e=!!window.Animation}catch{}return e}function Jd({element:e,createKeyframes:t,abortSignal:o}){if(!TD())return Promise.resolve();let r=new Animation(t(e));return new Promise(n=>{let i=e.style.pointerEvents;e.style.pointerEvents="none";function a(){c(),n()}function s(){c(),n("aborted")}function c(){e.style.pointerEvents=i,o&&o.removeEventListener("abort",s),r.removeEventListener("cancel",s),r.removeEventListener("finish",a)}o&&o.addEventListener("abort",s),r.addEventListener("cancel",s),r.addEventListener("finish",a),r.play()})}function Ei({element:e,getAppearKeyframes:t,getHideKeyframes:o,onAppeared:r,onHidden:n}){let[i,a]=N(!1),s=Pr(),c=E(new AbortController),l=E(e),p=E(null);e!==l.current&&(p.current=l.current),l.current=e;let m=te({getAppearKeyframes:t,getHideKeyframes:o,onAppeared:r||(()=>{}),onHidden:n||(()=>{})});return ee(()=>{if(!e)return;c.current.abort(),c.current=new AbortController;let d=c.current.signal,g=m.current.getAppearKeyframes,y=m.current.getHideKeyframes;return g?(a(!0),Jd({element:e,createKeyframes:g,abortSignal:d}).then(()=>{a(!1),m.current.onAppeared()})):m.current.onAppeared(),()=>{if(!y||d.aborted){p.current=null,s(),m.current.onHidden();return}a(!0),Jd({element:e,createKeyframes:y,abortSignal:d}).then(()=>{p.current=null,a(!1),m.current.onHidden()})}},[m,e,s]),{animating:i,element:p.current||e}}function sk(e){let t=Math.abs(e.scrollTop),o=V(getComputedStyle(e)),n=o.overflowY==="auto"||o.overflowY==="scroll"?e.scrollHeight-e.clientHeight:0;return t===n}function bD(e,t){for(;e!==t&&t.parentElement;){if(!sk(t))return!1;t=t.parentElement}return sk(t)}function ef(e){let t=st(e,"wheel",o=>{let r=o.deltaY>0;bD(e,o.srcElement)&&r&&o.preventDefault()});return()=>Rt(t)}function ck(e){M(()=>{if(e)return ef(e)},[e])}function Pi({layer:e,element:t,onAppend:o,beforeAppend:r,beforeUnmount:n,position:i="absolute"}){let a=E(null),s=te(n),c=I(()=>{let l=a.current;l&&(V(l.parentElement==e,`useExternalLayer(): layer "${e}" doesn't contain element`),s.current&&s.current(),e.removeChild(l),a.current=null)},[e,s]);ee(()=>c,[c]),t!=a.current&&(c(),t&&(r&&r(t),t.style.position=i,e.appendChild(t),o&&o(t)),a.current=t)}function $a(e){return e.current?e.current.getBoundingClientRect():{left:0,top:0,right:0,bottom:0,width:0,height:0}}function pk(){return{x:window.pageXOffset,y:window.pageYOffset}}function tf(){let e=$a({current:document.body}),t=_n(e),o=Bn(pk(),Ec(2));return sr(ar(t,o),e)}function lk(e){let t=$a(e);return sr(ar(_n(t),pk()),t)}function Mi({rootRef:e,overlayRef:t,relatedRef:o}){return{viewPort:e?lk(e):tf(),component:lk(o),overlaySize:$a(t)}}function rl({overlay:e,getPosition:t}){wD(e);let o=t(),r=tf(),n=sr(o,$a({current:e})),i=r.top+Tn,a=r.bottom-Tn,s=n.top<i,c=n.bottom>a;(s||c)&&(e.style.width||(e.style.width=q(si(n).width)),e.style.overflowY="auto"),s?(e.style.top=q(Tn),e.style.maxHeight=q(n.bottom-Tn)):(e.style.top=q(n.top),e.style.maxHeight=q(a-n.top)),e.style.left=q(n.left)}function wD(e){e.style.maxHeight="",e.style.left="",e.style.top="",e.style.overflowY=""}function nl({html:e,layer:t,getOverlayPosition:o,getAppearKeyframes:r,getHideKeyframes:n,beforeMount:i,afterMount:a,opened:s,onClose:c,createOverlay:l,anchorTracking:p}){let m=e(s?l():null),{animating:d,element:g}=Ei({element:m,getAppearKeyframes:r,getHideKeyframes:n});Pi({layer:t,element:g,beforeAppend:i,onAppend:h=>{rl({overlay:h,getPosition:()=>o(h)}),a&&a(h)}}),ck(g);let y=D(()=>({current:g}),[g]);return Ze({target:y,onResize:()=>{g&&rl({overlay:g,getPosition:()=>o(w(g))})}}),Ze({target:document.body,onResize:()=>!d&&(p==null?void 0:p.action)!=="move"&&c(),ignoreObservationStart:!0}),qc(g&&p?p.anchorRef.current:null,g&&p?J(p.action,{close:c,move:()=>rl({overlay:g,getPosition:()=>o(g)})}):()=>{}),g}function ED(e,t){switch(e){case"top":return[0,-t];case"bottom":return[0,t];case"right":return[t,0];case"left":return[-t,0];default:throw z(e),new Error}}function mk([e,t]){return`translate(${e}px, ${t}px)`}function il({element:e,side:t}){return new KeyframeEffect(e,[{opacity:0,transform:mk(ED(t,5))},{opacity:1,transform:mk([0,0])}],{duration:150,fill:"forwards"})}var al=9,uk=8;function sl(e){return J(e,{start:-uk,center:0,end:uk})}function PD(e,t){return J(e,{left:{x:-al,y:sl(t)},right:{x:al,y:sl(t)},top:{x:sl(t),y:-al},bottom:{x:sl(t),y:al}})}function dk({html:e,anchorRef:t,tooltipProps:o,side:r,align:n,offset:i,onClose:a,anchorTrackingAction:s,disablePointer:c,layer:l}){let[p,m]=N(!!o),d=n||"center",g=r||"top",y=i||PD(g,d);return M(()=>{m(!!o)},[o]),nl({html:e,opened:p,layer:l!=null?l:Po("tooltip"),onClose:a,createOverlay:()=>o&&f(Hc,{...o,getPointerTargetRect:c?void 0:()=>t.current.getBoundingClientRect()}),getAppearKeyframes:h=>il({element:h,side:Aa({...Mi({relatedRef:t,overlayRef:{current:h}}),offset:y,align:d,side:g})}),getOverlayPosition:h=>$c({...Mi({relatedRef:t,overlayRef:{current:h}}),offset:y,align:d,side:g}),anchorTracking:s&&{anchorRef:t,action:s}})}function L(){return gd()}function lt(e,t){return e.find(o=>o.name===t)}function Co(e,t){let o=[...e],r=o.findIndex(n=>n.name===t.name);return r>=0?o[r]=t:o.push(t),o}function cl(e,t){return e.filter(o=>!t.includes(o.name))}function fk(e,t){return e.some(o=>o.name===t)}var MD="$",Re={create(e){return e},add(e,t){return t.reduce((o,r)=>Co(o,r),e)},compareTextStyles(e,t){return Re.serializeStyles(e)===Re.serializeStyles(t)},serializeStyles(e){return[...e].sort((t,o)=>cd(t.name,o.name)).map(t=>JSON.stringify(t)).join(MD)},compareSingleTextStyles(e,t){return JSON.stringify(e)===JSON.stringify(t)},remove(e,t){return cl(e,t)},has(e,t){return fk(e,t)},getAlignment(e){let t=lt(e,"alignment");return t&&t.name==="alignment"?t.type:null},getFontSize(e){let t=lt(e,"fontSize");return t&&t.name==="fontSize"?t.size:null},getFontColor(e){let t=lt(e,"fontColor");return t&&t.name==="fontColor"?t.color:null},getTextHighlightColor(e){let t=lt(e,"textHighlightColor");return t&&t.name==="textHighlightColor"?t.color:null},getTextHighlightOpacity(e){let t=lt(e,"textHighlightOpacity");return t&&t.name==="textHighlightOpacity"?t.opacity:null}};var ID=ol,RD=.1;var le={create(e={}){let{url:t=null,style:o=Re.create([])}=e;return{url:t,style:o}},applyStyle(e,t){return le.create({...e,style:Re.add(e.style,t)})},removeStyles(e,t){return le.create({...e,style:Re.remove(e.style,t)})},hasStyle(e,t){return Re.has(e.style,t)},hasUrl(e){return!!e.url},compare(e,t){return e.url===t.url&&Re.compareTextStyles(e.style,t.style)},setUrl(e,t){return le.create({...e,url:t})},removeUrl(e){return le.create({...e,url:null})},isInlineCodeMeta(e){return e.style.some(t=>t.name==="code")},getInlineCodeAdditionStyles(e=ID){return[{name:"code"},{name:"fontColor",color:e},{name:"textHighlightColor",color:e},{name:"textHighlightOpacity",opacity:RD}]},getInlineCodeAdditionStylesNames(){return this.getInlineCodeAdditionStyles().map(e=>e.name)}};var S={PARAGRAPH:"p",IMAGE:"i",COLLAGE:"c",EMBED:"e",EXERCISE:"E",QUIZ:"Q",ATTACHMENT:"a",NOTE:"n",TABLE:"t",FLIP_CARDS:"fc",DIVIDER:"d",CONTINUE:"ct",VIDEO:"v",SNIPPET:"s",LAYOUT:"l",CODE:"cd",LIST_ITEM:"li"};function Kt(e){return{...e,background:e.background&&{...e.background}}}function gk(e){return e.length===2}function yk({offset:e,textLength:t,getCharacterByIndex:o}){let r=0,n=0;for(;r<t;++r,++n)if(gk(o(r))&&++n,n>=e)return r;return r}function hk({offset:e,textLength:t,getCharacterByIndex:o}){let r=0,n=0;for(;r<t;++r,++n){if(r>=e)return n;gk(o(r))&&++n}return n}function of(e,t){return e[t].meta.url}var Ke={isEmpty(e){return e.characters.length===0},clearStyle(e,t){e.characters.forEach(o=>{o.meta.style=o.meta.style.filter(r=>r.name!==t)})},extendHyperlinksSelection(e,t,o=e.characters.length){let{characters:r}=e,n=of.bind(null,r),i=n(t);if(i)for(;t>0&&i==n(t-1);)--t;let a=n(o-1);if(a)for(;o<r.length&&a==n(o);)++o;return{start:t,end:o}},hasHyperlink(e,t,o=e.characters.length){for(let r=t;r<o;++r)if(of(e.characters,r))return!0;return!1},getHyperlinksInfo(e){let t=[],o=null;for(let r=0;r<e.length;++r){let n=of(e,r);o&&o.url!=n&&(t.push({start:o.start,end:r,url:o.url}),o=null),n&&!o&&(o={start:r,url:n})}return o&&t.push({start:o.start,end:e.length,url:o.url}),t},getCharactersText(e){return e.characters.reduce((t,o)=>t+o.text,"")},getCharacters(e){return e.characters.map(t=>t.text)},getWordStartIndex(e,t){return nh(Ke.getCharactersText(e),t)},getWordEndIndex(e,t){return ih(Ke.getCharactersText(e),t)},getLastCharacterMeta(e){let t=e.characters,o=t[t.length-1];return o&&o.meta},convertBrowserToModelOffset(e,t){return yk({offset:t,textLength:e.characters.length,getCharacterByIndex:o=>e.characters[o].text})},convertModelToBrowserOffset(e,t){return hk({offset:t,textLength:e.characters.length,getCharacterByIndex:o=>e.characters[o].text})}};function ae(e){return!e||e.type!==S.PARAGRAPH?null:e}var xk=["blockquote","pullquote"],Sk=["h1","h2","h3"],zoe=[...Sk,...xk,"text"];var $={create(e={}){let t=e.characters||[];typeof t=="string"&&(t=$.createCharacters(t,le.create()));let o={type:S.PARAGRAPH,key:e.key||L(),viewType:e.viewType||"text",textAlign:e.textAlign||"left",characters:t};return e.designSettings&&(o.designSettings=e.designSettings),e.defaultCharactersMeta&&(o.defaultCharactersMeta=e.defaultCharactersMeta),o},clone(e,t={}){return{...It(e),key:L(),...t}},createCharacters(e,t){return[...e].map(o=>({text:o,meta:t}))},getBlockViewType(e){return e.viewType},isQuote(e){let t=ae(e);return!!t&&xk.includes(t.viewType)},isHeading(e){let t=ae(e);return!!t&&Sk.includes(t.viewType)},isEmptyParagraph(e){let t=ae(e);return!!t&&Ke.isEmpty(t)},getTextRuns(e,t){t||(t=n=>n);let o=e.characters;if(o.length==0)return[];let r=[{text:o[0].text,styles:t(o[0].meta),isLast:!1}];for(let n=1;n<o.length;++n){let i=o[n],a=t(i.meta),s=r.length-1,c=r[s].styles;le.compare(a,c)?r[s].text+=i.text:r.push({text:i.text,styles:a,isLast:!1})}return r[r.length-1].isLast=!0,r}};var DD="javascript",AD=16,Tt={create(e={}){let t=e.key||L();return{type:S.CODE,key:t,paragraph:e.paragraph||$.create(),language:e.language||DD,fontSize:e.fontSize||"auto",designSettings:e.designSettings}},clone(e){return Tt.create({...e,key:L(),paragraph:{...e.paragraph,key:L()},designSettings:e.designSettings&&Kt(e.designSettings)})},toCodeBlock(e){return e&&e.type===S.CODE?e:null},getLanguage(e){return e.language},getFontSize(e){return e.fontSize==="auto"?AD:e.fontSize},getBlockType(e){return"code"},changeCodeLanguage(e,t){e.language=t},changeCodeFontSize(e,t){e.fontSize=t}};var Nr="rectangle";var kk={top:0,right:0,bottom:0,left:0};function wn(){return{...kk}}function VD(e,t){return e&&t&&e.top===t.top&&e.right===t.right&&e.bottom===t.bottom&&e.left===t.left}function rf(e){return!!VD(e,kk)}function St({width:e,height:t,crop:o,src:r,clip:n}){return{src:r,clip:n!=null?n:Nr,crop:o!=null?o:wn(),width:o?e-o.left-o.right:e,height:o?t-o.top-o.bottom:t}}function Ck(e){let{width:t,height:o}=e,r=St(e),n=t-r.width,i=o-r.height,a=n===0?0:r.crop.left/t*(t/n)*100,s=i===0?0:r.crop.top/o*(o/i)*100;return{width:t/r.width*100,height:o/r.height*100,positionX:a,positionY:s}}function nf(e){return e.crop?{src:e.src,width:e.width,height:e.height}:e}async function LD(e,t,o,r){let n=await Ea(e);return new Promise((i,a)=>{let s=document.createElement("canvas"),c=V(s.getContext("2d")),l=Cx(t);s.width=o?Math.min(l.width,o):l.width,s.height=r?Math.min(l.height,r):l.height,c.drawImage(n,t.left,t.top,l.width,l.height,0,0,s.width,s.height),s.toBlob(p=>p?i(p):a())})}function _k({src:e,crop:t,width:o,height:r}){let n=OD(t,o,r);return LD(e,n)}function OD(e,t,o){return{left:e.left,right:t-e.right,top:e.top,bottom:o-e.bottom}}function Bk(e){return!!e.crop&&!rf(e.crop)}var FD="collage",KD=3,vk="inner",$D=960,Y={create({key:e,images:t=[],alignment:o,designSettings:r}){let n=e||L(),i=t.map(a=>({...a,parentCollageKey:n}));return{key:n,type:S.COLLAGE,images:i,alignment:o||"inner",designSettings:r}},clone(e){let t=L();return{...e,key:t,images:e.images.map(o=>({...o,key:L(),parentCollageKey:t})),designSettings:e.designSettings&&Kt(e.designSettings)}},cloneImage(e){return{...e,key:L()}},toCollageBlock(e){return e&&e.type===S.COLLAGE?e:null},getBlockType(e){return FD},isCollageBlock(e){return!!e&&e.type===S.COLLAGE},getCollagedImage(e,t){return e.images.find(o=>o.key===t)||null},getCaptionParagraphs(e){return e.images.map(t=>t)},getCollagedImageIndex(e,t){return e.images.findIndex(o=>o.key===t)},supportFullAlign(e){return e.images.length>1?!0:St(e.images[0]).width>=$D},supportFloat(e){return e.images.length>1?!1:!!e.images[0].width},supportAlignment(e,t){switch(t){case"float-left":return Y.supportFloat(e);case"full":case"outer":return Y.supportFullAlign(e);case"inner":return!0}},isOneImageCollage(e){return e.images.length===1},canAddImage(e){return e.images.length<KD}};var pt={basicPaletteCrimson:"#B8195B",basicPaletteDeepSpace:"#02318A",basicPaletteSpaceBlue:"#0047CB",black60:"#00000099",black8:"#00000014",black80:"#000000CC",blackDefault:"#000000",blue16:"#4A90E229",blue30:"#4A90E24D",blue8:"#4A90E214",blue80:"#4A90E2CC",blueBlack:"#0D2E53",blueDark:"#287BDC",blueDarker:"#1E67BD",blueDefault:"#4A90E2",dark12:"#42484E1F",dark14:"#42484E24",dark16:"#42484E29",dark20:"#42484E33",dark28:"#42484E47",dark40:"#42484E66",dark60:"#42484E99",dark72:"#42484EB8",dark8:"#42484E14",dark80:"#42484ECC",dark87:"#42484EDE",darkDark:"#2F3337",darkDefault:"#42484E",grayDark:"#D0D0D1",grayDarker:"#C0C0C1",grayDefault:"#EFEFF0",grayLight:"#F2F2F3",grayLighter:"#F6F6F7",green16:"#3CB46E29",green30:"#3CB46E4D",green8:"#3CB46E14",green80:"#3CB46ECC",greenBlack:"#091B10",greenDark:"#32955B",greenDarker:"#287748",greenDefault:"#3CB46E",orange16:"#FF9F3329",orange30:"#FF9F334D",orange8:"#FF9F3314",orange80:"#FF9F33CC",orangeBlack:"#603506",orangeDark:"#F08713",orangeDarker:"#CE720D",orangeDefault:"#FF9F33",purple16:"#6257BA29",purple30:"#6257BA4D",purple8:"#6257BA14",purple80:"#6257BACC",purpleBlack:"#262150",purpleDark:"#4F44A6",purpleDarker:"#413889",purpleDefault:"#6257BA",red16:"#F0513D29",red30:"#F0513D4D",red8:"#F0513D14",red80:"#F0513DCC",redBlack:"#5A1007",redDark:"#EE2F17",redDarker:"#CC250F",redDefault:"#F15541",slate10:"#8D98A21A",slate20:"#8D98A233",slate40:"#8D98A266",slate5:"#8D98A20D",slate60:"#8D98A299",slate80:"#8D98A2CC",slateDefault:"#8D98A2",white16:"#FFFFFF29",white30:"#FFFFFF4D",white60:"#FFFFFF99",white80:"#FFFFFFCC",whiteDefault:"#FFFFFF",yellow16:"#F9C60E29",yellow30:"#F9C60E4D",yellow8:"#F9C60E14",yellow80:"#F9C60ECC",yellowBlack:"#473800",yellowDark:"#E5B406",yellowDarker:"#C29800",yellowDefault:"#F9C60E"};var ND="";function En(){return ND}var zD="1",af={rounded:le.create({style:Re.create([{name:"fontColor",color:pt.whiteDefault}])}),squared:le.create({style:Re.create([{name:"fontColor",color:pt.whiteDefault},{name:"bold"}])})};function Tk(e){let t=e==="squared"?B("Roll.Editor.Divider.Default.Rectangle.Paragraph.Text"):zD,o=$.createCharacters(t,af[e]);return $.create({characters:o,textAlign:"center"})}function Ii(e){return e==="line"?{color:pt.darkDefault,opacity:1}:{color:En(),opacity:1}}var Be={createLineDivider(e={}){return{type:S.DIVIDER,key:e.key||L(),dividerType:"line",alignment:e.alignment||"inner",dividerColor:e.dividerColor||Ii("line"),style:e.style||"solid",designSettings:e.designSettings}},createLineWithTextDivider(e){let t=e.key||L();return{type:S.DIVIDER,key:t,dividerType:"line-with-text",alignment:e.alignment||"inner",dividerColor:e.dividerColor||Ii("line-with-text"),style:e.style||"solid",paragraph:e.paragraph||Tk(e.paragraphStyle),paragraphStyle:e.paragraphStyle,meta:e.meta||[{name:"charactersMeta",data:af[e.paragraphStyle]}],designSettings:e.designSettings}},createDividerFromContinue(e){var t,o;return Be.createLineWithTextDivider({...e,dividerColor:e.continueColor,paragraphStyle:"squared",designSettings:{background:{color:(o=(t=e.designSettings)==null?void 0:t.background)==null?void 0:o.color}}})},createQuoteDivider(e={}){return{type:S.DIVIDER,key:e.key||L(),dividerType:"quotes",dividerColor:e.dividerColor||Ii("quotes"),style:e.quoteStyle||"quote_1",designSettings:e.designSettings}},createDiamondsDivider(e={}){return{type:S.DIVIDER,key:e.key||L(),dividerType:"diamonds",dividerColor:e.dividerColor||Ii("diamonds"),style:"default",designSettings:e.designSettings}},createArrowDivider(e={}){return{type:S.DIVIDER,key:e.key||L(),dividerType:"arrow",dividerColor:e.dividerColor||Ii("arrow"),style:"default",designSettings:e.designSettings}},changeDividerType(e,t){if(e.dividerType===t)return e;let o=e.dividerType==="line-with-text"||e.dividerType==="line",r=e.dividerType==="line-with-text";switch(t){case"arrow":return Be.createArrowDivider({key:e.key,dividerColor:e.dividerColor,designSettings:e.designSettings});case"diamonds":return Be.createDiamondsDivider({key:e.key,dividerColor:e.dividerColor,designSettings:e.designSettings});case"quotes":return Be.createQuoteDivider({key:e.key,dividerColor:e.dividerColor,designSettings:e.designSettings});case"line":return Be.createLineDivider({key:e.key,dividerColor:e.dividerColor,alignment:o?e.alignment:void 0,style:o?e.style:void 0,designSettings:e.designSettings});case"line-with-rectangle":case"line-with-circle":return Be.createLineWithTextDivider({key:e.key,dividerColor:e.dividerColor,paragraphStyle:t==="line-with-circle"?"rounded":"squared",alignment:o?e.alignment:void 0,style:o?e.style:void 0,paragraph:r?e.paragraph:void 0,designSettings:e.designSettings});default:throw new Error(`unknown divider view type ${t}`)}},changeDividerColor(e,t){e.dividerColor=t},changeDividerLineStyle(e,t){e.style=t},changeQuoteStyle(e,t){e.style=t},addMeta(e,t){e.meta=Co(e.meta,t)},changeDividerAlignment(e,t){e.alignment=t},clone(e,t=L()){let o={...e.dividerColor},r=e.designSettings&&Kt(e.designSettings);switch(e.dividerType){case"line-with-text":return Be.createLineWithTextDivider({...e,key:t,paragraph:{...e.paragraph,key:t},dividerColor:o,designSettings:r});case"line":return Be.createLineDivider({...e,key:t,dividerColor:o,designSettings:r});case"arrow":return Be.createArrowDivider({...e,key:t,dividerColor:o,designSettings:r});case"diamonds":return Be.createDiamondsDivider({...e,key:t,dividerColor:o,designSettings:r});case"quotes":return Be.createQuoteDivider({...e,key:t,dividerColor:o,designSettings:r})}},toFigureDividerBlock(e){switch(e.dividerType){case"quotes":case"arrow":case"diamonds":return!0}return!1},toDividerWithLineBlock(e){switch(e.dividerType){case"line":case"line-with-text":return!0}return!1},toDividerBlock(e){return e&&e.type===S.DIVIDER?e:null},getBlockType(e){return`divider-${e.dividerType}`},getCommonBlockType(e){return"divider"},getCharactersMeta(e){let t=lt(e.meta,"charactersMeta");return(t==null?void 0:t.name)==="charactersMeta"?t.data:null}};function bk(e){if(e.type==="image")return null;let t=lt(e.meta,"charactersMeta");return t&&t.name==="charactersMeta"?t.data:null}var Pn={create({key:e,fileName:t,fileExtension:o,fileSize:r,src:n,isLoading:i,designSettings:a}){return{key:e||L(),type:S.ATTACHMENT,fileName:t||"",fileExtension:o||"pdf",fileSize:r||0,src:n,isLoading:i||!1,designSettings:a}},clone(e){let t=L();return{...e,key:t}},toAttachmentBlock(e){return e&&e.type===S.ATTACHMENT?e:null},getBlockType(e){return"attachment"}};var Mn=class e{static create(t){return{codeTextSelected:t}}static isBlockSelection(t){return!!(t.customSelection&&t.customSelection.codeTextSelected===!1)}static isTextSelection(t){return!!(t.customSelection&&t.customSelection.codeTextSelected)}static isSelection(t){return e.isBlockSelection(t)||e.isTextSelection(t)}};var ll=class e{static create({itemKey:t,captionSelected:o}){return{collageSelectedItemKey:t||"",collageItemCaptionSelected:o||!1}}static isBlockSelection(t){return!!(t.customSelection&&t.customSelection.collageItemCaptionSelected===!1)}static isTextSelection(t){return!!(t.customSelection&&t.customSelection.collageItemCaptionSelected)}static isSelection(t){return e.isBlockSelection(t)||e.isTextSelection(t)}};var In=class{static create(t){return{continueTextSelected:t}}static isBlockSelection(t){return t.customSelection&&t.customSelection.continueTextSelected===!1}static isTextSelection(t){return t.customSelection&&!!t.customSelection.continueTextSelected}};var Rn=class e{static create(t){return{dividerTextSelected:t}}static isBlockSelection(t){return!!(t.customSelection&&t.customSelection.dividerTextSelected===!1)}static isTextSelection(t){return!!(t.customSelection&&t.customSelection.dividerTextSelected)}static isSelection(t){return e.isBlockSelection(t)||e.isTextSelection(t)}};var lr=class{static createBlockSelection(){return{type:"flipCardBlock"}}static createCardTextSelection(t,o){return{type:"flipCardText",cardKey:t,cardSide:o}}static isBlockSelection(t){return t.customSelection&&t.customSelection.type==="flipCardBlock"}static isCardTextSelection(t){return t.customSelection&&t.customSelection.type==="flipCardText"}};var be={getBlockByIndex(e,t){return gi(e,t)},getFirstBlock(e){return V(dx(e))},getLastBlock(e){return V(fx(e))},getBlockBefore(e,t){return gx(e,t)},getBlockAfter(e,t){return yx(e,t)},forEach(e,t){hx(e,t)},getBlocksArray(e){return e.order.map(t=>e.blocks[t])},hasBlock(e,t){return e.blocks.hasOwnProperty(t)}};function wk(e){let t=Lr();return ue(e,o=>{let r=F.cloneBlock(o);Ac(t,r.key,r)}),t}function Ek(e,t){let o=Object.keys(e).length,r={},n=Math.floor(t/o),i=t%o;for(let[s,c]of Object.entries(e))r[s]=c+n;let a=Object.keys(r);return a.length>0&&(r[a[0]]+=i),r}function Pk({sizesMap:e}){let t=0,o=Object.keys(e).length+1,r={...e};return Object.keys(r).forEach(n=>{let i=Math.floor(r[n]/o),a=r[n]-i>Mk?i:0;r[n]-=a,t+=a}),{newSizesMap:r,newColumnSize:t}}var mo={PARAGRAPH:S.PARAGRAPH,LIST_ITEM:S.LIST_ITEM,COLLAGE:S.COLLAGE,EMBED:S.EMBED,NOTE:S.NOTE,DIVIDER:S.DIVIDER,VIDEO:S.VIDEO,SNIPPET:S.SNIPPET,CODE:S.CODE};var sf=["layout-column-2","layout-column-3","layout-column-4"],Ik=["layout-column-1",...sf];var HD=Object.values(mo),QD=4;var UD=2,WD=1,cf=24,Mk=1;function qD(e,t=[]){let o={};for(let r in e){let n=t[r]?t[r]:[$.create()],i=e[r];o[i]=Q.createColumnData(n,cf/e.length)}return o}function Rk(e,t,o=[$.create({textAlign:e.horizontalTextAlign})]){let r=L(),{newSizesMap:n,newColumnSize:i}=Pk({sizesMap:Q.getColumnsSizesMap(e)});return Q.transformColumnsSizes(e,n),e.colsMap[r]=Q.createColumnData(o,i),t(r,e.colsOrder),r}var Q={create(e={}){let t=e.colsOrder||Array.from(new Array(e.columnCount),L),o=e.colsMap||qD(t,e.fillBlocks),r={type:S.LAYOUT,layoutType:e.layoutType||"column",key:e.key||L(),alignment:"inner",horizontalTextAlign:"left",verticalBlockAlign:e.verticalBlockAlign||"top",colsOrder:t,colsMap:o};return e.designSettings&&(r.designSettings=e.designSettings),r},createFromBlock(e){let t=[L()],o={[t[0]]:Q.createColumnData([F.cloneBlock(e)],cf)};return Q.create({key:e.key,colsMap:o,colsOrder:t})},createBlocksMap(e){let t={order:[],blocks:{}};for(let o of e)t.order.push(o.key),t.blocks[o.key]=o;return t},createColumnData(e,t){return{blockMap:Q.createBlocksMap(e),width:t}},toLayoutBlock(e){return e&&e.type===S.LAYOUT?e:null},getBlock(e,t,o){return e.colsMap[t].blockMap.blocks[o]},getColumn(e,t){return e.colsMap[t]},getMinColumns(e){switch(e.layoutType){case"column":return UD;case"column-background":return WD;default:throw new Error("Unsupported layout type")}},isBackgroundLayoutBlock(e){return e.layoutType==="column-background"},getColumnBlockTypes(e){switch(e.layoutType){case"column":return sf;case"column-background":return Ik;default:throw new Error("Unsupported layout type")}},getColumnType(e){if(e.colsOrder.length===1&&Q.isBackgroundLayoutBlock(e))return"layout-column-1";switch(e.colsOrder.length){case 2:return"layout-column-2";case 3:return"layout-column-3";case 4:return"layout-column-4";default:throw new Error(`Layout unsupported columns ${e.colsOrder.length}`)}},getColumnCount(e){switch(e){case"layout-column-1":return 1;case"layout-column-2":return 2;case"layout-column-3":return 3;case"layout-column-4":return 4;default:Qe(e)}},getBlockType(e){let t=e.layoutType;switch(t){case"column":return"layout-column";case"column-background":return"layout-column-background";default:Qe(t)}},getFirstBlockContext(e){return{blockKey:e.key,colKey:e.colsOrder[0],key:e.colsMap[e.colsOrder[0]].blockMap.order[0]}},addColumnToStart(e,t){return Rk(e,(o,r)=>r.unshift(o),t)},addColumnToEnd(e,t){return Rk(e,(o,r)=>r.push(o),t)},addColumns(e,t){let o=e.colsOrder.length;for(let r=0;r<t-o;r++)Q.addColumnToEnd(e)},getAllBlocks(e){let t=[];for(let o=0;o<e.colsOrder.length;o++)t.push(...ze(e.colsMap[e.colsOrder[o]].blockMap));return t},replaceBlock(e,t,o){Object.keys(e.colsMap).forEach(r=>{let n=e.colsMap[r].blockMap;be.hasBlock(n,t)&&Vc(n,t,o)})},insertBlockInColumn(e,t,o){e.colsMap[t].blockMap.order.push(o.key),e.colsMap[t].blockMap.blocks[o.key]=o},changeAlignment(e,t){e.alignment=t},changeVerticalAlign(e,t){e.verticalBlockAlign=t},changeHorizontalAlign(e,t){e.horizontalTextAlign=t,Object.values(e.colsMap).forEach(o=>{Object.values(o.blockMap.blocks).forEach(r=>{let n=ae(r);n&&(n.textAlign=t)})})},reduceColumnsCount(e,t){let o={order:[],blocks:{}},r=0;for(let n=t;n<e.colsOrder.length;n++){let i=e.colsOrder[n],a=e.colsMap[i];r+=a.width,F.isOneEmptyParagraph(a)||(o.order.push(...a.blockMap.order),o.blocks={...o.blocks,...It(a.blockMap.blocks)}),delete e.colsMap[i]}return e.colsOrder.splice(t),this.transformColumnsSizesAfterDeleting(e,r),o},transformColumnsSizes(e,t){Object.keys(t).forEach(o=>{e.colsMap[o].width=t[o]})},getColumnsSizesMap(e){let t={};return e.colsOrder.forEach(o=>{t[o]=e.colsMap[o].width}),t},getColumnsSizesSum(e){let t=Q.getColumnsSizesMap(e);return Q.getColumnsSizesMapSum(t)},getColumnsSizesMapSum(e){return Object.keys(e).map(t=>e[t]).reduce((t,o)=>t+o)},validateColumnsNewSizes(e,t){let o=Q.getColumnsSizesMap(e),r=Q.getColumnsSizesMapSum(o),n=Q.getColumnsSizesMapSum(t),i=r===n,a=Object.keys(o).every(s=>!!t[s]);return i&&a},transformColumnsSizesAfterDeleting(e,t){let o=Ek(this.getColumnsSizesMap(e),t);this.transformColumnsSizes(e,o)},deleteColumn(e,t){let o=e.colsMap[t].width;delete e.colsMap[t],e.colsOrder=e.colsOrder.filter(r=>r!==t),this.transformColumnsSizesAfterDeleting(e,o)},cloneColumn(e,t){return{blockMap:wk(e.blockMap),width:e.width||t}},isLayoutColumnBlock(e){let t=Y.toCollageBlock(e);return t&&Y.isOneImageCollage(t)?!0:HD.includes(e.type)},canInsertColumn(e){return e.colsOrder.length<QD},getBeforeColumnBlock(e,t){let o=Q.getBeforeColumnKey(e,t);if(!o)return null;let{order:r,blocks:n}=e.colsMap[o].blockMap;return{block:n[r[r.length-1]],colKey:o}},getAfterColumnBlock(e,t){let o=Q.getAfterColumnKey(e,t);if(!o)return null;let{order:r,blocks:n}=e.colsMap[o].blockMap;return{block:n[r[0]],colKey:o}},getBeforeColumnKey(e,t){let o=e.colsOrder.indexOf(t);return o===0?null:e.colsOrder[o-1]},getAfterColumnKey(e,t){let o=e.colsOrder.indexOf(t);return o===e.colsOrder.length-1?null:e.colsOrder[o+1]},getColumnBlocks(e,t){let o=e.colsMap[t].blockMap,r=[];return o.order.forEach(n=>{r.push(o.blocks[n])}),r},clone(e){let t=Lr(),o=cf/e.colsOrder.length;return e.colsOrder.forEach(r=>{let n=L();Ac(t,n,Q.cloneColumn(e.colsMap[r],o))}),{...e,key:L(),colsOrder:t.order,colsMap:t.blocks}}};var pl=class{static create({listItemBlockSelected:t}){return{listItemBlockSelected:t||!1}}static isBlockSelected(t){return t.customSelection&&t.customSelection.listItemBlockSelected}};var Ri={create(e={}){return{...nt.create(e),type:S.EMBED,width:e.width||0,height:e.height||0,src:e.src||""}},clone(e){let t=L();return{...It(e),key:t}},toEmbedBlock(e){return e&&e.type===S.EMBED?e:null},getBlockType(){return"embed"}};var zr={create({type:e="none"}){return{type:e}},hasFrameProperty(e){return!!Io.toImageBlock(e)},setFrame(e,t){e.type=t},toBlockWithFrame(e){return e&&zr.hasFrameProperty(e)?e:null},getFrameType(e){return e.type}};var uo={create({url:e,enabled:t=!1}){return{enabled:t,value:e||""}},toggle(e){e.enabled=!e.enabled},setState(e,t){e.enabled=t},hasLinkProperty(e){return!!Io.toImageBlock(e)},toBlockWithLink(e){return e&&uo.hasLinkProperty(e)?e:null},setUrl(e,t){e.value=t},getUrl(e){return e.value},isEnabled(e){return e.enabled}};var Hr={create({radius:e="none"}){return{radius:e}},setRadius(e,t){e.radius=t},getRadius(e){return e.radius},hasRoundingProperty(e){return!!Io.toImageBlock(e)},toBlockWithRounding(e){return e&&Hr.hasRoundingProperty(e)?e:null}};var fo={create({enabled:e=!1}){return{enabled:e}},toggle(e){e.enabled=!e.enabled},setState(e,t){e.enabled=t},hasZoomProperty(e){return!!Io.toImageBlock(e)},toBlockWithZoom(e){return e&&fo.hasZoomProperty(e)?e:null},isEnabled(e){return e.enabled}};var GD=200,Io={create(e={}){let{enabledZoom:t}=e,o=e.width!==void 0&&e.height!==void 0&&Math.min(e.width,e.height),r=!!o&&o<GD,n={enabled:t===void 0?!r:t},i={enabled:!!e.enabledLink,url:e.linkUrl},a={type:e.frame||"none"},s={radius:e.rounding||"none"},c={...nt.create(e),type:S.IMAGE,src:e.src||"",isBlob:e.isBlob||!1,zoom:fo.create(n),link:uo.create(i),frame:zr.create(a),rounding:Hr.create(s)};return e.crop&&(c.crop=e.crop),e.clip&&(c.clip=e.clip),e.editedSrc&&(c.editedSrc=e.editedSrc),c},toImageBlock(e){return e&&e.type===S.IMAGE?e:null}};var jD="video",Xt={create(e){return{...nt.create(e),type:S.VIDEO,src:e.src,isLoading:e.isLoading||!1,posterSrc:e.posterSrc,designSettings:e.designSettings}},changeAlignment(e,t){e.alignment=t},changePoster(e,t){e.posterSrc=t||void 0},clone(e){let t=L();return{...e,key:t}},toVideoBlock(e){return e&&e.type===S.VIDEO?e:null},getBlockType(e){return jD}};var je={create({text:e,enabled:t=!1}){let o=e||[];return typeof o=="string"&&(o=$.createCharacters(o,le.create())),{enabled:t,value:o}},toggle(e){e.enabled=!e.enabled},setState(e,t){e.enabled=t},hasCaptionProperty(e){return!!Xt.toVideoBlock(e)||!!Io.toImageBlock(e)||!!Ri.toEmbedBlock(e)},toBlockWithCaption(e){return e&&je.hasCaptionProperty(e)?e:null},setText(e,t){e.value=t},getText(e){return e.value||[]},isEnabled(e){return e.enabled}};var Qr={create(e={}){let t={type:"",key:e.key||L(),alignment:e.alignment||"inner"};return e.designSettings&&(t.designSettings=e.designSettings),t},toAbstractMediaBlock(e){let t=e;return!e||t.type!==S.EMBED&&t.type!==S.IMAGE&&t.type!==S.COLLAGE&&t.type!==S.TABLE?null:t},getBlockType(e){return e.type===S.COLLAGE?`collage-${e.alignment}`:`media-${e.alignment}`}};var nt={create(e={}){return{...Qr.create(e),caption:je.create({text:e.characters,enabled:e.enabledCaption||!1}),width:e.width||0,height:e.height||0}},toMediaBlock(e){return!e||![S.IMAGE,S.EMBED,S.VIDEO].includes(e.type)?null:e},getBlockType(e){return`media-${e.alignment}`},supportFullAlign(e){return e.type===S.EMBED||e.width>=960||!e.width}};var YD="info";function Dk(e,t=!1){switch(e){case"incorrect":case"minus":return tk;case"correct":case"plus":return nk;case"info":return t?"var(--roll-player-accent-color)":ii("--roll-player-accent-color");case"question":return ik;case"warning":return ok;case"bulb":return rk;case"withoutIcon":return t?"var(--color-icon-disabled)":ii("--color-icon-disabled");default:throw z(e,`Unknown note type: ${e}`),new Error(`Unknown note type: ${e}`)}}var ZD=1;function XD(e,t){return{color:Dk(e,t),opacity:ZD}}function JD(e,t){switch(e){case"bulb":return ol;case"withoutIcon":return Ka;default:return Dk(e,t)}}var eA=.1;function tA(e,t){return{color:JD(e,t),opacity:eA}}var Na={defaultType:YD,getIconColorData:XD,getBackgroundColorData:tA};var $t={create(e={}){let t=e.characters||[];typeof t=="string"&&(t=$.createCharacters(t,le.create()));let o=e.noteType||Na.defaultType;return{type:S.NOTE,key:e.key||L(),noteType:o,characters:t,customIconColor:e.customIconColor||null,customBackgroundColor:e.customBackgroundColor||null,designSettings:e.designSettings}},clone(e){let t=L();return{...It(e),key:t}},toNoteBlock(e){return e&&e.type===S.NOTE?e:null},getBlockType(e){return"note"},setNoteType(e,t){e.noteType=t,e.customIconColor=null,e.customBackgroundColor=null},setNoteBackgroundColor(e,t){e.customBackgroundColor=t},setNoteIconColor(e,t){e.customIconColor=t}};var ml=class e{static create(t={}){return{noteTextSelected:t.noteTextSelected||!1}}static isBlockSelection(t){return!!(t.customSelection&&t.customSelection.noteTextSelected===!1)}static isTextSelection(t){return!!(t.customSelection&&t.customSelection.noteTextSelected)}static isSelection(t){return e.isBlockSelection(t)||e.isTextSelection(t)}};var ul=class{static create({blockSelected:t}){return{blockSelected:t||!1}}static isBlockSelected(t){return t.customSelection&&t.customSelection.blockSelected}};function Ak(e={}){let{title:t=F.create(),attachment:o=null,description:r=F.create(),visible:n=!0}=e;return{title:t,attachment:o,description:r,visible:n}}function Je(e){let t=[];for(let o of e)t.push({text:o,meta:le.create()});return t}function dl(){return{type:"correctIncorrect",correct:F.create([$.create({characters:Je(B("Quiz.Editor.Question.Feedback.CorrectText"))})]),incorrect:F.create([$.create({characters:Je(B("Quiz.Editor.Question.Feedback.IncorrectText"))})]),answered:F.create([$.create({characters:Je(B("Quiz.Editor.Question.Feedback.Answered"))})])}}function oA(e,t,o){return{id:o,text:F.create([$.create({characters:Je(e)})]),correct:t}}function Ur(e,t){return oA(e,t,ct())}function rA(e,t){return{id:e,text:F.create([$.create({characters:Je(t)})])}}function Vk(e){return rA(ct(),e)}function fl(e,t){return{id:ct(),left:Vk(e),right:Vk(t)}}function nA(e,t){return{id:t,text:F.create([$.create({characters:Je(e)})])}}function gl(e){return nA(e,ct())}function Lk(e={}){let{id:t=ct(),text:o=""}=e;return{id:t,text:o}}function Ok(e={}){let{caseSensitive:t=!1,answers:o=[]}=e;return{caseSensitive:t,answers:Ve(o,r=>r.id)}}function iA(){return Ve([Ur(B("Quiz.Editor.Choices.DefaultAnswer",{index:1}),!0),Ur(B("Quiz.Editor.Choices.DefaultAnswer",{index:2}),!1),Ur(B("Quiz.Editor.Choices.DefaultAnswer",{index:3}),!1)],e=>e.id)}function aA(){return Ve([gl(B("Quiz.Editor.SequenceElements.DefaultAnswer",{index:1})),gl(B("Quiz.Editor.SequenceElements.DefaultAnswer",{index:2})),gl(B("Quiz.Editor.SequenceElements.DefaultAnswer",{index:3}))],e=>e.id)}function sA(){return Ok({caseSensitive:!1,answers:[Lk({text:`${B("Quiz.Editor.TypeIn.Answer")} 1`})]})}function lf(e){return[B("Quiz.Editor.Matching.DefaultElement",{index:e}),B("Quiz.Editor.Matching.DefaultMatch",{index:e})]}function cA(){return{matches:Ve([fl(...lf(1)),fl(...lf(2)),fl(...lf(3))],e=>e.id),distractors:Ve([],e=>e.id)}}function lA(e){switch(e){case"mc":case"mr":return{type:e,content:iA()};case"sq":return{type:e,content:aA()};case"ti":return{type:e,content:sA()};case"mt":return{type:e,content:cA()};default:z(e)}throw new Error("invalid question type "+e)}function Fk({type:e,description:t,feedback:o}){return{id:ct(),description:t,attachment:null,feedback:o,...lA(e)}}function pf({titleText:e,messageText:t,visibility:o="titleAndMessage"}){let r=F.create([$.create({characters:Je(e)})]),n=F.create([$.create({characters:Je(t)})]);return{title:r,message:n,visibility:o}}function mf(e={}){let{displayType:t="showResults",visible:o=!0,passed:r=pf({titleText:B("Quiz.Editor.Results.Passed.Title"),messageText:B("Quiz.Editor.Results.Passed.Message")}),failed:n=pf({titleText:B("Quiz.Editor.Results.Failed.Title"),messageText:B("Quiz.Editor.Results.Failed.Message")}),completed:i=pf({titleText:B("Quiz.Editor.Results.Completed.Title"),messageText:B("Quiz.Editor.Results.Completed.Message")})}=e;return{displayType:t,visible:o,passed:r,failed:n,completed:i}}var hl=-1;function uf(e){return{attempts:hl,passingScore:80,timeLimit:20*6e4,timeLimitEnabled:!1,shuffleAnswersEnabled:e,shuffleQuestionsEnabled:!1,showCorrectAnswersEnabled:e,showFeedbackEnabled:!0,isGraded:e}}function xl(e,t){return t===hl||e<t}function Kk(e={}){let{visible:t=!0}=e,o=B("Roll.Editor.QuizBlock.DefaultTitle");return Ak({title:F.create([$.create({characters:Je(o)})]),visible:t})}function pA(){let e=Lr(),t=Fk({type:"mc",description:F.create(),feedback:dl()});return Ma(e,t),e}var mt={create(e={}){var l;let{key:t=L(),longreadQuizId:o=null,questions:r=pA(),settings:n={},designSettings:i,alignment:a="inner",isLoading:s=!1}=e,c={key:t,longreadQuizId:o||null,type:S.QUIZ,state:{intro:n.isGraded?Kk():null,questions:r,results:n.isGraded?mf():null},isLoading:s,settings:{main:{...uf((l=n==null?void 0:n.isGraded)!=null?l:!1),...n}},alignment:a};return i&&(c.designSettings=i),c},clone(e){let t=L();return{...It(e),key:t}},setQuizId(e,t){e.longreadQuizId=t},changeIsGraded(e,t){let o=e.settings.main.isGraded;o&&!t?(e.state.intro=null,e.state.results=null):!o&&t&&(e.state.intro=Kk({visible:!1}),e.state.results=mf({visible:!1})),e.settings.main=uf(t)},toQuizBlock(e){return e&&e.type===S.QUIZ?e:null},getBlockType(e){return"quiz"},getConvertableType(e){return e.settings.main.isGraded?"graded-quiz":"survey"},addQuestions(e,t){t.forEach(o=>{Ma(e.state.questions,o)})}};var cae=le.create();function mA(e,t){let o={};for(let r of e){o[r]={colsMap:{}};let i=o[r].colsMap;for(let a of t)i[a]=xe.createCell()}return o}function $k(e,t,o){let r=L();e.rowsOrder.splice(t,0,r);let n={};for(let i of e.colsOrder){let a=o&&o(i),s=ae(a==null?void 0:a.content);n[i]=xe.createCell({horizontalTextAlign:s==null?void 0:s.textAlign,verticalTextAlign:a==null?void 0:a.verticalTextAlign,meta:a==null?void 0:a.meta})}return e.rowsMap[r]={colsMap:n},r}function uA(e,t,o){if(t.length!==e.rowsOrder.length)throw new Error("new rows count must be equal to original table rows count");let r={};for(let n=0;n<e.rowsOrder.length;n++){let i=t[n],a=e.rowsOrder[n];r[i]={colsMap:zk(e,a,o)}}return r}function zk(e,t,o){if(o.length!==e.colsOrder.length)throw new Error("new cols count must be equal to original table cols count");let r={};for(let n=0;n<e.colsOrder.length;n++){let i=o[n],a=e.colsOrder[n],s=e.rowsMap[t].colsMap[a];r[i]=xe.cloneCell(s)}return r}function Nk(e,t,o){let r=L();e.colsOrder.splice(t,0,r);for(let n of e.rowsOrder){let i=o&&o(n),a=ae(i==null?void 0:i.content),s=e.rowsMap[n];s.colsMap[r]=xe.createCell({horizontalTextAlign:a==null?void 0:a.textAlign,verticalTextAlign:i==null?void 0:i.verticalTextAlign,meta:i==null?void 0:i.meta})}return r}function df(e,t){return e.colsOrder[0]===t}function dA(e,t,o){for(let r of t){let{colsMap:n}=e[r];for(let i of o)if(!n[i])throw new Error(`rowsMap is invalid: ${JSON.stringify(e)}`)}return e}var xe={create(e={}){let t=e.rowsOrder||[L(),L(),L()],o=e.colsOrder||[L(),L(),L()];if(!o.length||!t.length)throw new Error("try to create table with 0 length of rowsCount or colsCount");return{type:S.TABLE,key:e.key||L(),alignment:e.alignment||"inner",rowsOrder:t,colsOrder:o,rowsMap:e.rowsMap?dA(e.rowsMap,t,o):mA(t,o),meta:e.meta||[],designSettings:e.designSettings}},addColumnBefore(e,t){df(e,t)&&xe.removeTableMeta(e,"isHeaderColumnPinned");let o=e.colsOrder.indexOf(t);return Nk(e,o,r=>this.getCell(e,r,t))},addColumnAfter(e,t){let o=e.colsOrder.indexOf(t)+1;return Nk(e,o,r=>this.getCell(e,r,t))},addLastColumn(e){let t=e.colsOrder[e.colsOrder.length-1];return this.addColumnAfter(e,t)},addRowBefore(e,t){let o=e.rowsOrder.indexOf(t);return $k(e,o,r=>this.getCell(e,t,r))},addRowAfter(e,t){let o=e.rowsOrder.indexOf(t)+1;return $k(e,o,r=>this.getCell(e,t,r))},addLastRow(e){let t=e.rowsOrder[e.rowsOrder.length-1];return this.addRowAfter(e,t)},duplicateRow(e,t){let o=e.rowsOrder.indexOf(t)+1,r=L();return e.rowsMap[r]={colsMap:zk(e,t,e.colsOrder)},e.rowsOrder.splice(o,0,r),r},moveColumnLeft(e,t){e.colsOrder.length>=2&&e.colsOrder[1]===t&&xe.removeTableMeta(e,"isHeaderColumnPinned");let o=e.colsOrder.indexOf(t);if(o<=0)return;let r=o-1,n=e.colsOrder;[n[o],n[r]]=[n[r],n[o]]},moveColumnRight(e,t){df(e,t)&&xe.removeTableMeta(e,"isHeaderColumnPinned");let o=e.colsOrder.indexOf(t);if(o>=e.colsOrder.length-1)return;let r=o+1,n=e.colsOrder;[n[o],n[r]]=[n[r],n[o]]},removeColumn(e,t){df(e,t)&&xe.removeTableMeta(e,"isHeaderColumnPinned"),e.colsOrder=e.colsOrder.filter(o=>o!==t),e.rowsOrder.forEach(o=>{delete e.rowsMap[o].colsMap[t]})},moveRowUp(e,t){let o=e.rowsOrder.indexOf(t);if(o<=0)return;let r=o-1,n=e.rowsOrder;[n[o],n[r]]=[n[r],n[o]]},moveRowDown(e,t){let o=e.rowsOrder.indexOf(t);if(o>=e.rowsOrder.length-1)return;let r=o+1,n=e.rowsOrder;[n[o],n[r]]=[n[r],n[o]]},duplicateColumn(e,t){let o=e.colsOrder.indexOf(t)+1,r=L();for(let n of e.rowsOrder){let i=e.rowsMap[n],a=i.colsMap[t];i.colsMap[r]=xe.cloneCell(a)}return e.colsOrder.splice(o,0,r),r},removeRow(e,t){e.rowsOrder=e.rowsOrder.filter(o=>o!==t),delete e.rowsMap[t]},createCell(e={}){return{key:e.key||L(),content:e.paragraph||$.create({textAlign:e.horizontalTextAlign}),verticalTextAlign:e.verticalTextAlign||"top",meta:e.meta||[]}},toTableBlock(e){return e&&e.type===S.TABLE?e:null},getBlockType(e){return"table"},getCell(e,t,o){var r;return(r=e.rowsMap[t])==null?void 0:r.colsMap[o]},cloneTable(e){let t=L(),o=[];for(let i=0;i<e.rowsOrder.length;i++)o.push(L());let r=[];for(let i=0;i<e.colsOrder.length;i++)r.push(L());let n=uA(e,o,r);return{type:S.TABLE,key:t,alignment:e.alignment,rowsOrder:o,colsOrder:r,rowsMap:n,meta:e.meta,designSettings:e.designSettings&&Kt(e.designSettings)}},cloneCell(e){return{key:L(),content:{...e.content,key:L()},verticalTextAlign:e.verticalTextAlign,meta:e.meta}},addCellMeta(e,t){e.meta=Co(e.meta,t)},addTableMeta(e,t){e.meta=Co(e.meta,t)},removeTableMeta(e,t){e.meta=cl(e.meta,[t])},setCellVerticalAlign(e,t){e.verticalTextAlign=t},setCellHorizontalAlign(e,t){let o=ae(e.content);o&&(o.textAlign=t)}};var Jt=class e{static createCellSelection(t){return{type:"cell",cellKey:t.cellKey,rowKey:t.rowKey,colKey:t.colKey}}static createRowSelection(t){return{type:"row",rowKey:t.rowKey}}static createColumnSelection(t){return{type:"column",colKey:t.columnKey}}static createTableSelection(){return{type:"table"}}static isCellSelected(t){return t.customSelection&&t.customSelection.type==="cell"}static isColumnSelected(t){return t.customSelection&&t.customSelection.type==="column"}static isRowSelected(t){return t.customSelection&&t.customSelection.type==="row"}static isTableSelected(t){return t.customSelection&&t.customSelection.type==="table"}static isPartOfTableSelected(t){return e.isRowSelected(t)||e.isColumnSelected(t)||e.isCellSelected(t)}};var Sl=class e{static create(t){return{captionSelected:t}}static isBlockSelection(t){return!!(t.customSelection&&t.customSelection.captionSelected===!1)}static isTextSelection(t){return!!(t.customSelection&&t.customSelection.captionSelected)}static isSelection(t){return e.isBlockSelection(t)||e.isTextSelection(t)}};var R={isTextSelection(e){return(e==null?void 0:e.type)==="text"},isBlockSelection(e){return e.type==="block"},isCollapsed(e){return R.isTextSelection(e)?e.startKey===e.endKey&&e.startOffset===e.endOffset:e.startKey===e.endKey},isOneBlocKOrTextSelected(e){return e.startKey===e.endKey},isOneBlockSelected(e){return R.isBlockSelection(e)&&R.isOneBlocKOrTextSelected(e)},isOneTextBlockSelected(e){return R.isTextSelection(e)&&R.isOneBlocKOrTextSelected(e)},isEqual(e,t){return e===t?!0:!e||!t?!1:JSON.stringify(e)===JSON.stringify(t)},isContextBlockSelected(e){var t;return!R.hasContext(e)||!R.isCollapsed(e)?!1:e.startKey===((t=e.context)==null?void 0:t.blockKey)},hasContext(e){return!!e&&!!e.context},hasContextKey(e){return R.hasContext(e)&&!!(e!=null&&e.context)},createContext(e,t){return{blockKey:e,colKey:t}},getBlockFromContext(e,t){let o=Q.toLayoutBlock(e);if(o&&t&&t.context&&t.context.colKey){let{colKey:r}=t.context;return Q.getBlock(o,r,t.startKey)}return null},getContextContentState(e,t){if(!t||!t.context)return null;let{blockKey:o,colKey:r}=t.context,n=e.blockMap.blocks[o],i=Q.toLayoutBlock(n);return i&&t.context&&r?Q.getColumn(i,r):null},getSelectionContextFromEditorState(e){let t=e.selection();return t&&t.context||void 0},fromBlockToText(e,t){return!!(e!=null&&e.customSelection)&&(t==null?void 0:t.customSelection)===null||(e==null?void 0:e.type)==="block"&&(t==null?void 0:t.type)==="text"},fromTextToBlock(e,t){return!(e!=null&&e.customSelection)&&!!(t!=null&&t.customSelection)||(e==null?void 0:e.type)==="text"&&(t==null?void 0:t.type)==="block"},fromBlockToBlock(e,t){return(e==null?void 0:e.startKey)!==(t==null?void 0:t.startKey)&&!!(e!=null&&e.customSelection)&&!!(t!=null&&t.customSelection)},isChangeContext(e,t){var o,r;return((o=e==null?void 0:e.context)==null?void 0:o.blockKey)!==((r=t==null?void 0:t.context)==null?void 0:r.blockKey)},createTextSelection(e={}){return{type:"text",startKey:e.startKey||"",startOffset:e.startOffset||0,endKey:e.endKey||"",endOffset:e.endOffset||0,isBackward:e.isBackward||!1,customSelection:e.customSelection||null,context:e.context||void 0}},createCollapsed({key:e,offset:t,customSelection:o,context:r}){return R.createTextSelection({startKey:e,startOffset:t,endKey:e,endOffset:t,customSelection:o,context:r})},createBlockSelection(e){return{type:"block",startKey:e.startKey||"",endKey:e.endKey||"",customSelection:e.customSelection||null,context:e.context||void 0}},createCollapsedTextSelection({key:e,offset:t,customSelection:o}){return R.createTextSelection({startKey:e,startOffset:t,endKey:e,endOffset:t,customSelection:o})},createCollapsedTextSelectionNoContext(e={}){return R.createTextSelection({...e,context:void 0})},createCollapsedBlockSelection({key:e,customSelection:t,context:o}){return R.createBlockSelection({startKey:e,endKey:e,customSelection:t,context:o})},createAttachmentBlockSelection(e,t=void 0){return R.createCollapsedBlockSelection({key:e,context:t})},createQuizBlockSelection(e){return R.createCollapsedBlockSelection({key:e})},createParagraphBlockSelection(e,t=void 0){return R.createCollapsedBlockSelection({key:e,customSelection:ul.create({blockSelected:!0}),context:t})},createMediaBlockSelection(e,t=void 0){return R.createCollapsedBlockSelection({key:e,customSelection:{captionSelected:!1},context:t})},createCollageBlockSelection(e,t=void 0){return R.createCollapsedBlockSelection({key:e,customSelection:ll.create({}),context:t})},createNoteBlockSelection(e,t=void 0){return R.createCollapsedBlockSelection({key:e,customSelection:ml.create(),context:t})},createTableBlockSelection(e){return R.createCollapsedBlockSelection({key:e,customSelection:Jt.createTableSelection()})},createTableRowSelection(e,t){return R.createCollapsedBlockSelection({key:e,customSelection:Jt.createRowSelection({rowKey:t})})},createTableColumnSelection(e,t){return R.createCollapsedBlockSelection({key:e,customSelection:Jt.createColumnSelection({columnKey:t})})},createFlipCardsBlockSelection(e){return R.createCollapsedBlockSelection({key:e,customSelection:lr.createBlockSelection()})},createDividerBlockSelection(e,t=void 0){return R.createCollapsedBlockSelection({key:e,customSelection:Rn.create(!1),context:t})},createContinueBlockSelection(e){return R.createCollapsedBlockSelection({key:e,customSelection:In.create(!1)})},createCodeBlockSelection(e,t=void 0){return R.createCollapsedBlockSelection({key:e,customSelection:Mn.create(!1),context:t})},createVideoBlockSelection(e,t=void 0){return R.createCollapsedBlockSelection({key:e,customSelection:Sl.create(!1),context:t})},createSnippetBlockSelection(e,t){return R.createCollapsedBlockSelection({key:e,context:t})},createListItemBlockSelection(e,t){return R.createCollapsedBlockSelection({key:e,context:t,customSelection:pl.create({listItemBlockSelected:!0})})},createLayoutBlockSelection(e,t=void 0){return R.createBlockSelection({startKey:e,endKey:e,context:t?{blockKey:e,colKey:t}:void 0})},createSelectionFromBlockData(e,t){return xe.toTableBlock(e)?R.createTableBlockSelection(e.key):oe.toFlipCardsBlock(e)?R.createFlipCardsBlockSelection(e.key):Be.toDividerBlock(e)?R.createDividerBlockSelection(e.key,t):we.toContinueBlock(e)?R.createContinueBlockSelection(e.key):Y.toCollageBlock(e)?R.createCollageBlockSelection(e.key,t):nt.toMediaBlock(e)?R.createMediaBlockSelection(e.key,t):Xt.toVideoBlock(e)?R.createVideoBlockSelection(e.key,t):$t.toNoteBlock(e)?R.createNoteBlockSelection(e.key,t):Pn.toAttachmentBlock(e)?R.createAttachmentBlockSelection(e.key):mt.toQuizBlock(e)?R.createQuizBlockSelection(e.key):R.createCollapsed({key:e.key,offset:0,context:t})}};var kl=class e{static _getAllFlipCardsBlocksFromSelection(t,o){return er(F.getAllBlocksFromSelection(t,o).map(r=>oe.toFlipCardsBlock(r)))}static _getFlipCardsBlock(t,o){let r=t.blockMap.blocks[o];return r?oe.toFlipCardsBlock(r):null}static _getFlipCardsActiveSide(t,o){return o(t)||"front"}static getFirstCard(t){return w(ot(t.cardsBlockMap))}static changeSideContentType(t,o,r,n){return e._getAllFlipCardsBlocksFromSelection(t,o).forEach(i=>{ue(i.cardsBlockMap,a=>{oe.changeFlipCardContentType(a,e._getFlipCardsActiveSide(i.key,n),r)})}),{selection:o}}static changeRowMaxCardsCount(t,o,r){return e._getAllFlipCardsBlocksFromSelection(t,o).forEach(n=>{oe.changeRowMaxCardsCount(n,r)}),{selection:o}}static changeBlockLayout(t,o,r){let n=e._getFlipCardsBlock(t,o);return n?(oe.changeLayout(n,r),{selection:R.createFlipCardsBlockSelection(o)}):{selection:R.createTextSelection()}}static addCard(t,o){let r=e._getFlipCardsBlock(t,o);return r?(oe.addFlipCard(r),{selection:R.createFlipCardsBlockSelection(o)}):{selection:R.createTextSelection()}}static changeSideVerticalAlignment(t,o,r,n){return e._getAllFlipCardsBlocksFromSelection(t,o).forEach(i=>{i.cardsBlockMap.order.forEach(a=>oe.changeCardSideVerticalAlignment(i,a,e._getFlipCardsActiveSide(i.key,n),r))}),{selection:o}}static changeCardTextVerticalAlignment(t,o,r){let{startKey:n}=o,{cardKey:i,cardSide:a}=o.customSelection,s=e._getFlipCardsBlock(t,n);return s?(oe.changeCardSideVerticalAlignment(s,i,a,r),{selection:o}):{selection:R.createTextSelection()}}static removeCard(t,o,r){let n=e._getFlipCardsBlock(t,o);return n?(oe.removeFlipCard(n,r),oe.getFlipCardsCount(n)?{selection:R.createFlipCardsBlockSelection(o)}:(yi(t.blockMap,o),{selection:null})):{selection:R.createTextSelection()}}static duplicateCard(t,o,r){let n=e._getFlipCardsBlock(t,o);return n?(oe.duplicateCard(n,r),{selection:R.createFlipCardsBlockSelection(o)}):{selection:R.createTextSelection()}}static moveCard({contentState:t,blockKey:o,cardKey:r,toCardKey:n,insertBefore:i}){let a=e._getFlipCardsBlock(t,o);return a?(oe.moveFlipCard({flipCardsBlock:a,cardKey:r,toCardKey:n,insertBefore:i}),{selection:R.createFlipCardsBlockSelection(o)}):{selection:R.createTextSelection()}}static changeCardImage(t,o,r,n){let i=e._getFlipCardsBlock(t,o);return i?(oe.changeFlipCardBackgroundImage({block:i,cardKey:r.key,sideType:r.sideType,image:n}),{selection:R.createFlipCardsBlockSelection(o)}):{selection:R.createTextSelection()}}static changeCardsSideBackground(t,o,r,n){return e._getAllFlipCardsBlocksFromSelection(t,o).forEach(i=>{ue(i.cardsBlockMap,a=>{oe.changeFlipCardBackgroundColor(i,a.key,e._getFlipCardsActiveSide(i.key,n),r)})}),{selection:o}}static changeCardBackgroundImage(t,o,r,n){let i=e._getFlipCardsBlock(t,o);return i?(oe.changeFlipCardBackgroundImage({block:i,cardKey:r.key,sideType:r.sideType,image:n}),{selection:R.createFlipCardsBlockSelection(o)}):{selection:R.createTextSelection()}}static changeCardsSideBackgroundImage(t,o,r,n){return e._getAllFlipCardsBlocksFromSelection(t,o).forEach(i=>{ue(i.cardsBlockMap,a=>{oe.changeFlipCardBackgroundImage({block:i,cardKey:a.key,sideType:e._getFlipCardsActiveSide(i.key,n),image:r})})}),{selection:o}}static changeCardBackgroundColor(t,o,r,n){let i=e._getFlipCardsBlock(t,o);return i?(oe.changeFlipCardBackgroundColor(i,r.key,r.sideType,n),{selection:R.createFlipCardsBlockSelection(o)}):{selection:R.createTextSelection()}}static changeCardBackgroundImageOverlay(t,o,r,n){let i=e._getFlipCardsBlock(t,o);return i?(oe.changeCardImageOverlay({block:i,cardKey:r.key,sideType:r.sideType,overlay:n}),{selection:R.createFlipCardsBlockSelection(o)}):{selection:R.createTextSelection()}}static changeCardsSideBackgroundImageOverlay(t,o,r,n){return e._getAllFlipCardsBlocksFromSelection(t,o).forEach(i=>{ue(i.cardsBlockMap,a=>{oe.changeCardImageOverlay({block:i,cardKey:a.key,sideType:e._getFlipCardsActiveSide(i.key,n),overlay:r})})}),{selection:o}}static changeCardImageOverlay(t,o,r,n){let i=e._getFlipCardsBlock(t,o);return i?(oe.changeFlipCardBackgroundImageOverlay({block:i,cardKey:r.key,sideType:r.sideType,overlay:n}),{selection:R.createFlipCardsBlockSelection(o)}):{selection:R.createTextSelection()}}static cropCardImage(t,o,{key:r,sideType:n,crop:i,clip:a,editedSrc:s}){let c=e._getFlipCardsBlock(t,o);return c?(oe.cropFlipCardImage({block:c,cardKey:r,sideType:n,crop:i,clip:a,editedSrc:s}),{selection:R.createFlipCardsBlockSelection(o)}):{selection:R.createTextSelection()}}static cropCardBackgroundImage(t,o,{key:r,sideType:n,crop:i,clip:a,editedSrc:s}){let c=e._getFlipCardsBlock(t,o);return c?(oe.cropFlipCardBackgroundImage({block:c,cardKey:r,sideType:n,crop:i,clip:a,editedSrc:s}),{selection:R.createFlipCardsBlockSelection(o)}):{selection:R.createTextSelection()}}};var za={defaultMaxCardsInRow:3,defaultCardsLayout:"outer",defaultActiveSide:"front",maxCardsInRowInnerLayout:3,maxCardsInRowOuterLayout:4,maxCardsInRowFullLayout:5},Ha={text:{frontSide:{getBackgroundColor:En,opacity:1},backSide:{getBackgroundColor:()=>pt.blackDefault,opacity:.1},defaultOverlayColor:{color:Ka,opacity:.3}},imageWithText:{frontSide:{getBackgroundColor:En,opacity:1},backSide:{getBackgroundColor:()=>pt.blackDefault,opacity:.1},defaultOverlayColor:{color:po,opacity:.3}},image:{defaultOverlayColor:{color:Ka,opacity:.3}}},yf={front:le.create({style:Re.create([{name:"fontColor",color:pt.whiteDefault},{name:"fontSize",size:"auto"},{name:"bold"}])}),back:le.create({style:Re.create([{name:"fontColor",color:pt.darkDefault},{name:"fontSize",size:"auto"}])})};function hf(e={}){return{type:"image",image:e.image?nf(e.image):null}}function jk(e){if(!e)return;let t=lt(e,"charactersMeta");if(t&&t.name==="charactersMeta")return t.data}function Yk(e,t){return[{name:"charactersMeta",data:t||yf[e]}]}function Qa(e){let t=e.characterMeta||jk(e.meta),o=J(e.sideType,{front:Xk(t),back:Jk(t)});return{type:"text",background:e.background||Zk(e.sideType),text:$.create({key:e.paragraphKey,textAlign:e.textAlign||"center",characters:e.characters||o}),verticalTextAlign:e.verticalTextAlign||"middle",meta:e.meta||Yk(e.sideType,t)}}function xf(e){let t=J(e.sideType,{front:Ha.imageWithText.frontSide,back:Ha.imageWithText.backSide}),o=e.characterMeta||jk(e.meta),r=J(e.sideType,{front:Xk(o),back:Jk(o)});return{type:"imageWithText",background:e.background||{type:"color",color:t.getBackgroundColor(),opacity:t.opacity},image:e.image?nf(e.image):null,text:$.create({key:e.paragraphKey,textAlign:e.textAlign||"center",characters:e.characters||r}),verticalTextAlign:e.verticalTextAlign||"middle",meta:e.meta||Yk("front",o)}}function Zk(e){let t=J(e,{front:Ha.text.frontSide,back:Ha.text.backSide});return{type:"color",color:t.getBackgroundColor(),opacity:t.opacity}}function Xk(e){let t=e||yf.front;return $.createCharacters(B("Roll.Editor.FlipCardsBlock.DefaultText.FrontTextSide"),t)}function Jk(e){let t=e||yf.back;return $.createCharacters(B("Roll.Editor.FlipCardsBlock.DefaultText.BackTextSide"),t)}function ff(e){let{contentType:t}=e;switch(t){case"image":return hf(e);case"text":return Qa(e);case"imageWithText":return xf(e);default:throw Qe(t),new Error(`Unknown card content type: ${t}`)}}function fA(e,t){return e.cardsBlockMap.blocks[t]||null}function Cl(e,t,o){let r=fA(e,t);if(!r)return null;switch(o){case"front":return r.frontSide;case"back":return r.backSide;default:throw Qe(o),Error()}}function Di(e,t,o){switch(t){case"front":e.frontSide=o;break;case"back":e.backSide=o;break}}function gA({cardData:e,sideData:t,sideType:o,contentType:r}){r==="image"&&Di(e,o,hf({image:t.image})),r==="text"&&Di(e,o,Qa({verticalTextAlign:t.verticalTextAlign,characters:t.text.characters,textAlign:t.text.textAlign,background:t.background,meta:t.meta,sideType:o}))}function yA({cardData:e,sideData:t,sideType:o,contentType:r}){r==="imageWithText"&&Di(e,o,xf({image:t.image,sideType:o})),r==="text"&&Di(e,o,Qa({sideType:o}))}function hA({cardData:e,sideData:t,sideType:o,contentType:r}){r==="image"&&Di(e,o,hf()),r==="imageWithText"&&Di(e,o,xf({verticalTextAlign:t.verticalTextAlign,characters:t.text.characters,textAlign:t.text.textAlign,background:t.background&&t.background.type==="color"?t.background:null,meta:t.meta,sideType:o}))}function Hk({block:e,cardKey:t,sideType:o,overlay:r}){let n=Cl(e,t,o);n&&((n.type==="image"||n.type==="imageWithText")&&n.image&&(n.image.overlay=r),n.type==="text"&&n.background.type==="image"&&(n.background.overlay=r))}function Qk({block:e,cardKey:t,sideType:o,image:r}){var i;let n=Cl(e,t,o);n&&((n.type==="image"||n.type==="imageWithText")&&(n.image=r?{...r,overlay:(i=n.image)==null?void 0:i.overlay}:null),n.type==="text"&&(n.background.type==="image"&&!r&&(n.background=Zk(o)),n.background.type==="image"&&r&&(n.background.image=r),n.background.type==="color"&&r&&(n.background={type:"image",image:r,overlay:Ha.text.defaultOverlayColor})))}function Uk({block:e,cardKey:t,sideType:o,crop:r,clip:n,editedSrc:i}){let a=Cl(e,t,o);a&&(a.type!=="text"?a.image&&(a.image.crop=r,a.image.clip=n,a.image.editedSrc=i!=null?i:void 0):a.background.type==="image"&&(a.background.image.crop=r,a.background.image.clip=n,a.background.image.editedSrc=i!=null?i:void 0))}function gf(){return{key:L(),frontSide:Qa({sideType:"front"}),backSide:Qa({sideType:"back"})}}function xA(){return Ve([gf(),gf(),gf()],e=>e.key)}function Wk(e){let t=It(e);switch(e.type){case"image":return t;case"imageWithText":case"text":return{...t,text:{...e.text,key:L()}}}}function eC(e){return{key:L(),frontSide:Wk(e.frontSide),backSide:Wk(e.backSide)}}function SA(e){let t={blocks:{},order:[]};return ue(e.cardsBlockMap,o=>{let r=eC(o);Dd(t,r)}),t}function qk(e){switch(e.contentType){case"image":return ff({contentType:"image"});case"text":return ff({contentType:"text",sideType:e.sideType,meta:e.meta,verticalTextAlign:e.verticalTextAlign,textAlign:e.horizontalTextAlign,background:e.background,characterMeta:e.characterMeta});case"imageWithText":return ff({contentType:"imageWithText",sideType:e.sideType,meta:e.meta,verticalTextAlign:e.verticalTextAlign,textAlign:e.horizontalTextAlign,background:e.background.type==="color"?e.background:void 0,characterMeta:e.characterMeta})}}function Gk(e,t){let{frontSideType:o,backSideType:r}=oe.getFlipCardsSideTypes(e),n=J(t,{front:o,back:r});if(n==="image")return qk({contentType:n});let i=w(oe.getFlipCardsStyles(e,t));return qk({contentType:n,sideType:t,horizontalTextAlign:i.horizontalTextAlign,verticalTextAlign:i.verticalTextAlign,background:i.background,meta:i.meta,characterMeta:le.create({style:i.styles})})}var oe={create(e={}){return{type:S.FLIP_CARDS,key:e.key||L(),cardsBlockMap:e.cardsBlockMap||xA(),maxCardsInRow:e.maxCardsInRow||za.defaultMaxCardsInRow,cardsLayout:e.cardsLayout||za.defaultCardsLayout,designSettings:e.designSettings}},clone(e){return{type:S.FLIP_CARDS,key:L(),cardsLayout:e.cardsLayout,maxCardsInRow:e.maxCardsInRow,cardsBlockMap:SA(e),designSettings:e.designSettings&&Kt(e.designSettings)}},getCardParagraph(e,t,o){let r=oe.getFlipCardSideData(e,t,o);return r.type!=="image"?r.text:null},getCardData(e,t){return e.cardsBlockMap.blocks[t]||null},changeCardSideVerticalAlignment(e,t,o,r){let n=oe.getFlipCardSideData(e,t,o);n.type!=="image"&&(n.verticalTextAlign=r)},addFlipCard(e){let t=Gk(e,"front"),o=Gk(e,"back"),r={key:L(),frontSide:t,backSide:o};Dd(e.cardsBlockMap,r)},duplicateCard(e,t){let o=e.cardsBlockMap.blocks[t],r=eC(o);xx(e.cardsBlockMap,t,r)},removeFlipCard(e,t){yi(e.cardsBlockMap,t);let o=Vr(e.cardsBlockMap);o<e.maxCardsInRow&&oe.changeRowMaxCardsCount(e,o)},moveFlipCard({cardKey:e,insertBefore:t,flipCardsBlock:o,toCardKey:r}){let n=o.cardsBlockMap.order;if(e===r)return;let i=n.indexOf(e);n.splice(i,1);let a=n.indexOf(r),s=t?a:a+1;n.splice(s,0,e)},changeFlipCardImage(e){Qk(e)},changeFlipCardBackgroundImage(e){Qk(e)},cropFlipCardImage(e){Uk(e)},cropFlipCardBackgroundImage(e){Uk(e)},getFlipCardSideData(e,t,o){let r=oe.getCardData(e,t);return J(o,{front:r.frontSide,back:r.backSide})},getFlipCardsSideTypes(e){let t=e.cardsBlockMap.order[0],o=e.cardsBlockMap.blocks[t];return{frontSideType:o.frontSide.type,backSideType:o.backSide.type}},getFlipCardsSideType(e,t){let o=oe.getFlipCardsSideTypes(e);return J(t,{front:o.frontSideType,back:o.backSideType})},getBlockType(e){return"flip-cards"},toFlipCardsBlock(e){return e&&e.type===S.FLIP_CARDS?e:null},changeFlipCardBackgroundColor(e,t,o,{color:r,opacity:n}){let i=Cl(e,t,o);i&&(i.type==="text"||i.type==="imageWithText")&&(i.background={type:"color",color:r,opacity:n})},changeFlipCardBackgroundImageOverlay(e){Hk(e)},changeCardImageOverlay(e){Hk(e)},changeFlipCardContentType(e,t,o){let r=J(t,{front:e.frontSide,back:e.backSide});r.type==="image"&&yA({cardData:e,sideData:r,sideType:t,contentType:o}),r.type==="imageWithText"&&gA({cardData:e,sideData:r,sideType:t,contentType:o}),r.type==="text"&&hA({cardData:e,sideData:r,sideType:t,contentType:o})},changeRowMaxCardsCount(e,t){e.maxCardsInRow=t},changeLayout(e,t){e.cardsLayout=t;let o=J(t,{inner:za.maxCardsInRowInnerLayout,outer:za.maxCardsInRowOuterLayout,"full-width":za.maxCardsInRowFullLayout}),r=Vr(e.cardsBlockMap),n=Math.min(r,o);n<e.maxCardsInRow&&oe.changeRowMaxCardsCount(e,n)},getFlipCardsCount(e){return Vr(e.cardsBlockMap)},addFlipCardSideMeta(e,t){e.type!=="image"&&(e.meta=Co(e.meta,t))},getFlipCardsStyles(e,t){var a;let o=kl.getFirstCard(e),r=J(t,{front:o.frontSide,back:o.backSide});if(r.type==="image")return null;let n,i=r.text.characters;return i.length===0?n=((a=bk(r))==null?void 0:a.style)||[]:n=i[0].meta.style,{styles:n,verticalTextAlign:r.verticalTextAlign,horizontalTextAlign:r.text.textAlign,background:r.background,meta:r.meta}},hasImageCard(e){let t=r=>r.type==="imageWithText"||r.type==="image"||r.type==="text"&&r.background.type==="image",o=!1;return ue(e.cardsBlockMap,r=>{(t(r.frontSide)||t(r.backSide))&&(o=!0)}),o}};function _l(e){let t=Be.toDividerBlock(e);if(t&&Be.toDividerWithLineBlock(t))return t.alignment;let o=xe.toTableBlock(e);if(o)return o.alignment;let r=oe.toFlipCardsBlock(e);if(r)return r.cardsLayout==="full-width"?"full":r.cardsLayout;let n=Y.toCollageBlock(e);if(n)return n.alignment;let i=Xt.toVideoBlock(e);if(i)return i.alignment;let a=nt.toMediaBlock(e);if(a)return a.alignment;let s=Q.toLayoutBlock(e);if(s)return s.alignment;let c=mt.toQuizBlock(e);return c?c.alignment:null}var tC=0,oC={x:50,y:50},rC={color:"#000000",opacity:.3};function kA(e){return!!e&&e.indent!==void 0}function Sf(e){let t=Q.toLayoutBlock(e);return!!(t&&Q.isBackgroundLayoutBlock(t))}function CA(e){return Sf(e)}function nC(e){return kA(e.designSettings)}function Bl(e){var t,o;return(o=(t=e.designSettings)==null?void 0:t.background)==null?void 0:o.mediaResource}function iC(e){let t=Bl(e);return t==null?void 0:t.position}function _A(e){var t,o;return(o=(t=e.designSettings)==null?void 0:t.size)==null?void 0:o.minHeight}function aC(e){if(!CA(e))return"";let t=_A(e);return t?`${t}vh`:""}function _o(e){var o,r;let t=(r=(o=e.designSettings)==null?void 0:o.indent)!=null?r:tC;switch(t){case 0:case 1:case 2:return t;default:O.error(`invalid indentation: ${t}`)}return tC}function vl(e,t){e.designSettings||(e.designSettings={}),e.designSettings.indent=t}var BA=[S.LAYOUT,S.CONTINUE,S.FLIP_CARDS,S.EXERCISE,S.QUIZ];function sC(e){let t=_l(e),o=!t||t==="inner";return!BA.includes(e.type)&&o}function cC(e,t){let o={...e.designSettings};return sC(t)||(o.indent=void 0),o}var kf=le.create({style:Re.create([{name:"fontColor",color:pt.whiteDefault}])});function Cf(e){let t=$.createCharacters(e||B("Roll.Editor.Continue.DefaultText"),kf);return $.create({characters:t,textAlign:"center"})}function lC(){return{color:En(),opacity:1}}var we={create(e={}){let t=e.key||L();return{type:S.CONTINUE,key:t,paragraph:e.paragraph||Cf(),continueColor:e.continueColor||lC(),meta:e.meta||[{name:"charactersMeta",data:kf}],designSettings:e.designSettings}},createFromDivider(e){let t=e.dividerType==="line-with-text"?e.meta.filter(i=>i.name==="charactersMeta"):void 0,o=e.dividerType==="line-with-text"?Ke.getCharactersText(e.paragraph):void 0,r=Cf(o),n=we.create({...e,meta:t,paragraph:r});return e.designSettings&&(n.designSettings=cC(e,n)),n},clone(e){return we.create({...e,key:L(),paragraph:{...e.paragraph,key:L()},designSettings:e.designSettings&&Kt(e.designSettings)})},toContinueBlock(e){return e&&e.type===S.CONTINUE?e:null},getBlockType(e){return"continue"},getCharactersMeta(e){let t=lt(e.meta,"charactersMeta");return(t==null?void 0:t.data)||null},addMeta(e,t){e.meta=Co(e.meta,t)},changeContinueColor(e,t){e.continueColor=t}};function pC(e){var r;let t=e.key||L(),o=e.characters||[];return typeof o=="string"&&(o=$.createCharacters(o,le.create())),{type:S.LIST_ITEM,key:t,characters:o,listViewType:e.viewType,designSettings:e.designSettings,defaultCharactersMeta:(r=e.defaultCharactersMeta)!=null?r:void 0}}var Se={create(e){if(e.listType==="ol")return Se.createOrderedListItemBlock(e);if(e.listType==="ul")return Se.createUnorderedListItemBlock(e);throw new Error(`Unknown listType: ${e.listType}`)},createOrderedListItemBlock(e){var t;return{...pC(e),listType:"ol",counterReset:(t=e.counterReset)!=null?t:null}},createUnorderedListItemBlock(e){return{...pC(e),listType:"ul"}},toListItemBlock(e){return e&&e.type===S.LIST_ITEM?e:null},toOrderedListItemBlock(e){let t=Se.toListItemBlock(e);return t&&t.listType==="ol"?t:null},toUnorderedListItemBlock(e){let t=Se.toListItemBlock(e);return t&&t.listType==="ul"?t:null},toDefaultListItemBlock(e){let t=Se.toListItemBlock(e);return t&&t.listViewType==="default"?e:null},toCustomListItemBlock(e){let t=Se.toListItemBlock(e);return t&&t.listViewType==="custom"?e:null},isEmptyListItem(e){let t=Se.toListItemBlock(e);return!!t&&Ke.isEmpty(t)},clone(e,t={}){return{...It(e),key:L(),...t}},getBlockType(e){return`${e.listViewType}-${e.listType}-item`}};var Wr={create(e={}){let t=e.key||L();return{type:S.SNIPPET,key:t,url:e.url||"",title:e.title||"",imageSrc:e.imageSrc||null,iconSrc:e.iconSrc||null,description:e.description||null,designSettings:e.designSettings}},clone(e){return Wr.create({...e,key:L()})},toSnippetBlock(e){return e&&e.type===S.SNIPPET?e:null},getBlockType(e){return"snippet"},removeAttachments(e){return this.create({...e,imageSrc:null,iconSrc:null})}};var mC={coverPosition:"over",coloredTextEnabled:!0};function uC(e){return!!ae(e)||!!Se.toListItemBlock(e)||!!$t.toNoteBlock(e)||!!Tt.toCodeBlock(e)||!!Be.toDividerBlock(e)||!!we.toContinueBlock(e)||!!Q.toLayoutBlock(e)||!!mt.toQuizBlock(e)}var vA=/^\s*https?:\/\/\S+\s*$/;function dC(e){return vA.test(e)}function Tl(e,t,o,r){return Vc(e.blockMap,t,o),{selection:R.createSelectionFromBlockData(o,r)}}var fC={create(e){return{...$.create({key:e.key,characters:e.characters,viewType:e.viewType,textAlign:e.textAlign}),codeBlockKey:e.codeBlockKey}},toCodeParagraph(e){return e&&e.type===S.PARAGRAPH&&e.codeBlockKey?e:null}};function _f(e,t,o){let{insertionKey:r,insertBefore:n}=o,i=e.blockMap,a=i.order.findIndex(c=>c===r);n||(a+=1);let s=t.map(c=>c.key);return i.order.splice(a,0,...s),t.forEach(c=>{i.blocks[c.key]=c}),{selection:R.createCollapsed({key:sc(t,-1).key,offset:0})}}function gC(e,t,o){return _f(e,[t],o)}function yC(e,t){nC(e)&&t!=="inner"&&vl(e,0)}var Ua=class e{static _getLayoutBlock(t,o){let r=t.blockMap.blocks[o];return r?Q.toLayoutBlock(r):null}static changeAlignment(t,o,r){let n=e._getLayoutBlock(t,o);return n?(Q.changeAlignment(n,r),{selection:R.createLayoutBlockSelection(o)}):{selection:R.createTextSelection()}}static changeVerticalAlign(t,o,r){let n=e._getLayoutBlock(t,o);return n?(Q.changeVerticalAlign(n,r),{selection:R.createLayoutBlockSelection(o)}):{selection:R.createTextSelection()}}static changeHorizontalAlign(t,o,r){let n=e._getLayoutBlock(t,o);return n?(Q.changeHorizontalAlign(n,r),{selection:R.createLayoutBlockSelection(o)}):{selection:R.createTextSelection()}}static changeColumnCount(t,o,r){let n=e._getLayoutBlock(t,o);if(!n)return{selection:R.createTextSelection()};if(r>n.colsOrder.length)Q.addColumns(n,r);else if(r<n.colsOrder.length){let i=Q.reduceColumnsCount(n,r);F.insertBlocksAfter(t,n,i)}return{selection:R.createLayoutBlockSelection(o)}}static changeColumnsSizes(t,o,r){let n=e._getLayoutBlock(t,o);return n?(Q.validateColumnsNewSizes(n,r)&&Q.transformColumnsSizes(n,r),{selection:R.createLayoutBlockSelection(o)}):{selection:R.createTextSelection()}}static insertBlocksInNewColumn(t,o,{targetBlockKey:r,position:n,blocks:i}){let a=t.blockMap.blocks[r],s=Q.toLayoutBlock(a);if(!s&&!Q.isLayoutColumnBlock(a))return O.warn("Can not convert block to layout"),{selection:o};let c=s||Q.createFromBlock(a);return n==="start"?Q.addColumnToStart(c,i):Q.addColumnToEnd(c,i),t.blockMap.blocks[r]=c,{selection:R.createLayoutBlockSelection(c.key)}}static deleteColumn(t,o,r){let n=e._getLayoutBlock(t,o);if(!n)return{selection:R.createTextSelection()};if(Q.deleteColumn(n,r),n.colsOrder.length<Q.getMinColumns(n)){let i=n.colsOrder.length?Q.getColumnBlocks(n,n.colsOrder[0]):[$.create()];return _f(t,i,{insertionKey:o,insertBefore:!1}),F.deleteBlocks(t,[o]),{selection:R.createCollapsedBlockSelection({key:i[0].key})}}return{selection:R.createLayoutBlockSelection(o)}}};function hC({contentState:e,targetBlockKey:t,insertBefore:o,blocks:r}){let n=bA({contentState:e,targetBlockKey:t,insertBefore:o}),i=e.blockMap.blocks[n];TA(i,r)}function TA(e,t){if(!Se.toListItemBlock(e))return;let r=_o(e);t.forEach(n=>{vl(n,r)})}function bA({contentState:e,targetBlockKey:t,insertBefore:o}){let r=e.blockMap.order,n=r.findIndex(a=>a===t);return o&&n>0?r[n-1]:t}var bl=class e{static _getContextCollageBlock(t,o){let r=F.getBlockContextContentState(t,o.context),n=Y.toCollageBlock(r.blockMap.blocks[o.collageKey]),i=o.context?{blockKey:o.context.contextKey,colKey:o.context.richtextKey}:void 0;return{block:n,context:i}}static _createNewCollageBlock(t,o){let r=Y.create({images:[o],designSettings:t.designSettings});return r.alignment=Y.supportAlignment(r,t.alignment)?t.alignment:vk,r}static _deleteMovedImage(t,o,r){let n=F.getBlockContextContentState(t,r.context);Y.isOneImageCollage(o)?(yi(n.blockMap,o.key),r.context&&r.context.richtextKey&&n.blockMap.order.length===0&&Ua.deleteColumn(t,r.context.contextKey,r.context.richtextKey)):e.deleteImage(n,o.key,r.imageKey)}static _getImageInsertPosition(t,o,r){let n=t.images.findIndex(i=>i.key===o);return r||(n+=1),n}static _inheritImageProperties(t,o){let r=je.isEnabled(t.caption),n=fo.isEnabled(t.zoom),i=Hr.getRadius(t.rounding),a=zr.getFrameType(t.frame);je.setState(o.caption,r),fo.setState(o.zoom,n),Hr.setRadius(o.rounding,i),zr.setFrame(o.frame,a),n&&uo.setState(o.link,!1)}static deleteImage(t,o,r){let n=Y.toCollageBlock(t.blockMap.blocks[o]);if(!n||!n.images.map(a=>a.key).includes(r))return O.warn("Block must exist in contentState and must have collaged image with id:"+r),{selection:R.createTextSelection()};if(n.images.length<=1)return Tl(t,o,$.create({key:o}));let i=Y.getCollagedImageIndex(n,r);return i>-1&&(n.images.splice(i,1),Y.isOneImageCollage(n)&&n.images[0].width<=960&&(n.alignment="inner")),{selection:R.createCollageBlockSelection(o)}}static addImage(t,o,r,n){let i=o.startKey,a=Y.toCollageBlock(t.blockMap.blocks[i]);if(!a||!R.isCollapsed(o)||!Y.isCollageBlock(a))return O.warn("Selection must be collapsed and block must be an collage"),{selection:o};let s=a.images[0];e._inheritImageProperties(s,r);let c=n||n===0?n:a.images.length;return a.images.splice(c,0,r),a.images[c].parentCollageKey=i,{selection:R.createCollageBlockSelection(i)}}static replaceImageInCollage({collageKey:t,contentState:o,imageBlock:r,oldImageKey:n,context:i}){let a=Y.toCollageBlock(o.blockMap.blocks[t]);if(!a||!a.images.map(c=>c.key).includes(n))return O.warn("Block must exist in contentState and must have collaged image with id:"+n),{selection:R.createTextSelection()};let s=Y.getCollagedImageIndex(a,n);return s>-1&&(r.caption=a.images[s].caption,r.link=a.images[s].link,r.rounding=a.images[s].rounding,r.frame=a.images[s].frame,a.images[s]=r,a.images[s].parentCollageKey=t),{selection:R.createCollageBlockSelection(t,i)}}static editImage(t,o,{collageKey:r,imageKey:n,crop:i,clip:a,isSingleImage:s,editedSrc:c}){let l=Y.toCollageBlock(t.blockMap.blocks[r]);if(!l)return O.warn(`Block collage ${r} not exist!`),{selection:R.createTextSelection()};let p=Y.getCollagedImageIndex(l,n);return p>-1&&(l.images[p].crop=i,l.images[p].clip=a,l.images[p].editedSrc=c,St(l.images[p]).width<=960&&s&&l.alignment!=="float-left"&&(l.alignment="inner")),{selection:R.createCollageBlockSelection(r,o==null?void 0:o.context)}}static moveImageInCollage(t,o,{imageKey:r,toImageKey:n,beforeImage:i}){let a=Y.toCollageBlock(t.blockMap.blocks[o]);if(!a)return O.warn(`Block collage ${o} not exist!`),{selection:R.createTextSelection()};let s=Y.getCollagedImage(a,r);if(!s)return{selection:R.createCollageBlockSelection(o)};let c=a.images.findIndex(p=>p.key===r);a.images.splice(c,1);let l=e._getImageInsertPosition(a,n,i);return a.images.splice(l,0,s),{selection:R.createCollageBlockSelection(o)}}static moveCollagedImageToCollage(t,o,r){let n=F.getBlockContextContentState(t,o.context),i=Y.toCollageBlock(n.blockMap.blocks[o.collageKey]),a=Y.toCollageBlock(t.blockMap.blocks[r.collageKey]),s=o.context?{blockKey:o.context.contextKey,colKey:o.context.richtextKey}:void 0;if(!i||!a)return{selection:R.createCollageBlockSelection(o.collageKey,s)};let c=V(Y.getCollagedImage(i,o.imageKey)),l=Y.cloneImage(c),p=R.createCollageBlockSelection(r.collageKey),m=e._getImageInsertPosition(a,r.imageKey,r.insertBefore);return e.addImage(t,p,l,m),e._deleteMovedImage(t,i,o),{selection:p}}static moveCollagedImageToRichtext(t,o,r){let{block:n,context:i}=e._getContextCollageBlock(t,o);if(!n)return{selection:R.createCollageBlockSelection(o.collageKey,i)};let a=V(Y.getCollagedImage(n,o.imageKey)),s=Y.cloneImage(a),c=e._createNewCollageBlock(n,s),l=F.getBlockContextContentState(t,r.context);hC({contentState:l,targetBlockKey:r.blockKey,insertBefore:r.insertBefore,blocks:[c]});let p=r.context?{blockKey:r.context.contextKey,colKey:r.context.richtextKey}:void 0,{selection:m}=gC(l,c,{insertionKey:r.blockKey,insertBefore:r.insertBefore});return e._deleteMovedImage(t,n,o),{selection:{...V(m),context:p}}}static moveCollagedImageToNewColumn(t,o,r){let{block:n,context:i}=e._getContextCollageBlock(t,o);if(!n||Y.isOneImageCollage(n)&&r.blockKey===n.key)return{selection:R.createCollageBlockSelection(o.collageKey,i)};let a=V(Y.getCollagedImage(n,o.imageKey)),s=Y.cloneImage(a),c=e._createNewCollageBlock(n,s),{selection:l}=Ua.insertBlocksInNewColumn(t,R.createBlockSelection({}),{targetBlockKey:r.blockKey,position:r.side,blocks:[c]});return e._deleteMovedImage(t,n,o),{selection:l}}static changeAlignment(t,o,r){let n=V(Y.toCollageBlock(t.blockMap.blocks[o]));return yC(n,r),n.alignment=r,{selection:R.createCollageBlockSelection(o)}}};var xC={create(e){return{...$.create({key:e.key,characters:e.characters,viewType:e.viewType,textAlign:e.textAlign}),continueBlockKey:e.continueBlockKey}},toContinueParagraph(e){return e&&e.type===S.PARAGRAPH&&e.continueBlockKey?e:null}};function Ai(e){return{...e,characters:je.getText(e.caption)}}var wl={create(e){return{...$.create({key:e.key,characters:e.characters,viewType:e.viewType,textAlign:e.textAlign}),tableKey:e.tableKey,rowKey:e.rowKey,colKey:e.colKey,cellKey:e.cellKey,meta:e.meta||[]}},toCellParagraph(e){if(e&&e.type===S.PARAGRAPH){let t=e;if(t.tableKey&&t.rowKey&&t.colKey&&t.cellKey&&t.meta)return e}return null}};function wA(e,t){let o=w(t.customSelection),r=Y.getCollagedImage(e,o.collageSelectedItemKey);return r||null}function EA(e,t){let o=t.customSelection,r=xe.getCell(e,o.rowKey,o.colKey),n=ae(r.content);return n?wl.create({...n,tableKey:e.key,colKey:o.colKey,rowKey:o.rowKey,cellKey:r.key}):null}function PA(e,t){let o=t.customSelection,r=oe.getCardParagraph(e,o.cardKey,o.cardSide);return r||null}function Nt(e,t){let o=ae(e);if(o)return o;let r=Se.toListItemBlock(e);if(r)return r;let n=nt.toMediaBlock(e);if(n)return Ai(n);let i=$t.toNoteBlock(e);if(i)return i;let a=Be.toDividerBlock(e);if(a&&a.dividerType==="line-with-text"&&t&&Rn.isTextSelection(t))return a.paragraph;let s=we.toContinueBlock(e);if(s&&t&&In.isTextSelection(t))return s.paragraph;let c=Tt.toCodeBlock(e);if(c&&t&&Mn.isTextSelection(t))return c.paragraph;let l=Y.toCollageBlock(e);if(l&&t&&t.customSelection&&t.customSelection.collageItemCaptionSelected){let d=wA(l,t);if(d)return Ai(d)}let p=xe.toTableBlock(e);if(p&&t&&Jt.isCellSelected(t))return EA(p,t);let m=oe.toFlipCardsBlock(e);return m&&t&&lr.isCardTextSelection(t)?PA(m,t):null}function SC(e){let{contentState:t,selection:o}=e,n=t.blockMap.blocks[o.startKey];return!!ae(n)||Se.toListItemBlock(n)||KA(e)?Nt(n,o):null}function El(e){return IA(e)||RA(e)}function MA(e){let{contentState:t,selection:{startKey:o,customSelection:r}}=e;return!!$t.toNoteBlock(t.blockMap.blocks[o])&&!!r&&r.noteTextSelected}function IA({contentState:e,selection:t}){let{startKey:o,customSelection:r}=t;return!!nt.toMediaBlock(e.blockMap.blocks[o])&&!!r&&r.captionSelected}function RA({contentState:e,selection:t}){let{startKey:o,customSelection:r}=t;return!!Y.toCollageBlock(e.blockMap.blocks[o])&&!!r&&r.collageItemCaptionSelected}function DA({contentState:e,selection:t}){let{startKey:o}=t;return!!oe.toFlipCardsBlock(e.blockMap.blocks[o])&&!!lr.isCardTextSelection(t)}function AA({contentState:e,selection:t}){let{startKey:o}=t;return!!xe.toTableBlock(e.blockMap.blocks[o])&&!!Jt.isCellSelected(t)}function VA({contentState:e,selection:t}){let{startKey:o}=t;return!!Be.toDividerBlock(e.blockMap.blocks[o])&&!!Rn.isTextSelection(t)}function LA({contentState:e,selection:t}){let{startKey:o}=t;return!!we.toContinueBlock(e.blockMap.blocks[o])&&!!In.isTextSelection(t)}function OA({contentState:e,selection:t}){let{startKey:o}=t;return!!Tt.toCodeBlock(e.blockMap.blocks[o])&&!!Mn.isTextSelection(t)}function FA({contentState:e,selection:t}){if(R.isTextSelection(t))return!1;let o=t.startKey;return!!Q.toLayoutBlock(e.blockMap.blocks[o])}function KA(e){return[MA,El,AA,DA,VA,LA,OA,FA].some(t=>t(e))}var kC={create(e){return{...$.create({key:e.key,characters:e.characters,viewType:e.viewType,textAlign:e.textAlign}),dividerBlockKey:e.dividerBlockKey,paragraphStyle:e.paragraphStyle,meta:e.meta}},toDividerParagraph(e){return e&&e.type===S.PARAGRAPH&&e.dividerBlockKey?e:null}};var CC={create(e){return{...$.create({key:e.key,characters:e.characters,viewType:e.viewType,textAlign:e.textAlign}),flipCardsBlockKey:e.flipCardsBlockKey,cardKey:e.cardKey,cardSide:e.cardSide,meta:e.meta||[]}},toFlipCardParagraph(e){if(e&&e.type===S.PARAGRAPH){let t=e;if(t.flipCardsBlockKey&&t.cardKey&&t.cardSide&&t.meta)return e}return null}};var Pl=class e{static create(t){return{captionSelected:t}}static isBlockSelection(t){return!!(t.customSelection&&t.customSelection.captionSelected===!1)}static isTextSelection(t){return!!(t.customSelection&&t.customSelection.captionSelected)}static isSelection(t){return e.isBlockSelection(t)||e.isTextSelection(t)}};var F={createBlocks(e){let t={order:[],blocks:{}};for(let o of e)t.order.push(o.key),t.blocks[o.key]=o;return t},cloneBlock(e){let t=ae(e);if(t)return $.clone(t);let o=Y.toCollageBlock(e);if(o)return Y.clone(o);let r=xe.toTableBlock(e);if(r)return xe.cloneTable(r);let n=oe.toFlipCardsBlock(e);if(n)return oe.clone(n);let i=Be.toDividerBlock(e);if(i)return Be.clone(i);let a=we.toContinueBlock(e);if(a)return we.clone(a);let s=Tt.toCodeBlock(e);if(s)return Tt.clone(s);let c=Xt.toVideoBlock(e);if(c)return Xt.clone(c);let l=Wr.toSnippetBlock(e);if(l)return Wr.clone(l);let p=mt.toQuizBlock(e);if(p)return mt.clone({...p,isLoading:!0});let m=Q.toLayoutBlock(e);return m?Q.clone(m):{...e,designSettings:e.designSettings&&Kt(e.designSettings),key:L()}},replaceBlocksFragment(e,t,o,r=[]){let n=e.order.indexOf(t),i=e.order.indexOf(o);if(n<0||i<0){O.warn("incorrect block keys");return}let a=[...e.order],s=a.splice(n,i-n+1);for(let l of s)delete e.blocks[l];let c=[];for(let l of r)c.push(l.key),e.blocks[l.key]=l;a.splice(n,0,...c),e.order.splice(0,e.order.length,...a)},deleteBlocks(e,t){e.blockMap.order=e.blockMap.order.filter(o=>!t.includes(o)),t.forEach(o=>{delete e.blockMap.blocks[o]})},replaceBlockWithFragment(e,t,o){return F.replaceBlocksFragment(e,t,t,o)},updateBlockWithKey(e,t,o){let r=e.blockMap.blocks[t];r&&Uy(r,o)},updateCollageBlockWithKey(e,t,o){let r=Y.toCollageBlock(e.blockMap.blocks[t]);if(r){let n=Y.getCollagedImage(r,o.key);if(!n)return;for(let i of Object.keys(o))n[i]=o[i]}},removeCollagedImage(e,t,o){bl.deleteImage(e,t,o)},getCollageImageBlock(e,t,o){let r=Y.toCollageBlock(e.blockMap.blocks[t]);return r?Y.getCollagedImage(r,o):null},removeBlocks(e,t){for(let o of t)Tl(e,o,$.create({key:o}))},insertBlocksAfter(e,t,o){let r=e.blockMap.order.indexOf(t.key)+1;e.blockMap.blocks={...e.blockMap.blocks,...o.blocks},e.blockMap.order.splice(r,0,...o.order)},isOneEmptyParagraph(e){let t=e.blockMap;if(e.blockMap.order.length===1){let o=t.blocks[t.order[0]];return $.isEmptyParagraph(o)}return!1},create(e=[$.create()]){return{blockMap:F.createBlocks(e)}},createFromBlockMap(e){return e},getDefaultSelection(e){let t=e.blockMap.order[0],o=e.blockMap.blocks[t],r=null;return nt.toMediaBlock(o)&&(r=Pl.create(!1)),R.createTextSelection({startKey:o.key,startOffset:0,endKey:o.key,endOffset:0,customSelection:r})},getAllBlocksFromSelection(e,t){let{startKey:o,endKey:r}=t,{order:n,blocks:i}=e.blockMap,a=n.indexOf(o),s=n.indexOf(r);return a<0||s<0?(O.warn("incorrect selection"),[]):n.slice(a,s+1).map(c=>i[c])},getAllTableCellsCharactersBlocks(e){let t=[];return e.rowsOrder.forEach(o=>{e.colsOrder.forEach(r=>{let n=xe.getCell(e,o,r),i=n&&ae(n.content);i&&t.push({paragraph:i,location:{tableKey:e.key,colKey:r,rowKey:o,cellKey:n.key},meta:n.meta})})}),t},getAllFlipCardsCharactersBlocks(e,t){let o=[];return e.cardsBlockMap.order.forEach(r=>{let n=oe.getFlipCardSideData(e,r,t);n.type!=="image"&&o.push({paragraph:n.text,location:{flipCardsBlockKey:e.key,cardKey:r,cardSide:t},meta:n.meta})}),o},getTableRowCellsCharactersBlocks(e,t){let o=[];return e.colsOrder.forEach(r=>{let n=xe.getCell(e,t,r),i=n&&ae(n.content);i&&o.push({paragraph:i,location:{tableKey:e.key,colKey:r,rowKey:t,cellKey:n.key},meta:n.meta})}),o},getTableColumnCellsCharactersBlocks(e,t){let o=[];return e.rowsOrder.forEach(r=>{let n=xe.getCell(e,r,t),i=n&&ae(n.content);i&&o.push({paragraph:i,location:{tableKey:e.key,colKey:t,rowKey:r,cellKey:n.key},meta:n.meta})}),o},getSelectedTableCharactersBlocks(e,t){if(Jt.isCellSelected(t)){let o=t.customSelection,r=xe.getCell(e,o.rowKey,o.colKey);return[{paragraph:w(ae(r.content)),location:{tableKey:e.key,colKey:o.colKey,rowKey:o.rowKey,cellKey:r.key},meta:r.meta}]}if(Jt.isRowSelected(t)){let{rowKey:o}=t.customSelection;return F.getTableRowCellsCharactersBlocks(e,o)}if(Jt.isColumnSelected(t)){let{colKey:o}=t.customSelection;return F.getTableColumnCellsCharactersBlocks(e,o)}return F.getAllTableCellsCharactersBlocks(e)},getSelectedFlipCardsParagraphBlocks(e,t,o){if(lr.isCardTextSelection(t)){let n=t.customSelection,i=oe.getFlipCardSideData(e,n.cardKey,n.cardSide);if(i.type!=="image")return[{paragraph:i.text,location:{flipCardsBlockKey:e.key,cardKey:n.cardKey,cardSide:n.cardSide},meta:i.meta}]}let r=o&&o(e.key)||"front";return r?F.getAllFlipCardsCharactersBlocks(e,r):[]},getSelectedLayoutCharactersBlocks(e){return F._getBlocksFromLayoutFilter(e,t=>this.convertLayoutBlockToCharactersBlock(t,!0))},getSelectedLayoutParagraphBlocks(e){return F._getBlocksFromLayoutFilter(e,t=>this.convertLayoutBlockToCharactersBlock(t,!1))},_getBlocksFromLayoutFilter(e,t){return Q.getAllBlocks(e).map(t).reduce((o,r)=>r?[...o,...r]:o,[])},convertLayoutBlockToCharactersBlock(e,t){let o=ae(e);if(o)return[o];let r=Se.toListItemBlock(e);if(r)return[r];let n=nt.toMediaBlock(e);if(n&&t)return[Ai(n)];let i=$t.toNoteBlock(e);if(i)return[i];let a=Be.toDividerBlock(e);if(a&&a.dividerType==="line-with-text")return[a.paragraph];let s=Y.toCollageBlock(e);return s&&t?Y.getCaptionParagraphs(s).map(l=>Ai(l)):null},getContextContentState(e,t){if(t&&t.context){let o=R.getContextContentState(e,t);if(o)return o}return e},getBlockContextContentState(e,t){let o=R.createBlockSelection({context:t?{blockKey:t.contextKey,colKey:t.richtextKey}:void 0});return F.getContextContentState(e,o)},getFirstSelectedParagraph(e,t){let o=F.getParagraphsFromSelection(e,t);return o.length?o[0].paragraph:null},getCharactersBlockFromSelection(e,t,o){let r=F.getAllBlocksFromSelection(e,t).filter(i=>!!Nt(i,t)||!!Y.toCollageBlock(i)||!!xe.toTableBlock(i)||!!oe.toFlipCardsBlock(i)||!!Be.toDividerBlock(i)||!!Q.toLayoutBlock(i)||!!Tt.toCodeBlock(i)||!!we.toContinueBlock(i)),n=[];for(let i=0;i<r.length;i++){let a=Y.toCollageBlock(r[i]);if(a&&El({contentState:e,selection:t})){let k,C=t.customSelection.collageSelectedItemKey,_=Y.getCollagedImage(a,C);_&&(k=Nt(_)),n.push(k||r[i]);continue}if(a&&!El({contentState:e,selection:t})){a.images.forEach(k=>{let C=w(Nt(k));n.push(C)});continue}let s=nt.toMediaBlock(r[i]);if(s){let k=w(Nt(s));n.push(k);continue}let c=$t.toNoteBlock(r[i]);if(c){let k=w(Nt(c));n.push(k);continue}let l=Se.toListItemBlock(r[i]);if(l){let k=w(Nt(l));n.push(k);continue}let p=Be.toDividerBlock(r[i]);if(p){p.dividerType==="line-with-text"&&n.push(kC.create({...p.paragraph,dividerBlockKey:p.key,paragraphStyle:p.paragraphStyle,meta:p.meta}));continue}let m=we.toContinueBlock(r[i]);if(m){n.push(xC.create({...m.paragraph,continueBlockKey:m.key}));continue}let d=Tt.toCodeBlock(r[i]);if(d){n.push(fC.create({...d.paragraph,codeBlockKey:d.key}));continue}let g=xe.toTableBlock(r[i]);if(g){let C=this.getSelectedTableCharactersBlocks(g,t).map(_=>wl.create({..._.paragraph,..._.location,meta:_.meta}));n.push(...C);continue}let y=Q.toLayoutBlock(r[i]);if(y){let k=this.getSelectedLayoutCharactersBlocks(y);k.length&&n.push(...k);continue}let h=oe.toFlipCardsBlock(r[i]);if(h){let C=this.getSelectedFlipCardsParagraphBlocks(h,t,o).map(_=>CC.create({..._.paragraph,..._.location,meta:_.meta}));n.push(...C);continue}n.push(r[i])}return n},getFlatBlocksFromSelection(e,t,o){let r=F.getAllBlocksFromSelection(e,t),n=[],i=r.reduce((a,s)=>{let c=Y.toCollageBlock(s);return c?c.images.forEach(l=>a.push(o(l))):a.push(o(s)),a},n);return er(i)},getParagraphBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!ae(o))},getMediaBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!nt.toMediaBlock(o))},getEmbedBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!Ri.toEmbedBlock(o))},getCollageBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!Y.toCollageBlock(o))},getTableBlockFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!xe.toTableBlock(o))},getAttachmentBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!Pn.toAttachmentBlock(o))},getNoteBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!$t.toNoteBlock(o))},getTableBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!xe.toTableBlock(o))},getFlipCardsBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!oe.toFlipCardsBlock(o))},getDividerBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!Be.toDividerBlock(o))},getContinueBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!we.toContinueBlock(o))},getVideoBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!Xt.toVideoBlock(o))},getSnippetBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!Wr.toSnippetBlock(o))},getCodeBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!Tt.toCodeBlock(o))},getListItemBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!Se.toListItemBlock(o))},getLayoutBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!Q.toLayoutBlock(o))},getTextBlockTypeFromSelection(e,t){let o=F.getAllBlocksFromSelection(e,t),r="text",n=ae(o[0]);n&&(r=n.viewType);let i=Se.toListItemBlock(o[0]);return i&&(r=Se.getBlockType(i)),r},getParagraphsFromSelection(e,t,o){let r=F.getAllBlocksFromSelection(e,t),n=[];return r.forEach(i=>{let a=ae(i);if(a){n.push({paragraph:a,parentBlockType:"none"});return}let s=xe.toTableBlock(i);if(s){let p=this.getSelectedTableCharactersBlocks(s,t).map(m=>({paragraph:m.paragraph,parentBlockType:"table"}));n.push(...p)}let c=oe.toFlipCardsBlock(i);if(c){let p=this.getSelectedFlipCardsParagraphBlocks(c,t,o).map(m=>({paragraph:m.paragraph,parentBlockType:"flip-card"}));n.push(...p)}let l=Q.toLayoutBlock(i);if(l){let p=this.getSelectedLayoutParagraphBlocks(l).map(m=>({paragraph:m,parentBlockType:"layout"}));n.push(...p)}}),n},getConvertableBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>uC(o))},getBlockBefore(e,t,o=void 0){let r=o&&o.colKey?{contextKey:o.blockKey,richtextKey:o.colKey}:null,{order:n,blocks:i}=r?F.getBlockContextContentState(e,r).blockMap:e.blockMap,a=n.indexOf(t);if(a===0&&o)return F.getBlockInBeforeContext(e,o);if(a<0)return O.warn("incorrect key"),{blockBefore:null};if(a===0)return{blockBefore:null};let s=n[a-1];return{blockBefore:i[s],newContext:o}},getBlockAfter(e,t,o=void 0){let r=o&&o.colKey?{contextKey:o.blockKey,richtextKey:o.colKey}:null,{order:n,blocks:i}=r?F.getBlockContextContentState(e,r).blockMap:e.blockMap,a=n.indexOf(t);if(a===n.length-1&&o)return F.getBlockInAfterContext(e,o);if(a<0)return O.warn("incorrect key"),{blockAfter:null};if(a===n.length-1)return{blockAfter:null};let s=n[a+1];return{blockAfter:i[s],newContext:o}},getBlockInBeforeContext(e,t){if(!t.colKey)return{blockBefore:null};let o=e.blockMap.blocks[t.blockKey],r=Q.toLayoutBlock(o);if(r){let n=Q.getBeforeColumnBlock(r,t.colKey);return n?{blockBefore:n.block,newContext:{...t,colKey:n.colKey}}:F.getBlockBefore(e,t.blockKey)}return{blockBefore:null}},getBlockInAfterContext(e,t){if(!t.colKey)return{blockAfter:null};let o=e.blockMap.blocks[t.blockKey],r=Q.toLayoutBlock(o);if(r){let n=Q.getAfterColumnBlock(r,t.colKey);return n?{blockAfter:n.block,newContext:{...t,colKey:n.colKey}}:F.getBlockAfter(e,t.blockKey)}return{blockAfter:null}},getQuizBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(n=>!!mt.toQuizBlock(n))},atLeastOneNotEmptyCharactersBlockSelected(e,t,o){return F.getCharactersBlockFromSelection(e,t,o).some(r=>r.characters.length>0)},convertBrowserToModelSelection(e,t){let o=e.blockMap.blocks,r=Nt(o[t.startKey],t),n=r?Ke.convertBrowserToModelOffset(r,t.startOffset):t.startOffset,i=Nt(e.blockMap.blocks[t.endKey],t),a=i?Ke.convertBrowserToModelOffset(i,t.endOffset):t.endOffset;return{...t,startOffset:n,endOffset:a}},convertModelToBrowserSelection(e,t){if(R.isBlockSelection(t))return R.createTextSelection({startKey:t.startKey,endKey:t.endKey,customSelection:t.customSelection});let o=Nt(e.blockMap.blocks[t.startKey],t),r=o?Ke.convertModelToBrowserOffset(o,t.startOffset):t.startOffset,n=Nt(e.blockMap.blocks[t.endKey],t),i=n?Ke.convertModelToBrowserOffset(n,t.endOffset):t.endOffset;return{...t,startOffset:r,endOffset:i}},isValidSelection(e,t){return[t.startKey,t.endKey].every(o=>be.hasBlock(e.blockMap,o))},getSelectedBlockKeys(e,t){let o=e.blockMap.order,r=o.findIndex(i=>i===t.startKey),n=o.findIndex(i=>i===t.endKey);return o.slice(r,n+1)},getSelectedBlockKeysWithContext(e,t){if(!R.hasContext(t))return this.getSelectedBlockKeys(e,t);if(R.isContextBlockSelected(t))return[t.startKey];let o=R.getContextContentState(e,t);return o?this.getSelectedBlockKeys(o,t):(O.warn("Invalid context in selection"),[])},isUrlSelected(e,t){if(t.startKey!==t.endKey)return!1;let o=e.blockMap.blocks[t.startKey],r=ae(o);if(!r)return!1;let n=Ke.getCharactersText(r);return R.isTextSelection(t)&&(n=n.slice(t.startOffset,t.endOffset)),dC(n)},getCharactersBeforeCursor(e,t){let o=SC({contentState:e,selection:t});if(!o||t.type==="block")return null;let{startOffset:r}=t;return o.characters.slice(0,r)}};function qr(e){e.inlineStyleRanges&&e.inlineStyleRanges.forEach(t=>{t.style={name:t.style}}),e.urls&&e.urls.forEach(t=>{let o={start:t.start,end:t.end,style:{name:"underline"}};e.inlineStyleRanges?e.inlineStyleRanges.push(o):e.inlineStyleRanges=[o]})}function $A(e){qr(e),e.textAlign=e.viewType==="pullquote"?"center":"left"}function Bf(e){let t=null;return e.forEach(o=>{if(o.type===S.PARAGRAPH){$A(o);let r=o;r.viewType==="ol"&&(!t||t!=="ol")&&(r.isOrderedListFirstItem=!0),t=r.viewType}else if(o.type===S.IMAGE)qr(o),t=null;else if(o.type===S.EMBED)qr(o),t=null;else if(o.type===S.EXERCISE){let r=o;r.questions&&r.questions.forEach(n=>{qr(n.description),(n.type==="mc"||n.type==="mr")&&n.content.choices&&n.content.choices.forEach(i=>qr(i.text)),qr(n.feedback.answered),qr(n.feedback.correct),qr(n.feedback.incorrect)}),t=null}else t=null}),e}function _C(e){switch(e){case"header":return"h1";case"subheader":return"h2";default:return e}}function Vi({text:e,inlineStyleRanges:t,urls:o}){let r=le.create(),n=[...e].map(i=>({text:i,meta:r}));return t&&t.forEach(i=>{for(let a=i.start;a<i.end;++a){if(a>=n.length){O.warn("incorrect style ranges");break}n[a].meta=le.applyStyle(n[a].meta,[i.style])}}),o&&o.forEach(i=>{for(let a=i.start;a<i.end;++a){if(a>=n.length){O.warn("incorrect url ranges");break}n[a].meta=le.setUrl(n[a].meta,i.url)}}),n}var BC={create({type:e,width:t,height:o,src:r,crop:n,title:i,previewSrc:a}){let s={type:e,width:t,height:o,src:r};return n&&(s={...s,crop:n}),i&&(s={...s,title:i}),a&&(s={...s,previewSrc:a}),s}};function Ml(e){let t=ae(ot(e.blockMap));return t?Ke.getCharactersText(t):(O.error("first block is not text pararaph"),"")}var Li={create(e={}){let{key:t=L(),correct:o=!1,text:r=[]}=e;return{key:t,correct:o,content:F.create([$.create({characters:r})])}},getChoiceText(e){return V(Ml(e.content))}};var Il={create(e={}){let{choices:t=[Li.create({correct:!0,text:Je(`${B("Roll.Exercise.Question.Content.PossibleAnswer")} 1`)}),Li.create({text:Je(`${B("Roll.Exercise.Question.Content.PossibleAnswer")} 2`)}),Li.create({text:Je(`${B("Roll.Exercise.Question.Content.PossibleAnswer")} 3`)})]}=e;return{choices:t}}};var Rl={create(e={}){let{key:t=L(),text:o=""}=e;return{key:t,text:o}}};var Dl={create(e={}){let{caseSensitive:t=!1,answers:o=[Rl.create({text:`${B("Roll.Exercise.TypeIn.Answer")} 1`})]}=e;return{caseSensitive:t,answers:o}}};var vC={ANSWERED:"answered",CORRECT_INCORRECT:"correctIncorrect"};var Al={create(e={}){let{type:t=vC.CORRECT_INCORRECT,answered:o=[],correct:r=[],incorrect:n=[]}=e;return{type:t,answered:F.create([$.create({characters:o})]),correct:F.create([$.create({characters:r})]),incorrect:F.create([$.create({characters:n})])}}};function NA(e){switch(e){case"mc":case"mr":return Il.create();case"ti":return Dl.create();default:throw z(e),new Error(`Unknown question type: ${e}`)}}var Vl={create(e){let{key:t=L(),type:o,attachment:r=null,description:n="",content:i=NA(e.type),feedback:a=Al.create()}=e;return{key:t,type:o,attachment:r,description:F.create([$.create({characters:n})]),content:i,feedback:a}},getDescriptionText(e){return Ml(e.description)}};var Ll={create(e={}){let{includeInProgress:t=!1,shuffleAnswers:o=!1,showCorrectAnswers:r=!0}=e;return{includeInProgress:t,shuffleAnswers:o,showCorrectAnswers:r}}};var TC={create(e={}){let{key:t=L(),settings:o=Ll.create(),questions:r=[Vl.create({type:"mc"})]}=e;return{key:t,type:S.EXERCISE,settings:o,questions:r}},toExerciseBlock(e){return e&&e.type===S.EXERCISE?e:null}};function bC(e){switch(e){case"right":return"left";case"left":return"right";case"center":case"bottom":return e;default:throw z(e),new Error}}var Wa=220,Dn="cubic-bezier(.24,.84,.26,.99)",zA=40,EC=480,HA=360;function vf(e){return e<=EC?HA:440}function Tf(e){return e<=EC?280:320}function PC(e,t){return J(e,{center:{appearDuration:Wa,hideDuration:Wa,hideTranslate:[0,zA],appearTranslate:[0,0],fade:!0,easing:Dn},right:{appearDuration:vf(t.getBoundingClientRect().width),hideDuration:Tf(t.getBoundingClientRect().width),hideTranslate:[t.getBoundingClientRect().width,0],appearTranslate:[0,0],fade:!1,easing:Dn},bottom:{appearDuration:vf(t.getBoundingClientRect().height),hideDuration:Tf(t.getBoundingClientRect().height),hideTranslate:[0,t.getBoundingClientRect().height],appearTranslate:[0,0],fade:!1,easing:Dn},left:{appearDuration:vf(t.getBoundingClientRect().height),hideDuration:Tf(t.getBoundingClientRect().height),hideTranslate:[-t.getBoundingClientRect().width,0],appearTranslate:[0,0],fade:!1,easing:Dn}})}function wC([e,t]){return`translate(${e}px, ${t}px)`}function MC({element:e,transformStart:t,transformEnd:o,opacity:r,duration:n,easing:i}){return new KeyframeEffect(e,[{transform:wC(t),...r?{opacity:r[0]}:{}},{transform:wC(o),...r?{opacity:r[1]}:{}}],{duration:n,easing:i,fill:"forwards"})}function IC(e,t){let{hideTranslate:o,appearTranslate:r,fade:n,appearDuration:i,easing:a}=PC(e,t);return MC({element:t,duration:i,transformStart:o,transformEnd:r,opacity:n?[0,1]:void 0,easing:a})}function RC(e,t,o){let{hideTranslate:r,fade:n,appearTranslate:i,easing:a,hideDuration:s}=PC(e,t);return MC({element:t,easing:a,duration:s,transformStart:i,transformEnd:r,opacity:n?[1,0]:void 0})}var DC=Ly();var QA={layer:"_0joSwY",layer_type_default:"_wfe9jd",layer_type_dark:"_nOT7G6",layer_type_light:"_2hhqc9"},AC=QA;var UA=u(AC);function VC(e,{type:t,onClick:o}){return e`
<div
	class=${UA.layer.withMods({type:t})}
	onclick=${o}
>
</div>`}var WA=e=>new KeyframeEffect(e,[{opacity:0},{opacity:1}],{duration:Wa,easing:Dn,fill:"forwards"}),qA=e=>new KeyframeEffect(e,[{opacity:1},{opacity:0}],{duration:Wa,easing:Dn,fill:"forwards"}),LC=GA();function OC({html:e,layer:t,props:o}){let r=e.renderIf(VC,()=>o),{element:n}=Ei({element:r,getAppearKeyframes:WA,getHideKeyframes:qA});Pi({layer:t,element:n}),ee(()=>{if(r)return t.style.pointerEvents="auto",LC.increment(t),()=>{LC.decrement(t)===0&&(t.style.pointerEvents="")}},[r,t])}function GA(){let e=new Map;function t(r){var i;let n=(i=e.get(r))!=null?i:0;return e.set(r,++n),n}function o(r){var i;let n=(i=e.get(r))!=null?i:0;return e.set(r,--n),n}return{increment:t,decrement:o}}function jA(e,t,o){switch(e){case"center":return{left:Math.round((t.offsetWidth-o.clientWidth)*.5),top:Math.round((t.offsetHeight-o.clientHeight)*.5)};case"right":return{top:0,bottom:0,right:0};case"bottom":return{bottom:0,left:0,right:0};case"left":return{top:0,bottom:0,left:0};default:throw Qe(e),new Error}}function Ol(e,t,o){let{left:r,top:n,bottom:i,right:a}=jA(e,t,o),s=c=>ie(c)?q(c):"";o.style.top=s(n),o.style.right=s(a),o.style.bottom=s(i),o.style.left=s(r)}var bf=new Map;function FC({type:e,element:t,onModalOverlayClick:o}){let r=E(null),n=Pr(),i=te(o),a=D(()=>(bf.has(e)||bf.set(e,[]),V(bf.get(e))),[e]);t&&r.current===null&&(r.current=a.push({idRef:r,redraw:n,onModalOverlayClick:()=>i.current&&i.current()})-1,r.current&&r.current>=1&&a[r.current-1].redraw()),!t&&r.current===a.length-1&&(r.current&&r.current>=1&&a[r.current-1].redraw(),a.pop(),r.current=null),ee(()=>()=>{r.current!==null&&(a.splice(r.current),r.current=null)},[a]);let s=I(()=>{if(a.length){let c=a[a.length-1];c.onModalOverlayClick&&c.onModalOverlayClick()}},[a]);return{isFirst:r.current===0,activeElement:r.current===a.length-1?t:null,onModalOverlayClick:s}}function KC(e,t){M(()=>{if(t){let o=e.style.overflow;return e.style.overflow="hidden",()=>{e.style.overflow=o}}},[t,e])}function $C(e){KC(window.document.body,e)}function Oi({html:e,side:t,createModal:o,close:r,beforeUnmount:n,modalOverlayType:i="default",layer:a=Po("popup")}){let s=e(o()),c=Si()?bC(t):t,{isFirst:l,activeElement:p,onModalOverlayClick:m}=FC({type:c==="center"?"popup":"sidePanel",element:s,onModalOverlayClick:r});$C(l),OC({html:e,layer:a,props:l?{type:i,onClick:m}:null});let{element:d}=Ei({element:p,getAppearKeyframes:g=>IC(c,g),getHideKeyframes:g=>RC(c,g)});Pi({layer:a,element:d,onAppend:g=>{Ol(c,a,g),DC.dispatch({side:t,isAlert:!1})},beforeUnmount:n}),Ze({target:document.body,onResize:()=>s&&Ol(c,a,s)}),Ze({target:s,onResize:()=>s&&Ol(c,a,s)})}function NC(e){let t=te(e);return I((...o)=>t.current(...o),[t])}function zC(e){let t=e?-5:5;return Qc({opacity:Uc(0,1),translate:Wc([0,t],[0,0]),duration:150})}var Fl=8;function HC({popover:e,position:t}){let o=window.pageYOffset+window.innerHeight,r=window.pageYOffset,i=t.y+e.offsetHeight>o,a=t.y<r+Fl;if(a||i){let s;a?(s=e.offsetHeight-Math.abs(t.y-r-Fl),t.y=r+Fl):s=o-t.y-Fl,e.style.width=q(e.offsetWidth),e.style.maxHeight=q(s),e.style.overflowY="auto"}e.style.left=q(t.x),e.style.top=q(t.y)}var Gr=[];function QC(e){let t=Gr.pop();for(;t&&e(t,Gr.length);)t.closePopover(),t=Gr.pop();t&&Gr.push(t),Gr.length||UC().clearHandler()}function YA(e){let t=Gr.indexOf(e);if(~t)QC((o,r)=>r>=t);else throw new Error("PopoverStackItem must be in popover stack")}function ZA(e){return Gr.length||UC().registerHandler(),Gr.push(e),e}var UC=Vy(()=>{function e(t){let o=t.target;QC(({relatedRef:r,popover:n})=>!r.current.contains(o)&&!n.contains(o))}return{registerHandler:()=>window.addEventListener("mousedown",e),clearHandler:()=>window.removeEventListener("mousedown",e)}});function Kl({relatedRef:e,popoverRef:t,onClose:o}){let r=E(null);M(()=>{let n=t.current;n&&r.current===null&&(r.current=ZA({popover:n,relatedRef:e,closePopover:()=>{r.current=null,o()}})),!n&&r.current!==null&&YA(r.current)})}var XA=8,JA=Ne(null);function e3(){let e=E([]);return{register:t=>{e.current.push(t)},clean:()=>{e.current.forEach(t=>t()),e.current=[]}}}function t3({elementRef:e,beforeShow:t,afterShow:o,onHide:r}){return{appearAnimation:n=>{t(n);let i=n.getBoundingClientRect().top>e.current.getBoundingClientRect().top;return zC(i).play(n).then(()=>o(n))},hideAnimation:n=>Promise.resolve().then(()=>r(n))}}function WC({html:e,elementRef:t,createPopover:o,opened:r,setOpened:n,prepareList:i,offset:a,suppressOpenOnElementClick:s,keepOpenedOnAnchorMove:c,side:l="bottom",align:p="start"}){let m=e3(),d=NC(n),g=ne(JA),y=k=>HC({popover:k,position:Yc({element:t.current,popover:k,side:l,align:p,isTopLayer:!0,getOffset:()=>({x:a&&a.x||0,y:a&&a.y||XA}),autoInvert:!0,rootElement:g&&g.current})}),h=jc({html:e,createBinding:o,show:r,layer:Po("popover"),...t3({elementRef:t,beforeShow:k=>{i&&i(k),y(k),c?m.register(Ci(t.current,()=>y(k))):m.register(Ci(t.current,()=>d(!1))),m.register(ef(k))},afterShow:k=>{let C=new ResizeObserver(()=>y(k));C.observe(k),m.register(()=>C.disconnect())},onHide:m.clean})});Kl({relatedRef:t,popoverRef:h,onClose:()=>d(!1)}),G(t,"click",s?null:()=>d(!r))}function qC(e){let t=Nt(e);return t?t.characters.length:0}function GC(e){let t=lt(e.meta,"charactersMeta");return t&&t.name==="charactersMeta"?t.data:null}function o3(e,t){return lt(e.meta,t)}function jC(e){let t=o3(e,"isHeaderColumnPinned");return!!t&&t.name==="isHeaderColumnPinned"}function YC(e){return e`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="m4 6 4 4 4-4" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/></svg>
`}function ZC(e){return e`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 10 8 6l-4 4" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/></svg>
`}function XC(e,{createControl:t,createPopover:o,opened:r,setOpened:n,useControlWidth:i=!1,offset:a,suppressOpenOnElementClick:s,keepOpenedOnAnchorMove:c,side:l,align:p}){let m=P();return WC({html:e,elementRef:m,createPopover:o,opened:r,setOpened:n,prepareList:d=>{if(i){let g=q(m.current.clientWidth);d.style.minWidth=g,d.style.maxWidth=g,d.style.width=g}},offset:a,suppressOpenOnElementClick:s,keepOpenedOnAnchorMove:c,side:l,align:p}),pe(e,t(),m)}function e0(e,t){let o=t.state=="pressed";return XC(e,{...t,createControl:()=>f(Le,{...t.chevron?r3(t,o):t,onClick:()=>{t.onClick&&t.onClick(),t.setState(o?"default":"pressed")}}),createPopover:t.createPopover,opened:o,setOpened:r=>t.setState(r?"pressed":"default"),suppressOpenOnElementClick:!0})}function r3(e,t){switch(e.structure){case"icon":case"iconAndTextAndIcon":case"textAndIcon":return e;case"iconAndText":return{...e,structure:"iconAndTextAndIcon",iconLeft:e.icon,iconRight:JC(t)};case"text":return{...e,structure:"textAndIcon",icon:JC(t)};default:throw z(e),new Error}}function JC(e){return e?f(ZC):f(YC)}var n3={group:"_x5s7KX"},t0=n3;var i3=u(t0);function o0(e,{buttons:t,size:o,spacing:r}){return e`
<div class=${i3.group}>
	${e.renderAll(t,n=>n.withPopover?se(n.id,e0,{...n,size:o,spacing:r}):se(n.id,Le,{...n,size:o,spacing:r}))}
</div>`}var a3={list:"_OUJlSO"},r0=a3;var s3={divider:"_LqFI7Z",divider_mobile:"_V1FWA3"},n0=s3;var c3=u(n0);function i0(e,{mobile:t}){return e`
<div class=${c3.divider.withMods({mobile:!!t})}></div>
`}function a0({items:e,mapItem:t}){let o=te(t);return D(()=>l3({items:e,mapItem:o.current}),[e,o])}function l3({items:e,mapItem:t}){let o=new Map,r=e&&e.map((n,i)=>{let a=t&&n?t(n,i):n;return a&&n&&o.set(a.id,n),a});return{itemsMap:o,listItems:r}}function $l({ref:e,onIntersect:t,onLeave:o,disabled:r=!1,threshold:n}){let i=te(t),a=te(o);M(()=>{if(r)return;let s=new IntersectionObserver(c=>{let l=a.current,p=i.current;c.some(m=>m.isIntersecting)?p&&p():l&&l()},{threshold:n});return s.observe(e.current),()=>s.disconnect()},[a,i,e,r,n])}function s0(e,t){let o=P();return $l({ref:o,onIntersect:t.onPreloaderReached}),pe(e,f(wi,t),o)}var p3={wrapper:"__HD0P2",list:"_HzkpmM",content:"_2Ybgmr",preloader:"_5muwQb"},c0=p3;var Nl=u(c0),wf=-1,m3=200;function l0(e,{items:t,getItemBinding:o,scrollToItemId:r,batchSize:n,batchResetDependency:i,autotestData:a}){let s=t?f(u3,{items:t,getItemBinding:o,scrollToItemId:r,batchSize:n,batchResetDependency:i,autotestData:a}):f(wi,{});return e`
<div class=${Nl.wrapper}>
	${e(s,Nl.content)}
</div>
`}function u3(e,{items:t,getItemBinding:o,scrollToItemId:r,batchSize:n,batchResetDependency:i,autotestData:a}){let s=P(),c=f3(s),{visibleItems:l,showPreloader:p,revealNextBatch:m}=d3({items:t,batchSize:n,batchResetDependency:i});return e`
<div
	save-ref=${s}
	class=${Nl.list}
	data-at=${j(a)}
>
	${e.renderAll(l,(d,g)=>{let y=o(d,g);return y.id===r&&c(g),y})}
	${e.renderIf(s0,()=>p&&{onPreloaderReached:m},Nl.preloader)}
</div>
`}function d3({items:e,batchSize:t,batchDelay:o=m3,batchResetDependency:r}){let n=t||Number.MAX_SAFE_INTEGER,[i,a]=N(n),s=te(i),c=D(()=>e&&t?e.slice(0,i):e,[e,t,i]);ee(()=>{r!==void 0&&s.current!==n&&a(n)},[s,r,n]);let l=I(()=>t&&setTimeout(()=>a(p=>p+t),o),[t,o]);return{visibleItems:c,showPreloader:!!t&&i<e.length,revealNextBatch:l}}function f3(e){let t=E(wf);return t.current=wf,M(()=>{let o=t.current;if(o!==wf){let r=e.current.children.item(o),n=e.current.parentElement;if(n&&r&&r instanceof HTMLElement){let i=window.getComputedStyle(n),a=parseInt(i.paddingTop,10);n.scrollTop=r.offsetTop-(isNaN(a)?0:a)}}},[e,t]),I(o=>{t.current=o},[])}function p0(e){return e`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm-.582-9.257a.85.85 0 0 0-.138.457.68.68 0 0 1-1.36 0c0-.286.067-.79.388-1.243.35-.494.939-.837 1.792-.837.853 0 1.443.343 1.793.837.32.453.387.957.387 1.243 0 .765-.474 1.45-1.19 1.718l-.051.019a.553.553 0 0 0-.359.517V8.6a.68.68 0 0 1-1.36 0v-.146c0-.797.495-1.51 1.241-1.79l.051-.02A.474.474 0 0 0 8.92 6.2a.85.85 0 0 0-.137-.457c-.076-.106-.236-.263-.683-.263-.447 0-.607.157-.682.263zM9 10.8a1 1 0 1 1-2 0 1 1 0 0 1 2 0z" fill="currentColor"/></svg>
`}function m0(e){return e`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1zm.783 4.743a.85.85 0 0 1 .137.457.68.68 0 0 0 1.36 0c0-.286-.067-.79-.388-1.243-.35-.494-.939-.837-1.792-.837-.853 0-1.443.343-1.792.837-.321.453-.388.957-.388 1.243 0 .765.474 1.45 1.19 1.718l.051.019c.216.08.359.287.359.517V8.6a.68.68 0 1 0 1.36 0v-.146c0-.797-.495-1.51-1.241-1.79l-.051-.02A.474.474 0 0 1 7.28 6.2a.85.85 0 0 1 .137-.457c.076-.106.236-.263.683-.263.447 0 .607.157.683.263zM7.2 10.8a1 1 0 1 0 2 0 1 1 0 0 0-2 0z" fill="currentColor"/></svg>
`}function g3({overlayRef:e,anchorRef:t,enabled:o,stayOnHover:r,onInstantlyShow:n,onDeferredShow:i,onInstantlyHide:a,onDeferredHide:s}){let c=te(n),l=te(s);G(t,"mouseenter",o?i:null),G(t,"mouseleave",o?r?s:a:null),ee(()=>{if(!o)return;let p=e.current,m=c.current,d=l.current;if(!(!r||!p||!m||!d))return p.addEventListener("mouseenter",m),p.addEventListener("mouseleave",d),()=>{p.removeEventListener("mouseenter",m),p.removeEventListener("mouseleave",d)}},[e.current,r])}function y3({hideDelay:e,appearDelay:t}){let[o,r]=di(!1),n=I(()=>r(!1,0),[r]),i=I(()=>r(!1,e),[e,r]),a=I(()=>r(!0,0),[r]),s=I(()=>r(!0,t),[t,r]);return{opened:o,deferredShow:s,showInstantly:a,hideInstantly:n,deferredHide:i}}function zl({overlayRef:e,anchorRef:t,stayOnHover:o,appearDelay:r,hideDelay:n}){let{opened:i,deferredShow:a,showInstantly:s,hideInstantly:c,deferredHide:l}=y3({appearDelay:r,hideDelay:n});return g3({overlayRef:e,anchorRef:t,enabled:!0,stayOnHover:o,onInstantlyShow:s,onDeferredShow:a,onInstantlyHide:c,onDeferredHide:l}),{opened:i,hideInstantly:c,deferredHide:l}}var h3=500,x3=500;function Fi({html:e,anchorRef:t,tooltipProps:o,side:r,align:n,offset:i,stayOnHover:a=!1,show:s=!0,appearDelay:c=h3,hideDelay:l=x3,disablePointer:p}){let m=E(),{opened:d,hideInstantly:g}=zl({overlayRef:m,anchorRef:t,stayOnHover:a,appearDelay:c,hideDelay:a?l:0});return m.current=dk({html:e,anchorRef:t,tooltipProps:d&&s?o:null,side:r,align:n,offset:i,onClose:g,disablePointer:p}),qc(d&&s?t.current:null,g),m.current}var S3={container:"_ONGXu5",content:"_CNxPyZ",iconContainer:"_sBCYxS",iconContainer_size_small:"_bPB1H4",iconContainer_size_medium:"_60rCK-",icon:"_TtlNAj"},u0=S3;var Hl=u(u0);function d0(e,t){return e`
<div class=${Hl.container}>
	${e(t.content,Hl.content)}
	${e(k3,t)}
</div>`}function k3(e,t){var o;return e`
<div class=${Hl.iconContainer.withMods({size:(o=t.size)!=null?o:"medium"})}>
	${e.renderIf(C3,()=>!!t.hint&&t)}
</div>`}function C3(e,t){let o=E();return Fi({html:e,anchorRef:o,tooltipProps:t.hintType==="custom"?{contentType:"rich",content:t.hint}:{contentType:"text",text:V(t.hint)},stayOnHover:!0}),pe(e,f(t.direction==="rtl"?m0:p0,{},Hl.icon),o)}var _3={item:"_uwkI79",item_mobile:"_haZsZE",item_hideBorder:"_K8mBR7",item_padding_default:"_72haEC",item_padding_large:"_L-XX7o",item_draggable:"_hqfz8Q"},f0=_3;var B3={block:"_Ik-put",text:"_pqPpGU",hint:"_1cvzhQ",block_style_default:"_gHjqM_",block_style_destructive:"_u01m8w",block_disabled:"_S6urwg"},g0=B3;var Ef=u(g0);function y0(e,{text:t,hint:o,highlight:r,style:n="default",disableTooltip:i,disabled:a=!1}){function s(c){return r?r(c):c}return e`
<div class=${Ef.block.withMods({style:n,disabled:a})}>
	${e(vt,{text:s(t),disableTooltip:i},Ef.text)}
	${e.renderIf(vt,()=>!!o&&{text:s(o),disableTooltip:i},Ef.hint)}
</div>
`}var v3={item:"_a1MHko",item_disabledHover:"_WLSTms",item_hovered:"_DTURbu",prefix:"_02Dbcx",postfix:"_grWsMR",helper:"_TbhM_D",item_style_default:"_8AIQTx",item_style_destructive:"_-UJ9qm"},h0=v3;var T3=u(f0),Ql=u(h0);function x0(e,{id:t,prefix:o,postfix:r,text:n,hint:i,helper:a,disabled:s,autotestData:c,prefixType:l,onItemClickRef:p,style:m="default",direction:d,disableTooltip:g,hovered:y,disabledHover:h}){let k=s?void 0:x=>{!s&&!x.defaultPrevented&&(x.preventDefault(),p.current(t))},C=f(y0,{text:n,hint:i,style:m,disabled:s,disableTooltip:g}),_=Ee(T3.item.withMods({padding:o||i?"large":"default",draggable:!1,mobile:!1,hideBorder:!1}),Ql.item.withMods({style:m,hovered:!!y,disabledHover:!!h}));return e`
<button
	class=${_}
	disabled=${!!s}
	onmousedown=${k}
	data-at=${j(c)}
>
	${e(l&&o,Ql.prefix)}
	${e.switch(()=>a?f(d0,{content:C,hint:a,direction:d}):C,Ql.helper)}
	${e(r,Ql.postfix)}
</button>
`}var b3=u(r0);function S0(e,{prefixType:t,items:o,mapItem:r,onItemClick:n,scrollToItemId:i,batchSize:a,autotestData:s,direction:c}){let{listItems:l,itemsMap:p}=a0({items:o,mapItem:r}),m=te(y=>{let h=p.get(y);h&&n(y,h)}),d=I(y=>{if(yn(y))return se({},i0,{});let h=f(x0,{...y,prefixType:t,onItemClickRef:m,direction:c});return{id:y.id,binding:ie(y.wrap)?y.wrap(h):h}},[c,m,t]),g=f(l0,{items:l,getItemBinding:d,scrollToItemId:i,batchSize:a,batchResetDependency:l,autotestData:s},b3.list);return pe(e,g)}function k0(e,t){let o=E(t);if(!Object.is(t,o.current))throw new Error(`Props ${e} should be constant`)}var w3={container:"_c8_tHJ",draggedItem:"_9Lpaa6"},C0=w3;function _0({items:e,listRef:t,deps:o=[]}){let r=E(new Map);return M(()=>{let n=new ResizeObserver(()=>{let i=t.current.children;for(let a=0;a<i.length;++a){let s=i[a];if(s instanceof HTMLElement){let c=window.getComputedStyle(s),l=parseInt(c.marginTop,10)||0,p=parseInt(c.marginBottom,10)||0,m=l+s.offsetHeight+p;r.current.set(e[a],m)}}});return Array.from(t.current.children).forEach(i=>{n.observe(i)}),()=>{n.disconnect()}},[r,e,t,...o]),r}var B0=15,v0={current:window};function E3({items:e,item:t,heightsMapRef:o,gap:r}){var i;let n=0;for(let a of e){if(a===t)break;n+=((i=o.current.get(a))!=null?i:0)+r}return n}function P3(e,t,o){let r=e[t],n=e.slice();return t<o?(n.splice(o+1,0,r),n.splice(t,1)):(n.splice(t,1),n.splice(o,0,r)),n}function T0({scrollController:e,listRef:t,draggedItemRef:o,items:r,getItemId:n,onItemsChange:i,gap:a=0,deps:s=[]}){let c=_0({items:r,listRef:t,deps:s}),[l,p]=N(()=>null),m=E(!1),d=E(0),g=I(k=>e.getDomObject()instanceof Window?k:k+e.getScrollTop(),[e]),y=te(n),h=I((k,C,_)=>{C.preventDefault();let x=r.findIndex(ge=>y.current(ge)===k);if(x===-1)throw new Error("invalid dragged item id");let v=r[x],b=t.current,A=V(window.getComputedStyle(b)),K=parseInt(A.paddingTop,10)||0,U=parseInt(A.paddingBottom,10)||0,re=K+E3({items:r,item:v,heightsMapRef:c,gap:a});p({item:v,startIndex:x,startOffset:re,startMouseY:g(C.pageY),listOffset:e.getRelativeElementOffset(b).y,listPaddingTop:K,listPaddingBottom:U,currItems:r,currIndex:x,onDragEnd:_}),m.current=!0},[r,t,c,a,g,e,y]);return G(v0,"pointermove",l?k=>{var U;if(!m.current)return;k.preventDefault();let C=t.current,_=o.current,x=g(k.pageY)-l.startMouseY,v=(U=c.current.get(l.item))!=null?U:0,b=Bt(l.startOffset+x,l.listPaddingTop,C.offsetHeight-l.listPaddingBottom-v);_.style.top=q(b);let A=l.listOffset+b;A<e.getScrollTop()&&d.current>b?e.scrollBy(0,-B0):A+v>e.getScrollTop()+e.getClientHeight()&&d.current<b&&e.scrollBy(0,+B0),d.current=b;let K=Vh(l.startIndex,b-l.startOffset,r.length,re=>{var ge;return((ge=c.current.get(r[re]))!=null?ge:0)+a});K!==l.currIndex&&p(re=>({...V(re),currItems:P3(l.currItems,l.currIndex,K),currIndex:K}))}:null),G(v0,"pointerup",l?()=>{let k=l.currIndex===l.startIndex?null:l.currItems;k&&i(k,l.item),p(null),m.current=!1,l.onDragEnd&&l.onDragEnd()}:null),{renderItems:l?l.currItems:r,renderIndex:l&&l.currIndex,startIndex:l&&l.startIndex,startOffset:l&&l.startOffset,startDrag:h,isDragging:!!l}}var Pf=Ne({});function Ul(){return ne(Pf)}var b0=u(C0);function Wl(e,{items:t,getItemId:o,onItemsChange:r,getItemBinding:n,scrollController:i,gap:a,autotestData:s}){let c=P(),l=P(),{renderItems:p,renderIndex:m,startIndex:d,startOffset:g,startDrag:y,isDragging:h}=T0({scrollController:i,listRef:c,draggedItemRef:l,items:t,getItemId:o,onItemsChange:r,gap:a});return e.setContext(Pf,y),e`
<div
	save-ref=${c}
	class=${b0.container}
	data-at=${j(s)}
>
	${e.renderAll(p,(k,C)=>n(k,C,m===C?"hidden":"normal",h))}
	${e.renderIf(M3,()=>m!==null&&g!==null&&d!==null&&{ref:l,binding:n(t[d],m,"dragged",h).binding,startOffset:g})}
</div>
`}function M3(e,{ref:t,binding:o,startOffset:r}){return ee(()=>{t.current.style.top=q(r)},[t,r]),e`
<div
	save-ref=${t}
	class=${b0.draggedItem}
>
	${e(o)}
</div>`}function Ki(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6 4a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0zm0 6a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0zm1.5 7.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM11 4a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0zm0 6a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0zm1.5 7.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z" fill="currentColor"/></svg>
`}function w0(e){return e`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="m3 9 3 3 7-8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
`}var I3={wrapper:"_uoFg9C",wrapper_size_small:"_vz3v5c",wrapper_size_medium:"_ZapB2N",wrapper_size_large:"_cQu8Xs",wrapper_disabled:"_BCAI2S",checkbox:"_LxIIhZ",input:"_S5ABLX",checkbox_size_small:"_Qv2IYG",checkbox_size_medium:"_Ha_wFj",checkbox_size_large:"_ubPzPP",checkbox_indeterminate:"_SRdae6",wrapper_hovered:"_xnXIUD",checkIcon:"_np905z",indeterminate:"_gQNCQE"},E0=I3;var qa=u(E0);function R3(e){return e`
<div class=${qa.indeterminate}></div>`}function P0(e,{id:t,checked:o,size:r,onCheckedRequest:n,disabled:i=!1,hovered:a=!1,onFocusedChange:s,autotestData:c}){let l=P(),p=Er(),m=I(g=>{g.preventDefault(),n(!o,g)},[o,n]);ee(()=>{p.current.checked=!!o},[p,o]),G(p,"click",g=>{g.defaultPrevented||m(g)}),G(l,"click",g=>{!i&&!g.defaultPrevented&&m(g)}),Mo(p,{onFocusedChange:s});let d=o===null;return e`
<div
	class=${qa.wrapper.withMods({disabled:i,size:r,hovered:a})}
	save-ref=${l}
>
	<div
		class=${qa.checkbox.withMods({size:r,indeterminate:d})}
	>
		<input
			id=${t}
			save-ref=${p}
			type="checkbox"
			class=${qa.input}
			disabled=${i}
			data-at=${j(c)}
		>
		${e.switch(()=>o?f(w0,{},qa.checkIcon):d?f(R3,{}):null)}
	</div>
</div>`}var D3={popover:"_LJ3kv_",popover_width_undefined:"_sRvZvt",popover_width_adaptive:"_GQPefe",popover_width_small:"_KWpQiY",popover_width_medium:"_V80MxN",popover_height_undefined:"_AWNUtj",popover_height_adaptive:"_unQi7n",popover_height_fixed:"_T1n0F5"},M0=D3;var A3=u(M0);function I0(e,{content:t,width:o="adaptive",height:r="adaptive",autotestId:n}){let i=typeof o=="number",a=typeof r=="number";return e`
<div
	style=${{width:i?o:void 0,height:a?r:void 0}}
	class=${A3.popover.withMods({width:i?"undefined":o,height:a?"undefined":r})}
	data-at=${j(n)}
>
	${e(t)}
</div>`}function R0(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2 10a2 2 0 1 0 4 0 2 2 0 0 0-4 0zm6 0a2 2 0 1 0 4 0 2 2 0 0 0-4 0zm8 2a2 2 0 1 1 0-4 2 2 0 0 1 0 4z" fill="currentColor"/></svg>
`}function D0(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#System20dpEyeClosed__a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M18.731 7.704c-.259.273-.53.529-.808.772-.172.153-.352.293-.531.435-.076.059-.148.125-.225.183l.819 1.031a1.04 1.04 0 0 1-.116 1.411.916.916 0 0 1-1.338-.123l-1.013-1.274a11.718 11.718 0 0 1-4.566 1.331v1.537c0 .554-.425 1.003-.949 1.003-.525 0-.949-.449-.949-1.003V11.47a11.728 11.728 0 0 1-4.567-1.331l-1.012 1.274a.915.915 0 0 1-1.337.123 1.038 1.038 0 0 1-.117-1.411l.819-1.031c-.077-.058-.149-.123-.224-.183-.179-.142-.36-.282-.532-.435a11.96 11.96 0 0 1-.807-.772 1.04 1.04 0 0 1 0-1.417.913.913 0 0 1 1.342 0c1.973 2.081 4.594 3.228 7.384 3.228 2.789 0 5.411-1.147 7.384-3.228a.914.914 0 0 1 1.343 0c.37.391.37 1.026 0 1.417z" fill="currentColor"/></g><defs><clipPath id="System20dpEyeClosed__a"><path fill="#fff" transform="translate(1 6)" d="M0 0h18v8H0z"/></clipPath></defs></svg>
`}function A0(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M18.68 7.797a1 1 0 0 1-1.36 1.466c-3.283-3.05-6.345-3.568-8.832-3.125-2.55.453-4.625 1.942-5.78 3.099a1 1 0 0 1-1.415-1.414C2.637 6.48 5.063 4.716 8.137 4.17c3.138-.558 6.826.174 10.544 3.628zM8 11.03a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm2-4a4 4 0 1 0 0 8 4 4 0 0 0 0-8z" fill="currentColor"/></svg>
`}var V3={counter:"_Arke_u"},V0=V3;var L3=u(V0);function L0(e,{maxCount:t,count:o}){return e`
<div class=${L3.counter}>
	${`${o}/${t}`}
</div>`}function Mf(e,{component:t,tooltipText:o,size:r,stayOnHover:n,show:i,side:a,align:s,isPreventDefaultClick:c}){let l=E();return Ft({html:e,elementRef:l,text:o,size:r,stayOnHover:n,show:i,side:a,align:s,isPreventDefaultClick:c}),pe(e,t,l)}function O0(e){switch(e){case"bash":return"Bash";case"c":return"C";case"cpp":return"C++\u200E";case"csharp":return"C#\u200E";case"css":return"CSS";case"dart":return"Dart";case"delphi":return"Delphi";case"diff":return"Diff";case"go":return"Go";case"groovy":return"Groovy";case"html":return"HTML";case"ini":return"Ini";case"java":return"Java";case"javascript":return"Javascript";case"json":return"Json";case"kotlin":return"Kotlin";case"latex":return"Latex";case"less":return"Less";case"lua":return"Lua";case"makefile":return"Makefile";case"markdown":return"Markdown";case"matlab":return"Matlab";case"objectivec":return"Objective C";case"pascal":return"Pascal";case"perl":return"Perl";case"php":return"Php";case"php-template":return"Php Template";case"plaintext":return"PlainText";case"python":return"Python";case"python-repl":return"Python repl";case"r":return"R";case"ruby":return"Ruby";case"rust":return"Rust";case"scss":return"SCSS";case"shell":return"Shell";case"sql":return"Sql";case"swift":return"Swift";case"typescript":return"Typescript";case"vbnet":return"VBNet";case"xml":return"XML";case"yaml":return"YAML";default:return z(e,`unknown code language: "${e}"`),""}}var Ga="#",Do={[Ga]:Ga},F0=1,K0=2,$0=4,N0=8,z0=16,Ro={FONT_SIZE:2,FONT_COLOR:3,TEXT_HIGHLIGHT_COLOR:4,TEXT_HIGHLIGHT_OPACITY:5,ALIGNMENT:6},H0="#";function pr(e){return e===H0}function ql(e){let t=e;if(t&&t.style&&t.url!==void 0){let o=[...t.style],r=t.url,n=[],i=null,a=null,s=null,c=null,l=null;if(o.length){let p=0;for(let m of o)switch(m.name){case"bold":p|=F0;break;case"italic":p|=K0;break;case"underline":p|=$0;break;case"strikethrough":p|=N0;break;case"code":p|=z0;break;case"alignment":l=m.type;break;case"fontSize":i=m.size;break;case"fontColor":a=m.color;break;case"textHighlightColor":s=m.color;break;case"textHighlightOpacity":c=m.opacity;break}n.push(p)}r&&n.push(r),i&&(n[Ro.FONT_SIZE]=i),a&&(n[Ro.FONT_COLOR]=a),s&&(n[Ro.TEXT_HIGHLIGHT_COLOR]=s),c&&(n[Ro.TEXT_HIGHLIGHT_OPACITY]=c),l&&(n[Ro.ALIGNMENT]=l);for(let p=0;p<n.length;p++)n[p]==null&&(n[p]=H0);return{[Ga]:n}}}function $i(e){if(typeof e=="object"&&e&&e.hasOwnProperty(Ga)){let t=e[Ga],o=[],r=t.length&&!pr(t[0])&&typeof t[0]=="number"&&!isNaN(t[0])?t[0]:void 0,n=t.length&&!pr(t[0])&&qt(t[0])?t[0]:t.length>1&&!pr(t[1])&&qt(t[1])?t[1]:void 0,i=t[Ro.FONT_SIZE],a=t[Ro.FONT_COLOR],s=t[Ro.TEXT_HIGHLIGHT_COLOR],c=t[Ro.TEXT_HIGHLIGHT_OPACITY],l=t[Ro.ALIGNMENT];return!pr(r)&&typeof r=="number"&&!isNaN(r)&&(r&F0&&o.push({name:"bold"}),r&K0&&o.push({name:"italic"}),r&$0&&o.push({name:"underline"}),r&N0&&o.push({name:"strikethrough"}),r&z0&&o.push({name:"code"})),!pr(i)&&(typeof i=="number"||i==="auto")&&o.push({name:"fontSize",size:i}),!pr(a)&&qt(a)&&o.push({name:"fontColor",color:a}),!pr(s)&&qt(s)&&o.push({name:"textHighlightColor",color:s}),!pr(c)&&typeof c=="number"&&!isNaN(c)&&o.push({name:"textHighlightOpacity",opacity:c}),!pr(l)&&(l==="superscript"||l==="subscript")&&o.push({name:"alignment",type:l}),le.create({style:Re.create(o),url:n})}}var zt={crop:{_:"cp",top:"tp",left:"lf",right:"rt",bottom:"bm"}};var Ao={src:"s",editedSrc:"eS",width:"w",height:"h",...zt,clip:"cl"};var ja={color:"c",opacity:"o"},Gl={src:"s",width:"w",height:"h",overlay:{_:"o",...ja},...zt},If={...Gl,...Ao},jl={type:"t",image:{_:"i",...Gl},overlay:{_:"O",...ja},...ja},Rf={...jl,image:{_:"i",...If}};var Q0={_:"ds",background:{_:"b",color:"c",opacity:"o"},paddingTop:"pt",paddingBottom:"pb"},Df={_:"ds",background:{_:"bg",color:{_:"cl",color:"c",opacity:"o"},mediaResource:{_:"mr",type:"t",resource:{_:"rs",src:"s",width:"w",height:"h",...zt},position:{_:"p",x:"x",y:"y"},overlay:{_:"k",...ja}}},padding:{_:"p",bottom:"pb",top:"pt"},size:{_:"s",minHeight:"mh"}},Ya={...Df,indent:"it"},U0={...Ya,background:{...Ya.background,mediaResource:{...Ya.background.mediaResource,resource:{_:"rs",...Ao}}}};var it={key:"k",type:"t"},ye={key:"k",type:"t",designSettings:{...Q0}},ve={key:"k",type:"t",designSettings:{...Df}},ke={key:"k",type:"t",designSettings:{...Ya}},_e={key:"k",type:"t",designSettings:{...U0}};var Me={...it,src:"s",fileName:"fn",fileExtension:"fe",fileSize:"fs",isLoading:"iL"},go={...Me,...ye},An={...Me,...ve},Za={...An,...ke},W0={...Za,..._e};var Ht={text:"t",meta:{_:"m",...Do},length:"l"};var q0={defaultCharactersMeta:{_:"dCM",textStyles:{_:"tS",bold:"b",italic:"i",underline:"u",strikethrough:"s",alignment:"a",fontSize:"fs",fontColor:"fc",textHighlightColor:"thc",textHighlightOpacity:"tho"}}},Ni={defaultCharactersMeta:{_:"dCM",textStyles:{_:"tS",bold:"b",italic:"i",underline:"u",strikethrough:"s",code:"c",alignment:"a",fontSize:"fs",fontColor:"fc",textHighlightColor:"thc",textHighlightOpacity:"tho"}}};var he={...it,viewType:"v",textAlign:"tA",characters:{_:"c",...Ht},isOrderedListFirstItem:"iO"},Ue={...he,...ye},ut={...Ue,...q0},We={...ut,...Ni},$e={...We,...ve},Ye={...ke,...Ni,viewType:"v",textAlign:"tA",characters:{_:"c",...Ht}},kt={...Ye,..._e};var zi={...ye,paragraph:{_:"p",...We},language:"l",fontSize:"fz"},Vo={...ve,paragraph:{_:"p",...$e},language:"l",fontSize:"fz"},jr={...Vo,...ke,paragraph:{_:"p",...Ye}},Yl={...jr,..._e,paragraph:{_:"p",...kt}};var G0={enabled:"e"};function Hi(e){return e?{...G0,value:{_:"v",...e}}:G0}var Qi={...Hi(Ht)};var j0={type:"t"};var Y0={...Hi({})};var Z0={radius:"rd"};var X0={...Hi()};var Yr={...it,src:"s",width:"w",height:"h",alignment:"a",characters:{_:"c",...Ht},isBlob:"iB"},Ui={...Yr,...ye},J0={...Yr,...ve},Af={src:"s",width:"w",height:"h",alignment:"a",isBlob:"iB",caption:{_:"ca",...Qi},zoom:{_:"z",...X0},link:{_:"l",...Y0},...zt,...ve},e1={...Af,...Ao,..._e,rounding:{_:"rn",...Z0},frame:{_:"fr",...j0}};var O3={...Yr,parentCollageKey:"cK"},t1={...Ui,parentCollageKey:"cK"},F3={parentCollageKey:"cK",...Af},K3={parentCollageKey:"cK",...e1},Zl={...it,alignment:"a",images:{_:"is",...O3,length:"l"}},Oe={...Zl,images:{...Zl.images,...zt}},Ct={...Oe,...ye,images:{...Oe.images,...t1}},Lo={...Oe,...ve,images:{...Oe.images,...t1}},Xa={...Lo,...ke},Ja={...Xa,...ke,images:{_:"is",...F3,length:"l"}},Xl={...Ja,..._e,images:{_:"is",...K3,length:"l"}};var Vn={...ye,paragraph:{_:"p",...Ue},continueColor:{_:"cC",color:"c",opacity:"o"},meta:{_:"m",name:"n",data:{_:"md",...Do}}},Vf={...Vn,paragraph:{_:"p",...ut}},es={...Vf,paragraph:{_:"p",...We}},Ln={...es,...ve,paragraph:{_:"p",...$e}},ts={...Ln,...ke,paragraph:{_:"p",...Ye}},o1={...ts,..._e,paragraph:{_:"p",...kt}};var $3="data-key",r1="data-wrapper-key";var n1="player-rich-text-editor",iye=[rr.P,rr.H1,rr.H2,rr.H3,rr.BLOCKQUOTE,rr.PRE];function i1(e,t=$3){for(;e.parentElement;){if(e.hasAttribute(t))return e;e=e.parentElement}return null}var Lf=null,a1=null;function s1(e){Lf=e}function He(e){if(!e.length||e.startsWith("data:")||e.startsWith("blob:"))return e;let t=e;return Lf&&(t=`${Lf}${e}`),a1&&(t=a1(t)),t}var Jl={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...he})}},Of={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...Ue})}},ep={blockMap:{...Of.blockMap,blocks:T({_:"B",...ut})}},dt={blockMap:{...ep.blockMap,blocks:T({_:"B",...We})}},c1={blockMap:{...ep.blockMap,blocks:T({_:"B",...$e})}};var tp={src:"s",type:"t",width:"w",height:"h",title:"T",previewSrc:"p"},op={...tp,...zt},Ff={...op,...Ao};var l1={type:"t",answered:{_:"a",...dt},correct:{_:"c",...dt},incorrect:{_:"i",...dt}};var p1={shuffleAnswers:"s"};var rp={title:{_:"t",...dt},message:{_:"m",...dt},visibility:"v"};var N3={id:"i",text:{_:"t",...dt},correct:"c"},Kf={caseSensitive:"cs",answers:{_:"a",id:"i",text:"t",length:"l"}},$f={id:"i",type:"t",description:{_:"d",...dt},length:"l",attachment:{_:"a",...tp},settings:{_:"s",...p1},content:{_:"c",order:{_:"o",length:"l"},blocks:T({_:"B",...N3}),...Kf},feedback:{_:"f",...l1}},Wi={intro:{_:"i",title:{_:"t",...dt},attachment:{_:"a",...tp},description:{_:"d",...dt}},questions:{_:"q",order:{_:"o",length:"l"},blocks:T({_:"B",...$f})},results:{_:"r",displayType:"d",passed:{_:"p",...rp},failed:{_:"f",...rp},completed:{_:"c",...rp}}},m1={main:{_:"m",attempts:"a",passingScore:"ps",timeLimit:"tl",timeLimitEnabled:"tle",shuffleAnswersEnabled:"sae",shuffleQuestionsEnabled:"sqe",showCorrectAnswersEnabled:"scae"},design:{_:"d",accentColor:"ac",headerFont:"hf",contentFont:"cf"}};var Nf={...$f,attachment:{_:"a",...op}},u1={...Wi,intro:{...Wi.intro,attachment:{_:"a",...op}},questions:{...Wi.questions,blocks:T({_:"B",...Nf})}},d1=m1;var f1=Nf,g1=u1,y1={...d1,advanced:{_:"a",direction:"d"}};var h1=f1,np=g1,zf=y1;var ip=h1,os={...np,intro:{...np.intro,visible:"v"},results:{...np.results,visible:"v"}},rs={...zf,main:{...zf.main,isGraded:"ig"}};var z3={...Kf,answers:{_:"a",blocks:T({_:"b",id:"i",text:"t"}),order:{_:"o",length:"l"}}},H3={id:"i",text:{_:"t",...dt}},Hf={id:"i",text:{_:"t",...dt}},Q3={matches:{_:"ms",blocks:T({_:"b",id:"i",left:{_:"l",...Hf},right:{_:"r",...Hf}}),order:{_:"o",length:"l"}},distractors:{_:"ds",blocks:T({_:"b",...Hf}),order:{_:"o",length:"l"}}},Qf={...ip,content:{...ip.content,blocks:T({...ip.content.blocks.keys,...H3}),...z3,...Q3}},ns={...os,questions:{...os.questions,blocks:T({_:"B",...Qf})}},ap={...rs,main:{...rs.main,showFeedbackEnabled:"sfe"}};var U3={...Qf,attachment:{_:"a",...Ff}},x1={...ns,intro:{...ns.intro,attachment:{_:"a",...Ff}},questions:{...Wi.questions,blocks:T({_:"B",...U3})}},Uye={...ap};function Oo(e,t){return Ir([e],(o,r)=>{let n=r.getState(S1);t(o,n,r)})}var k1=["h1","h2","h3"],C1=["blockquote","pullquote"];var Uf={...ye,longreadQuizId:"lqI",alignment:"a",isLoading:"iL",state:{_:"dt",...os},settings:{_:"ss",main:rs.main}},Wf={...Uf,...ve},is={...Wf,state:{_:"dt",...ns},settings:{_:"ss",main:ap.main}},as={...is,...ke},_1={...as,..._e,state:{_:"dt",...x1}};var B1={...it,src:"s",width:"w",height:"h",alignment:"a",isLoading:"iL",posterSrc:"pSc",paragraph:{_:"p",...he}},mr={...ye,src:"s",width:"w",height:"h",alignment:"a",isLoading:"iL",posterSrc:"pSc",paragraph:{_:"p",...Ue}},ss={...mr,paragraph:{_:"p",...ut}},On={...ss,paragraph:{_:"p",...We}},Fo={...On,...ve,paragraph:{_:"p",...$e}},sp={...Fo,...ke,paragraph:{_:"p",...Ye}},cs={...ke,src:"s",width:"w",height:"h",alignment:"a",isLoading:"iL",posterSrc:"pSc",caption:{_:"ca",...Qi}},cp={...cs,..._e,paragraph:{_:"p",...kt}};var ur={...it,alignment:"a",dividerType:"dT",dividerColor:{_:"dC",color:"c",opacity:"o"},style:"st",paragraph:{_:"p",...he},paragraphStyle:"pS",meta:{_:"m",name:"n",data:{_:"md",...Do}}},dr={...ur,...ye,paragraph:{_:"p",...Ue}},ls={...dr,paragraph:{_:"p",...ut}},Fn={...ls,paragraph:{_:"p",...We}},Ko={...Fn,...ve,paragraph:{_:"p",...$e}},Zr={...Ko,...ke,paragraph:{_:"p",...Ye}},lp={...Zr,..._e,paragraph:{_:"p",...kt}};var Ie={...it,src:"s",width:"w",height:"h",alignment:"a",characters:{_:"c",...Ht}},_t={...Ie,...ye},$o={...Ie,...ve},pp={...$o,...ke},ps={...ke,src:"s",width:"w",height:"h",alignment:"a",caption:{_:"ca",...Qi}},mp={...ps,..._e};var qf={type:"t",image:{_:"i",...Gl},text:{_:"rt",...he},verticalTextAlign:"vta",background:{_:"b",...jl}},Gf={...qf,meta:{_:"m",name:"n",data:{_:"md",...Do}}},jf={...Gf,text:{_:"rt",...Ue}},Yf={...jf,text:{_:"rt",...ut}},Zf={...Yf,text:{_:"rt",...We}},Xf={...Zf,text:{_:"rt",...$e}},Jf={...Xf,text:{_:"rt",...Ye}},v1={...Jf,image:{_:"i",...If},background:{_:"b",...Rf},text:{_:"rt",...kt}},Jr={key:"k",frontSide:{_:"fs",...qf},backSide:{_:"bs",...qf}},q3={...Jr,frontSide:{_:"fs",...Gf},backSide:{_:"bs",...Gf}},G3={...Jr,frontSide:{_:"fs",...jf},backSide:{_:"bs",...jf}},j3={...Jr,frontSide:{_:"fs",...Yf},backSide:{_:"bs",...Yf}},Y3={...Jr,frontSide:{_:"fs",...Zf},backSide:{_:"bs",...Zf}},Z3={...Jr,frontSide:{_:"fs",...Xf},backSide:{_:"bs",...Xf}},X3={...Jr,frontSide:{_:"fs",...Jf},backSide:{_:"bs",...Jf}},J3={...Jr,frontSide:{_:"fs",...v1},backSide:{_:"bs",...v1}},up={key:"k",type:"t",cardsBlockMap:{_:"cbm",order:{_:"o",length:"l"},blocks:T({_:"B",...Jr})},maxCardsInRow:"mcir",cardsLayout:"cl",background:{_:"b",...jl}},yo={...up,cardsBlockMap:{...up.cardsBlockMap,blocks:T({_:"B",...q3})}},Xr={...yo,...ye,cardsBlockMap:{...yo.cardsBlockMap,blocks:T({_:"B",...G3})}},ms={...Xr,cardsBlockMap:{...Xr.cardsBlockMap,blocks:T({_:"B",...j3})}},us={...ms,cardsBlockMap:{...ms.cardsBlockMap,blocks:T({_:"B",...Y3})}},No={...us,...ve,cardsBlockMap:{...ms.cardsBlockMap,blocks:T({_:"B",...Z3})}},dp={...No,...ke,cardsBlockMap:{...No.cardsBlockMap,blocks:T({_:"B",...X3})}},T1={...No,..._e,cardsBlockMap:{...No.cardsBlockMap,blocks:T({_:"B",...J3})},background:{_:"b",...Rf}};var Kn={characters:{_:"c",...Ht},listType:"lT",listViewType:"lVT",counterReset:"cR",...Ni,...ke},fp={characters:{_:"c",...Ht},listType:"lT",listViewType:"lVT",counterReset:"cR",...Ni,..._e};var eo={key:"k",type:"t",characters:{_:"c",...Ht},noteType:"nT"},ds={...eo,customIconColor:{_:"cIC",color:"c",opacity:"o"},customBackgroundColor:{_:"cBC",color:"c",opacity:"o"}},ft={...ds,...ye},zo={...ft,...ve},en={...zo,...ke},gp={...en,..._e};var bt={url:"u",title:"tl",description:"dsc",iconSrc:"icS",imageSrc:"imS",...ye},Ho={...bt,...ve},Qo={...Ho,...ke},b1={...Qo,..._e};var w1={name:"n",color:"c",opacity:"o"},eV={...w1,data:{_:"md",...Do}},E1={key:"k",content:{_:"C",...he,...Yr},meta:{_:"m",...w1}},P1={...E1,verticalTextAlign:"vta",meta:{_:"m",...eV}},M1={...P1,content:{_:"C",...Ue,...Ui}},eg={...M1,content:{_:"C",...ut,...Ui}},tV={...eg,content:{_:"C",...We,...Ui}},I1={...eg,content:{_:"C",...$e,...J0}},R1={...I1,content:{_:"C",...Ye}},oV={...R1,content:{_:"C",...kt}},rV={colsMap:T({_:"cM",...E1})},nV={colsMap:T({_:"cM",...P1})},iV={colsMap:T({_:"cM",...M1})},aV={colsMap:T({_:"cM",...eg})},sV={colsMap:T({_:"cM",...tV})},cV={colsMap:T({_:"cM",...I1})},lV={colsMap:T({_:"cM",...R1})},pV={colsMap:T({_:"cM",...oV})},fs={...it,alignment:"a",colsOrder:"cO",rowsOrder:"rO",rowsMap:T({_:"rM",...rV}),meta:{_:"m",name:"n"}},Bo={...fs,rowsMap:T({_:"rM",...nV})},$n={...Bo,...ye,rowsMap:T({_:"rM",...iV})},tg={...$n,rowsMap:T({_:"rM",...aV})},gs={...tg,rowsMap:T({_:"rM",...sV})},Nn={...gs,...ve,rowsMap:T({_:"rM",...cV})},ys={...Nn,...ke,rowsMap:T({_:"rM",...lV})},D1={...ys,..._e,rowsMap:T({_:"rM",...pV})};var og=0,A1=1024,V1=A1*1024,mV=V1*1024;function L1(e){return Math.round(e*10)/10}function uV(e){return Math.max(og,Math.round(e/A1))}function dV(e){return Math.max(og,L1(e/V1))}function fV(e){return Math.max(og,L1(e/mV))}function O1(e){let t=fV(e);if(t>1)return B("Common.FileSize.ToGb",{volume:t});let o=dV(e);return o>1?B("Common.FileSize.ToMb",{volume:o}):B("Common.FileSize.ToKb",{volume:uV(e)})}var rg={...ye,alignment:"a",horizontalTextAlign:"hta",verticalBlockAlign:"vba",colsOrder:{_:"cO",length:"l"},colsMap:T({_:"cM",blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...Ue,..._t,...ft,...dr,...mr,...Ct,...bt})}})},ng={...rg,colsMap:T({_:"cM",blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...ut,..._t,...ft,...ls,...ss,...Ct,...bt})}})},hs={...ng,colsMap:T({_:"cM",blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...We,..._t,...ft,...Fn,...On,...Ct,...bt,...zi})}})},xs={...hs,...ve,layoutType:"lt",colsMap:T({_:"cM",blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...$e,...$o,...zo,...Ko,...Fo,...Lo,...Ho,...Vo})}})},ig={...xs,colsMap:T({_:"cM",width:"wh",blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...$e,...$o,...zo,...Ko,...Fo,...Lo,...Ho,...Vo})}})},ag={...ig,...ke,layoutType:"lt",colsMap:T({_:"cM",width:"wh",blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...Ye,...pp,...en,...Zr,...sp,...Xa,...Qo,...jr,...Kn})}})},sg={...ag,colsMap:T({_:"cM",width:"wh",blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...Ye,...ps,...en,...Zr,...cs,...Ja,...Qo,...jr,...Kn})}})},F1={...sg,..._e,colsMap:T({_:"cM",width:"wh",blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...kt,...mp,...gp,...lp,...cp,...Xl,...b1,...Yl,...fp})}})};var[W3,Xhe]=Ad("operationHandlerAtom",{}),[S1,Jhe]=Ad("articleOperationHandlerAtom",{});function K1({styles:e,ignoreInlineStyles:t}){return t?le.create({url:e.url}):e}function $1({characters:e,ignoreInlineStyles:t=!1}){if(e.length==0)return[];let o=[{text:e[0].text,styles:K1({styles:e[0].meta,ignoreInlineStyles:t})}];for(let r=1;r<e.length;++r){let n=e[r],i=K1({styles:n.meta,ignoreInlineStyles:t}),a=o.length-1,s=o[a].styles;le.compare(i,s)?o[a].text+=n.text:o.push({text:n.text,styles:i})}return o}var qi=class{constructor(){this._ids={}}generate(t){return ie(this._ids[t])?`${t}_${++this._ids[t]}`:(this._ids[t]=0,t)}};var Uo=class e{constructor(t,o=null){this._block=t,this._element=o}className(){return this._element?`${this._block}__${this._element}`:this._block}getModifierClassName(t){return`${this.className()}_${t}`}getModifierWithValueClassName(t,o){return`${this.getModifierClassName(t)}_${o}`}createChildElementBemInfo(t){return V(!this._element),new e(this._block,t)}};function N1(e,t={}){let o=e.map(n=>n instanceof Uo?n:new Uo(n)),r=o.map(n=>n.className());for(let n of Object.keys(t)){let i=t[n];for(let a of o)i==null?r.push(a.getModifierClassName(n)):r.push(a.getModifierWithValueClassName(n,i))}return r.join(" ")}function yp(e){let t=Tr();return e<=15?"1.72":e<=21||e<=23&&!t?"1.68":e<=31&&t?"1.48":e<=31&&!t?"1.52":"normal"}var Wo=class{constructor({paragraph:t,bemInfo:o,blockBeforeType:r,blockAfterType:n,placeholder:i="",prompt:a="",paragraphIndex:s,direction:c,disableStyles:l=!1}){this._paragraph=t,this._direction=c,this._disableStyles=l,this.blockBeforeType=r||"",this.blockAfterType=n||"",this.paragraphIndex=s,this._isPrompt=!!a,this._className=this._getClassName(o),this.invertBold=k1.includes(this.type()),this.invertItalic=C1.includes(this.type()),this.renderId=t.key+t.viewType,this.placeholder=a||i}_getClassName(t){let o=t||new Uo("paragraph"),r=`${o.className()}`;if(this._disableStyles||(r+=` ${o.getModifierClassName("with-styles")}`,r+=` ${o.getModifierWithValueClassName("type",this.type())}`),r+=` ${o.getModifierWithValueClassName("align",this.textAlign())}`,this._direction&&(r+=` ${o.getModifierWithValueClassName("dir",this._direction)}`),this._paragraph.characters.length===0){let n=this._isPrompt?"prompt":"empty";r+=` ${o.getModifierClassName(n)}`}return r}paragraph(){return this._paragraph}type(){return this._paragraph.viewType}textAlign(){return this._paragraph.textAlign}className(){return this._className}getLineHeightForFontSize(t){return yp(t)}getFontSize(t){if(t==="auto")throw Error("cannot set 'auto' font-size in default paragraph");return t}};var hp={};function gV(e){return hp[e]||(hp[e]={}),hp[e]}function yV(e){delete hp[e]}function hV(e,t,o,r,n){if(!e)return null;let i=e.style,a={},s=new Set,c="",l=1;if(i.forEach(p=>{switch(p.name){case"bold":a["font-weight"]=o?"normal":"bold";break;case"italic":a["font-style"]=t?"normal":"italic";break;case"underline":s.add("underline");break;case"strikethrough":s.add("line-through");break;case"fontSize":{let m=r(p.size);a["font-size"]=q(m);let d=n(m);a["line-height"]=`${d}`;break}case"fontColor":a.color=`${p.color}`;break;case"textHighlightColor":{c=p.color;break}case"textHighlightOpacity":l=p.opacity;break;case"alignment":case"code":break;default:z(p)}}),e.url&&s.add("underline"),s.size&&(a["text-decoration"]=[...s].join(" ")),c&&c!==po){let[p,m,d]=Ae(c);a["background-color"]=`rgba(${p}, ${m}, ${d}, ${l})`}return a}function xV(e,t,o,r){return Gt(e,`:${t}`)`
<sup style=${r}>${{text:o}}</sup>`}function SV(e,t,o,r){return Gt(e,`:${t}`)`
<sub style=${r}>${{text:o}}</sub>`}function kV({rendererKey:e,id:t,text:o,textDecoration:r,alignment:n}){let i={"text-decoration":r};return n==="superscript"?xV(e,t,o,i):SV(e,t,o,i)}function H1({rendererKey:e,id:t,text:o,alignment:r,styles:n}){let i=r?n&&{...n,"text-decoration":null}:n,a=r?kV({rendererKey:e,id:t,text:o,alignment:r,textDecoration:n?n["text-decoration"]:""}):o;return{chunkStyles:i,content:a}}function z1(e){let{rendererKey:t,id:o,attributes:r={},className:n=null}=e,{content:i,chunkStyles:a}=H1(e),s=i instanceof Element?i:{text:i};return Gt(t,`:${o}`)`
<span
	style=${a}
	class=${n}
	data-richtext-inline-code=${r.richtextInlineCode||null}
>${s}</span>`}function CV(e){let{rendererKey:t,id:o,url:r,onOverHandler:n,attributes:i={},className:a=null}=e,{content:s,chunkStyles:c}=H1(e),l=s instanceof Element?s:{text:s};return Gt(t,`:${o}`)`
<a
	href=${r}
	target=_blank
	onmouseover=${n}
	class=${a}
	data-richtext-inline-code=${i.richtextInlineCode||null}
	style=${c}
>${l}</a>`}function cg(e){return!!e&&le.isInlineCodeMeta(e.styles)}function _V(e,t){let o,r,n=cg(e[t-1]),i=cg(e[t]),a=cg(e[t+1]);return i&&(o=Ee("inline-code",i&&!n?"inline-code_start":null,i&&!a?"inline-code_end":null),r={richtextInlineCode:!0}),{className:o,attributes:r}}function Gi(e,t,o=!1,r=!1){let n=e.paragraph(),i=$1({characters:n.characters}),a=[],s=new qi,c=!1,l=gV(e.renderId);if(i.forEach((k,C)=>{let{className:_,attributes:x}=_V(i,C),v=hV(k.styles,e.invertItalic,e.invertBold,e.getFontSize.bind(e),e.getLineHeightForFontSize.bind(e)),b=s.generate(`${e.renderId}_${k.text}`),A=k.text;C==i.length-1&&A.endsWith(`
`)&&(A+=ko.ZERO_WIDTH_SPACE);let K=Re.getAlignment(k.styles.style),U=k.styles.url;U&&(c=!0);let re=U?CV({rendererKey:l,id:b,styles:v,text:A,url:U,alignment:K,onOverHandler:t,attributes:x,className:_}):z1({rendererKey:l,id:b,styles:v,text:A,alignment:K,attributes:x,className:_});a.push(re)}),a.length)c&&yV(e.renderId);else{let k=s.generate(`${e.renderId}_empty`),C=z1({rendererKey:l,id:k,styles:null,text:ko.ZERO_WIDTH_SPACE,alignment:null});a.push(C)}let p=`enter-blockquote-field-${e.paragraphIndex}`,m=`enter-paragraph-field-${e.paragraphIndex}`,d=r||o?null:e.placeholder,g=Gt(l,`:${e.renderId}`),y=e.className(),h=!r&&!o;switch(n.viewType){case"h1":return g`<h1 class=${y} data-key=${n.key} contenteditable=${h}>${a}</h1>`;case"h2":return g`<h2 class=${y} data-key=${n.key} contenteditable=${h}>${a}</h2>`;case"h3":return g`<h3 class=${y} data-key=${n.key} contenteditable=${h}>${a}</h3>`;case"blockquote":case"pullquote":return g`<blockquote class=${y} data-key=${n.key} data-at=${j(p)} contenteditable=${h}>${a}</blockquote>`}return g`
<p
	class=${y}
	data-key=${n.key}
	data-placeholder=${d}
	data-at=${j(m)}
	contenteditable=${h}
>${a}</p>`}var BV={tooltipLink:"_UjHsFF"},Q1=BV;var vV=u(Q1);function TV(e){let t={},o=[];return le.hasStyle(e,"bold")&&(t["font-weight"]="bold"),le.hasStyle(e,"italic")&&(t["font-style"]="italic"),le.hasStyle(e,"underline")&&o.push("underline"),le.hasStyle(e,"strikethrough")&&o.push("line-through"),o.length&&(t["text-decoration"]=o.join(" ")),t}function bV(e,{alignment:t,style:o,text:r}){return t==="superscript"?e`<sup style=${o}>${r}</sup>`:e`<sub style=${o}>${r}</sub>`}function U1(e,{style:t,text:o,alignment:r}){return r?bV(e,{alignment:r,text:o,style:t}):e`<span style=${t}>${o}</span>`}function wV(e,{style:t,text:o,url:r,urlTooltipEnabled:n,alignment:i}){let a=P();Ft({html:e,elementRef:a,text:{html:`<a href=${Od(r)} class=${vV.tooltipLink} target="_blank">${Od(r)}</a>`},size:"small",show:n,side:"bottom",stayOnHover:!0});let s=f(U1,{alignment:i,text:o,style:t});return e`<a href='${r}' save-ref=${a} target=_blank>${e(s)}</a>`}function EV(e,t,o){let r=TV(e.styles),n=Re.getAlignment(e.styles.style),i=e.styles.url,a=e.text;e.isLast&&a.endsWith(`
`)&&(a+=ko.ZERO_WIDTH_SPACE);let s=t.generate(`chunk_${e.text}${i?"_url":"_text"}`);return i?se(s,wV,{style:r,text:a,url:i,urlTooltipEnabled:o,alignment:n}):se(s,U1,{style:r,text:a,alignment:n})}function PV(e,t,o){t.length||t.push({text:ko.ZERO_WIDTH_SPACE,styles:le.create(),isLast:!0});let r=new qi;return e.renderAll(t,n=>EV(n,r,o))}function W1(e,{paragraph:t,placeholder:o="",className:r,autotestData:n,urlTooltipEnabled:i}){let a=$.getTextRuns(t),s=a.length?"":o,c=r&&s?r.split(" ").map(l=>`${l} ${l}_empty`).join(" "):r;return e`<p
	class=${c}
	data-key=${t.key}
	data-placeholder=${s}
	data-at=${j(n)}
>${PV(e,a,i)}</p>`}var MV={content:"_89CM_B",h1:"_6szK0C",h2:"_qPfMmn",h3:"_vib89W",text:"_bUYnv-",defaultParagraph:"_P81rPv"},q1=MV;var tn=u(q1);var Nxe={content:tn.content,h1:tn.h1,h2:tn.h2,h3:tn.h3,text:tn.text,ul:tn.text,ol:tn.text},G1=tn.defaultParagraph;function Ss({html:e,side:t,component:o,closeOnOverlayClick:r,modalOverlayType:n,onBeforeClose:i}){let[a,s]=N(null),c=I(()=>{i&&i(),s(null)},[i]);return Oi({html:e,side:t,createModal:()=>a&&f(o,a),close:r?()=>c():void 0,modalOverlayType:n}),D(()=>({open:s,close:()=>c()}),[c])}function j1(e,t,o=!1){let r=E({ref:e,select:t});M(()=>{let{ref:n,select:i}=r.current;if(i){n.current.focus({preventScroll:o});let a=n.current.value,s=i=="all"?0:a.length;n.current.setSelectionRange(s,a.length,"backward"),n.current.scrollLeft=0}},[o])}var IV={textField:"_jxYS9Y",textField_type_default:"_BWsbSx",textField_type_suffix:"_TfdYnw",textField_type_light:"_LC8cIt",input:"_ygqqfU",input_type_default:"_q5REqN",input_password:"_byDaUl",input_type_suffix:"_ynDEZR",input_type_light:"_yA6LfY",input_size_small:"_OMKota",input_size_medium:"_4inMJB",input_size_large:"_Y3uCXw",input_size_xLarge:"_C9_QFW",textField_error:"_a0c1HC",textField_disabled:"_dRZEKE",textField_focused:"_Equlrr",suffix:"_T4obaQ",eyeWrapper:"_ISGv98",counter:"_Xpj8XE"},Y1=IV;var ks=u(Y1);function RV(e,{value:t,onChange:o,onInput:r,onFocus:n,onBlur:i,onEnter:a,placeholder:s,state:c="normal",maxLength:l,selectionOnConnect:p,validation:m,type:d,inputType:g,size:y="medium",displayType:h,readOnly:k,autocomplete:C,preventScrollOnFocus:_,autotestData:x,onDisplayedValueChanged:v}){let b=Er(),A=E(!0),K=E(t),U=te(m),re=I(()=>{if(!U.current||!U.current.onValidStateChange)return;let Ce=U.current.validate(b.current.value);Ce!=A.current&&(A.current=Ce,U.current.onValidStateChange(Ce,b.current.value))},[b,U]);ee(()=>{(b.current.value!==t||!t)&&(b.current.value=t,v(t),re())},[b,t,re,v]),M(()=>{m&&m.restoreOnSubmitInvalid==="value"&&!m.validate(t)&&console.error("ERROR: value is not valid")},[t,m]),G(b,"blur",()=>{if(m&&(m.onSubmitInvalid||m.restoreOnSubmitInvalid)&&!m.validate(b.current.value))switch(m.onSubmitInvalid&&m.onSubmitInvalid(b.current.value),m.restoreOnSubmitInvalid){case"value":b.current.value=K.current||"",v(b.current.value);break;case"focus":b.current.focus(),b.current.setSelectionRange(0,b.current.value.length);break}else K.current=b.current.value,o(b.current.value)}),G(b,"input",()=>{r&&r(b.current.value),m&&m.onValidStateChange&&re(),v(b.current.value)}),G(b,"focus",()=>n&&n()),G(b,"blur",()=>i&&i()),ht(b,qe.ENTER,()=>{a&&a(),b.current.blur()}),j1(b,p,_);let ge=ks.input.withMods({size:y,type:h,password:d==="password"});return e`
<input
	type=${g}
	class=${ge}
	placeholder=${s}
	disabled=${c=="disabled"}
	maxlength=${l}
	readonly=${k}
	save-ref=${b}
	autocomplete=${C}
	data-at=${j(x)}
>`}function DV(e,{suffix:t}){return e`
<div class=${ks.suffix}>
	${t}
</div>
`}function AV(e,{showPassword:t,setShowPassword:o}){let r=E();G(r,"click",()=>o(!t));let n=t?f(A0,{}):f(D0,{});return e`
<div
	save-ref=${r}
	class=${ks.eyeWrapper}
>
	${e(n)}
</div>`}function Z1(e,t){let{displayType:o,state:r}=t,[n,i]=N(!1),[a,s]=N(t.value.length),c=I(l=>s(l.length),[]);return e`
<div class=${ks.textField.withMods({type:o,focused:n,error:r=="error",disabled:r=="disabled"})}>
	${e(RV,{...t,onDisplayedValueChanged:c,inputType:t.type==="password"&&!t.showPassword?"password":"text",onFocus:()=>{t.onFocus&&t.onFocus(),i(!0)},onBlur:()=>{t.onBlur&&t.onBlur(),i(!1)}})}
	${e.renderIf(AV,()=>t.type==="password"&&{showPassword:t.showPassword,setShowPassword:t.setShowPassword})}
	${e.renderIf(DV,()=>t.displayType==="suffix"&&{suffix:t.suffix})}
	${e.renderIf(L0,()=>t.maxLength!==void 0&&t.displayType!=="suffix"&&{maxCount:t.maxLength,count:a},ks.counter)}
</div>`}function X1(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.5 4h-11A1.5 1.5 0 0 0 3 5.5v9A1.5 1.5 0 0 0 4.5 16h11a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 15.5 4zm-11-2A3.5 3.5 0 0 0 1 5.5v9A3.5 3.5 0 0 0 4.5 18h11a3.5 3.5 0 0 0 3.5-3.5v-9A3.5 3.5 0 0 0 15.5 2h-11zm.75 5.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0zm7.474 2.206a1 1 0 0 1 1.21.007l1.566 1.205V14.5h-11v-1.334l3.38-1.762a1 1 0 0 1 .908-.008L10 12l2.724-2.044z" fill="currentColor"/></svg>
`}function on(e){Fi({...e,tooltipProps:{contentType:"text",text:e.text,type:e.type,size:e.size}})}function J1(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10 17a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm9-7a9 9 0 1 1-18 0 9 9 0 0 1 18 0zm-7.65-3.15a1.35 1.35 0 1 1-2.7 0 1.35 1.35 0 0 1 2.7 0zM9 9.15a.85.85 0 0 0 0 1.7h.65v1.8h-1v1.7h3.7v-1.7h-1V10a.85.85 0 0 0-.85-.85H9z" fill="currentColor"/></svg>
`}var VV={area:"_AaXBxH",button:"_QpbrqN",button_style_default:"_CSoGfp",button_style_dark:"_mDrtuB",icon:"_Ahc8pl",button_size_xSmall:"_xaQkjw",button_size_small:"_lhnBjL",button_size_medium:"_3wWxfp",button_size_large:"_dx7IHI"},e_=VV;var lg=u(e_);function t_(e,{onClick:t,style:o="default",icon:r=f(ki),size:n="small",autotestId:i}){function a(s){s.defaultPrevented||(s.preventDefault(),t())}return e`
<div
	class=${lg.area}
	onclick=${a}
	data-at=${j({[Lx]:"OverlayButton",[Ra]:i})}
>
	<button
		class=${lg.button.withMods({style:o,size:n})}
		onclick=${a}
	>
		${e(r,lg.icon)}
	</button>
</div>
`}var LV={text:"_1iI0gT",text_multiline:"_55LJmp"},o_=LV;var OV=u(o_);function xp(e,{text:t,maxLines:o,disableTooltip:r,direction:n,autotestData:i,className:a}){let s=P(),[c,l]=mi(s,[t,o]);return Ft({html:e,elementRef:s,text:t,show:!r&&(c||l)}),ee(()=>{o>1&&s.current.setAttribute("style",`-webkit-line-clamp: ${o};`)},[o,s]),e`
<div
	save-ref=${s}
	class=${Xe(OV.text.withMods({multiline:o>1}),a)}
	data-at=${j(i)}
	dir=${n}
>${t}</div>`}var FV={badge:"_qnJn3c",badge_size_default:"_MBal9i",badge_size_small:"_W7v7-8"},r_=FV;var KV={badge:"_w2Ahqh",badge_size_default:"_gaHM7u",badge_size_small:"_hLvtEg",badge_type_neutral:"_MWNLY0",icon:"_dvk_pU",badge_type_info:"_Ei4sLi",badge_type_success:"_aA6GzC",badge_type_warning:"_OxeBED",badge_type_critical:"_9g0EHd",badge_type_new:"_JMH3cG",badge_type_accent:"_Z6V_sI",text:"_3beckO"},n_=KV;var $V={badge:"_X9rxOu",badge_type_neutral:"_6c5Dx7",badge_type_info:"_IS2PqX",badge_type_success:"_y5NJH8",badge_type_warning:"_LNnrgC",badge_type_critical:"_Y01hk4",badge_type_new:"_Bkj0rf",badge_type_accent:"_PtyPky",icon:"_HRg4N2",text:"_x70Oha"},i_=$V;var NV={badge:"_ferO3R",badge_type_neutral:"_lefYos",badge_type_info:"_0JCgMK",badge_type_success:"_ge2LzT",badge_type_warning:"_etIkFZ",badge_type_critical:"_UnTHVn",badge_type_new:"_YQ-WIF",badge_type_accent:"_dwngNY",icon:"_7yw4SA",text:"_EIouqR"},a_=NV;var zV=u(r_),HV=u(i_),QV=u(a_),UV=u(n_);function s_(e,{type:t,size:o,style:r,text:n,icon:i,autotestData:a,direction:s}){let c=J(r,{primary:HV,secondary:QV,complementary:UV}),l=Ee(zV.badge.withMods({size:o}),c.badge.withMods({type:t,size:o}));return e`
<div
	class=${l}
	data-at=${j(a)}
	dir=${s}
>
	${e(i,c.icon)}
	${e(vt,{text:n},c.text)}
</div>`}var WV=8,qV=Ne(null);function GV(e,t){let{width:o}=e.getBoundingClientRect();t.style.width=q(o)}function c_(e){return{x:e&&typeof e.x=="number"?e.x:0,y:e&&typeof e.y=="number"?e.y:WV}}function Sp({html:e,anchorRef:t,opened:o,onClose:r,createPopover:n,offset:i,side:a,align:s,syncWithComponentWidth:c=!1,layer:l=Po("popover"),anchorTrackingAction:p="close"}){let m=ne(qV),d=nl({html:e,opened:o,layer:l,onClose:r,createOverlay:n,beforeMount:y=>c&&GV(t.current,y),getAppearKeyframes:y=>il({element:y,side:Aa({...Mi({rootRef:m||void 0,relatedRef:t,overlayRef:{current:y}}),offset:c_(i),align:s||"center",side:a||"bottom"})}),getOverlayPosition:y=>$c({...Mi({rootRef:m||void 0,relatedRef:t,overlayRef:{current:y}}),offset:c_(i),align:s||"center",side:a||"bottom"}),anchorTracking:{anchorRef:t,action:p}}),g=te(d);return Kl({relatedRef:t,popoverRef:g,onClose:r}),d}var l_=50;function p_(e){let t=E(),{opened:o,hideInstantly:r}=zl({overlayRef:t,anchorRef:e.anchorRef,stayOnHover:!0,appearDelay:l_,hideDelay:l_});return t.current=Sp({...e,opened:e.opened||o,onClose:r}),o}function jV(e,{createControl:t,createPopover:o,opened:r,onClose:n,syncWithComponentWidth:i,offset:a,side:s,align:c,anchorTrackingAction:l}){let p=P();return Sp({anchorRef:p,createPopover:o,html:e,opened:r,onClose:n,syncWithComponentWidth:i,side:s,align:c,offset:a,anchorTrackingAction:l}),pe(e,t(),p)}function YV(e,{createControl:t,createPopover:o,syncWithComponentWidth:r,offset:n,side:i,align:a,onHoverChanged:s,anchorTrackingAction:c}){let l=P(),p=te(s),m=p_({anchorRef:l,createPopover:o,html:e,syncWithComponentWidth:r,side:i,align:a,offset:n,anchorTrackingAction:c});return M(()=>{p.current&&p.current(m)},[m,p]),pe(e,t(),l)}function m_(e,t){switch(k0("controlType",t.controlType),t.controlType){case"hover":return YV(e,t);case"state":return jV(e,t);default:throw z(t),new Error}}function d_(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="m6.293 10.707 3 3a1 1 0 0 0 1.414 0l3-3a1 1 0 0 0-1.414-1.414L11 10.586V3a1 1 0 1 0-2 0v7.586L7.707 9.293a1 1 0 0 0-1.414 1.414zM5 15a1 1 0 1 0-2 0v1a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-1a1 1 0 1 0-2 0v1H5v-1z" fill="currentColor"/></svg>
`}var ZV={input:"_4wlLF8"},f_=ZV;var XV=u(f_);function kp(e,{browseRef:t,onChange:o,accept:r,multiple:n,autotestId:i}){let a=Er();ee(()=>{t.current=()=>a.current.click()},[t,a]);function s(){let l=a.current,p=l.files?[...l.files]:[];l.value="",o(p)}function c(l){l.stopPropagation()}return e`
<input
	save-ref=${a}
	class=${XV.input}
	type='file'
	accept=${r==null?void 0:r.join(", ")}
	multiple=${n}
	onchange=${s}
	onclick=${c}
	data-at=${j(i)}
>`}function g_(){return E(()=>{})}function JV(e,t){return I0(e,{content:f(S0,t),width:t.width,height:t.height})}function y_(e,t){return f(JV,e,t)}function Cp(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.52 2.729a1 1 0 1 0-1.944-.47l-.84 3.466a1 1 0 0 0 .622 1.171L7.4 8.036a1 1 0 0 0 .701-1.873l-.85-.319A5.75 5.75 0 1 1 4.5 10.75a1 1 0 1 0-2 0 7.75 7.75 0 1 0 3.674-6.591l.346-1.43z" fill="currentColor"/></svg>
`}var eL={wrapper:"_aoEqYZ",wrapper_disabled:"_7aPqfs",wrapper_size_small:"_1WMBwL",wrapper_size_large:"_KCTsle",input:"_eT-bB8",input_size_small:"_EEEwKM",input_size_large:"_po66lb"},h_=eL;var x_=u(h_);function S_(e,{id:t,checked:o,onCheckedRequest:r,disabled:n=!1,size:i,onFocusedChange:a,autotestData:s}){let c=Er();ee(()=>{c.current.checked=o},[c,o]);function l(p){!p.defaultPrevented&&!o&&(p.preventDefault(),r())}return Mo(c,{onFocusedChange:a}),e`
<div
	class=${x_.wrapper.withMods({disabled:n,size:i})}
	onclick=${n?void 0:l}
>
	<input
		save-ref=${c}
		class=${x_.input.withMods({size:i})}
		id=${t}
		type="radio"
		disabled=${n}
		onclick=${l}
		data-at=${j(s)}
	>
</div>`}function k_(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1H8zM6 4H3a1 1 0 0 0 0 2v10a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3V6a1 1 0 1 0 0-2h-3a3 3 0 0 0-3-3H9a3 3 0 0 0-3 3zm9 12V6H5v10a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1zm-7-1a1 1 0 0 1-1-1V9a1 1 0 0 1 2 0v5a1 1 0 0 1-1 1zm3-1a1 1 0 1 0 2 0V9a1 1 0 1 0-2 0v5z" fill="currentColor"/></svg>
`}function C_(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="m5 7.5 5 5 5-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
`}function __(e,t){return e.top>t.top?"top":e.bottom<t.bottom?"bottom":"none"}function Cs({setScrollValue:e,initialValue:t,delta:o,duration:r,beforeAnimation:n,afterAnimation:i}){return o?pc({duration:r,timingFn:mc,reducer:{animate:s=>{e(t+o*s)},complete:()=>{},changedProperties:[]},beforeAnimation:n,afterAnimation:i}):(i&&i(),null)}function ji({element:e,container:t,duration:o,scrollDirection:r,bounds:n,additionalOffset:i=0,beforeAnimation:a,afterAnimation:s}){let c=e.getBoundingClientRect(),l=0;r==="top"&&n.top>c.top?l=c.top-n.top+i:r==="bottom"&&n.bottom<c.bottom&&(l=c.bottom-n.bottom+i),Cs({initialValue:t.scrollTop,setScrollValue:p=>{t.scrollTop=p},delta:l,duration:o,beforeAnimation:a,afterAnimation:s})}function B_(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.212 1 .485.875 1.37 2.474a1 1 0 1 1-1.748.97l-.228-.412a2.5 2.5 0 1 0 3.5-1.582 1 1 0 0 1 .874-1.799 4.5 4.5 0 1 1-6.317 2.905l-.315.175a1 1 0 0 1-.97-1.75l2.474-1.37.875-.486zM2 6.5A1.5 1.5 0 0 1 3.5 5H7a1 1 0 0 0 0-2H3.5A3.5 3.5 0 0 0 0 6.5v8A3.5 3.5 0 0 0 3.5 18h10a3.5 3.5 0 0 0 3.5-3.5V13a1 1 0 0 0-2 0v1.5a1.5 1.5 0 0 1-1.5 1.5h-10A1.5 1.5 0 0 1 2 14.5v-8zm10.445 3.613a1 1 0 0 0-1.307-.092L8.5 12l-1.178-.587a1 1 0 0 0-.96.037L3.5 13.166V14.5h10v-3.332l-1.055-1.055zM4.75 10.5a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5z" fill="currentColor"/></svg>
`}var tL={imageSelection:"_JJ_p_3",imageContainer_origin:"_TQwCZa",imageContainer_fill:"_z3W7IP",image:"_oiHyIp",image_decoration_none:"_XFAMOW",image_decoration_border:"_APipmX",image_decoration_shadow:"_YyUcoy",image_radius_none:"_Fnod3g",image_radius_xsmall:"_LzaU_B",image_radius_small:"_0M-1ec",image_radius_medium:"_Qxo0d1",image_radius_large:"_CwL-yh",image_radius_xlarge:"_dPxLsK",image_radius_xxlarge:"_oL5d93",image_radius_xxxlarge:"_JfIIub",image_withZoom:"_OPsiBs",image_withLink:"_f-gu5K",imageContainer_backdrop:"_ClvVSz"},v_=tL;function oL(e,t){let o=e.width/t.width,r=e.height/t.height;return o>1||r>1?Math.max(o,r):1}function _p(e,t,o){let[r,n]=N(1),i=D(()=>St(e),[e]),[a,s]=Lt(t);return M(()=>{if(t.current){let c=t.current,l={width:o?o.width:c.clientWidth,height:o?o.height:c.clientHeight};n(oL(i,l))}},[t,i,o,a,s]),r}var pg=u(v_);function rL(e){return e`
<img
	class=${pg.imageSelection}
	src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
	tabIndex="-1"
	aria-hidden=true
	draggable=false
/>
`}function nL(e,{image:t,onClick:o,withImageSelection:r,withSize:n,withZoom:i,withLink:a,withFullImageUrl:s,outContainerRef:c,containerLimit:l,isPlayer:p,decoration:m,radius:d}){let g=P(),y=D(()=>St(t),[t]),h=_p(t,c,l),k=n?y.width/h:void 0,C=n?y.height/h:void 0,_=Ck(t),x=s?t.src:He(t.src),v=pg.image.withMods({withZoom:p&&!!i,withLink:p&&!!a,radius:typeof d=="string"?d:"none",decoration:m!=null?m:"none"}),A={...k&&C?{width:`${k}px`,height:`${C}px`}:{},background:`url(${x}) no-repeat`,"background-size":`${_.width}% ${_.height}%`,"background-position":`${_.positionX}% ${_.positionY}%`};return e`
<div
	save-ref=${g}
	class=${v}
	style=${A}
	onclick=${o}
>
	${e.renderIf(rL,()=>r)}
</div>
`}function iL(e,{image:t,withSize:o,withBackdrop:r,withImageSelection:n,withZoom:i,withLink:a,withFullImageUrl:s,outContainerRef:c,containerLimit:l,className:p="",onClick:m,isPlayer:d,radius:g,decoration:y}){let h=P(),k=Ee(pg.imageContainer.withMods({fill:!o,origin:!!o,backdrop:!!r}),p);return e`
<div class=${k} save-ref=${h}>
	${e(nL,{image:t,withZoom:i,withLink:a,withSize:o,withImageSelection:n,withFullImageUrl:s,onClick:m,outContainerRef:c!=null?c:h,containerLimit:l,isPlayer:d,radius:g,decoration:y})}
</div>
`}function T_(e,{image:t,isPlayer:o=!1,...r}){let n=D(()=>{var a,s;return{...t,crop:(a=t.crop)!=null?a:wn(),clip:(s=t.clip)!=null?s:Nr}},[t]),i={...r,image:n,isPlayer:o};return pe(e,f(iL,i))}function to(e){var t;return(t=e.editedSrc)!=null?t:e.src}function gr(e,{component:t,tooltipText:o,size:r,stayOnHover:n,show:i,side:a,align:s,offset:c,disablePointer:l}){let p=E();return on({html:e,anchorRef:p,text:o,size:r,stayOnHover:n,show:i,side:a,align:s,offset:c,disablePointer:l}),pe(e,t,p)}function b_(e){Fi({...e,tooltipProps:{contentType:"rich",type:e.type,content:e.content,size:e.size}})}var aL=500;function w_({itemRef:e,containerRef:t,scrollDuration:o=aL,additionalOffset:r,afterScroll:n}){let i=t.current,a=e.current,s=i.getBoundingClientRect(),c=a.getBoundingClientRect(),l=r==="top"?s.height-c.height:0,p={top:s.top,bottom:s.bottom},m=__(s,c);ji({element:a,container:i,duration:o,scrollDirection:m,bounds:p,additionalOffset:l,afterAnimation:n})}function E_(e,t,o,r){let n=E(window),i=Sc(),a=i?qe.FF_DASH:qe.DASH,s=i?qe.FF_EQUALS:qe.EQUALS;ht(n,a,t,r),ht(n,s,e,r),ht(n,qe.NUM_MINUS,t,r),ht(n,qe.NUM_PLUS,e,r),ht(n,qe.ESC,o,r)}var sL={fallbackImage:"_WUGHHd"},P_=sL;var cL=u(P_);function M_(e){return e`<div class=${cL.fallbackImage} />`}var lL={container:"_4280yd",container_decoration_none:"_q_Byxs",container_decoration_border:"_frTMo_",container_decoration_shadow:"_7YabbA",container_transparent:"_fHzlWJ",container_radius_none:"_p_e_RQ",container_radius_xsmall:"_ALV8We",container_radius_small:"_Troe0c",container_radius_medium:"_IAFl6g",container_radius_large:"_FD2URb",container_radius_xlarge:"_o4dJts",container_radius_xxlarge:"_9YTUyR",container_radius_xxxlarge:"_1jw0u3",image:"_AE0ZBf",image_loaded:"_NkXF5i",image_loading:"_jU5NS3",image_animated:"_a2ZzIp",imageFadeIn:"_uDH4Oa",tiledImage:"_Cr9lro"},I_=lL;var R_=u(I_),pL=50;var mL="loading";function D_(e,{width:t,height:o,src:r,fallback:n=f(M_),decoration:i,radius:a,position:s="center",alt:c="",fit:l="none",transparentBackground:p=!1,loading:m="lazy",imageRef:d}){let[g,y]=Nh(()=>(ir(r),mL),[r]),[h,k]=N(!1),C=E(),_=I(()=>{y("loaded")},[y]),x=I(()=>{y("failed")},[y]);fL({ref:C,onLoad:_,onError:x,src:r,loading:m}),M(()=>{let K=setTimeout(()=>{g==="loading"&&k(!0)},pL);return()=>clearTimeout(K)},[g,k]);let v=R_.container.withMods({transparent:p,decoration:i||"none",radius:typeof a=="string"?a:"none"}),b=R_.image.withMods({loaded:g==="loaded",loading:h,animated:h&&g==="loaded"}),A={width:typeof t=="number"?q(t):t,height:typeof o=="number"?q(o):o,...gL(a)};return e`
<div
	class=${v}
	style=${A}
	save-ref=${C}
>
	${e.switch(()=>g==="failed"?n:l==="tile"?f(dL,{width:t,height:o,src:r,containerClassName:v,imageClassName:b,fit:l,position:s,imageRef:d}):f(uL,{width:t,height:o,src:r,containerClassName:v,imageClassName:b,fit:l,position:s,alt:c,imageRef:d}))}
</div>
`}function uL(e,{width:t,height:o,src:r,imageClassName:n,fit:i,position:a,alt:s,imageRef:c}){let l={width:typeof t=="number"?q(t):t,height:typeof o=="number"?q(o):o,"object-fit":i,"object-position":a};return e`
<img
	style=${l}
	src=${r}
	alt=${s}
	class=${n}
	save-ref=${c}
/>
`}function dL(e,{width:t,height:o,src:r,imageClassName:n,fit:i,position:a,imageRef:s}){let c={width:typeof t=="number"?q(t):t,height:typeof o=="number"?q(o):o,"background-image":`url("${r}")`,"background-repeat":"repeat","object-fit":i,"object-position":a};return e`
<div
	class=${n}
	style=${c}
	save-ref=${s}
/>`}function fL({ref:e,src:t,onLoad:o,onError:r,loading:n}){let i=E(!0),a=I(s=>{Ea(s).then(()=>{o()}).catch(r),i.current=!1},[r,o]);$l({ref:e,onIntersect:()=>n==="lazy"&&a(t)}),M(()=>{n==="eager"&&a(t)},[a,n,t]),M(()=>{i.current||a(t)},[a,t])}function gL(e){if(!e||typeof e=="string")return{};if(typeof e=="number")return{"border-radius":`${e}px`};let t=o=>o?typeof o=="string"?`var(--radius-${o})`:`${o}px`:null;return{"border-start-start-radius":t(e.startStart),"border-start-end-radius":t(e.startEnd),"border-end-start-radius":t(e.endStart),"border-end-end-radius":t(e.endEnd)}}function A_(e){return!e.match(/.gif$/ig)}function V_({crop:e,width:t}){return e?t-e.left-e.right:t}function L_({crop:e,height:t}){return e?t-e.top-e.bottom:t}var yL={container:"_W80Q0y",imageContainer_origin:"_e9mplc",imageContainer_fill:"_xr7exL",image:"_ONvExq",image_decoration_none:"_ROYlxI",image_decoration_border:"___rWGt",image_decoration_shadow:"_kkvFqO",image_withZoom:"_aLeAhs",image_withLink:"_9laeQ4",image_hidden:"_8pXY4s"},O_=yL;function F_(e,t){let[o,r]=N(!1),[n,i]=N(e.editedSrc),a=E(!1);return M(()=>{let s=e.crop;s&&!rf(s)&&!e.editedSrc&&!a.current?(a.current=!0,_k({...e,crop:s,src:t?e.src:He(e.src)}).then(l=>{a.current=!1,r(!0),i(URL.createObjectURL(l))})):(i(to(e)),r(!1))},[e,i,t]),{cropped:o,src:n}}var mg=u(O_);function ho(e,{image:t,...o}){let r=kL(t),n=Bk(t)&&!t.editedSrc,i=!A_(t.src)&&n,a={...o,image:r,needRuntimeCrop:n};return e`
<div class=${mg.container}>
	${e.renderIf(T_,()=>i&&a)}
    ${e.renderIf(hL,()=>!i&&a)}
</div>`}function hL(e,{image:t,isPlayer:o=!1,withFullImageUrl:r=!1,needRuntimeCrop:n,...i}){let{src:a,cropped:s}=F_(t,r),c=D(()=>{var l;return{src:(l=a!=null?a:t.editedSrc)!=null?l:t.src,width:V_(t),height:L_(t),crop:wn(),clip:Nr}},[t,a]);return pe(e,f(xL,{...i,image:c,isPlayer:o,withFullImageUrl:s,hidden:n&&!s}))}function xL(e,{className:t="",outContainerRef:o,withSize:r,...n}){let i=P(),a=Ee(mg.imageContainer.withMods({fill:!r,origin:!!r}),t);return e`
<div class=${a} save-ref=${i}>
	${e(SL,{outContainerRef:o!=null?o:i,withSize:r,...n})}
</div>
`}function SL(e,{image:t,onClick:o,outContainerRef:r,containerLimit:n,withFullImageUrl:i,withSize:a,withZoom:s,withLink:c,withBackdrop:l,isPlayer:p,radius:m,decoration:d,fit:g,position:y,imageRef:h,hidden:k}){let C=_p(t,r,n),_=a?t.width/C:td(100),x=a?t.height/C:td(100),v=to(t),b={width:_,height:x};return e`
<div
	class=${mg.image.withMods({withZoom:p&&!!s,withLink:p&&!!c,decoration:d!=null?d:"none",hidden:k})}
	style=${b}
	onclick=${o}
>
	${e(D_,{width:_,height:x,src:i?v:He(v),transparentBackground:!l,fit:g!=null?g:"contain",position:y,imageRef:h,radius:m})}
</div>
`}function kL({src:e,editedSrc:t,height:o,width:r,crop:n,clip:i}){let a=Ta(e),s=E(e);return D(()=>((a==null?void 0:a.startsWith("blob:"))&&!e.startsWith("blob:")?s.current=a:(t||e!==a)&&(s.current=e),{src:s.current,editedSrc:t,width:r,height:o,crop:n,clip:i}),[i,n,t,o,a,e,r])}function K_(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M11 3a1 1 0 1 0-2 0v6H3a1 1 0 0 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3z" fill="currentColor"/></svg>
`}function z_(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M16.293 2.293a1 1 0 1 1 1.414 1.414L14.414 7H16a1 1 0 1 1 0 2h-4a1 1 0 0 1-1-1V4a1 1 0 1 1 2 0v1.586l3.293-3.293zm-14 14a1 1 0 1 0 1.414 1.414L7 14.414V16a1 1 0 1 0 2 0v-4a1 1 0 0 0-1-1H4a1 1 0 1 0 0 2h1.586l-3.293 3.293zM18 17v-4a1 1 0 1 0-2 0v3h-3a1 1 0 1 0 0 2h4a1 1 0 0 0 1-1zM3 2a1 1 0 0 0-1 1v4a1 1 0 0 0 2 0V4h3a1 1 0 0 0 0-2H3z" fill="currentColor"/></svg>
`}function H_(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 10h14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
`}function ug(e,t,o,r){let n=Math.abs(o.width-window.innerWidth)/2/r,i=-n,a=Math.abs(o.height-window.innerHeight)/2/r,s=-a,c=Bt(e,i,n),l=Bt(t,s,a);return{fittedX:c,fittedY:l}}function Bp(e,t,o,r,n){let i=o.x+(e.x-t.x)/n,a=o.y+(e.y-t.y)/n,{fittedX:s,fittedY:c}=ug(i,a,r,n);return{x:s,y:c}}function vp(e,t){let o=e.current.offsetWidth*t,r=e.current.offsetHeight*t;return{horizontalOverflow:o>window.innerWidth,verticalOverflow:r>window.innerHeight}}function Tp(e,t){let o=E({horizontalOverflow:!1,verticalOverflow:!1});return M(()=>{o.current=vp(e,t)},[e,o,t]),o}function Q_(e,t){M(()=>{function o(r){r.deltaY>0?t():e()}return window.addEventListener("wheel",o),()=>{window.removeEventListener("wheel",o)}},[t,e])}function CL(e,t,o,r,n){let i=E({x:0,y:0}),a=E(r),s=te(r),c=E({width:0,height:0}),l=te(n),p=Tp(t,o);M(()=>{let m=null,d=null,g=null,y=()=>{pi([d,g])},h=C=>{let _=C,x=l.current,v=s.current,b={x:_.clientX,y:_.clientY};mh(C)?(C.preventDefault(),v=Bp(b,i.current,a.current,c.current,o)):y(),x({x:p.current.horizontalOverflow?v.x:s.current.x,y:p.current.verticalOverflow?v.y:s.current.y})},k=C=>{let _=C,x=t.current.getBoundingClientRect();c.current={width:x.width,height:x.height},a.current=s.current,i.current={x:_.clientX,y:_.clientY},C.preventDefault(),g=wr(window,"mouseup",y),d=wr(window,"mousemove",h)};return(p.current.horizontalOverflow||p.current.verticalOverflow)&&(m=wr(t.current,"mousedown",k)),()=>{pi([m,d,g])}},[o,s,t,l,p])}function U_(e,t,o,r,n,i,a,s){Q_(i,a),E_(i,a,s),CL(e,t,o,r,n)}function _L(e){let t={x:e[0].pageX,y:e[0].pageY},o={x:e[1].pageX,y:e[1].pageY};return[t,o]}function dg(e){if(e.length===2){let[t,o]=_L(e);return Math.sqrt(Math.pow(o.x-t.x,2)+Math.pow(o.y-t.y,2))}return 0}function W_(e,t,o,r,n){let i=E({startTouchPointsDist:0,startZoomScale:1,startDragPosition:{x:0,y:0},gesture:"none"}),a=Tp(e,t),s=E(r),c=te(r),l=E(),p=te(n),m=I(_=>{i.current.gesture="pinch",i.current.startZoomScale=t,i.current.startTouchPointsDist=dg(_.touches)},[t]),d=I(_=>{let v=dg(_.touches)/i.current.startTouchPointsDist,b=t*v;o(b)},[t,o]),g=I(_=>{let x=e.current.getBoundingClientRect(),v=_.touches[0];l.current={width:x.width,height:x.height},i.current.startDragPosition={x:v.clientX,y:v.clientY},s.current=c.current,i.current.gesture="drag"},[c,e]),y=I(_=>{let x=p.current,v=c.current,b=_.touches[0],A={x:b.clientX,y:b.clientY};_.touches&&_.touches.length===1&&(v=Bp(A,i.current.startDragPosition,s.current,l.current,t)),x({x:a.current.horizontalOverflow?v.x:c.current.x,y:a.current.verticalOverflow?v.y:c.current.y})},[c,t,p,a]),h=I(_=>{_.cancelable&&_.preventDefault();let x=_;x.touches&&(x.touches.length===2&&i.current.gesture==="pinch"?d(x):x.touches.length===1&&i.current.gesture==="drag"&&(a.current.horizontalOverflow||a.current.verticalOverflow)&&y(x))},[y,d,a]),k=I(()=>{i.current.gesture="none",window.removeEventListener("touchmove",h),window.removeEventListener("touchend",k)},[h]),C=I(_=>{let x=_;x.touches&&(x.touches.length===2?m(x):x.touches.length===1&&g(x),window.addEventListener("touchmove",h,{passive:!1}),window.addEventListener("touchend",k))},[g,m,k,h]);M(()=>(window.addEventListener("touchstart",C),()=>{window.removeEventListener("touchstart",C)}),[C])}var BL={preview:"_bhwUAH",imageContainer:"_e1th25",image:"_bz-HKe",zoomTransition:"_lTrJPp",image_transition:"_n0xihV",zoomToolbar:"_GLIap5",zoomToolbar_style_light:"_2f1n32",zoomToolbar_style_dark:"_I61riS",imageContainer_touchscreen:"_sawkyQ",image_touchscreen:"_JpjJ2s",centerButton:"_jeAKSd",closeCross:"_CahmAB"},q_=BL;var Qn=u(q_),gg=.5,Hn=6,zn=1;function vL(){let[e,t]=N(1);return{imageScale:e,setScale:a=>{a>=Hn?t(Hn):a<=zn?t(zn):t(a)},increaseScale:()=>{let a=e+gg;a<=Hn?t(a):t(Hn)},decreaseScale:()=>{let a=e-gg;a>=zn?t(a):t(zn)},resetScale:()=>{t(zn)}}}function TL(e,t){let[o,r]=N(!0);return M(()=>{o?(e.current.style.bottom=ii("--tool-bar-bottom"),t.current.style.top=ii("--close-button-top")):(e.current.style.bottom=`-${e.current.offsetHeight}px`,t.current.style.top=`-${t.current.offsetHeight}px`)},[o,r,e,t]),{isToolsVisible:o,setUiVisibility:r}}function bL(e,{style:t,onClose:o}){return gr(e,{component:f(t_,{style:t==="dark"?"dark":"default",onClick:o},Qn.closeCross),tooltipText:B("Common.Close"),side:"bottom",align:"start"})}function wL(e,{style:t,icon:o,onClick:r,disabled:n}){return Le(e,{style:J(t,{light:"ghost",dark:"ghostInversed"}),size:"small",onClick:r,structure:"icon",icon:o,state:n?"disabled":"default"})}function fg(e,t){return gr(e,{component:f(wL,t),tooltipText:t.tooltipText,show:!ud()})}function EL(e,{style:t,increaseScale:o,decreaseScale:r,resetScale:n,scale:i,ref:a}){return G(a,"click",s=>s.preventDefault()),e`
<div
	save-ref=${a}
	class=${Qn.zoomToolbar.withMods({style:t})}
>
	${e(fg,{style:t,icon:f(H_),tooltipText:B("Common.ImageZoom.Tooltip.Decrease"),onClick:r,disabled:i==zn})}
	${e(fg,{style:t,icon:f(z_),tooltipText:B("Common.ImageZoom.Tooltip.ResetScale"),onClick:n,disabled:i==zn},Qn.centerButton)}
	${e(fg,{style:t,icon:f(K_),tooltipText:B("Common.ImageZoom.Tooltip.Increase"),onClick:o,disabled:i==Hn})}
</div>
`}function PL(e,{src:t,hasImageTransition:o,isTouchscreenDevice:r}){return e`
<img
	class=${Qn.image.withMods({transition:o,touchscreen:r})}
	src=${t}
	alt=''
/>`}function G_(e,{style:t,imageSrc:o,imageCrop:r,closeZoomFn:n}){let[i,a]=N(()=>({x:0,y:0})),[s,c]=N(!1),l=vL(),p=P(),m=P(),d=P(),g=P(),y=P(),h=ud(),{isToolsVisible:k,setUiVisibility:C}=TL(g,d),_=Ce=>{let Pt=vp(y,Ce),{fittedX:gn,fittedY:ha}=ug(i.x,i.y,{width:y.current.offsetWidth*Ce,height:y.current.offsetHeight*Ce},Ce);a({x:Pt.horizontalOverflow?gn:0,y:Pt.verticalOverflow?ha:0})};function x(Ce){c(!1),l.setScale(Ce),_(Ce)}function v(){c(!0),l.increaseScale()}function b(){c(!0),l.decreaseScale(),_(l.imageScale-gg)}function A(){c(!0),l.resetScale(),a({x:0,y:0})}function K(Ce){c(!1),a(Ce)}function U(){h&&C(!k)}function re(){h&&(k&&C(!1),l.imageScale>=Hn/2?A():(c(!0),l.setScale(Hn/2)))}G(g,"click",Ce=>Ce.preventDefault()),G(p,"click",Ce=>{Ce.defaultPrevented||(Ce.preventDefault(),n())}),$h(y,re,U),W_(y,l.imageScale,x,i,K),U_(p,y,l.imageScale,i,K,v,b,n),M(()=>{let Ce=vp(y,l.imageScale),Pt=Ce.horizontalOverflow||Ce.verticalOverflow,gn=y.current.offsetWidth/2,ha=y.current.offsetHeight/2;y.current.style.cursor=Pt?"move":"default",y.current.style.transformOrigin=`${gn-i.x}px ${ha-i.y}px`,y.current.style.transform=`translate(${i.x}px, ${i.y}px) scale(${l.imageScale})`},[y,l.imageScale,i,a]),ee(()=>{p.current.style.height=q(window.innerHeight)});let ge={ref:y};return e`
<div
	class=${Qn.preview}
	save-ref=${p}
>
	<div
		class=${Qn.imageContainer.withMods({touchscreen:h})}
		save-ref=${m}
	>
		${e.renderIf(PL,()=>!r&&{src:o,hasImageTransition:s,isTouchscreenDevice:h},ge)}
		${e.renderIf(ho,()=>r&&{image:r,withSize:!0,outContainerRef:m,className:Qn.image.withMods({transition:s,touchscreen:h})},ge)}
	</div>
	${e(EL,{style:t,increaseScale:v,decreaseScale:b,resetScale:A,scale:l.imageScale,ref:g})}
	${e(bL,{style:t,onClose:n},{ref:d})}
</div>`}function bp(e,{style:t}){let o=Ss({html:e,side:"center",component:G_,closeOnOverlayClick:!0,modalOverlayType:t});return I((r,n=void 0)=>o.open({imageSrc:r,imageCrop:n&&(n.crop||n.clip)?{...n,crop:n.crop||wn(),clip:n.clip||Nr}:void 0,closeZoomFn:o.close,style:t}),[o,t])}function j_(e){return e`
<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="20" cy="20" r="18.75" stroke="currentColor" stroke-width="2.5"/><path d="M13 21.667 17.397 26l9.353-11" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/></svg>
`}function Y_({product:e}){return J(e,{learn:"iSpring Learn",page:"iSpring Page",space:"iSpring Cloud",daily:"iSpring Port"})}var ML={watermark:"_HtuwrY",highlight:"_0HC0Gb",highlight_dir_ltr:"_NcL-W7",moveRight:"_VKz8iu",highlight_dir_rtl:"_kaXcS3",moveLeft:"_QxcHUz",container:"_sUWtt0",logo:"_5GT-k3",button:"_WffN8R",arrowIcon:"_McLJcv",arrowIcon_dir_ltr:"_QV6JUY",arrowIcon_dir_rtl:"_tdCa2B"},Z_=ML;var Yi=u(Z_);function IL(e){return J(e,{islearn:"learn",isstudio:"page",isspace:"space",isdaily:"daily"})}function RL(e){let t=Y_({product:IL(e)});return B("Watermark.Trial.Text",{product:t})}function wp(e,{subscriptionProduct:t,watermarkUrl:o}){return e`
<a
	href=${o}
	target="_blank"
	class=${Yi.watermark}
>
	<div class=${Yi.highlight.withMods({dir:so()})}></div>
	<div class=${Yi.container}>
		<div class=${Yi.logo}></div>
		<div>${RL(t)}</div>
		<div class=${Yi.button}>
			<div>${B("Common.LearnMore")}</div>
			<div class=${Yi.arrowIcon.withMods({dir:so()})}></div>
		</div>
	</div>
</a>`}function X_(e,t=!1){let o=e.questions,r=o?AL(o,t):[];return TC.create({key:t?L():e.key,settings:DL(e.settings),questions:r})}function DL(e){return Ll.create({includeInProgress:e.includeInProgress,showCorrectAnswers:e.showCorrectAnswers,shuffleAnswers:e.shuffleAnswers})}function AL(e,t){return e.map(o=>VL(o,t))}function VL(e,t){let o=e.type,r=e.attachment;return Vl.create({key:t?L():e.key,type:o,description:_s(e.description),attachment:r?LL(r):void 0,content:FL(o,e.content,t),feedback:OL(e.feedback)})}function LL(e){let t={crop:e.crop||void 0,title:e.title||void 0,previewSrc:e.previewSrc||void 0};return BC.create({type:e.type,width:e.width,height:e.height,src:e.src,...t})}function OL(e){return Al.create({type:e.type,correct:_s(e.correct),incorrect:_s(e.incorrect),answered:_s(e.answered)})}function _s(e){return Vi({text:e.text,inlineStyleRanges:e.inlineStyleRanges,urls:e.urls})}function FL(e,t,o){switch(e){case"mc":case"mr":return KL(t,o);case"ti":return NL(t,o);default:throw z(e),new Error(`Unknown question type: ${e}`)}}function KL(e,t){let o=e.choices,r=o?o.map(n=>$L(n,t)):[];return Il.create({choices:r})}function $L(e,t){return Li.create({key:t?L():e.key,text:_s(e.text),correct:e.correct})}function NL(e,t){let o=e.answers,r=o?o.map(n=>zL(n,t)):[];return Dl.create({caseSensitive:e.caseSensitive,answers:r})}function zL(e,t){return Rl.create({key:t?L():e.key,text:e.text})}function HL(e){let t=e.text||"",o={key:e.key,type:S.PARAGRAPH,viewType:e.viewType,textAlign:e.textAlign,characters:Vi({text:t,inlineStyleRanges:e.inlineStyleRanges,urls:e.urls})};return e.viewType==="ol"&&(o.isOrderedListFirstItem=e.isOrderedListFirstItem||!1),o}function QL(e){let t=e.text||"";return{key:e.key,type:S.IMAGE,src:e.src,isBlob:!1,width:e.width,height:e.height,alignment:e.alignment,characters:Vi({text:t,inlineStyleRanges:e.inlineStyleRanges,urls:e.urls})}}function UL(e){let t=e.text||"";return{key:e.key,alignment:e.alignment,type:S.EMBED,width:e.width,height:e.height,src:e.src,characters:Vi({text:t,inlineStyleRanges:e.inlineStyleRanges||[],urls:e.urls})}}function WL(e){return{key:e.key,type:S.ATTACHMENT,fileName:e.fileName,fileSize:e.fileSize,fileExtension:e.fileExtension,isLoading:!1,src:e.src}}function qL(e){switch(e.type){case S.PARAGRAPH:return HL(e);case S.IMAGE:return QL(e);case S.EMBED:return UL(e);case S.EXERCISE:return X_(e);case S.ATTACHMENT:return WL(e)}return O.error(`unknown block type ${e.type}`),null}function J_(e){let t=[];return e.forEach(o=>{let r=qL(o);r&&t.push(r)}),t}var eB={type:"t",width:"w",height:"h",src:"s"},tB={...eB,...zt},Bs={...tB,title:"tl",previewSrc:"pws"},GL={caseSensitive:"cs",answers:{_:"a",key:"k",text:"t",length:"l"}},jL=e=>({choices:{_:"ch",key:"k",content:{_:"c",...e},correct:"cr",length:"l"}}),YL=e=>({type:"t",correct:{_:"c",...e},incorrect:{_:"i",...e},answered:{_:"a",...e}}),Un=(e,t)=>({_:"q",key:"k",type:"t",description:{_:"d",...e},attachment:{_:"a",...t},content:{_:"c",...jL(e),...GL},feedback:{_:"f",...YL(e)}}),vs={...it,settings:{_:"ss",includeInProgress:"iip",shuffleAnswers:"sa",showCorrectAnswers:"sca"},questions:Un(Jl,eB)},yg={...vs,questions:Un(Jl,tB)},et={...yg,questions:Un(Jl,Bs)},Wn={...et,questions:Un(Of,Bs),...ye},Ep={...Wn,questions:Un(ep,Bs),...ye},oB={...Ep,questions:Un(dt,Bs),...ye},S_e={...Ep,questions:Un(c1,Bs),...ye};function ZL(e){let t=e.state;return{type:"mc",selectedChoiceId:t?t.selectedChoiceId:null}}function XL(e){let t=e.state;return t?{type:"mr",choices:t.choices.map(o=>({id:o.id,selected:o.selected}))}:{type:"mr",choices:e.data.content.map(o=>({id:o.id,selected:!1}))}}function JL(e){let t=e.state;return{type:"ti",answer:t?t.answer:""}}function eO(e){return{type:"sq",sequence:V(e.state).order}}function tO(e){return{type:"mt",matches:V(e.state).matchedPairs}}function hg(e){let t,o=e.type;switch(o){case"mc":t=ZL(e);break;case"mr":t=XL(e);break;case"ti":t=JL(e);break;case"sq":t=eO(e);break;case"mt":t=tO(e);break;default:throw z(o,`unknown question type ${o}`),Error()}return JSON.stringify(t)}var rB=1;function oO(e){let t=V(e.evaluation),o=Ba(t.maxScore/e.questions.length,rB);return e.questions.map(r=>{let n=r.state;return n?{questionId:r.id,correct:n.correct,score:n.correct?o:0,maxScore:o,data:hg(r)}:{questionId:r.id,correct:!1,score:0,maxScore:o,data:hg(r)}})}function nB(e,t){let o=V(e.evaluation),r={version:1,attemptDate:Date.now(),timeSpent:e.timeSpent,evaluation:{passingScore:t.passingScore,maxScore:o.maxScore,quizPassed:o.quizPassed,score:Ba(o.score,rB)},answers:oO(e)};return JSON.stringify(r)}function iB(e){let t=Vt(),o=i=>{i.onCompleted.add(()=>{let a=V(e.session);t.dispatch({result:nB(a,e.settings),duration:a.quizDuration})})},r=()=>{let i=e.onSessionChanged.add(()=>{let a=e.session;a&&o(a),i()})},n=e.session;return n?o(n):r(),t}function Pp(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.654 5.02a6 6 0 0 1 8.6 2.08l-.432-.173a1 1 0 0 0-.744 1.857l2.625 1.052a1 1 0 0 0 1.3-.556l1.052-2.626A1 1 0 0 0 17.2 5.91l-.134.335a8 8 0 0 0-14.533.889 1 1 0 1 0 1.867.716 6 6 0 0 1 2.255-2.83zm6.693 10.07a6 6 0 0 1-8.583-2.05l.335.162a1 1 0 0 0 .873-1.8l-2.545-1.235a1 1 0 0 0-1.336.463L.856 13.175a1 1 0 1 0 1.8.873l.181-.375a8 8 0 0 0 14.632-.696 1 1 0 1 0-1.868-.717 6 6 0 0 1-2.255 2.83z" fill="currentColor"/></svg>
`}function aB(e,t,o,r){t&&o&&r&&e.appendChild(Cn(wp)({subscriptionProduct:o,watermarkUrl:r}))}var qo={};Xu(qo,{OverlayButton:()=>Ts});var rO={button:"_HJscPf",button_state_default:"_GduJQ-",button_circleRadius:"_6Ky0E8",button_size_medium:"_hmTq-C",button_type_icon:"_8zlllI",button_type_iconText:"_KfC6k_",button_size_small:"_cR4R_h",button_size_xSmall:"_7TM7sw",background:"_qP2JiQ",icon:"_3EZJxH",text:"_f3-2uW",button_scale:"_NI0bKr",button_state_hovered:"_gSM6d5",button_state_pressed:"_EvRTmk"},sB=rO;var nO={button:"_LTCGNy",button_state_default:"_-uat-8",background:"_Wfpedw",icon:"_kzvt7J",text:"_nPaL2Z",button_state_hovered:"_s3IkzO",button_state_pressed:"_NGwiV2"},cB=nO;var iO={button:"_m104hw",button_state_default:"_BmWoxd",button_state_pressed:"_hfJByX",button_state_hovered:"_rdmY83",background:"_Rs5ElP",icon:"_GfmhOU",text:"_YHeyfS"},lB=iO;var aO={button:"_c_9SZA",button_state_default:"_E2sHO7",button_state_hovered:"_d3VPRB",button_state_pressed:"_8CHOrx",background:"_z6kgNt",icon:"_NVlnOs",text:"_amgHdm"},pB=aO;var Mp=u(sB),sO=u(cB),cO=u(lB),lO=u(pB);function Ts(e,t){let{style:o,state:r="default",type:n,size:i="medium",scale:a=!1,circleRadius:s=!1,autotestId:c,onClick:l,onMouseDown:p}=t,m=J(o,{ghost:sO,primary:cO,secondary:lO});function d(C){C.defaultPrevented||(C.preventDefault(),l&&l())}let g=Ee(Mp.button.withMods({state:no(r),size:no(i),type:no(n),circleRadius:s,scale:a}),m.button.withMods({state:r})),y=Ee(Mp.icon,m.icon),h=Ee(Mp.text,m.text),k=Ee(Mp.background,m.background);return e`
<button
	class=${g}
	onclick=${d}
	onmousedown=${p}
	data-at=${j(c)}
>
	<div class=${k}></div>
	${e(pO,{className:y,icon:t.icon})}
	${e.renderIf(mO,()=>t.type==="icon-text"&&{className:h,text:t.text})}
</button>`}function pO(e,{icon:t,className:o}){return e`
<div class=${o}>
	${e(t)}
</div>
`}function mO(e,{text:t,className:o}){return e`
<div class=${o}>
	${e(vt,{text:t})}
</div>
`}var rn={};Xu(rn,{PlayerButton:()=>vo});var uO={button:"_TDvbGk",button_editable:"_MuthHp",button_state_disabled:"_dtRJE6",button_size_medium:"_EMVeDr",button_narrow:"_qGCljl",button_size_large:"_5lUk1z",icon:"_lfmug4",button_style_primary:"_k5L6e2",button_style_secondary:"_pO6VAm",text:"_zC6HFf",button_state_default:"_3Xnz_A",button_state_pressed:"_YTl2ew",button_state_hovered:"_Vj1fZE"},mB=uO;var xg=u(mB);function Sg(e,t=0,o=0,r=0){let[n,i,a]=fc(e.color),s=(n+t).toFixed(2),c=(i*100+o).toFixed(2),l=(a*100+r).toFixed(2);return`hsl(${s}, ${c}%, ${l}%, ${e.opacity})`}function dO(e){return{"--color-default":Sg(e),"--color-hovered":Sg(e,0,0,-4),"--color-pressed":Sg(e,0,0,-8)}}function fO(e,{text:t}){return e`
<div>${t}</div>
`}function vo(e,t){let o=P(),{style:r,size:n,state:i="default",autotestData:a,leftIcon:s,backgroundColor:c,isNarrow:l=!1,isEditable:p=!1,focusBlockKey:m}=t,d=i==="disabled";function g(k){!d&&!k.defaultPrevented&&(k.preventDefault(),t.onClick&&t.onClick())}Mo(o,{});let y=typeof t.content=="string"?f(fO,{text:t.content}):t.content,h=D(()=>c?dO(c):void 0,[c]);return e`
<button
	class=${xg.button.withMods({style:r,size:n,state:i,narrow:l,editable:p})}
	style=${h}
	disabled=${d}
	onclick=${g}
	save-ref=${o}
	data-at=${j(a)}
	data-focus-block-key=${m}
>
	${e(s,xg.icon)}
	${e(y,xg.text)}
</button>
`}function uB(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.375 10a1.625 1.625 0 1 0 3.25 0 1.625 1.625 0 0 0-3.25 0zm6 0a1.625 1.625 0 1 0 3.25 0 1.625 1.625 0 0 0-3.25 0zM16 11.625a1.625 1.625 0 1 1 0-3.25 1.625 1.625 0 0 1 0 3.25z" fill="currentColor"/></svg>
`}function dB(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.407 15.941h-.348v-.348a4.635 4.635 0 0 1 1.366-3.298l.003-.003 6.085-6.09 2.285 2.285-6.09 6.085-.003.003a4.634 4.634 0 0 1-3.298 1.366zm10.452-8.515.824-.823a1.616 1.616 0 0 0-2.285-2.286l-.824.824 2.285 2.285zm1.885-4.17a3.116 3.116 0 0 0-4.407 0l-7.97 7.976a6.135 6.135 0 0 0-1.808 4.365v1.158c0 .38.307.686.686.686h1.158a6.135 6.135 0 0 0 4.365-1.808l7.976-7.97a3.116 3.116 0 0 0 0-4.407z" fill="currentColor"/></svg>
`}function fB(e){return e`
<svg width="160" height="160" viewBox="0 0 160 160" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="39" cy="55" r="6" fill="currentColor"/><path d="M13 82h5v15h3v-7h3v10h-6v11h-5V96H7V84h3v9h3V82z" fill="#fff"/><path d="M13 82h5v15h3v-7h3v10h-6v11h-5V96H7V84h3v9h3V82z" fill="currentColor" fill-opacity=".6"/><path d="m95 61 42 50H53l42-50z" fill="#fff"/><path d="m95 61 42 50H53l42-50z" fill="currentColor" fill-opacity=".68"/><path d="m57 75 30 36H27l30-36z" fill="#fff"/><path d="m57 75 30 36H27l30-36z" fill="currentColor" fill-opacity=".24"/><path fill-rule="evenodd" clip-rule="evenodd" d="M34.419 111.001h-2.577c6.816-2.376 11.236-8.42 15.233-14.827.6-.962 1.192-1.933 1.78-2.899 1.785-2.93 3.545-5.82 5.452-8.29 1.842-2.386 3.853-4.424 6.21-5.762l.652.781c-2.259 1.242-4.222 3.198-6.07 5.592-1.87 2.422-3.589 5.243-5.366 8.16v.001c-.594.975-1.194 1.961-1.81 2.947-3.559 5.704-7.585 11.363-13.504 14.297zm11.531 0h-1.586c1.146-.872 2.199-1.881 3.184-2.988 2.575-2.896 4.66-6.433 6.707-9.908l.064-.107c2.054-3.487 4.084-6.918 6.524-9.438 1.396-1.441 2.937-2.596 4.704-3.301l.678.812c-1.742.628-3.262 1.738-4.663 3.185-2.341 2.417-4.312 5.736-6.382 9.25l-.087.148c-2.03 3.445-4.157 7.054-6.798 10.023a24.943 24.943 0 0 1-2.345 2.324zm10.222 0h-1.44a17.107 17.107 0 0 0 1.818-1.933c1.554-1.902 3.014-4.285 4.55-6.792l.599-.974c1.749-2.842 3.614-5.77 5.806-8.176a21.594 21.594 0 0 1 2.576-2.427l.64.768c-.87.684-1.692 1.47-2.477 2.332-2.12 2.328-3.943 5.181-5.694 8.027l-.592.965-.001.002-.004.006c-1.53 2.497-3.028 4.943-4.629 6.902-.375.458-.758.894-1.152 1.3zm8.87 0h-1.586c2.453-1.905 4.676-4.281 6.515-6.795 1.852-2.531 3.297-5.178 4.185-7.581.09-.247.176-.49.255-.73l.748.897-.065.18c-.925 2.502-2.418 5.23-4.316 7.824-1.632 2.231-3.576 4.379-5.735 6.205zm9.686 0h-1.21l.116-.171c1.739-2.56 3.703-5.166 6.777-7.735l.64.768c-2.834 2.369-4.692 4.767-6.323 7.138zm7.01 0h-1.614a46.061 46.061 0 0 1 4.3-3.09l.646.775a47.918 47.918 0 0 0-3.332 2.315z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M34.419 111.001h-2.577c6.816-2.376 11.236-8.42 15.233-14.827.6-.962 1.192-1.933 1.78-2.899 1.785-2.93 3.545-5.82 5.452-8.29 1.842-2.386 3.853-4.424 6.21-5.762l.652.781c-2.259 1.242-4.222 3.198-6.07 5.592-1.87 2.422-3.589 5.243-5.366 8.16v.001c-.594.975-1.194 1.961-1.81 2.947-3.559 5.704-7.585 11.363-13.504 14.297zm11.531 0h-1.586c1.146-.872 2.199-1.881 3.184-2.988 2.575-2.896 4.66-6.433 6.707-9.908l.064-.107c2.054-3.487 4.084-6.918 6.524-9.438 1.396-1.441 2.937-2.596 4.704-3.301l.678.812c-1.742.628-3.262 1.738-4.663 3.185-2.341 2.417-4.312 5.736-6.382 9.25l-.087.148c-2.03 3.445-4.157 7.054-6.798 10.023a24.943 24.943 0 0 1-2.345 2.324zm10.222 0h-1.44a17.107 17.107 0 0 0 1.818-1.933c1.554-1.902 3.014-4.285 4.55-6.792l.599-.974c1.749-2.842 3.614-5.77 5.806-8.176a21.594 21.594 0 0 1 2.576-2.427l.64.768c-.87.684-1.692 1.47-2.477 2.332-2.12 2.328-3.943 5.181-5.694 8.027l-.592.965-.001.002-.004.006c-1.53 2.497-3.028 4.943-4.629 6.902-.375.458-.758.894-1.152 1.3zm8.87 0h-1.586c2.453-1.905 4.676-4.281 6.515-6.795 1.852-2.531 3.297-5.178 4.185-7.581.09-.247.176-.49.255-.73l.748.897-.065.18c-.925 2.502-2.418 5.23-4.316 7.824-1.632 2.231-3.576 4.379-5.735 6.205zm9.686 0h-1.21l.116-.171c1.739-2.56 3.703-5.166 6.777-7.735l.64.768c-2.834 2.369-4.692 4.767-6.323 7.138zm7.01 0h-1.614a46.061 46.061 0 0 1 4.3-3.09l.646.775a47.918 47.918 0 0 0-3.332 2.315z" fill="currentColor" fill-opacity=".5"/><path d="M145 87h4v13h2v-6.5h3v9.5h-5v8h-4V99h-5V89h3v7h2v-9z" fill="#fff"/><path d="M145 87h4v13h2v-6.5h3v9.5h-5v8h-4V99h-5V89h3v7h2v-9z" fill="currentColor" fill-opacity=".6"/></svg>
`}function gB(e){return e`
<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M39 45.375H9A2.375 2.375 0 0 1 6.625 43V5A2.375 2.375 0 0 1 9 2.625h21.28c.647 0 1.267.264 1.715.731l8.72 9.093c.423.442.66 1.031.66 1.644V43A2.375 2.375 0 0 1 39 45.375z" fill="#fff" stroke="#D0D0D1" stroke-width="1.25"/><path d="M30.841 31.182V19.068h1.803c.61 0 1.106.495 1.106 1.106v9.902c0 .61-.495 1.106-1.106 1.106H30.84zM14.25 17.68v15.166L28.773 34.5V15.75L14.25 17.68z" fill="#4169B4"/><path d="m23.61 27.043 1.118-6.117h1.705l-1.842 8.597H22.87l-1.352-5.751-1.351 5.75h-1.723l-1.842-8.596h1.705l1.124 6.105 1.369-6.105h1.448l1.363 6.117z" fill="#fff"/></svg>
`}function yB(e){return e`
<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M39 45.375H9A2.375 2.375 0 0 1 6.625 43V5A2.375 2.375 0 0 1 9 2.625h21.28c.647 0 1.267.264 1.715.731l8.72 9.093c.423.442.66 1.031.66 1.644V43A2.375 2.375 0 0 1 39 45.375z" fill="#fff" stroke="#D0D0D1" stroke-width="1.25"/><path d="M14.658 26.355v2.895h-2.056v-8.531h3.404c.652 0 1.228.12 1.728.363.504.238.893.58 1.166 1.025.278.442.416.944.416 1.506 0 .832-.299 1.498-.896 1.998-.594.496-1.41.744-2.45.744h-1.312zm0-1.587h1.348c.398 0 .701-.1.908-.3.21-.198.316-.48.316-.843 0-.398-.107-.717-.322-.955-.215-.238-.508-.36-.879-.363h-1.37v2.46zM21.018 29.25v-8.531h2.748c.754 0 1.432.172 2.033.515a3.56 3.56 0 0 1 1.406 1.448c.34.62.512 1.318.516 2.091v.393c0 .781-.166 1.482-.498 2.104a3.619 3.619 0 0 1-1.395 1.453 3.956 3.956 0 0 1-2.003.527h-2.807zm2.056-6.943v5.361h.715c.59 0 1.043-.209 1.36-.627.316-.422.474-1.047.474-1.875v-.37c0-.823-.158-1.444-.474-1.862-.317-.418-.778-.627-1.383-.627h-.691zM34.749 25.852h-3.317v3.398h-2.056v-8.531h5.707v1.588h-3.65v1.963h3.316v1.582z" fill="#E05D36"/></svg>
`}function hB(e){return e`
<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M39 45.375H9A2.375 2.375 0 0 1 6.625 43V5A2.375 2.375 0 0 1 9 2.625h21.28c.647 0 1.267.264 1.715.731l8.72 9.093c.423.442.66 1.031.66 1.644V43A2.375 2.375 0 0 1 39 45.375z" fill="#fff" stroke="#D0D0D1" stroke-width="1.25"/><path d="M30.5 31.25V19h1.75a1.5 1.5 0 0 1 1.5 1.5v9.25a1.5 1.5 0 0 1-1.5 1.5H30.5zM14.25 17.68v15.166L28.875 34.5V15.75L14.25 17.68z" fill="#D1684D"/><path d="M20.49 26.523v3.102h-1.746V20.82h3.305c.636 0 1.194.12 1.675.363a2.6 2.6 0 0 1 1.118 1.034c.26.443.39.95.39 1.518 0 .862-.286 1.544-.856 2.044-.566.496-1.352.744-2.357.744h-1.53zm0-1.47h1.559c.461 0 .812-.113 1.053-.339.244-.226.366-.548.366-.967 0-.432-.122-.78-.366-1.046-.245-.267-.582-.404-1.013-.412h-1.6v2.764z" fill="#fff"/></svg>
`}function xB(e){return e`
<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M39 45.375H9A2.375 2.375 0 0 1 6.625 43V5A2.375 2.375 0 0 1 9 2.625h21.28c.647 0 1.267.264 1.715.731l8.72 9.093c.423.442.66 1.031.66 1.644V43A2.375 2.375 0 0 1 39 45.375z" fill="#fff" stroke="#D0D0D1" stroke-width="1.25"/></svg>
`}function SB(e){return e`
<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M39 45.375H9A2.375 2.375 0 0 1 6.625 43V5A2.375 2.375 0 0 1 9 2.625h21.28c.647 0 1.267.264 1.715.731l8.72 9.093c.423.442.66 1.031.66 1.644V43A2.375 2.375 0 0 1 39 45.375z" fill="#fff" stroke="#D0D0D1" stroke-width="1.25"/><path d="M30.5 31.25V19h1.75a1.5 1.5 0 0 1 1.5 1.5v9.25a1.5 1.5 0 0 1-1.5 1.5H30.5zM14.25 17.68v15.166L28.875 34.5V15.75L14.25 17.68z" fill="#468B5B"/><path d="m21.563 23.855 1.588-3.035h2.007l-2.467 4.366 2.531 4.439h-2.03l-1.63-3.084-1.629 3.084h-2.03l2.53-4.439-2.466-4.366h2.007l1.588 3.035z" fill="#fff"/></svg>
`}function kB(e){return e`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 1a7.7 7.7 0 0 1 7.7 7.7c0 2.527-1.466 4.578-2.91 6.598-.406.566-.81 1.13-1.178 1.702H8.388c-.369-.572-.772-1.136-1.177-1.702C5.766 13.278 4.3 11.227 4.3 8.7A7.7 7.7 0 0 1 12 1zm3.3 19.8V19H8.7v1.8a2.2 2.2 0 0 0 2.2 2.2h2.2a2.2 2.2 0 0 0 2.2-2.2zM12.725 3.044a1 1 0 0 0-.242 1.985 4 4 0 0 1 3.45 3.242 1 1 0 0 0 1.966-.365 6 6 0 0 0-5.174-4.862z" fill="currentColor"/></svg>
`}function CB(e){return e`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M23 12c0 6.075-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1s11 4.925 11 11zm-9.68-4.98a1.62 1.62 0 1 1-3.24 0 1.62 1.62 0 0 1 3.24 0zM9.5 10.8a1 1 0 0 1 1-1h1.8a1 1 0 0 1 1 1v5h1.2v2h-4.4v-2h1.2v-4h-.8a1 1 0 0 1-1-1z" fill="currentColor"/></svg>
`}function _B(e){return e`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M23 12c0 6.075-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1s11 4.925 11 11zM7 11a1 1 0 1 0 0 2h10a1 1 0 1 0 0-2H7z" fill="currentColor"/></svg>
`}function BB(e){return e`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M23 12c0 6.075-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1s11 4.925 11 11zM13 7a1 1 0 1 0-2 0v4H7a1 1 0 1 0 0 2h4v4a1 1 0 1 0 2 0v-4h4a1 1 0 1 0 0-2h-4V7z" fill="currentColor"/></svg>
`}function vB(e){return e`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M23 12c0 6.075-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1s11 4.925 11 11zM9.998 8.834v-.009a1 1 0 0 1-2-.007c0-.351.117-.726.266-1.048.158-.344.394-.714.713-1.057.649-.7 1.654-1.295 3.021-1.295 2.64 0 4 1.876 4 3.4V9.563a3.24 3.24 0 0 1-2.604 3.176.493.493 0 0 0-.396.483v.576a1 1 0 1 1-2 0v-.576c0-1.188.839-2.211 2.004-2.444a1.24 1.24 0 0 0 .996-1.215V8.818c0-.392-.437-1.4-2-1.4-.734 0-1.23.304-1.555.655a2.104 2.104 0 0 0-.364.537c-.055.119-.073.193-.079.216a.033.033 0 0 1-.002.008zM12 16.02a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5z" fill="currentColor"/></svg>
`}function TB(e){return e`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M23 12c0 6.075-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1s11 4.925 11 11zm-5.74-2.35a1 1 0 0 0-1.52-1.3l-5.296 6.18-2.737-2.737a1 1 0 0 0-1.414 1.414l3.5 3.5a1 1 0 0 0 1.466-.056l6-7z" fill="currentColor" opacity=".9"/></svg>
`}function bB(e){return e`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.25 5.32A2.4 2.4 0 0 0 1 7.425v9.151a2.4 2.4 0 0 0 1.25 2.107l8.6 4.69a2.4 2.4 0 0 0 2.299 0l8.6-4.69a2.4 2.4 0 0 0 1.25-2.107v-9.15a2.4 2.4 0 0 0-1.25-2.108l-8.6-4.69a2.4 2.4 0 0 0-2.299 0l-8.6 4.69zm6.857 2.372a1 1 0 0 0-1.414 1.414L10.586 12l-2.893 2.893a1 1 0 1 0 1.414 1.414L12 13.413l2.893 2.893a1 1 0 0 0 1.414-1.414L13.414 12l2.893-2.893a1 1 0 1 0-1.414-1.414L12 10.585 9.107 7.692z" fill="currentColor"/></svg>
`}function wB(e){return e`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.612 4.62c-1.149-2.031-4.075-2.031-5.224 0L1.53 18.525C.4 20.524 1.844 23 4.142 23h15.716c2.297 0 3.742-2.476 2.612-4.476L14.612 4.62zM12 8.5a1 1 0 0 1 1 1v5a1 1 0 0 1-2 0v-5a1 1 0 0 1 1-1zm1.5 9.8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z" fill="currentColor"/></svg>
`}function EB(e){return e`
<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="20" cy="20" r="18.75" stroke="currentColor" stroke-width="2.5"/><path d="m15 15 10 10m-10 0 10-10" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/></svg>
`}function PB(e){return e`
<svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M36.878 13.465a3 3 0 0 1 4.243 0l1.414 1.414a3 3 0 0 1 0 4.243L33.657 28l8.878 8.878a3 3 0 0 1 0 4.243l-1.414 1.414a3 3 0 0 1-4.243 0L28 33.657l-8.88 8.88a3 3 0 0 1-4.242 0l-1.414-1.415a3 3 0 0 1 0-4.243l8.879-8.878-8.879-8.88a3 3 0 0 1 0-4.242l1.414-1.414a3 3 0 0 1 4.243 0L28 22.344l8.878-8.879z" fill="currentColor"/></svg>
`}function MB(e){return e`
<svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M49.015 12.845a3 3 0 0 1 .041 4.242L24.301 42.328a6 6 0 0 1-8.616-.05L4.92 31.047a3 3 0 0 1 .09-4.242l1.445-1.383a3 3 0 0 1 4.241.09l9.338 9.743 23.31-23.768a3 3 0 0 1 4.243-.042l1.428 1.4z" fill="currentColor"/></svg>
`}function IB(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M16 0a1 1 0 0 1 1 1v2h2a1 1 0 1 1 0 2h-2v2a1 1 0 1 1-2 0V5h-2a1 1 0 1 1 0-2h2V1a1 1 0 0 1 1-1zM3.5 5A1.5 1.5 0 0 0 2 6.5v8A1.5 1.5 0 0 0 3.5 16h10a1.5 1.5 0 0 0 1.5-1.5V11a1 1 0 1 1 2 0v3.5a3.5 3.5 0 0 1-3.5 3.5h-10A3.5 3.5 0 0 1 0 14.5v-8A3.5 3.5 0 0 1 3.5 3H9a1 1 0 1 1 0 2H3.5zm0 4.25a1.25 1.25 0 1 0 2.5 0 1.25 1.25 0 0 0-2.5 0zm8.945.863a1 1 0 0 0-1.307-.092L8.5 12l-1.178-.587a1 1 0 0 0-.96.037L3.5 13.166V14.5h10v-3.332l-1.055-1.055z" fill="currentColor"/></svg>
`}function RB(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0zM7.636 6.364a.9.9 0 0 0-1.272 1.272L8.727 10l-2.363 2.364a.9.9 0 0 0 1.272 1.272L10 11.273l2.364 2.363a.9.9 0 1 0 1.272-1.272L11.273 10l2.363-2.364a.9.9 0 1 0-1.272-1.272L10 8.727 7.636 6.364z" fill="currentColor"/></svg>
`}function DB(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10 19a9 9 0 1 1 0-18 9 9 0 0 1 0 18zm3.636-10.364a.9.9 0 1 0-1.272-1.272L9 10.727 7.636 9.364a.9.9 0 0 0-1.272 1.272l2 2a.9.9 0 0 0 1.272 0l4-4z" fill="currentColor"/></svg>
`}function AB(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6 2a1 1 0 0 0-2 0v2H2a1 1 0 0 0 0 2h2v8a2 2 0 0 0 2 2h8v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H6V2zm3 2a1 1 0 0 0 0 2h5v5a1 1 0 1 0 2 0V6a2 2 0 0 0-2-2H9z" fill="currentColor"/></svg>
`}function VB(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="6" y="6" width="8" height="8" rx="4" fill="currentColor"/></svg>
`}function LB(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.667 9.167V2m0 7.167L3 7.5m1.667 1.667L6.334 7.5M4.667 2 3 3.667M4.667 2l1.666 1.667" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M15.962 17.917H9.504a.833.833 0 0 1-.58-.235l-3.822-3.698c-.569-.551-.488-1.488.216-1.851.487-.252 1.003-.466 1.349-.466.828 0 1.657.549 2.121.92.145.115.379.012.379-.173V4.667a1.667 1.667 0 1 1 3.333 0V8l3.543 1.288a2.5 2.5 0 0 1 1.611 2.765l-.87 5.169a.833.833 0 0 1-.822.695z" stroke="currentColor" stroke-width="2"/></svg>
`}function Ip(e){return e`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.536 5.264a.9.9 0 0 0-1.272 1.272L10.727 12l-5.463 5.463a.9.9 0 1 0 1.272 1.273L12 13.273l5.464 5.463a.9.9 0 0 0 1.272-1.272L13.273 12l5.463-5.464a.9.9 0 1 0-1.272-1.272L12 10.727 6.536 5.264z" fill="currentColor"/></svg>
`}function OB(e){return e`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21 11H3a1 1 0 1 0 0 2h18a1 1 0 1 0 0-2zm0-6H3a1 1 0 0 0 0 2h18a1 1 0 1 0 0-2zM3 19h18a1 1 0 1 0 0-2H3a1 1 0 1 0 0 2z" fill="currentColor"/></svg>
`}function Rp(e){return e`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.296 12.924 8.9 9.014a.787.787 0 0 0-1.094-.092.908.908 0 0 0-.214 1.151l2.586 4.553a1.293 1.293 0 0 0 1.927.374l.05-.041a1.442 1.442 0 0 0 .143-2.035zM22.691 4.51l-.023-.023a2.4 2.4 0 0 0-3.38 0l-.777.771a11.439 11.439 0 0 1 2.899 3.916l1.28-1.27.016-.015a2.39 2.39 0 0 0-.015-3.38zM15.13 2.4a2.4 2.4 0 0 0-2.4-2.4H9.055a2.4 2.4 0 0 0-2.4 2.4v.799a11.565 11.565 0 0 1 4.238-.799c1.497 0 2.927.283 4.24.799L15.13 2.4zM19 14a8 8 0 1 1-16 0 8 8 0 0 1 16 0zm2 0c0 5.523-4.477 10-10 10S1 19.523 1 14 5.477 4 11 4s10 4.477 10 10z" fill="currentColor"/></svg>
`}function FB(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M17.5 10a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0zm1.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0zm-5.97-3.03a.75.75 0 0 1 0 1.06L11.06 10l1.97 1.97a.75.75 0 1 1-1.06 1.06L10 11.06l-1.97 1.97a.75.75 0 0 1-1.06-1.06L8.94 10 6.97 8.03a.75.75 0 0 1 1.06-1.06L10 8.94l1.97-1.97a.75.75 0 0 1 1.06 0z" fill="currentColor"/></svg>
`}function KB(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M17.087 2.591a3.75 3.75 0 0 0-5.304 0l-3.889 3.89a3.75 3.75 0 0 0 0 5.302.75.75 0 1 0 1.061-1.06 2.25 2.25 0 0 1 0-3.182l3.89-3.89a2.25 2.25 0 1 1 3.181 3.183l-1.414 1.414a.75.75 0 1 0 1.06 1.06l1.415-1.414a3.75 3.75 0 0 0 0-5.303zM2.59 17.087a3.75 3.75 0 0 0 5.303 0l3.89-3.89a3.75 3.75 0 0 0 0-5.303.75.75 0 1 0-1.061 1.061 2.25 2.25 0 0 1 0 3.182l-3.89 3.889a2.25 2.25 0 1 1-3.181-3.182l1.414-1.414a.75.75 0 1 0-1.06-1.06L2.59 11.782a3.75 3.75 0 0 0 0 5.304z" fill="currentColor"/></svg>
`}function Dp(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M17.5 5.25a.752.752 0 0 0-.744-.75H3.244a.745.745 0 0 0-.744.75c0 .414.341.75.744.75h13.512c.411 0 .744-.333.744-.75zm0 5a.752.752 0 0 0-.744-.75H3.244a.745.745 0 0 0-.744.75c0 .414.341.75.744.75h13.512c.411 0 .744-.333.744-.75zm-15 5c0 .414.337.75.755.75h8.99a.75.75 0 1 0 0-1.5h-8.99a.75.75 0 0 0-.755.75z" fill="currentColor"/></svg>
`}function $B(e){return e`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12zm6.207-14.793a1 1 0 0 0-1.414-1.414L10 14.586l-2.793-2.793a1 1 0 0 0-1.414 1.414l3.5 3.5a1 1 0 0 0 1.414 0l7.5-7.5z" fill="currentColor"/></svg>
`}function NB(e){return e`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 0c6.627 0 12 5.373 12 12s-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0zm4.736 7.264a.9.9 0 0 0-1.272 0L12 10.727 8.536 7.264l-.092-.081a.9.9 0 0 0-1.18.08l-.081.093a.9.9 0 0 0 .08 1.18L10.728 12l-3.463 3.464a.9.9 0 0 0 1.272 1.272L12 13.273l3.464 3.463.092.08a.9.9 0 0 0 1.18-.08l.08-.092a.9.9 0 0 0-.08-1.18L13.273 12l3.463-3.464a.9.9 0 0 0 0-1.272z" fill="currentColor"/></svg>
`}function gO(){return Ve([Ur(B("Quiz.Editor.Choices.DefaultAnswer",{index:1}),!0),Ur(B("Quiz.Editor.Choices.DefaultAnswer",{index:2}),!1),Ur(B("Quiz.Editor.Choices.DefaultAnswer",{index:3}),!1)],e=>e.id)}function zB(e){return Vr(e.questions)?{...e,questions:fe(e.questions,t=>t.type==="ti"?{...t,content:{...t.content,answers:Ve(t.content.answers,o=>o.id)}}:t)}:{...e,questions:Ve([{id:ct(),description:F.create(),attachment:null,feedback:dl(),type:"mc",content:gO()}],t=>t.id)}}function Zi(e,{text:t,onClick:o,disabled:r=!1}){return e(vo,{style:"primary",content:t,onClick:o,size:"medium",state:r?"disabled":"default"})}var yO={button:"_VXaM-b",continueButton:"_I3pWC7",fadeIn:"_3RTPs1",fadeOut:"_w_Qebg"},nn=yO;var hO={question:"_Tjy-gt",description:"_MAVynP",attachment:"_XSn8jY",content:"_h6keea",footer:"_VXIEoI"},HB=hO;var xO={description:"_hvQx_S",label:"_IviMVh",text:"_TCGNtN"},QB=xO;var SO={container:"_F42Phy",img:"_ErbPmZ"},UB=SO;var kO={content_withAnswers:"_c5a6hS"},WB=kO;var CO={choice:"_SpWA2Z",choice_submitted:"_IVMgG1",choice_size_default:"_pPhKs8",choice_size_small:"_6ApHAU",choice_focused:"_Ddz8oC",choice_selected:"_ljXMyN",control:"_HcKJnV",text:"__cp7b-"},qB=CO;function Ap(e){return{type:e.type,correct:!1,submitted:!1,choices:e.content.order.reduce((t,o)=>(t[o]=!1,t),{})}}function Vp(){return{type:"ti",correct:!1,submitted:!1,answer:""}}var GB={type:"t",answer:"a",correct:"c",submitted:"s"},jB={correct:"c",submitted:"s",type:"t",choices:T({_:"cs"})},YB={type:"t",questionId:"qi"},Xi={sessionState:{_:"ss"},attempts:{_:"a"},timerStartTime:{_:"tst"},timerStopTime:{_:"te"},questionsViewOrder:{_:"qvo"},timeSpent:{_:"ts"},choicesViewOrderMap:T({_:"cvo"}),typeInQuestionsState:T({_:"tqi",...GB}),choicesQuestionsState:T({_:"cqs",...jB}),currentSlide:{_:"cs",...YB},bestAttempt:"ba"};function Lp(e,t){let o=[],r=[];ue(e.content.matches,s=>{o.push(s.left.id),r.push(s.right.id)}),t&&Jo(o);let n=e.content.distractors.order,i=[...r,...n];Jo(i);let a=o.reduce((s,c)=>(s[c]=null,s),{});return{type:e.type,correct:!1,submitted:!1,leftPartsOrder:o,rightPartsOrder:i,matchedPairs:a}}function Op(e){let t=(0,At.produce)(e.content.order,o=>Jo(o));return{type:e.type,correct:So(e.content.order,t),submitted:!1,order:t}}var _O={correct:"c",submitted:"s",type:"t",order:"o"},BO={correct:"c",submitted:"s",type:"t",leftPartsOrder:"lo",rightPartsOrder:"ro",matchedPairs:T({_:"mp"})};var Ji={...Xi,sequenceQuestionsState:T({_:"sqs",..._O}),matchingQuestionsState:T({_:"mqs",...BO})};var ZB=Ji,XB=1,Fp=2;function JB(e){return{sessionState:e.states.sessionState.get(),attempts:e.states.usedAttempts.get(),timerStartTime:e.states.evaluationStartTime.get(),timerStopTime:e.states.evaluationStopTime.get(),questionsViewOrder:e.states.questionsViewOrder.get(),choicesViewOrderMap:e.states.choicesViewOrderMap.get(),typeInQuestionsState:e.states.typeInQuestionsState.get(),sequenceQuestionsState:e.states.sequenceQuestionsState.get(),choicesQuestionsState:e.states.choicesQuestionsState.get(),matchingQuestionsState:e.states.matchingQuestionsState.get(),currentSlide:e.states.currentSlide.get(),timeSpent:e.states.timeSpent.get(),bestAttempt:e.states.bestAttempt.get()}}function vO(e){switch(e){case 1:return Xi;case 2:return Ji;default:throw Error(`cannot decode PersistedState with version ${e}`)}}function Kp(e){return{version:Fp,state:wo(e,ZB,[])}}function $p(e){let t="version"in e&&typeof e.version=="number"?e.version:1,o=vO(t),r=t>1&&"state"in e?e.state:e;return{state:jt(r,o,[]),version:t}}function To(e){let[t]=be.getBlocksArray(e.blockMap),o=ae(t);if(!o)throw new Error("Richtext must consist only paragraph block");return Ke.getCharactersText(o)}function TO(e){let t=Vt();function o(){t.dispatch()}let r=lc(o).call;return requestAnimationFrame(()=>{e.states.usedAttempts.subscribe(r),e.states.session.subscribe(r)}),t}function bO(e){let t=Vt();return e.states.currentSlide.subscribe(()=>t.dispatch()),t}function wO(e){let t=Vt();return e.states.quizClosed.subscribe(()=>t.dispatch()),t}function EO(e){let t=Vt();return e.states.sessionState.subscribe(o=>{o==="completed"&&t.dispatch()}),t}function PO(e){let t=Vt();return e.states.sessionState.subscribe(o=>{o==="inProgress"&&t.dispatch()}),t}function bs(e,t){let o=Vt(),r=t.states.questionsState.subscribe(n=>{let i=n[e];i&&i.submitted&&(o.dispatch(),r())});return o}function MO(e,t){return e==="completed"?{get quizPassed(){return t.states.quizPassed.get()},get score(){return t.states.score.get()},get maxScore(){return 100}}:null}function Np(e){return{description:To(e.description),attachment:e.attachment,feedback:{type:e.feedback.type,correct:To(e.feedback.correct),incorrect:To(e.feedback.incorrect),answered:To(e.feedback.answered)}}}function IO(e,t){return{id:e.id,type:"ti",data:{...Np(e),content:{...e.content,answers:ze(e.content.answers)}},get state(){let r=t.states.typeInQuestionsState.get()[e.id];return r?{correct:r.correct,answer:r.answer}:null},onSubmitted:bs(e.id,t)}}function RO(e){return{...Np(e),content:e.content.order.map(t=>{let o=e.content.blocks[t];return{...o,text:To(o.text)}})}}function DO(e,t){return{id:e.id,type:"sq",data:RO(e),get state(){let r=t.states.sequenceQuestionsState.get()[e.id];return r?{correct:r.correct,order:r.order}:null},onSubmitted:bs(e.id,t)}}function ev(e){return{...Np(e),content:e.content.order.map(t=>{let o=e.content.blocks[t];return{...o,text:To(o.text)}})}}function AO(e,t){return{id:e.id,type:"mc",data:ev(e),get state(){let r=t.states.choicesQuestionsState.get()[e.id];if(!r)return null;let n=r.choices,i=Object.keys(n).find(a=>n[a])||null;return{correct:r.correct,selectedChoiceId:i}},onSubmitted:bs(e.id,t)}}function VO(e){let t=e.content.matches.order.map(r=>{let n=e.content.matches.blocks[r];return{id:n.id,left:{id:n.left.id,text:To(n.left.text)},right:{id:n.right.id,text:To(n.right.text)}}}),o=e.content.distractors.order.map(r=>{let n=e.content.distractors.blocks[r];return{id:n.id,text:To(n.text)}});return{...Np(e),content:{matches:t,distractors:o}}}function LO(e,t){return{id:e.id,type:"mt",data:VO(e),get state(){let r=t.states.matchingQuestionsState.get()[e.id];return r?{correct:r.correct,leftPartsOrder:r.leftPartsOrder,rightPartsOrder:r.rightPartsOrder,matchedPairs:r.matchedPairs}:null},onSubmitted:bs(e.id,t)}}function OO(e,t){return{id:e.id,type:"mr",data:ev(e),get state(){let r=t.states.choicesQuestionsState.get()[e.id];if(!r)return null;let n=r.choices,a=t.states.choicesViewOrderMap.get()[e.id];return{correct:r.correct,choices:a.map(s=>({id:s,selected:n[s]}))}},onSubmitted:bs(e.id,t)}}function FO(e,t){let{questions:o}=t.states.quiz.get(),r=o.blocks[e];if(!r)throw new Error(`Unknown question with id=${e}`);switch(r.type){case"sq":return DO(r,t);case"ti":return IO(r,t);case"mc":return AO(r,t);case"mr":return OO(r,t);case"mt":return LO(r,t);default:z(r)}throw new Error("Unknown question type")}function KO(e){return e.states.questionsViewOrder.get().map(o=>FO(o,e))}function $O(e){let{intro:t}=e.states.quiz.get();return t?{title:To(t.title),description:To(t.description),attachment:t.attachment}:null}function NO(e){let t=e.states.sessionState.get();return t==="notStarted"?null:{get questions(){return KO(e)},get quizDuration(){return e.states.timerDuration.get()},get timeSpent(){return e.states.timeSpent.get()},get evaluation(){return MO(t,e)},onCompleted:EO(e)}}function zO(e){return{passingScore:e.states.playerSettings.get().passingScore}}function tv({title:e,model:t}){return{get title(){return e},get intro(){return $O(t)},get session(){return NO(t)},get sessionState(){return t.states.sessionState.get()},get settings(){return zO(t)},get currentSlideId(){let o=t.states.currentSlide.get();return o.type==="question"?o.questionId:o.type},get persistedState(){return JSON.stringify(Kp(JB(t)))},onPersistedStateChanged:TO(t),onSlideChanged:bO(t),onSessionChanged:PO(t),onCloseQuiz:wO(t)}}function an(){return{sessionState:"notStarted",currentSlide:{type:"intro"},typeInQuestionsState:{},choicesQuestionsState:{},sequenceQuestionsState:{},matchingQuestionsState:{},evaluationStartTime:null,evaluationStopTime:null,timeSpentBeforeSession:0,sessionStartTime:null,bestAttempt:null}}function ov(e,t){let o=[];ue(e.content,i=>{i.correct&&o.push(i.id)}),o=o.sort();let r=t.choices,n=Object.keys(r).filter(i=>r[i]).sort();return So(o,n)}function rv(e,t){return So(e.content.order,t.order)}function kg(e){return e.replace(/\s\s+/g," ").trim()}function zp(e,t){return ze(e.answers).some(({text:o})=>{let r=kg(o),n=kg(t);return e.caseSensitive?r===n:r.toUpperCase()===n.toUpperCase()})}function nv(e,t){return e.content.matches.order.every(o=>{let r=e.content.matches.blocks[o],n=t.matchedPairs[r.left.id];return r.right.id===n})}function ea(e,t){let o={};return ue(e.questions,r=>{switch(r.type){case"mc":case"mr":{let n=r.content.order;t.shuffleAnswersEnabled&&(n=(0,At.produce)(n,i=>Jo(i))),o[r.id]=n;break}case"ti":case"sq":case"mt":break;default:z(r)}}),o}function ta(e,t){let o=e.questions.order;return t.shuffleQuestionsEnabled&&(o=(0,At.produce)(o,r=>Jo(r))),o}function iv(e,{decodedPersistedState:t,quiz:o,playerSettings:r}){let n=an(),i=e.def("QuizPlayer.States.QuestionsState.TypeInQuestionsState",t?t.typeInQuestionsState:n.typeInQuestionsState),a=e.def("QuizPlayer.States.QuestionsState.ChoicesQuestionsState",t?t.choicesQuestionsState:n.choicesQuestionsState),s=e.def("QuizPlayer.States.QuestionsState.SequenceQuestionsState",t?t.sequenceQuestionsState:n.sequenceQuestionsState),c=e.def("QuizPlayer.States.QuestionsState.MatchingQuestionsState",t?t.matchingQuestionsState:n.matchingQuestionsState),l=e.map("QuizPlayer.States.QuestionsState",{typeInQuestionsState:i,choicesQuestionsState:a,sequenceQuestionsState:s,matchingQuestionsState:c},d=>({...d.typeInQuestionsState,...d.choicesQuestionsState,...d.sequenceQuestionsState,...d.matchingQuestionsState})),p=e.def("QuizPlayer.States.QuestionsState.\u0421hoicesViewOrderMap",t?t.choicesViewOrderMap:ea(o.get(),r.get())),m=e.def("QuizPlayer.States.QuestionsState.QuestionsViewOrder",t?t.questionsViewOrder:ta(o.get(),r.get()));return{typeInQuestionsState:i,choicesQuestionsState:a,sequenceQuestionsState:s,matchingQuestionsState:c,questionsState:l,choicesViewOrderMap:p,questionsViewOrder:m}}function av(e,t){function o(x){e.typeInQuestionsState.mutate(v=>{v[x]=Vp()})}function r({id:x,answer:v}){e.typeInQuestionsState.mutate(b=>{let A=b[x];A.type==="ti"?A.answer=v:O.error('"setTypeInAnswer" action available only for type in question')})}function n(x){e.typeInQuestionsState.mutate(v=>{let b=v[x.id];if(b){let A=x.content;b.correct=zp(A,b.answer),b.submitted=!0}else O.error(`TypeIn question with id=${x.id} state not initialized`)})}function i(x){e.choicesQuestionsState.mutate(v=>{v[x.id]=Ap(x)})}function a({questionId:x,choiceId:v}){e.choicesQuestionsState.mutate(b=>{let A=b[x],K=A.choices;if(A.type==="mr")K[v]=!K[v];else if(A.type==="mc"){if(K[v])return;for(let U of Object.keys(K))K[U]=U===v}else O.error('"toggleChoiceSelection" action available only for choices in questions')})}function s(x){e.choicesQuestionsState.mutate(v=>{let b=v[x.id];b?(b.correct=ov(x,b),b.submitted=!0):O.error(`Choices question with id=${x.id} state not initialized`)})}function c(x){e.sequenceQuestionsState.mutate(v=>{v[x.id]=Op(x)})}function l({newOrder:x,questionId:v}){e.sequenceQuestionsState.mutate(b=>{let A=b[v];A?A.order=x:O.error(`Selections question with id=${v} state not initialized`)})}function p(x){e.sequenceQuestionsState.mutate(v=>{let b=v[x.id];b?(b.correct=rv(x,b),b.submitted=!0):O.error(`Selections question with id=${x.id} state not initialized`)})}function m(x){e.matchingQuestionsState.mutate(v=>{v[x.id]=Lp(x,t.shuffleAnswersEnabled)})}function d({questionId:x,matchToConnect:v}){e.matchingQuestionsState.mutate(b=>{let A=b[x];if(A.type==="mt"){let{leftPartsOrder:K,rightPartsOrder:U,matchedPairs:re}=A,ge=K.findIndex(Pt=>Pt===v.leftId),Ce=U.findIndex(Pt=>Pt===v.rightId);Fy(U,ge,Ce),re[v.leftId]=v.rightId}else O.error('"connectMatch" action available only for matches in questions')})}function g({questionId:x,leftIdToDisconnect:v}){e.matchingQuestionsState.mutate(b=>{let A=b[x];A.type==="mt"?A.matchedPairs[v]=null:O.error('"disconnectMatch" action available only for matches in questions')})}function y(x){e.matchingQuestionsState.mutate(v=>{let b=v[x.id];b?(b.correct=nv(x,b),b.submitted=!0):O.error(`Matching question with id=${x.id} state not initialized`)})}function h(x){switch(x.type){case"ti":o(x.id);break;case"mc":case"mr":i(x);break;case"sq":c(x);break;case"mt":m(x);break;default:z(x)}}function k(x){switch(x.type){case"ti":n(x);break;case"mc":case"mr":s(x);break;case"sq":p(x);break;case"mt":y(x);break;default:z(x)}}function C(x){e.choicesViewOrderMap.set(x)}function _(x){e.questionsViewOrder.set(x)}return{setTypeInAnswer:r,toggleChoiceSelection:a,changeSequenceOrder:l,connectMatch:d,disconnectMatch:g,initQuestionState:h,answerQuestion:k,setChoicesViewOrderMap:C,setQuestionsViewOrder:_}}function sv(e,{decodedPersistedState:t,questionsState:o,quiz:r,playerSettings:n}){let i=an(),a=e.def("QuizPlayer.States.Session.SessionState",t?t.sessionState:i.sessionState),s=e.def("QuizPlayer.States.Session.UsedAttempts",t?t.attempts:0),c=t?t.currentSlide:i.currentSlide,l=e.def("QuizPlayer.States.CurrentSlide",c),p=e.def("QuizPlayer.States.QuizClosed",!1),m=e.def("QuizPlayer.States.Session.BestAttempt",t?t.bestAttempt:i.bestAttempt),d=e.map("QuizPlayer.States.QuizScore",{questionsState:o,quiz:r},h=>{let k=0;for(let _ of Object.keys(h.questionsState)){let x=h.questionsState[_];x.submitted&&x.correct&&k++}let C=h.quiz.questions.order.length;return C?Math.round(k/C*100):0}),g=e.map("QuizPlayer.States.QuizCompleted",{questionsState:o,quiz:r},h=>{let k=Object.keys(h.questionsState);return k.length!==h.quiz.questions.order.length?!1:k.every(C=>h.questionsState[C].submitted)}),y=e.map("QuizPlayer.States.QuizPassed",{score:d,playerSettings:n},h=>h.score>=h.playerSettings.passingScore);return{sessionState:a,usedAttempts:s,currentSlide:l,bestAttempt:m,quizCompleted:g,quizPassed:y,score:d,quizClosed:p}}function cv(e){function t(i){e.sessionState.set(i)}function o(){e.usedAttempts.set(e.usedAttempts.get()+1)}function r(i){e.currentSlide.set(i)}function n(i){e.bestAttempt.set(i)}return{setSessionState:t,incrementAttempt:o,setCurrentSlide:r,setBestAttempt:n}}function Hp(e){var t;return{...e,bestAttempt:(t=e.bestAttempt)!=null?t:null,sequenceQuestionsState:{},matchingQuestionsState:{}}}function Qp({state:e,version:t}){return Eo({document:e,initialVersion:XB,versionFrom:t,versionTo:Fp,upgraders:[{targetVersion:2,upgradeFn:Hp}]}).upgradedDocument}function lv(e,{timeLimitEnabled:t,timerLeftTime:o,evaluationStartTime:r,currentSlide:n}){let i=e.map("QuizPlayer.States.Popups.QuizEndTimePopupOpened",{timeLimitEnabled:t,timerLeftTime:o,currentSlide:n},s=>s.timeLimitEnabled&&s.timerLeftTime===0&&s.currentSlide.type==="question"),a=e.map("QuizPlayer.States.Popups.QuizStartInfoMessageOpened",{timeLimitEnabled:t,evaluationStartTime:r,currentSlide:n},s=>s.timeLimitEnabled&&s.evaluationStartTime==null&&s.currentSlide.type==="question");return{quizEndTimePopupOpened:i,quizStartInfoMessageOpened:a}}function pv(e,{decodedPersistedState:t,playerSettings:o,quizCompleted:r}){let n=an(),i=e.def("QuizPlayer.States.Timer.EvaluationStartTime",t?t.timerStartTime:n.evaluationStartTime),a=e.def("QuizPlayer.States.Timer.EvaluationStopTime",t?t.timerStopTime:n.evaluationStopTime),s=e.def("QuizPlayer.States.Timer.TimeSpentBeforeSession",t?t.timeSpent:n.timeSpentBeforeSession),c=e.def("QuizPlayer.States.Timer.CurrentTime",Date.now()),l=e.def("QuizPlayer.States.Timer.SessionStartTime",n.sessionStartTime),p=e.map("QuizPlayer.States.QuizTimeLimitEnabled",{playerSettings:o},h=>h.playerSettings.timeLimitEnabled),m=e.map("QuizPlayer.States.Timer.TimeSpent",{sessionStartTime:l,timeSpentBeforeSession:s,currentTime:c},h=>{if(!h.sessionStartTime)return 0;let k=Math.max(h.currentTime-h.sessionStartTime,0);return h.timeSpentBeforeSession+k}),d=e.map("QuizPlayer.States.Timer.TimerDuration",{currentTime:c,evaluationStartTime:i,evaluationStopTime:a},h=>h.evaluationStartTime?h.evaluationStopTime?h.evaluationStopTime-h.evaluationStartTime:h.currentTime-h.evaluationStartTime:0),g=e.map("QuizPlayer.States.Timer.TimerLeftTime",{timerDuration:d,playerSettings:o},h=>h.playerSettings.timeLimitEnabled?Math.max(h.playerSettings.timeLimit-h.timerDuration,0):0),y=e.map("QuizPlayer.States.Timer.CanContinueTimer",{timeLimitEnabled:p,timerLeftTime:g,quizCompleted:r},h=>h.timeLimitEnabled?!h.quizCompleted&&h.timerLeftTime>0:!h.quizCompleted);return{timerLeftTime:g,timeLimitEnabled:p,evaluationStopTime:a,evaluationStartTime:i,currentTime:c,sessionStartTime:l,timeSpentBeforeSession:s,timeSpent:m,timerDuration:d,canContinueTimer:y}}function mv(e,t){let o=e.def("QuizPlayer.States.SubscriptionProduct",t.subscriptionProduct),r=e.def("QuizPlayer.States.WatermarkUrl",t.watermarkUrl),n=e.def("QuizPlayer.States.ShowWatermark",t.showWatermark),i=e.def("QuizPlayer.States.Quiz",t.quiz),a=e.def("QuizPlayer.States.QuizPlayerSettings",t.settings),s=e.def("QuizPlayer.States.InsertType",t.insertType),c=e.def("QuizPlayer.States.Direction",t.direction),l=t.persistedState?Qp($p(t.persistedState)):null,p=iv(e,{decodedPersistedState:l,quiz:i,playerSettings:a}),m=sv(e,{decodedPersistedState:l,quiz:i,questionsState:p.questionsState,playerSettings:a}),d=pv(e,{decodedPersistedState:l,playerSettings:a,quizCompleted:m.quizCompleted}),g=lv(e,{timeLimitEnabled:d.timeLimitEnabled,timerLeftTime:d.timerLeftTime,evaluationStartTime:d.evaluationStartTime,currentSlide:m.currentSlide}),y=e.map("QuizPlayer.States.Session",{sessionState:m.sessionState,currentSlide:m.currentSlide,typeInQuestionsState:p.typeInQuestionsState,sequenceQuestionsState:p.sequenceQuestionsState,matchingQuestionsState:p.matchingQuestionsState,choicesQuestionsState:p.choicesQuestionsState,questionsViewOrder:p.questionsViewOrder,choicesViewOrderMap:p.choicesViewOrderMap,evaluationStartTime:d.evaluationStartTime,evaluationStopTime:d.evaluationStopTime,timeSpentBeforeSession:d.timeSpentBeforeSession,sessionStartTime:d.sessionStartTime,bestAttempt:m.bestAttempt},k=>k),h=e.map("QuizPlayer.States.Player",{attempts:m.usedAttempts,quiz:i,playerSettings:a,session:y,subscriptionProduct:o,direction:c,watermarkUrl:r,showWatermark:n},k=>k);return{quiz:i,playerSettings:a,subscriptionProduct:o,direction:c,watermarkUrl:r,showWatermark:n,insertType:s,...d,...m,...p,...g,session:y,player:h}}var HO=500;function uv(e){function t(r){e.sessionStartTime.set(r);let n=e.evaluationStartTime.get()||r;e.evaluationStartTime.set(n),e.currentTime.set(n)}function o(){let r=setInterval(()=>{let n=e.canContinueTimer.get(),i=Date.now();e.currentTime.set(i),n||(clearInterval(r),e.evaluationStopTime.set(i))},HO)}return{setSessionStartTime:t,startTimer:o}}function dv(e){let t=cv(e),o=av(e,e.playerSettings.get()),r=uv(e);function n(x){e.quiz.set(x),c()}function i(x){if(x.type==="question"){let v=x.questionId;if(!e.questionsState.get()[v]){let K=e.quiz.get().questions.blocks[v];if(!K){O.error(`Unknown question id=${v}`);return}o.initQuestionState(K)}}t.setCurrentSlide(x)}function a(){e.quizClosed.set(!0)}function s(){let x=e.currentSlide.get();if(x.type!=="question"){O.error('"submitQuestion" action available only for questions');return}let{showCorrectAnswersEnabled:v,showFeedbackEnabled:b}=e.playerSettings.get(),A=x.questionId,U=e.questionsState.get()[A],{questions:re}=e.quiz.get(),ge=re.blocks[A];if(U.submitted){O.error(`Question with id=${A} already submitted`);return}o.answerQuestion(ge),!v&&!b&&p()}function c(){jh(()=>{let x=e.quiz.get(),v=e.playerSettings.get(),b=ta(x,v),A=ea(x,v),K=an();e.sessionState.set(K.sessionState),e.currentSlide.set(K.currentSlide),e.typeInQuestionsState.set(K.typeInQuestionsState),e.choicesQuestionsState.set(K.choicesQuestionsState),e.sequenceQuestionsState.set(K.sequenceQuestionsState),e.matchingQuestionsState.set(K.matchingQuestionsState),e.questionsViewOrder.set(b),e.choicesViewOrderMap.set(A),e.evaluationStartTime.set(K.evaluationStartTime),e.evaluationStopTime.set(K.evaluationStopTime),e.timeSpentBeforeSession.set(K.timeSpentBeforeSession),e.sessionStartTime.set(K.sessionStartTime)}),d()}function l(){let x=e.currentSlide.get();if(x.type==="question"){let K=e.questionsState.get()[x.questionId];if(!K)throw new Error("Current question must have state");K.submitted||s()}t.setSessionState("completed");let v=e.score.get(),b=e.bestAttempt.get();(b===null||v>b)&&t.setBestAttempt(v)}function p(){var b;let x=e.currentSlide.get(),v=e.questionsViewOrder.get();switch(x.type){case"intro":{let[A]=v;A&&i({type:"question",questionId:A})}break;case"results":O.error('"gotoNextSlide" action not available in results slide');break;case"question":{let A=x.questionId,K=v.findIndex(U=>U===A);if(K>=0&&K<v.length-1){let U=v[K+1];i({type:"question",questionId:U})}else(b=e.quiz.get().results)!=null&&b.visible&&i({type:"results"})}break;default:z(x)}}function m(){let x=e.currentSlide.get(),{showCorrectAnswersEnabled:v,showFeedbackEnabled:b}=e.playerSettings.get();if(x.type==="question"){let K=e.questionsState.get()[x.questionId].submitted;!v&&!b&&K&&p()}}function d(){var b,A;let x=e.currentSlide.get().type,v=e.quiz.get();x==="intro"&&!((b=v.intro)!=null&&b.visible)&&_(),x==="results"&&!((A=v.results)!=null&&A.visible)&&a()}function g(x){e.timeLimitEnabled.get()&&x===0&&l()}function y(){d(),m();let x=e.timerLeftTime.get();g(x)}function h(){e.timeLimitEnabled.get()||(r.setSessionStartTime(Date.now()),r.startTimer())}function k(){e.timeLimitEnabled.get()&&(r.setSessionStartTime(Date.now()),r.startTimer())}function C(){if(e.sessionState.get()!=="inProgress")return;e.canContinueTimer.get()&&(r.setSessionStartTime(Date.now()),r.startTimer())}function _(){e.quiz.get().questions.order.length&&(h(),t.incrementAttempt(),t.setSessionState("inProgress"),p())}return{initQuizPlayer:y,resetQuiz:n,startQuiz:_,closeQuiz:a,restartQuiz:c,gotoSlide:i,gotoNextSlide:p,submitQuestion:s,...t,...o,...r,resumeEvaluation:C,startEvaluation:h,startEvaluationWithLimit:k,checkTimeIsUp:g}}function fv(e,t,o){e.effect("onTimerLeftTime",{timerLeftTime:t.timerLeftTime},r=>{o.checkTimeIsUp(r.timerLeftTime)}),e.effect("onQuizCompleted",{quizCompleted:t.quizCompleted,score:t.score,bestAttempt:t.bestAttempt},r=>{r.quizCompleted&&(o.setSessionState("completed"),(r.bestAttempt===null||r.score>r.bestAttempt)&&o.setBestAttempt(r.score))})}var gv=Ne({});function yv(e,t){let o=Jh({name:"QuizPlayer.Model",getStates:n=>mv(n,t),getActions:dv,defEffects:fv}),r=D(()=>tv({title:t.title,model:o}),[o,t.title]);return e.setContext(gv,o),t.initApi(r),M(()=>{let n=()=>{};return t.initApi(r),o.actions.initQuizPlayer(),t.persistedState&&o.actions.resumeEvaluation(),n},[r,r.persistedState,o.actions,o.states.player,o.states.quiz,t,t.persistedState]),o}function X(){return ne(gv)}function qn(e){return e==="standalone"}var QO={quizPlayer:"_qeoqtC",quizPlayer_type_standalone:"_nN9wIT",quizPlayer_type_builtIn:"_JqGZ9A"},hv=QO;var UO=600,xv=20,WO=56,Gn=Ne({});function Sv(e,t,o){if(!e)return;let r=e.scrollTop,n=!1,i=new io;return pc({duration:UO,timingFn:mc,reducer:{animate:a=>{e.scrollTop=r+t*a},complete:()=>{o&&o(),n=!0},changedProperties:[]},abortSignal:i}),()=>{n||i.dispatch()}}function kv(e,t){let{states:o}=X(),r=H(o.currentSlide),n=H(o.insertType);M(()=>{let i=e.current,a=t.current,s=i.getBoundingClientRect(),c=a.getBoundingClientRect();if(c.top<s.top){let l=qn(n)?c.top-s.top:c.top-xv-WO;return Sv(i,l)}},[e,t,r,n])}function Cv(e,t,o){let r=ne(Gn),{states:n}=X(),i=H(n.insertType);M(()=>{let a=r.current,c=e.current.getBoundingClientRect();if(c.bottom>window.innerHeight&&t){let l=c.bottom-window.innerHeight,p=qn(i)?l:l+xv;return Sv(a,p,o)}},[r,e,t,o,i])}var oa=Ne({current:null});var qO={popup:"_BoBsAH",icon:"_ds3MFa",description:"_YeSb3g"},_v=qO;var Cg=u(_v);function Bv(e){let{states:t,actions:o}=X(),r=H(t.playerSettings),n=H(t.quiz),i=H(t.usedAttempts);return e`
<div class=${Cg.popup}>
	${e(Rp,{},Cg.icon)}
	<p class=${Cg.description}>
		${B("Quiz.Player.QuizEndTimePopup.Description")}
	</p>
	${e.switch(()=>{var a;return(a=n.results)!=null&&a.visible?f(vo,{content:B("Quiz.Player.QuizEndTimePopup.ResultsButtonLabel"),onClick:()=>o.gotoSlide({type:"results"}),style:"primary",size:"medium"}):xl(i,r.attempts)?f(vo,{content:B("Quiz.Player.Results.RestartQuiz"),leftIcon:f(Cp),onClick:o.restartQuiz,style:"secondary",size:"medium"}):null})}
</div>`}function vv(e){let{states:t}=X(),o=H(t.quizEndTimePopupOpened),r=ne(oa);Oi({html:e,side:"center",createModal:()=>o?f(Bv,{}):null,layer:r.current||void 0,modalOverlayType:"light"})}var GO={container:"_eB7li7",icon:"_o6_UTt",text:"_gL59MO"},Tv=GO;var _g=u(Tv);function bv(e,{text:t,icon:o}){return e`
<div class=${_g.container}>
	${e(o,_g.icon)}
	<span class=${_g.text}>${t}</span>
</div>`}var jO=3e3;function wv({html:e,show:t,text:o,icon:r,onHide:n,layer:i}){M(()=>{if(t){let a=setTimeout(n,jO);return()=>clearTimeout(a)}},[t,n]),Oi({html:e,side:"center",createModal:()=>t?f(bv,{text:o,icon:r}):null,modalOverlayType:"light",layer:i})}function Ev(e){let t=Math.floor(e/6e4),o=Math.floor(e%6e4/1e3);return o===60&&(o=0,t+=1),{minutes:t,seconds:o}}function YO(e,t){let o="minutesAndSeconds";return e==0&&(o="seconds"),t==0&&(o="minutes"),o}function Up(e,t){let{minutes:o,seconds:r}=Ev(e),n="",i=YO(o,r);switch(i){case"minutesAndSeconds":n=B(t.minutesAndSeconds,{minutes:o,seconds:r});break;case"minutes":n=B(t.minutes,{minutes:o});break;case"seconds":n=B(t.seconds,{seconds:r});break;default:z(i,`Unknown format type: ${i}`)}return n}function Pv(e){let{states:t,actions:o}=X(),{timeLimit:r}=H(t.playerSettings),n=H(t.quizStartInfoMessageOpened),i=o.startEvaluationWithLimit,a=ne(oa),s=Up(r,{minutes:Br("Quiz.Player.QuizStartInfoMessage.Description.WithoutSeconds"),seconds:Br("Quiz.Player.QuizStartInfoMessage.Description.WithoutMinutes"),minutesAndSeconds:Br("Quiz.Player.QuizStartInfoMessage.Description")});wv({html:e,show:n,text:s,icon:f(Rp),onHide:()=>i(),layer:a.current||void 0})}var ZO={embed:"_2euAQ6"},Mv=ZO;var XO=u(Mv),JO=560,e6=315,t6=320;function o6(e){let t=new RegExp(/^http(?:s?):\/\/(?:www\.)?youtube\.[a-z]{2,3}\/embed\/[\w\-_]*$/i);return!!e.match(t)}function Iv(e,t){let o=P();return M(()=>{let r=t.width?q(t.width):"100%",n=t.height?q(t.height):"100%";o6(t.src)&&(r=q(JO),n=q(e6)),De(o.current,{"--width":r,"--height":n});let i=o.current.getBoundingClientRect(),a=t6/i.width;De(o.current,{"--mobile-width":q(i.width*a),"--mobile-height":q(i.height*a)})},[o,t.width,t.height,t.src]),e`
<iframe
	save-ref=${o}
	class=${XO.embed}
	src=${t.src}
	allowfullscreen
>
</iframe>`}var Rv=u(UB),r6=300;function Dv(e,t){let o=P(),r=bp(e,{style:"light"}),n=to(t),[i]=Lt(o);return e`
<div
	save-ref=${o}
	class=${Rv.container}
>
	${e(ho,{image:t,withSize:!0,withZoom:!0,onClick:()=>r(He(n),t),outContainerRef:o,containerLimit:i?{width:i,height:r6}:void 0,className:Rv.img})}
</div>`}function Wp(e){return e?e.type==="i"?f(Dv,e):f(Iv,e):null}function Pe(e,t){return W1(e,{...t,className:G1,urlTooltipEnabled:!1})}var n6={intro:"_G-385p",intro_type_builtIn:"_NR1l28",intro_indent:"_wrujZQ",intro_attach:"__GfbNl",intro_type_standalone:"_4joImr",title:"_mr5QH7",description:"_H3F3vq",button:"_8heXsr",attachment:"_RiDuQ2"},Av=n6;var ws=u(Av);function Vv(e,{showTopPanel:t}){let{states:o,actions:r}=X(),n=r.startQuiz,{intro:i}=H(o.quiz),a=H(o.insertType);if(!i)throw Error("'intro' is not defined");let s=i.attachment,[c]=be.getBlocksArray(i.title.blockMap),[l]=be.getBlocksArray(i.description.blockMap),p=c,m=l;return e`
<div
	class=${ws.intro.withMods({attach:!!s,type:a,indent:!t})}
>
	${e(Wp(s),{className:ws.attachment})}
	${e.renderIf(Pe,()=>!!p.characters.length&&{paragraph:p},ws.title)}
	${e.renderIf(Pe,()=>!!m.characters.length&&{paragraph:m},ws.description)}
	${e(vo,{content:B("Quiz.Player.Intro.StartQuiz"),onClick:n,style:"primary",size:"medium"},ws.button)}
</div>`}var i6=u(nn);function Lv(e,{disabled:t,onClick:o}){let{actions:r}=X(),n=r.gotoNextSlide;return e`
<div class=${i6.continueButton}>
	${e(Zi,{text:B("Quiz.Player.Question.Continue"),onClick:()=>{n(),o()},disabled:t})}
</div>`}var a6={buttons:"_a3wFwN"},Ov=a6;var s6=u(Ov);function qp(e){let{states:t,actions:o}=X(),{attempts:r}=H(t.playerSettings),n=H(t.usedAttempts),i=H(t.insertType),a=o.closeQuiz,s=o.restartQuiz;return e`
<div class=${s6.buttons}>
	${e.renderIf(vo,()=>qn(i)&&{content:B("Quiz.Player.Results.FinishQuiz"),onClick:a,style:"primary",size:"medium"})}
	${e.renderIf(vo,()=>xl(n,r)&&{content:B("Quiz.Player.Results.RestartQuiz"),leftIcon:f(Cp),onClick:s,style:"secondary",size:"medium"})}
</div>`}var c6=u(nn);function Fv(e){return e`
<div class=${c6.continueButton}>
	${e(qp,{})}
</div>`}var l6=u(nn);function Kv(e){let{actions:t}=X(),o=t.gotoNextSlide;return e`
<div class=${l6.continueButton}>
	${e(Zi,{text:B("Quiz.Player.Question.GoToResults"),onClick:o})}
</div>`}var p6=u(nn);function $v(e,{disabled:t,onClick:o}){let{actions:r}=X(),n=r.submitQuestion;return e`
<div class=${p6.button}>
	${e(Zi,{text:B("Quiz.Player.Question.Submit"),onClick:()=>{n(),o&&o()},disabled:t})}
</div>`}var Bg=u(QB);function m6(e,t){let o=t.indexOf(e),r=t.length;return B("Quiz.Player.Question.Number.Label",{current:o+1,total:r})}function Nv(e,{question:t,questionsViewOrder:o}){let[r]=be.getBlocksArray(t.description.blockMap),n=r;return e`
<div class=${Bg.description}>
	<p class=${Bg.label}>${m6(t.id,o)}</p>
	${e.renderIf(Pe,()=>!!n.characters.length&&{paragraph:n},Bg.text)}
</div>`}function zv(e,t){return J(e.type,{correctIncorrect:t?be.getBlocksArray(e.correct.blockMap):be.getBlocksArray(e.incorrect.blockMap),answered:be.getBlocksArray(e.answered.blockMap)})}var u6={feedback:"_Q2LVFw",fadeIn:"_I2pjpF",feedback_withSeparator:"_ROMM-M",feedback_type_correct:"_-rvo-a",icon:"_jUBXp1",feedback_type_incorrect:"_85xc81",title:"_8wJpoz",text:"_fg3gCj",fadeOut:"_Gx8EwW"},Hv=u6;var Gp=u(Hv);function Qv(e,{question:t,correct:o}){let r=o?f(j_):f(EB),n=o?B("Quiz.Player.Question.Feedback.Correct"):B("Quiz.Player.Question.Feedback.Incorrect"),[i]=zv(t.feedback,o);return e`
<div class=${Gp.feedback.withMods({withSeparator:t.type!=="ti",type:o?"correct":"incorrect"})}>
	<div class=${Gp.icon}>${e(r)}</div>
	<div class=${Gp.title}>${n}</div>
	${e(Pe,{paragraph:i},Gp.text)}
</div>`}function Go({containerRef:e,mobileWidth:t=Uv,callback:o}){let[r,n]=N(!1);return Ze({target:e,onResize:({width:i})=>{let a=i<=t;a!==r&&n(a),o==null||o(a)}}),r}var d6={icon:"_lU0q4C",icon_position_absolute:"_BsbEl8",icon_dir_ltr:"_L8jX6g",icon_dir_rtl:"_PLEW5a",icon_position_fixed:"_f-LOQy",icon_type_correct:"_XuNnvI",icon_type_incorrect:"__vloL8"},Wv=d6;var f6=u(Wv);function jo(e,{correct:t,position:o="absolute"}){let{states:r}=X(),n=H(r.direction),i=t?f($B):f(NB);return e`
<div
	class=${f6.icon.withMods({dir:n,type:t?"correct":"incorrect",position:o})}
>
	${e(i)}
</div>
`}var vg=u(qB);function qv(e,{type:t,choice:o,size:r,selected:n,questionId:i,submitted:a,showCorrectAnswers:s}){let{actions:c}=X(),l=c.toggleChoiceSelection,[p,m]=N(!1),d=t==="mc"?f(S_,{size:"large",checked:n,disabled:a,onCheckedRequest:()=>!a&&l({questionId:i,choiceId:o.id}),onFocusedChange:m}):f(P0,{size:"large",checked:n,disabled:a,onCheckedRequest:()=>!a&&l({questionId:i,choiceId:o.id}),onFocusedChange:m}),[g]=be.getBlocksArray(o.text.blockMap);function y(h){!h.defaultPrevented&&!a&&l({questionId:i,choiceId:o.id})}return e`
<div
	class=${vg.choice.withMods({selected:n,submitted:a,size:r,focused:p})}
	onclick=${y}
>
	${e(d,vg.control)}
	${e(Pe,{paragraph:g},vg.text)}
	${e.renderIf(jo,()=>s&&(n||o.correct)&&{correct:o.correct})}
</div>`}var g6=u(WB);function Gv(e,{question:t,questionState:o,choicesViewOrder:r,showCorrectAnswers:n,containerRef:i}){let a=Go({containerRef:i});return e`
<div
	class=${g6.content.withMods({withAnswers:n})}
>
	${e.renderAll(r,s=>{let c=t.content.blocks[s];return se(s,qv,{type:t.type,choice:c,size:a?"small":"default",selected:o.choices[s],questionId:t.id,submitted:o.submitted,showCorrectAnswers:n})})}
</div>`}function yr(e){let t=fe(e.content.distractors,o=>o);return ue(e.content.matches,o=>Ma(t,o.right)),t}function jp(e,t){return Object.keys(e).find(o=>e[o]===t)||null}function Es(e,t){return Object.values(e.content.matches.blocks).find(o=>o.left.id===t)||null}var y6={content:"_IsXWme",resultsContainer:"_5kjULs",partsContainer:"_2eyQ2Q",itemWrapper:"_BWND_F",itemWrapper_dir_ltr:"_qUtBRQ",itemWrapper_side_left:"_wwl0DV",itemWrapper_connected:"_0tmPYN",itemWrapper_dir_rtl:"_9CCQjZ",itemWrapper_side_right:"_4VCvr5",draggedItem:"_j1ZVfu",resultIcon:"_VJF_73"},jv=y6;var ra=Ne({leftPartsRefs:{current:{}}});function h6(e,t){return`M 0 10
c 0 0 0 -10 10 -10
h ${e}
c 0 0 10 0 10 10
v ${t}
c 0 0 0 2 -2 2
h -4.8
a 6 11 0 1 0 0 10
h 4.8
c 0 0 2 0 2 2
v ${t}
c 0 0 0 10 -10 10
h -${e}
c 0 0 -10 0 -10 -10
z`.replace(/\n/g,"")}function x6(e,t){return`M 1 ${9+1}
c 0 0 0 -9 9 -9
h ${e}
c 0 0 9 0 9 9
v ${t}
c 0 0 0 2 -2 2
h -3
a 7 12 0 1 0 0 12
h 3
c 0 0 2 0 2 2
v ${t}
c 0 0 0 9 -9 9
h -${e}
c 0 0 -9 0 -9 -9
z`.replace(/\n/g,"")}function S6(e){return`
<svg xmlns="http://www.w3.org/2000/svg" fill="none">
	<path
        stroke="black"
        stroke-width="2"
        stroke-dasharray="5"
        stroke-dashoffset="3"
        stroke-linecap="square"
        d="${e}" />
</svg>`.replace(/\n/g,"")}function k6(e,t,o){return`
M 18 10
c 0 0 0 -10 10 -10
h ${e}
c 0 0 10 0 10 10
v ${t}
c 0 0 0 10 -10 10
h -${e}
c 0 0 -10 0 -10 -10
v -${o}
c 0 0 0 -2 -2 -2
h -3
a 7 12 0 1 1 0 -12
h 3
c 0 0 2 0 2 -2
v -${o}
z`.replace(/\n/g,"")}function C6(e,t,o){return`
M 19 ${9+1}
c 0 0 0 -9 9 -9
h ${e}
c 0 0 9 0 9 9
v ${t}
c 0 0 0 9 -9 9
h -${e}
c 0 0 -9 0 -9 -9
v -${o}
c 0 0 0 -2 -2 -2
h -4.8
a 6 11 0 1 1 0 -10
h 4.8
c 0 0 2 0 2 -2
v -${o}
z`.replace(/\n/g,"")}function Yv(e,t){let o=t-20,r=(o-16)/2;return{verticalLine:o,verticalLineToUnion:r}}function Zv(e,t){let o=e-20,{verticalLineToUnion:r}=Yv(e,t),n=h6(o,r+1),i=x6(o,r),a=`path("${n}")`,s=`path(evenodd, "${n} ${i}")`,c=S6(n);return{premiseFillPath:a,premiseOutlinePath:s,premiseOutlineIntersectedSvg:c}}function Xv(e,t){let o=e-18-20,{verticalLine:r,verticalLineToUnion:n}=Yv(e,t),i=k6(o,r,n),a=C6(o,r,n+1);return{responseFillPath:`path("${i}")`,responseOutlinePath:`path(evenodd, "${i} ${a}")`}}var _6={container:"_78vym0",container_dir_ltr:"_Id1YxP",background:"_By8gnW",container_dir_rtl:"_ZNEVQx",fill:"_oRhK_U",outline:"_9Nt9GJ",container_intersected:"_kh6Ipd",container_submitted:"_YnhbBi",container_incorrect:"_pO_zJ0",content:"_0or780",text:"_yNiaqx"},Jv=_6;var B6={positionNumber:"_OrLPyw"},e2=B6;var v6=u(e2);function Yp(e,{positionNumber:t}){let o=t===null?"x":t+1;return e`
<div class=${v6.positionNumber}>
	${o}.
</div>
`}var Tg=Ne({});function t2(e,t){let[o,r]=N(()=>({})),n=I((s,c)=>{r(l=>({...l,[s]:c}))},[]),i=I(s=>{r(c=>{let l={...c};return delete l[s],l})},[]),a=D(()=>({setPartHeight:n,removePartHeight:i}),[i,n]);e.setContext(Tg,a),M(()=>{let s=Object.values(o).reduce((c,l)=>Math.max(c,l),0);Dt(t.current,"--matching-items-height",q(s))},[t,o])}function Zp(e,t,o=!1){let{setPartHeight:r,removePartHeight:n}=ne(Tg),i=I(()=>{if(o)return;let a=t.current.offsetHeight;r(e,a)},[o,e,t,r]);Ze({target:t,onResize:i}),M(()=>{if(!o)return i(),()=>n(e)},[o,e,i,n])}var na=u(Jv);function o2(e,{index:t,matchingPartLeft:o,submitted:r,correct:n,intersected:i,showCorrectAnswers:a}){let s=P(),c=P(),{leftPartsRefs:l}=ne(ra),{states:p}=X(),m=H(p.direction),d=V(ot(o.text.blockMap)),g=t;return T6(s),Zp(o.id,c),M(()=>{l.current[o.id]=s},[l,o.id,s]),e`
<div
	class=${na.container.withMods({intersected:i,submitted:r,incorrect:!(n&&a),dir:m})}
	save-ref=${s}
>
	<div class=${na.background}>
		<div class=${na.fill}></div>
		<div class=${na.outline}></div>
	</div>
	<div class=${na.content} save-ref=${c}>
		${e.renderIf(Yp,()=>a&&{positionNumber:g})}
		${e(Pe,{paragraph:d},na.text)}
	</div>
</div>`}function T6(e){let t=I(()=>{let o=e.current.getBoundingClientRect(),{premiseFillPath:r,premiseOutlinePath:n,premiseOutlineIntersectedSvg:i}=Zv(o.width,o.height);De(e.current,{"--clip-premise-fill":r,"--clip-premise-outline":n,"--mask-premise-outline-intersected":hc(i)})},[e]);Ze({target:e,onResize:t}),M(()=>{t()},[t])}var b6={container:"_ftCSXM",container_submitted:"_VFaOfx",container_state_dragged:"_XK-kVn",background:"_aEAl7e",container_dir_rtl:"_fQlB1U",fill:"_SgswtB",outline:"_ntD1om",content:"_E3-362",text:"_da9lsy",container_state_normal:"_0tl48Z",container_state_hidden:"_R2CGCG",container_incorrect:"_33s_fv",container_connected:"_gVeNLi",container_dir_ltr:"_goHe8V",rotateLtrAnimation:"_WicIoH",rotateBackgroundRtlAnimation:"_9i5vPp",rotateContentRtlAnimation:"_TEAAuR",dragIcon:"_xYOjII"},r2=b6;var jn=u(r2);function bg(e,{index:t,matchingPartRight:o,submitted:r,state:n,correctIndex:i,connected:a,startDrag:s,showCorrectAnswers:c}){let l=P(),p=P(),m=t===i,{states:d}=X(),g=H(d.direction);G(l,"pointerdown",k=>{k.button===_c.left&&n!=="dragged"&&!r&&s(o.id,k,l)});let y=r?i:t,h=V(ot(o.text.blockMap));return E6(l),Zp(o.id,p,n==="dragged"),e`
<div
	class=${jn.container.withMods({state:n,submitted:r,incorrect:!(m&&c),connected:a,dir:g})}
	save-ref=${l}
>
	<div class=${jn.background}>
		<div class=${jn.fill}></div>
		<div class=${jn.outline}></div>
	</div>
	<div class=${jn.content} save-ref=${p}>
		${e.renderIf(Yp,()=>c&&{positionNumber:y})}
		${e(Pe,{paragraph:h},jn.text)}
		${e(w6,{})}
	</div>
</div>
`}function w6(e){return e`
<div class=${jn.dragIcon}>
	${e(Ki,{})}
</div>`}function E6(e){let t=I(()=>{let o=e.current.getBoundingClientRect(),{responseFillPath:r,responseOutlinePath:n}=Xv(o.width,o.height);De(e.current,{"--clip-response-fill":r,"--clip-response-outline":n})},[e]);Ze({target:e,onResize:t}),M(()=>{t()},[t])}var n2=15;function a2({draggedItemRef:e,listRef:t,onBeforeDragEnd:o,boundingContainerRef:r,scrollController:n}){let{leftPartsRefs:i}=ne(ra),a=E(window),[s,c]=N(()=>null),l=E(!1),p=E(0);return G(a,"pointermove",s?y=>{if(!l.current||!s)return;let k=t.current.getBoundingClientRect(),C=e.current,_=C.getBoundingClientRect(),x=r.current.getBoundingClientRect(),v=y.clientX-s.itemRelativeXOffset,b=Bt(y.clientY-s.itemRelativeYOffset,x.top,x.bottom-_.height),A=v-k.left,K=b-k.top;C.style.top=q(K),C.style.left=q(A);let U=i2(i.current,_),re=s.listOffset+K;re<n.getScrollTop()&&p.current>K?n.scrollBy(0,-n2):re+_.height>n.getScrollTop()+n.getClientHeight()&&p.current<K&&n.scrollBy(0,+n2),p.current=K,c(ge=>({...V(ge),intersectedLeftPartId:U}))}:null),G(a,"pointerup",s?()=>{o(),c(null),l.current=!1}:null),{startDrag:I((y,h,k)=>{h.preventDefault();let _=k.current.getBoundingClientRect(),x=t.current,v=x.getBoundingClientRect(),b=h.clientX-_.x,A=h.clientY-_.y,K=_.x-v.x,U=_.y-v.y,re=i2(i.current,_);c({draggedRightPartId:y,intersectedLeftPartId:re,itemRelativeXOffset:b,itemRelativeYOffset:A,startOffsetX:K,startOffsetY:U,listOffset:n.getRelativeElementOffset(x).y}),l.current=!0},[i,t,n]),intersectedLeftPartId:s?s.intersectedLeftPartId:null,draggedRightPartId:s?s.draggedRightPartId:null,startOffsetX:s?s.startOffsetX:null,startOffsetY:s?s.startOffsetY:null}}function i2(e,t){let o=null,r=0;return Object.keys(e).forEach(n=>{let i=e[n];if(!i)return;let a=i.current.getBoundingClientRect(),s=kx(t,a);!s||s<r||(r=s,o=n)}),o}var Yn=u(jv);function c2(e,t){return D6({html:e,question:t.question}),e`
<div>
	${e(P6,t)}
</div>`}function P6(e,{question:t,questionState:o,showCorrectAnswers:r}){let n=E(),i=E(),a=E(),{leftPartsOrder:s,rightPartsOrder:c,matchedPairs:l}=o,{actions:p}=X(),m=p.connectMatch,d=p.disconnectMatch,g=D(()=>yr(t),[t]),y=U=>g.blocks[U]||null,h=D(()=>R6(t,s),[s,t]),k=U=>!!Object.values(l).find(re=>re===U);t2(e,i);let C=ne(Gn),_=Ar(C),{draggedRightPartId:x,intersectedLeftPartId:v,startDrag:b,startOffsetX:A,startOffsetY:K}=a2({draggedItemRef:n,listRef:a,boundingContainerRef:i,scrollController:_,onBeforeDragEnd:()=>{if(!x)return;let U=jp(o.matchedPairs,x);U&&d({questionId:t.id,leftIdToDisconnect:U}),v&&m({questionId:t.id,matchToConnect:{leftId:v,rightId:x}})}});return e`
<div class=${Yn.content} save-ref=${i}>
	<div class=${Yn.partsContainer}>
		${e.renderAll(s,(U,re)=>{let ge=w(Es(t,U)),Ce=l[ge.left.id],Pt=!!Ce&&h[Ce]===re;return se(U,s2,{binding:f(o2,{index:re,matchingPartLeft:ge.left,submitted:o.submitted,correct:Pt,intersected:v===U,showCorrectAnswers:r}),connected:!!l[U],side:"left"})})}
	</div>
	<div class=${Yn.partsContainer} save-ref=${a}>
		${e.renderAll(c,(U,re)=>{let ge=k(U);return se(U,s2,{binding:f(bg,{index:re,matchingPartRight:w(y(U)),submitted:o.submitted,state:U===x?"hidden":"normal",correctIndex:h[U],connected:ge,startDrag:b,showCorrectAnswers:r}),connected:ge,side:"right"})})}
		${e.renderIf(I6,()=>!!x&&!!ro(A)&&!!ro(K)&&{itemRef:n,binding:f(bg,{index:0,correctIndex:0,submitted:!1,connected:!1,state:"dragged",matchingPartRight:w(y(x)),startDrag:b,showCorrectAnswers:r}),startOffsetX:A,startOffsetY:K})}
	</div>
	${e.renderIf(M6,()=>r&&{question:t,questionState:o,rightPartsCorrectIndexesMap:h})}
</div>`}function M6(e,{question:t,questionState:o,rightPartsCorrectIndexesMap:r}){return e`
<div class=${Yn.resultsContainer}>
	${e.renderAll(o.leftPartsOrder,(n,i)=>{let a=w(Es(t,n)),s=o.matchedPairs[a.left.id],c=!!s&&r[s]===i;return se(n,jo,{correct:c,position:"fixed"},Yn.resultIcon)})}
</div>`}function s2(e,{binding:t,side:o,connected:r}){let{states:n}=X(),i=H(n.direction);return e`
<div class=${Yn.itemWrapper.withMods({connected:r,side:o,dir:i})}>
	${e(t)}
</div>`}function I6(e,{itemRef:t,binding:o,startOffsetX:r,startOffsetY:n}){return ee(()=>{t.current.style.left=q(r),t.current.style.top=q(n)},[t,r,n]),e`
<div
	class=${Yn.draggedItem}
	save-ref=${t}
>
	${e(o)}
</div>`}function R6(e,t){let o={};yr(e).order.forEach(i=>{o[i]=null});let n={};return ue(e.content.matches,i=>{n[i.left.id]=i}),t.forEach((i,a)=>{let s=n[i];o[s.right.id]=a}),o}function D6({question:e,html:t}){let o=E(A6(e)),r=D(()=>({leftPartsRefs:o}),[]);t.setContext(ra,r)}function A6(e){let t={};return ue(e.content.matches,o=>{t[o.left.id]=null}),t}var V6={container:"_wKIrTy",matching:"_AvpE7o",matching_state_default:"_D6aCXW",matching_state_selected:"_JbGruD",matching_state_incorrect:"_sNvkiw",matching_state_answered:"_vK9e7T",header:"_RfAdpJ",responseContainer:"_avYHIM",divider:"_a12hGe",placeholder:"_s5vh0T",icon:"_v7zJU9",matching_state_correct:"_5V9NCr",text:"_19OLz3"},l2=V6;var L6={footer:"_mXTZVJ",extra:"_VLFCGt",buttons:"_EilzBm",gap:"_csA_R0"},p2=L6;var Xp=u(p2);function m2(e,{buttons:t,extra:o}){return e`
<div class=${Xp.footer}>
	${e(o,Xp.extra)}
	<div class=${Xp.gap}></div>
	${e(o0,{buttons:t},Xp.buttons)}
</div>`}var O6={header:"_la81rP",titleContainer:"_G_7z6H",title:"_Vahk0D",close:"_B9B-XH"},u2=O6;var Jp=u(u2);function d2(e,{title:t,onClose:o}){return e`
<div class=${Jp.header}>
	<div class=${Jp.titleContainer}>
        ${e.switch(()=>typeof t=="string"?f(vt,{text:t},Jp.title):t)}
	</div>
	${e(Le,{style:"secondary",structure:"icon",icon:f(ki),size:"medium",onClick:o,autotestData:"close-bottom-sheet",radius:"circle"},Jp.close)}
</div>
`}var F6={container:"_BGNmz4",content:"_Kyn00s"},f2=F6;var g2=u(f2);function em(e,t){let{content:o,header:r,footer:n}=t;return e`
<div class=${g2.container}>
	${e.renderIf(d2,()=>r)}
	${e(o,g2.content)}
	${e.renderIf(m2,()=>n)}
</div>`}var K6={header:"_3J986J",text:"_K03AzZ",content:"_P-8CUh",answerBlock:"__nkcy9",title:"_MwXfLg",title_correct:"_sokLVJ"},y2=K6;var Ps=u(y2);function x2(e,{matchId:t,questionId:o,onClose:r}){let{states:n}=X(),i=H(n.quiz),s=H(n.matchingQuestionsState)[o],c=i.questions.blocks[o],l=c.content.matches.blocks[t],p=ot(l.left.text.blockMap),m=ot(l.right.text.blockMap),d=D(()=>{let g=yr(c),y=V(s.matchedPairs[l.left.id]);return ot(g.blocks[y].text.blockMap)},[l.left.id,c,s.matchedPairs]);return em(e,{header:{onClose:r,title:f(Pe,{paragraph:p},Ps.header)},content:f($6,{userAnswer:d,correctAnswer:m})})}function $6(e,{correctAnswer:t,userAnswer:o}){return e`
<div class=${Ps.content}>
	${e(h2,{title:B("Quiz.Player.Question.YourAnswer"),correct:!1,answer:o})}
	${e(h2,{title:B("Quiz.Player.Question.CorrectAnswer"),correct:!0,answer:t})}
</div>`}function h2(e,{answer:t,correct:o,title:r}){return e`
<div class=${Ps.answerBlock}>
	<span
		class=${Ps.title.withMods({correct:o})}
	>
		${r}
	</span>
	${e(Pe,{paragraph:t},Ps.text)}
</div>`}var N6={header:"_bQMc7b",text:"_D8MFee",list:"__XjXEZ",listItem:"_TiBAZj",indicator:"_bXQN3m"},S2=N6;var Ms=u(S2);function k2(e,{onClose:t,matchId:o,questionId:r}){let{states:n}=X(),s=H(n.quiz).questions.blocks[r].content.matches.blocks[o],c=V(ot(s.left.text.blockMap));return em(e,{header:{onClose:t,title:f(Pe,{paragraph:c},Ms.header)},content:f(z6,{onClose:t,questionId:r,match:s})})}function z6(e,{onClose:t,questionId:o,match:r}){let{actions:n,states:i}=X(),a=H(i.quiz),s=H(i.matchingQuestionsState),c=n.connectMatch,l=n.disconnectMatch,p=a.questions.blocks[o],m=s[o],d=new Set(Object.values(m.matchedPairs)),g=D(()=>yr(p),[p]),y=I(h=>{t();let k=jp(m.matchedPairs,h);k&&l({questionId:o,leftIdToDisconnect:k}),c({questionId:o,matchToConnect:{leftId:r.left.id,rightId:h}})},[c,l,r.left.id,t,o,m.matchedPairs]);return e`
<div class=${Ms.list}>
	${e.renderAll(m.rightPartsOrder,h=>{let k=d.has(h),C=g.blocks[h],_=V(ot(C.text.blockMap));return se(h,H6,{paragraph:_,selected:k,onClick:()=>y(h)})})}
</div>`}function H6(e,{paragraph:t,onClick:o,selected:r}){return e`
<div class=${Ms.listItem} onclick=${o}>
	${e(Pe,{paragraph:t},Ms.text)}
	${e.renderIf(VB,()=>r,Ms.indicator)}
</div>`}var hr=u(l2);function Q6(e){return e`
<svg class=${hr.divider} xmlns="http://www.w3.org/2000/svg">
	<line x1="0" y1="1" x2="100%" y2="0" stroke="currentColor" stroke-width=${1} stroke-dasharray="6 3" stroke-linecap="square"/>
</svg>
`}function U6({selected:e,responseSelected:t,submitted:o,correct:r,showCorrectAnswers:n}){return o?n?r?"correct":"incorrect":"answered":e||t?"selected":"default"}function W6(e){return e`
<span class=${hr.placeholder}>
	${B("Quiz.Player.Question.Matching.ChooseYourAnswer")}
</span>`}function q6(e){return e?V(ot(e.text.blockMap)):null}function C2(e,{questionId:t,matchData:o,rightPartData:r,submitted:n,showCorrectAnswers:i}){let[a,s]=N(!1),c=V(ot(o.left.text.blockMap)),l=q6(r),p=!!n&&!!r&&o.right.id===r.id,m=I(()=>s(!1),[]),{close:d,open:g}=Ss({html:e,side:"bottom",component:x2,closeOnOverlayClick:!0}),{close:y,open:h}=Ss({html:e,side:"bottom",component:k2,onBeforeClose:m,closeOnOverlayClick:!0}),k=I(()=>{if(n){!p&&i&&g({matchId:o.id,questionId:t,onClose:d});return}s(!0),h({onClose:y,matchId:o.id,questionId:t})},[d,y,p,o.id,g,h,t,i,n]),C=U6({selected:a,responseSelected:!!l,submitted:n,correct:p,showCorrectAnswers:i});return e`
<div class=${hr.container}>
	<div
		class=${hr.matching.withMods({state:C})}
		onclick=${k}
	>
		<div class=${hr.header}>
			${e(Pe,{paragraph:c},hr.text)}
		</div>
		<div class=${hr.responseContainer}>
			${e(Q6,{})}
			${e.switch(()=>l?f(Pe,{paragraph:l},hr.text):f(W6))}
			<div class=${hr.icon}>
				${e.switch(()=>i&&C==="incorrect"?f(J1):n?null:f(C_))}
			</div>
		</div>
	</div>
	${e.renderIf(jo,()=>i&&{correct:p,position:"fixed"})}
</div>`}var G6={content:"_5g0c0t"},_2=G6;var j6=u(_2);function B2(e,{question:t,questionState:o,showCorrectAnswers:r}){let n=o.submitted,i=D(()=>yr(t),[t]),a=I(s=>{let c=t.content.matches.blocks[s],l=o.matchedPairs[c.left.id];return l&&i.blocks[l]||null},[i,t.content.matches.blocks,o.matchedPairs]);return e`
<div class="${j6.content}">
	${e.renderAll(o.leftPartsOrder,s=>{let c=V(Es(t,s));return se(c.id,C2,{questionId:t.id,matchData:c,rightPartData:a(c.id),submitted:n,showCorrectAnswers:r})})}

</div>`}var Y6=600;function v2(e,{question:t,questionState:o,showCorrectAnswers:r,containerRef:n}){let i=Go({containerRef:n,mobileWidth:Y6});return e`
<div>
	${e.switch(()=>i?f(B2,{question:t,questionState:o,showCorrectAnswers:r}):f(c2,{question:t,questionState:o,showCorrectAnswers:r}))}
</div>`}var Z6={container:"_Pd7k8g",container_submitted:"_PC8u0Q",item:"_Nd0Q4k",item_size_small:"_6sO_Vp",item_size_default:"_vX0FwB",item_submitted:"_epLcCY",item_withBackground:"_kmSbwl",text:"_4bY4LF",index:"_GSu1iK",index_size_small:"_sDDZHr",index_size_default:"_w_CarC",item_dragged:"_llYo6Y",index_dragged:"_1MulB4",item_dragging:"_wQNuoW",container_dir_ltr:"_cSspmP",rotateLtrAnimation:"_rTnOEn",container_dir_rtl:"_aK8Kp1",rotateRtlAnimation:"_8QnyCJ",dragIcon:"_AfOnfi",dragIcon_dragged:"_5ywyTJ",dragIcon_disabled:"_BNmaH9"},T2=Z6;var Is=u(T2);function X6({color:e,dasharray:t,borderRadius:o}){return`
<svg xmlns="http://www.w3.org/2000/svg" fill="none">
	<rect
		width="100%"
		height="100%"
		fill="none"
		rx="${o}"
		ry="${o}"
		stroke="${e}"
		stroke-width="2"
		stroke-dasharray="${t.join(" ")}"
		stroke-linecap="square"
	></rect>
</svg>
`}function b2(e,{index:t,sequence:o,correctIndex:r,state:n,submitted:i,showCorrectAnswers:a,size:s}){let{states:c}=X(),l=H(c.direction),p=t===r,m=Ul(),d=P(),g=P();G(d,"pointerdown",_=>{let x=_.pointerType==="mouse",v=_.composedPath().includes(g.current);!x&&!v||_.button===_c.left&&n!=="dragged"&&!i&&m(o.id,_)});let[y]=be.getBlocksArray(o.text.blockMap),h=a?r+1:t+1,k=n==="dragged",C=n==="hidden";return M(()=>{if(k)d.current.style.backgroundImage="";else{let _=bn(C?"border-accent-default":"border-default"),x=C?[5]:[];d.current.style.backgroundImage=hc(X6({color:_,dasharray:x,borderRadius:10}))}},[k,C,d]),e`
<div
	class=${Is.container.withMods({submitted:i,dir:l})}
>
	<div class=${Is.index.withMods({dragged:k,size:s})}>${h}.</div>
	<div
		class=${Is.item.withMods({dragged:k,dragging:C,submitted:i,withBackground:a?!p:i,size:s})}
		save-ref=${d}
	>
		${e(Pe,{paragraph:y},Is.text)}
		${e.renderIf(jo,()=>a&&{correct:p})}
		<div
			save-ref=${g}
			class=${Is.dragIcon.withMods({dragged:n==="dragged",disabled:i})}
		>
			${e(f(Ki))}
		</div>
	</div>
</div>`}var J6={content:"_2Dq8oR",answersList:"_h34Ont",content_withAnswers:"_-jtiyh",hint:"_LUVEiw",hintIcon:"_k_169u",hintText:"___xAyO"},w2=J6;var E2=10,Rs=u(w2);function P2(e,{question:t,questionState:o,showCorrectAnswers:r,containerRef:n}){let i=P(),a=Go({containerRef:n}),{actions:s}=X(),c=s.changeSequenceOrder;ee(()=>{Dt(i.current,"--gap",q(E2))},[i]);let l=ne(Gn),p=Ar(l);return e`
<div
	save-ref=${i}
	class=${Rs.content.withMods({withAnswers:r})}
>
	<div class=${Rs.hint}>
		${e(LB,{},Rs.hintIcon)}
		<p class=${Rs.hintText}>${B("Quiz.Player.Sequence.Hint")}</p>
	</div>
	${e(Wl,{items:o.order,getItemId:m=>m,getItemBinding:(m,d,g)=>se(m,b2,{index:d,sequence:t.content.blocks[m],correctIndex:t.content.order.indexOf(m),state:g,submitted:o.submitted,showCorrectAnswers:r,size:a?"small":"default"}),onItemsChange:m=>{c({newOrder:m,questionId:t.id})},scrollController:p,gap:E2},Rs.answersList)}
</div>`}function M2(e,t){return Z1(e,{...t,displayType:"light"})}var e5={typeIn:"_2JaffP",field:"_n5a2YE",field_withAnswers:"_fC6Wn-",textField:"_oDtxe9",typeIn_size_default:"_yo9eXe",typeIn_size_small:"_brCS5K",correct:"_Oy_coY",fadeIn:"_ubOPwD",answers:"_pTnWW0",fadeOut:"_gZKqQH"},I2=e5;var Ds=u(I2);function t5(e,{question:t}){let o=ze(t.content.answers).map(r=>r.text).join(", ");return e`
<div class=${Ds.correct}>
	${ch(B("Quiz.Player.TypeIn.CorrectAnswers"))}
	<span class=${Ds.answers}>${o}</span>
</div>`}function R2(e,{question:t,questionState:o,showCorrectAnswers:r,containerRef:n}){let{actions:i}=X(),a=i.setTypeInAnswer,s=o.submitted?"disabled":"normal",c=Go({containerRef:n});return e`
<div
	class=${Ds.typeIn.withMods({size:c?"small":"default"})}
>
	<div class=${Ds.field.withMods({withAnswers:r})}>
		${e(M2,{type:"text",size:"xLarge",value:o.answer,onInput:l=>a({id:t.id,answer:l}),onChange:()=>{},selectionOnConnect:vr()?void 0:"end",state:s,preventScrollOnFocus:!0},Ds.textField)}
		${e.renderIf(jo,()=>r&&{correct:o.correct})}
	</div>
	${e.renderIf(t5,()=>r&&{question:t})}
</div>`}function D2({question:e,showCorrectAnswers:t,choicesQuestionsState:o,choicesViewOrderMap:r,typeInQuestionsState:n,sequenceQuestionsState:i,matchingQuestionsState:a,containerRef:s}){switch(e.type){case"ti":return f(R2,{question:e,questionState:n[e.id],showCorrectAnswers:t,containerRef:s});case"sq":return f(P2,{question:e,questionState:i[e.id],showCorrectAnswers:t,containerRef:s});case"mc":case"mr":return f(Gv,{question:e,questionState:o[e.id],choicesViewOrder:r[e.id],showCorrectAnswers:t,containerRef:s});case"mt":return f(v2,{question:e,questionState:a[e.id],showCorrectAnswers:t,containerRef:s});default:z(e)}return null}var As=u(HB);function o5(e){switch(e.type){case"ti":return!!e.answer;case"mc":case"mr":return Object.values(e.choices).some(t=>t);case"sq":return!0;case"mt":return e.leftPartsOrder.every(t=>e.matchedPairs[t]!==null);default:z(e)}return!1}function A2(e,{question:t,questionState:o,isResultsVisible:r,containerRef:n}){let{states:i}=X(),{showCorrectAnswersEnabled:a,showFeedbackEnabled:s}=H(i.playerSettings),c=H(i.sessionState),l=H(i.quizCompleted),p=H(i.typeInQuestionsState),m=H(i.choicesQuestionsState),d=H(i.sequenceQuestionsState),g=H(i.matchingQuestionsState),y=H(i.choicesViewOrderMap),h=H(i.questionsViewOrder),k=a&&o.submitted,C=s&&o.submitted,_=c==="inProgress",x=P(),[v,b]=di(!1),A=I(()=>b(!0,100),[b]),K=I(()=>b(!1,0),[b]);return Cv(x,v,K),e`
<div class=${As.question}>
	${e(Nv,{question:t,questionsViewOrder:h},As.description)}
	${e(Wp(t.attachment),{className:As.attachment})}
	${e(D2({question:t,showCorrectAnswers:k,choicesQuestionsState:m,choicesViewOrderMap:y,typeInQuestionsState:p,sequenceQuestionsState:d,matchingQuestionsState:g,containerRef:n}),As.content)}
	<div
		class=${As.footer}
		save-ref=${x}
	>
		${e.renderIf(Qv,()=>C&&{question:t,correct:o.correct})}
		${e.switch(()=>l?r?f(Kv):f(Fv):k||C?f(Lv,{disabled:!_,onClick:K}):f($v,{disabled:!(o5(o)&&_),onClick:a||s?A:void 0}))}
	</div>
</div>`}var r5={graph:"_3v_wGF"},V2=r5;var L2=Math.acos(.6666666666666667)*2,Zn=2*Math.PI*120-L2*120,wg=7,Eg={x:124,y:124},tm=100;function O2(e){return{strokeDashArray:Zn,strokeDashOffset:Zn*(1+e/tm)}}function F2(e){return{strokeDashArray:Zn,strokeDashOffset:Zn*(1+e/tm)-wg}}function K2(e){return{strokeDashArray:Zn,strokeDashOffset:Zn*(e/tm)+wg}}var n5=u(V2);function $2(e,{passingScore:t,quizPassed:o,score:r}){let n=bn(o?"action-primary-default":"icon-subdued"),i=bn("background-blue"),a=O2(r),s=F2(t),c=K2(t);return e`
<svg
	fill="none"
	xmlns="http://www.w3.org/2000/svg"
	class=${n5.graph}
>
	<circle
		fill="white"
		r="119"
		cx="${Eg.x}"
		cy="${Eg.y}"
	></circle>
	<path
		d="M213.318 203.792C232.395 182.582 244 154.54 244 123.791C244 57.6322 190.274 4 124 4C57.7258 4 4 57.6322 4 123.791C4 154.64 15.6814 182.766 34.8694 204"
		stroke=${i} stroke-width="10" stroke-linecap="round" stroke-linejoin="round"
		stroke-dasharray="${s.strokeDashArray}"
		stroke-dashoffset="${s.strokeDashOffset}"
	/>
	<path
		d="M213.318 203.792C232.395 182.582 244 154.54 244 123.791C244 57.6322 190.274 4 124 4C57.7258 4 4 57.6322 4 123.791C4 154.64 15.6814 182.766 34.8694 204"
		stroke=${i} stroke-width="10" stroke-linecap="round" stroke-linejoin="round"
		stroke-dasharray="${c.strokeDashArray}"
		stroke-dashoffset="${c.strokeDashOffset}"
	/>
	<path
		style=${`display: ${r>0?"initial":"none"}`}
		d="M213.318 203.792C232.395 182.582 244 154.54 244 123.791C244 57.6322 190.274 4 124 4C57.7258 4 4 57.6322 4 123.791C4 154.64 15.6814 182.766 34.8694 204"
		stroke=${n} stroke-width="10" stroke-linecap="round" stroke-linejoin="round"
		stroke-dasharray="${a.strokeDashArray}"
		stroke-dashoffset="${a.strokeDashOffset}"
	/>
</svg>`}var i5={passingScoreContainer:"_nRAeVH",scoreDescription:"_8X94K6",scoreLabel:"_9S5i-E"},N2=i5;var Pg=u(N2);function z2(e,{passingScore:t}){return e`
<div class=${Pg.passingScoreContainer}>
	<div class=${Pg.scoreDescription}>
		${B("Quiz.Player.Results.Graph.PassingScoreDescription")}
	</div>
	<div class=${Pg.scoreLabel}>
		${t}%
	</div>
</div>`}var a5={container:"_NVzCzZ",container_mobile:"_RxEM3r",container_topOffset_normal:"_paaEI-",container_topOffset_large:"_AmsYt5"},H2=a5;var s5={textInfo:"_6w441x",textInfo_dir_ltr:"_pBqRaW",textInfo_dir_rtl:"_-9yMNi",icon:"_z3Awuu",textInfo_result_success:"_uNeUyR",textInfo_result_failed:"_X84qWb",score:"_cTq1J6"},Q2=s5;var Mg=u(Q2);function U2(e,{quizPassed:t,score:o}){let{states:r}=X(),n=H(r.direction),i=t?f(MB):f(PB);return e`
<div class=${Mg.textInfo.withMods({dir:n,result:t?"success":"failed"})}>
	${e(i,Mg.icon)}
	<span class=${Mg.score}>
		${o}%
	</span>
</div>`}var c5=u(H2);function W2(e){let{states:t}=X(),{passingScore:o}=H(t.playerSettings),r=H(t.score),n=H(t.quizPassed);return e`
<div class=${c5.container.withMods({topOffset:o>40&&o<60?"large":"normal",mobile:vr()})}>
	${e($2,{passingScore:o,quizPassed:n,score:r})}
	${e(U2,{quizPassed:n,score:r})}
	${e(z2,{passingScore:o})}
</div>`}var l5={results:"_pZkH1v",results_diagram:"_P1BdWy",titleContainer:"_E0-15-",titleContainer_withGraph:"_tfQOFk",title:"_wuKron",messageContainer:"_zbz0k_",messageContainer_withGraph:"_fN-k2e",message:"_xmYDa2"},q2=l5;var Vs=u(q2);function p5(e,t){return e.displayType==="hideResults"?e.completed:t?e.passed:e.failed}function G2(e){let{states:t}=X(),{results:o}=H(t.quiz);if(!o)throw Error("'results' is not defined");let r=H(t.quizPassed),n=p5(o,r),i=n.visibility==="titleAndMessage"||n.visibility==="titleOnly"?be.getBlocksArray(n.title.blockMap)[0]:null,a=n.visibility==="titleAndMessage"||n.visibility==="messageOnly"?be.getBlocksArray(n.message.blockMap)[0]:null,s=o.displayType==="showResults";return e`
<div
	class=${Vs.results.withMods({diagram:s})}
>
	${e.renderIf(W2,()=>s)}
	<div class=${Vs.titleContainer.withMods({withGraph:s})}>
		${e.renderIf(Pe,()=>i&&{paragraph:i},Vs.title)}
	</div>
	<div class=${Vs.messageContainer.withMods({withGraph:s})}>
		${e.renderIf(Pe,()=>a&&{paragraph:a},Vs.message)}
	</div>
	${e(qp,{})}
</div>`}function j2(e,{showTopPanel:t}){let{states:o}=X(),r=H(o.quiz),n=H(o.currentSlide),i=H(o.typeInQuestionsState),a=H(o.choicesQuestionsState),s=H(o.sequenceQuestionsState),c=H(o.matchingQuestionsState),l={...i,...a,...s,...c},p=P();return e`
<div
	save-ref=${p}
>
	${e((()=>{var d;switch(n.type){case"intro":return r.intro?f(Vv,{showTopPanel:t}):null;case"results":return r.results?f(G2):null;case"question":{let g=n.questionId,y=r.questions.blocks[g];return y?f(A2,{question:y,questionState:l[g],isResultsVisible:!!((d=r.results)!=null&&d.visible),containerRef:p}):(O.error(`Unknown current slide ${n}`),null)}default:z(n)}})())}
</div>`}var m5={content:"_rwBQjd",content_withWatermark:"_VI6fKb"},Y2=m5;var u5=u(Y2);function Z2(e,{showWatermark:t,showTopPanel:o,contentRef:r}){return Pv(e),vv(e),e`
<div class=${u5.content.withMods({withWatermark:t})}>
	${e(j2,{showTopPanel:o},{ref:r})}
</div>`}function X2(e){let t=P();return on({html:e,anchorRef:t,text:B("Learn.ProctoringBadge.Tooltip"),side:"bottom"}),pe(e,f(s_,{style:"primary",type:"neutral",size:"default",text:B("Learn.ProctoringBadge.Label"),autotestData:"proctoring-badge"}),t)}var d5={timer:"_Rt5EYo"},J2=d5;var f5=u(J2);function eT(e){let{states:t}=X(),o=H(t.timerLeftTime),r=Up(o,{minutes:Br("Quiz.Player.Timer.WithoutSeconds"),seconds:Br("Quiz.Player.Timer.WithoutMinutes"),minutesAndSeconds:Br("Quiz.Player.Timer")});return e`
<div class=${f5.timer}>
	${r}
</div>`}var g5={topPanel:"_cj3z2D",title:"_9Al6QJ",timer:"_TOZAs2",topPanel_dir_ltr:"_To-aaG",topPanel_dir_rtl:"_J1BKlG",closeButton:"_8XigzH",watermark:"_idWSdS",proctoring:"_weqGC5",topPanel_type_standalone:"_WfpJfY",topPanel_type_builtIn:"_RmKgHw"},tT=g5;var Ls=u(tT);function oT(e,{previewMode:t,title:o,timeLimitEnabled:r,proctoringInProgress:n}){let{actions:i,states:a}=X(),s=H(a.insertType),c=H(a.direction),l=P(),p=ui(l);return Ft({html:e,elementRef:l,text:o,show:p}),e`
<div class=${Ls.topPanel.withMods({dir:c,type:s})}>
	${e(vt,{text:o},{className:Ls.title,ref:l})}
	${e.renderIf(X2,()=>n,Ls.proctoring)}
	${e.renderIf(eT,()=>r,Ls.timer)}
	${e.renderIf(Ts,()=>!t&&{type:"icon",style:"ghost",size:"medium",circleRadius:!0,scale:!0,icon:f(Ip),onClick:i.closeQuiz},Ls.closeButton)}
</div>`}var rT={"--text-content-title":"700 44px/110% var(--header-font-family, Inter)","--text-content-subtitle":"400 24px/125% var(--header-font-family, Inter)","--text-content-h1":"700 32px/131.25% var(--header-font-family, Inter)","--text-content-h2":"700 26px/142% var(--header-font-family, Inter)","--text-content-h3":"700 20px/150% var(--header-font-family, Inter)","--text-content-quote-large":"italic 400 26px/152% var(--content-font-family, Inter)","--text-content-quote-small":"italic 400 18px/166% var(--content-font-family, Inter)","--text-content-paragraph":"400 18px/166% var(--content-font-family, Inter)","--text-content-question":"400 22px/32px var(--header-font-family, Inter)","--text-content-code":"400 16px/150% var(--code-font-family, Inter)","--text-content-description":"400 15px/150% var(--content-font-family, Inter)","--text-content-tag":"500 15px/115% var(--content-font-family, Inter)","--text-content-label":"700 16px/125% var(--header-font-family, Inter)"},nT={"--text-content-title":"700 32px/125% var(--header-font-family, Inter)","--text-content-subtitle":"400 22px/140% var(--header-font-family, Inter)","--text-content-h1":"700 28px/131.25% var(--header-font-family, Inter)","--text-content-h2":"700 24px/142% var(--header-font-family, Inter)","--text-content-h3":"700 18px/150% var(--header-font-family, Inter)","--text-content-quote-large":"italic 400 26px/152% var(--content-font-family, Inter)","--text-content-quote-small":"italic 400 16px/168% var(--content-font-family, Inter)","--text-content-paragraph":"400 16px/168% var(--content-font-family, Inter)","--text-content-question":"400 18px/150% var(--header-font-family, Inter)","--text-content-code":"400 14px/24px var(--code-font-family, Inter)","--text-content-description":"400 14px/150% var(--content-font-family, Inter)","--text-content-tag":"500 15px/115% var(--content-font-family, Inter)","--text-content-label":"700 16px/125% var(--header-font-family, Inter)"};function iT(e){Go({containerRef:e,callback:t=>{let o=t?nT:rT;De(e.current,o)}})}var y5=u(hv),Uv=1064;function aT(e,t){return yv(e,{subscriptionProduct:t.subscriptionProduct,watermarkUrl:t.watermarkUrl,showWatermark:t.showWatermark,quiz:t.quiz,settings:t.settings,direction:t.direction,persistedState:t.persistedState,initApi:t.initApi,title:t.title,insertType:t.insertType||"standalone"}),e`
<div>
	${e(h5,t)}
</div>`}function h5(e,{title:t,previewMode:o,proctoringInProgress:r,scrollableContainerRef:n}){let{states:i}=X(),a=H(i.subscriptionProduct),s=H(i.watermarkUrl),c=H(i.showWatermark),l=H(i.timeLimitEnabled),p=H(i.insertType),m=qn(p),d=c&&!!a&&!!s,g=l||m,y=P(),h=P(),k=P(),C=n!=null?n:h,_=!m&&g?y:k;return e.setContext(Gn,C),kv(C,_),iT(y),e`
<div
	save-ref=${y}
	class=${y5.quizPlayer.withMods({type:p})}
>
	${e.renderIf(wp,()=>d&&{subscriptionProduct:a,watermarkUrl:s})}
	${e.renderIf(oT,()=>g&&{previewMode:o,title:t,proctoringInProgress:r,timeLimitEnabled:l})}
	${e(Z2,{showWatermark:d,showTopPanel:g,contentRef:k},{ref:h})}
</div>`}var sT={text:{text:[16,16],none:[16,16],h1:[16,16],h2:[16,16],h3:[16,16],media:[16,16],"media-float-left":[16,16],"media-inner":[16,16],"media-outer":[16,16],"media-full":[16,16],quiz:[16,16],attachment:[16,16],collage:[16,16],video:[16,16],note:[16,16],table:[16,16],"layout-column":[16,16],"layout-column-background":[32,32],"flip-cards":[16,16],"divider-line":[16,16],"divider-line-with-text":[16,16],"divider-arrow":[16,16],"divider-quotes":[16,16],"divider-diamonds":[16,16],continue:[16,16],snippet:[16,16],code:[16,16],ol:[16,16],ul:[16,16],blockquote:[16,16],pullquote:[16,16],"default-ul-item":[16,16],"default-ol-item":[16,16],"custom-ul-item":[16,16],"custom-ol-item":[16,16]},h1:{text:[56,4],none:[16,4],h1:[56,4],h2:[56,4],h3:[56,4],media:[56,4],"media-float-left":[56,4],"media-inner":[56,4],"media-outer":[56,4],"media-full":[56,4],quiz:[56,4],attachment:[56,4],collage:[56,4],video:[56,4],note:[56,4],table:[56,4],"layout-column":[56,4],"layout-column-background":[32,32],"flip-cards":[56,4],"divider-line":[56,4],"divider-line-with-text":[56,4],"divider-arrow":[56,4],"divider-quotes":[56,4],"divider-diamonds":[56,4],continue:[56,4],snippet:[56,4],code:[56,0],ol:[56,4],ul:[56,4],blockquote:[56,4],pullquote:[56,4],"default-ul-item":[56,4],"default-ol-item":[56,4],"custom-ul-item":[56,4],"custom-ol-item":[56,4]},h2:{text:[40,0],none:[16,0],h1:[40,0],h2:[40,0],h3:[40,0],media:[40,0],"media-float-left":[40,0],"media-inner":[40,0],"media-outer":[40,0],"media-full":[40,0],quiz:[40,0],attachment:[40,0],collage:[40,0],video:[40,0],note:[40,0],table:[40,0],"layout-column":[40,0],"layout-column-background":[32,32],"flip-cards":[40,0],"divider-line":[40,0],"divider-line-with-text":[40,0],"divider-arrow":[40,0],"divider-quotes":[40,0],"divider-diamonds":[40,0],continue:[40,0],snippet:[40,0],code:[40,0],ol:[40,0],ul:[40,0],blockquote:[40,0],pullquote:[40,0],"default-ul-item":[40,0],"default-ol-item":[40,0],"custom-ul-item":[40,0],"custom-ol-item":[40,0]},h3:{text:[24,0],none:[16,0],h1:[24,0],h2:[24,0],h3:[24,0],media:[24,0],"media-float-left":[24,0],"media-inner":[24,0],"media-outer":[24,0],"media-full":[24,0],quiz:[24,0],attachment:[24,0],collage:[24,0],video:[24,0],note:[24,0],table:[24,0],"layout-column":[24,0],"layout-column-background":[32,32],"flip-cards":[24,0],"divider-line":[24,0],"divider-line-with-text":[24,0],"divider-arrow":[24,0],"divider-quotes":[24,0],"divider-diamonds":[24,0],continue:[24,0],snippet:[24,0],code:[24,0],ol:[24,0],ul:[24,0],blockquote:[24,0],pullquote:[24,0],"default-ul-item":[24,0],"default-ol-item":[24,0],"custom-ul-item":[24,0],"custom-ol-item":[24,0]},quiz:{text:[40,40],none:[40,40],h1:[40,40],h2:[40,40],h3:[40,40],media:[40,40],"media-float-left":[40,40],"media-inner":[40,40],"media-outer":[40,40],"media-full":[40,40],quiz:[40,40],attachment:[40,40],collage:[40,40],video:[40,40],note:[40,40],table:[40,40],"layout-column":[40,40],"layout-column-background":[32,32],"flip-cards":[40,40],"divider-line":[40,40],"divider-line-with-text":[40,40],"divider-arrow":[40,40],"divider-quotes":[40,40],"divider-diamonds":[40,40],continue:[40,40],snippet:[40,40],code:[40,40],ol:[40,40],ul:[40,40],blockquote:[40,40],pullquote:[40,40],"default-ul-item":[40,40],"default-ol-item":[40,40],"custom-ul-item":[40,40],"custom-ol-item":[40,40]},attachment:{text:[40,40],none:[16,40],h1:[40,40],h2:[40,40],h3:[40,40],media:[40,40],"media-float-left":[40,40],"media-inner":[40,40],"media-outer":[40,40],"media-full":[40,40],quiz:[40,40],attachment:[8,8],collage:[40,40],video:[40,40],note:[40,40],table:[40,40],"layout-column":[40,40],"layout-column-background":[32,32],"flip-cards":[40,40],"divider-line":[40,40],"divider-line-with-text":[40,40],"divider-arrow":[40,40],"divider-quotes":[40,40],"divider-diamonds":[40,40],continue:[40,40],snippet:[40,40],code:[40,40],ol:[40,40],ul:[40,40],blockquote:[40,40],pullquote:[40,40],"default-ul-item":[40,40],"default-ol-item":[40,40],"custom-ul-item":[40,40],"custom-ol-item":[40,40]},snippet:{text:[40,40],none:[16,40],h1:[40,40],h2:[40,40],h3:[40,40],media:[40,40],"media-float-left":[40,40],"media-inner":[40,40],"media-outer":[40,40],"media-full":[40,40],quiz:[40,40],attachment:[40,40],collage:[40,40],video:[40,40],note:[40,40],table:[40,40],"layout-column":[40,40],"layout-column-background":[32,32],"flip-cards":[40,40],"divider-line":[40,40],"divider-line-with-text":[40,40],"divider-arrow":[40,40],"divider-quotes":[40,40],"divider-diamonds":[40,40],continue:[40,40],snippet:[8,8],code:[40,40],ol:[40,40],ul:[40,40],blockquote:[40,40],pullquote:[40,40],"ul-item":[40,40],"ol-item":[40,40],"default-ul-item":[40,40],"default-ol-item":[40,40],"custom-ul-item":[40,40],"custom-ol-item":[40,40]},code:{text:[16,16],none:[16,16],h1:[16,16],h2:[16,16],h3:[16,16],media:[16,16],"media-float-left":[16,16],"media-inner":[16,16],"media-outer":[16,16],"media-full":[16,16],quiz:[16,16],attachment:[16,16],collage:[16,16],video:[16,16],note:[16,16],table:[16,16],"layout-column":[16,16],"layout-column-background":[32,32],"flip-cards":[16,16],"divider-line":[16,16],"divider-line-with-text":[16,16],"divider-arrow":[16,16],"divider-quotes":[16,16],"divider-diamonds":[16,16],continue:[16,16],snippet:[16,16],code:[16,16],ol:[16,16],ul:[16,16],blockquote:[16,16],pullquote:[16,16],"default-ul-item":[16,16],"default-ol-item":[16,16],"custom-ul-item":[16,16],"custom-ol-item":[16,16]},collage:{text:[40,40],none:[16,40],h1:[40,40],h2:[40,40],h3:[40,40],media:[40,40],"media-float-left":[40,40],"media-inner":[40,40],"media-outer":[40,40],"media-full":[40,40],quiz:[40,40],attachment:[40,40],collage:[16,16],video:[40,40],note:[40,40],table:[40,40],"layout-column":[40,40],"layout-column-background":[32,32],"flip-cards":[40,40],"divider-line":[40,40],"divider-line-with-text":[40,40],"divider-arrow":[40,40],"divider-quotes":[40,40],"divider-diamonds":[40,40],continue:[40,40],snippet:[40,40],code:[40,40],ol:[40,40],ul:[40,40],blockquote:[40,40],pullquote:[40,40],"default-ul-item":[16,16],"default-ol-item":[16,16],"custom-ul-item":[40,40],"custom-ol-item":[40,40]},video:{text:[40,40],none:[16,40],h1:[40,40],h2:[40,40],h3:[40,40],media:[40,40],"media-float-left":[40,40],"media-inner":[40,40],"media-outer":[40,40],"media-full":[40,40],quiz:[40,40],attachment:[40,40],collage:[40,40],video:[16,16],note:[40,40],table:[40,40],"layout-column":[40,40],"layout-column-background":[32,32],"flip-cards":[40,40],"divider-line":[40,40],"divider-line-with-text":[40,40],"divider-arrow":[40,40],"divider-quotes":[40,40],"divider-diamonds":[40,40],continue:[40,40],snippet:[40,40],code:[40,40],ol:[40,40],ul:[40,40],blockquote:[40,40],pullquote:[40,40],"default-ul-item":[40,40],"default-ol-item":[40,40],"custom-ul-item":[40,40],"custom-ol-item":[40,40]},"media-float-left":{text:[40,40],none:[16,40],h1:[40,40],h2:[40,40],h3:[40,40],media:[40,40],"media-float-left":[40,40],"media-inner":[40,40],"media-outer":[40,40],"media-full":[40,40],quiz:[40,40],attachment:[40,40],collage:[40,40],video:[40,40],note:[40,40],table:[40,40],"layout-column":[40,40],"layout-column-background":[32,32],"flip-cards":[40,40],"divider-line":[40,40],"divider-line-with-text":[40,40],"divider-arrow":[40,40],"divider-quotes":[40,40],"divider-diamonds":[40,40],continue:[40,40],snippet:[40,40],code:[40,40],ol:[40,40],ul:[40,40],blockquote:[40,40],pullquote:[40,40],"default-ul-item":[40,40],"default-ol-item":[40,40],"custom-ul-item":[40,40],"custom-ol-item":[40,40]},"media-inner":{text:[40,40],none:[16,40],h1:[40,40],h2:[40,40],h3:[40,40],media:[40,40],"media-float-left":[40,40],"media-inner":[16,16],"media-outer":[16,16],"media-full":[16,16],quiz:[40,40],attachment:[40,40],collage:[40,40],video:[40,40],note:[40,40],table:[40,40],"layout-column":[40,40],"layout-column-background":[32,32],"flip-cards":[40,40],"divider-line":[40,40],"divider-line-with-text":[40,40],"divider-arrow":[40,40],"divider-quotes":[40,40],"divider-diamonds":[40,40],continue:[40,40],snippet:[40,40],code:[40,40],ol:[40,40],ul:[40,40],blockquote:[40,40],pullquote:[40,40],"default-ul-item":[40,40],"default-ol-item":[40,40],"custom-ul-item":[40,40],"custom-ol-item":[40,40]},"media-outer":{text:[40,40],none:[16,40],h1:[40,40],h2:[40,40],h3:[40,40],media:[40,40],"media-float-left":[40,40],"media-inner":[16,16],"media-outer":[16,16],"media-full":[16,16],quiz:[40,40],attachment:[40,40],collage:[40,40],video:[40,40],note:[40,40],table:[40,40],"layout-column":[40,40],"layout-column-background":[32,32],"flip-cards":[40,40],"divider-line":[40,40],"divider-line-with-text":[40,40],"divider-arrow":[40,40],"divider-quotes":[40,40],"divider-diamonds":[40,40],continue:[40,40],snippet:[40,40],code:[40,40],ol:[40,40],ul:[40,40],blockquote:[40,40],pullquote:[40,40],"default-ul-item":[40,40],"default-ol-item":[40,40],"custom-ul-item":[40,40],"custom-ol-item":[40,40]},"media-full":{text:[40,40],none:[16,40],h1:[40,40],h2:[40,40],h3:[40,40],media:[40,40],"media-float-left":[40,40],"media-inner":[16,16],"media-outer":[16,16],"media-full":[16,16],quiz:[40,40],attachment:[40,40],collage:[40,40],video:[40,40],note:[40,40],table:[40,40],"layout-column":[40,40],"layout-column-background":[32,32],"flip-cards":[40,40],"divider-line":[40,40],"divider-line-with-text":[40,40],"divider-arrow":[40,40],"divider-quotes":[40,40],"divider-diamonds":[40,40],continue:[40,40],snippet:[40,40],code:[40,40],ol:[40,40],ul:[40,40],blockquote:[40,40],pullquote:[40,40],"default-ul-item":[40,40],"default-ol-item":[40,40],"custom-ul-item":[40,40],"custom-ol-item":[40,40]},"flip-cards":{text:[40,40],none:[40,40],h1:[40,40],h2:[40,40],h3:[40,40],media:[40,40],"media-float-left":[40,40],"media-inner":[40,40],"media-outer":[40,40],"media-full":[40,40],quiz:[40,40],attachment:[40,40],collage:[40,40],video:[40,40],note:[40,40],table:[40,40],"layout-column":[40,40],"layout-column-background":[32,32],"flip-cards":[40,40],"divider-line":[40,40],"divider-line-with-text":[40,40],"divider-arrow":[40,40],"divider-quotes":[40,40],"divider-diamonds":[40,40],continue:[40,40],snippet:[40,40],code:[40,40],ol:[40,40],ul:[40,40],blockquote:[40,40],pullquote:[40,40],"default-ul-item":[40,40],"default-ol-item":[40,40],"custom-ul-item":[40,40],"custom-ol-item":[40,40]},table:{text:[32,32],none:[16,32],h1:[32,32],h2:[32,32],h3:[32,32],media:[32,32],"media-float-left":[32,32],"media-inner":[32,32],"media-outer":[32,32],"media-full":[32,32],quiz:[32,32],attachment:[32,32],collage:[32,32],video:[32,32],note:[32,32],table:[32,32],"layout-column":[32,32],"layout-column-background":[32,32],"flip-cards":[32,32],"divider-line":[32,32],"divider-line-with-text":[32,32],"divider-arrow":[32,32],"divider-quotes":[32,32],"divider-diamonds":[32,32],continue:[32,32],snippet:[32,32],code:[32,32],ol:[32,32],ul:[32,32],blockquote:[32,32],pullquote:[32,32],"default-ul-item":[32,32],"default-ol-item":[32,32],"custom-ul-item":[32,32],"custom-ol-item":[32,32]},"layout-column":{text:[32,32],none:[32,32],h1:[32,32],h2:[32,32],h3:[32,32],media:[32,32],"media-float-left":[32,32],"media-inner":[32,32],"media-outer":[32,32],"media-full":[32,32],quiz:[32,32],attachment:[32,32],collage:[32,32],video:[32,32],note:[32,32],table:[32,32],"layout-column":[32,32],"layout-column-background":[32,32],"flip-cards":[32,32],"divider-line":[32,32],"divider-line-with-text":[32,32],"divider-arrow":[32,32],"divider-quotes":[32,32],"divider-diamonds":[32,32],continue:[32,32],snippet:[32,32],code:[32,32],ol:[32,32],ul:[32,32],blockquote:[32,32],pullquote:[32,32],"default-ul-item":[32,32],"default-ol-item":[32,32],"custom-ul-item":[32,32],"custom-ol-item":[32,32]},"layout-column-background":{text:[64,64],none:[64,64],h1:[64,64],h2:[64,64],h3:[64,64],media:[64,64],"media-float-left":[64,64],"media-inner":[64,64],"media-outer":[64,64],"media-full":[64,64],quiz:[64,64],attachment:[64,64],collage:[64,64],video:[64,64],note:[64,64],table:[64,64],"layout-column":[64,64],"layout-column-background":[64,64],"flip-cards":[64,64],"divider-line":[64,64],"divider-line-with-text":[64,64],"divider-arrow":[64,64],"divider-quotes":[64,64],"divider-diamonds":[64,64],continue:[64,64],snippet:[64,64],code:[64,64],ol:[64,64],ul:[64,64],blockquote:[64,64],pullquote:[64,64],"default-ul-item":[64,64],"default-ol-item":[64,64],"custom-ul-item":[64,64],"custom-ol-item":[64,64]},note:{text:[32,32],none:[16,32],h1:[32,32],h2:[32,32],h3:[32,32],media:[32,32],"media-float-left":[32,32],"media-inner":[32,32],"media-outer":[32,32],"media-full":[32,32],quiz:[32,32],attachment:[32,32],collage:[32,32],video:[32,32],note:[32,32],table:[32,32],"layout-column":[32,32],"layout-column-background":[32,32],"flip-cards":[32,32],"divider-line":[32,32],"divider-line-with-text":[32,32],"divider-arrow":[32,32],"divider-quotes":[32,32],"divider-diamonds":[32,32],continue:[32,32],snippet:[32,32],code:[32,32],ol:[32,32],ul:[32,32],blockquote:[32,32],pullquote:[32,32],"default-ul-item":[32,32],"default-ol-item":[32,32],"custom-ul-item":[32,32],"custom-ol-item":[32,32]},blockquote:{text:[24,24],none:[16,24],h1:[24,24],h2:[24,24],h3:[24,24],media:[24,24],"media-float-left":[24,24],"media-inner":[24,24],"media-outer":[24,24],"media-full":[24,24],quiz:[24,24],attachment:[24,24],collage:[24,24],video:[24,24],note:[24,24],table:[24,24],"layout-column":[24,24],"layout-column-background":[32,32],"flip-cards":[24,24],"divider-line":[24,24],"divider-line-with-text":[24,24],"divider-arrow":[24,24],"divider-quotes":[24,24],"divider-diamonds":[24,24],continue:[24,24],snippet:[24,24],code:[24,24],ol:[24,24],ul:[24,24],blockquote:[24,24],pullquote:[24,24],"default-ul-item":[24,24],"default-ol-item":[24,24],"custom-ul-item":[24,24],"custom-ol-item":[24,24]},pullquote:{text:[56,56],none:[24,56],h1:[56,56],h2:[56,56],h3:[56,56],media:[56,56],"media-float-left":[56,56],"media-inner":[56,56],"media-outer":[56,56],"media-full":[56,56],quiz:[56,56],attachment:[56,56],collage:[56,56],video:[56,56],note:[56,56],table:[56,56],"layout-column":[56,56],"layout-column-background":[32,32],"flip-cards":[56,56],"divider-line":[56,56],"divider-line-with-text":[56,56],"divider-arrow":[56,56],"divider-quotes":[56,56],"divider-diamonds":[56,56],continue:[56,56],snippet:[56,56],code:[56,56],ol:[56,56],ul:[56,56],blockquote:[56,56],pullquote:[56,56],"default-ul-item":[56,56],"default-ol-item":[56,56],"custom-ul-item":[56,56],"custom-ol-item":[56,56]},"divider-line":{text:[0,0],none:[0,0],h1:[0,0],h2:[0,0],h3:[0,0],media:[0,0],"media-float-left":[0,0],"media-inner":[0,0],"media-outer":[0,0],"media-full":[0,0],quiz:[0,0],attachment:[0,0],collage:[0,0],video:[0,0],note:[0,0],table:[0,0],"layout-column":[0,0],"layout-column-background":[32,32],"flip-cards":[0,0],"divider-line":[0,0],"divider-line-with-text":[0,0],"divider-arrow":[0,0],"divider-quotes":[0,0],"divider-diamonds":[0,0],continue:[0,0],snippet:[0,0],code:[0,0],ol:[0,0],ul:[0,0],blockquote:[0,0],pullquote:[0,0],"default-ul-item":[0,0],"default-ol-item":[0,0],"custom-ul-item":[0,0],"custom-ol-item":[0,0]},"divider-line-with-text":{text:[24,24],none:[16,24],h1:[24,24],h2:[24,24],h3:[24,24],media:[24,24],"media-float-left":[24,24],"media-inner":[24,24],"media-outer":[24,24],"media-full":[24,24],quiz:[24,24],attachment:[24,24],collage:[24,24],video:[24,24],note:[24,24],table:[24,24],"layout-column":[24,24],"layout-column-background":[32,32],"flip-cards":[24,24],"divider-line":[24,24],"divider-line-with-text":[24,24],"divider-arrow":[24,24],"divider-quotes":[24,24],"divider-diamonds":[24,24],continue:[24,24],snippet:[24,24],code:[24,24],ol:[24,24],ul:[24,24],blockquote:[24,24],pullquote:[24,24],"default-ul-item":[24,24],"default-ol-item":[24,24],"custom-ul-item":[24,24],"custom-ol-item":[24,24]},"divider-arrow":{text:[24,24],none:[24,24],h1:[24,24],h2:[24,24],h3:[24,24],media:[24,24],"media-float-left":[24,24],"media-inner":[24,24],"media-outer":[24,24],"media-full":[24,24],quiz:[24,24],attachment:[24,24],collage:[24,24],video:[24,24],note:[24,24],table:[24,24],"layout-column":[24,24],"layout-column-background":[32,32],"flip-cards":[24,24],"divider-line":[24,24],"divider-line-with-text":[24,24],"divider-arrow":[24,24],"divider-quotes":[24,24],"divider-diamonds":[24,24],continue:[24,24],snippet:[24,24],code:[24,24],ol:[24,24],ul:[24,24],blockquote:[24,24],pullquote:[24,24],"default-ul-item":[24,24],"default-ol-item":[24,24],"custom-ul-item":[24,24],"custom-ol-item":[24,24]},"divider-quotes":{text:[32,0],none:[24,0],h1:[32,0],h2:[32,0],h3:[32,0],media:[32,0],"media-float-left":[32,0],"media-inner":[32,0],"media-outer":[32,0],"media-full":[32,0],quiz:[32,0],attachment:[32,0],collage:[32,0],video:[32,0],note:[32,0],table:[32,0],"layout-column":[32,0],"layout-column-background":[32,32],"flip-cards":[32,0],"divider-line":[32,0],"divider-line-with-text":[32,0],"divider-arrow":[32,0],"divider-quotes":[32,0],"divider-diamonds":[32,0],continue:[32,0],snippet:[32,0],code:[32,0],ol:[32,0],ul:[32,0],blockquote:[32,0],pullquote:[32,0],"default-ul-item":[32,0],"default-ol-item":[32,0],"custom-ul-item":[32,0],"custom-ol-item":[32,0]},"divider-diamonds":{text:[24,24],none:[24,24],h1:[24,24],h2:[24,24],h3:[24,24],media:[24,24],"media-float-left":[24,24],"media-inner":[24,24],"media-outer":[24,24],"media-full":[24,24],quiz:[24,24],attachment:[24,24],collage:[24,24],video:[24,24],note:[24,24],table:[24,24],"layout-column":[24,24],"layout-column-background":[32,32],"flip-cards":[24,24],"divider-line":[24,24],"divider-line-with-text":[24,24],"divider-arrow":[24,24],"divider-quotes":[24,24],"divider-diamonds":[24,24],continue:[24,24],snippet:[24,24],code:[24,24],ol:[24,24],ul:[24,24],blockquote:[24,24],pullquote:[24,24],"default-ul-item":[24,24],"default-ol-item":[24,24],"custom-ul-item":[24,24],"custom-ol-item":[24,24]},continue:{text:[64,40],none:[64,40],h1:[64,40],h2:[64,40],h3:[64,40],media:[64,40],"media-float-left":[64,40],"media-inner":[64,40],"media-outer":[64,40],"media-full":[64,40],quiz:[64,40],attachment:[64,40],collage:[64,40],video:[64,40],note:[64,40],table:[64,40],"layout-column":[64,40],"layout-column-background":[32,32],"flip-cards":[64,40],"divider-line":[64,40],"divider-line-with-text":[64,40],"divider-arrow":[64,40],"divider-quotes":[64,40],"divider-diamonds":[64,40],continue:[64,40],snippet:[64,40],code:[64,40],ol:[64,40],ul:[64,40],blockquote:[64,40],pullquote:[64,40],"default-ul-item":[64,40],"default-ol-item":[64,40],"custom-ul-item":[64,40],"custom-ol-item":[64,40]},ol:{text:[32,32],none:[16,32],h1:[32,32],h2:[32,32],h3:[32,32],media:[32,32],"media-float-left":[32,32],"media-inner":[32,32],"media-outer":[32,32],"media-full":[32,32],quiz:[32,32],attachment:[32,32],collage:[32,32],video:[32,32],note:[32,32],table:[32,32],"layout-column":[32,32],"layout-column-background":[32,32],"flip-cards":[32,32],"divider-line":[32,32],"divider-line-with-text":[32,32],"divider-arrow":[32,32],"divider-quotes":[32,32],"divider-diamonds":[32,32],continue:[32,32],snippet:[32,32],code:[32,32],ol:[16,16],ul:[16,16],blockquote:[32,32],pullquote:[32,32],"default-ul-item":[16,16],"default-ol-item":[16,16],"custom-ul-item":[16,16],"custom-ol-item":[16,16]},ul:{text:[24,24],none:[16,24],h1:[24,24],h2:[24,24],h3:[24,24],media:[24,24],"media-float-left":[24,24],"media-inner":[24,24],"media-outer":[24,24],"media-full":[24,24],quiz:[24,24],attachment:[24,24],collage:[24,24],video:[24,24],note:[24,24],table:[24,24],"layout-column":[24,24],"layout-column-background":[32,32],"flip-cards":[24,24],"divider-line":[24,24],"divider-line-with-text":[24,24],"divider-arrow":[24,24],"divider-quotes":[24,24],"divider-diamonds":[24,24],continue:[24,24],snippet:[24,24],code:[24,24],ol:[8,8],ul:[8,8],blockquote:[24,24],pullquote:[24,24],"default-ul-item":[8,8],"default-ol-item":[8,8],"custom-ul-item":[8,8],"custom-ol-item":[8,8]},"default-ul-item":{text:[16,16],none:[16,16],h1:[16,16],h2:[16,16],h3:[16,16],media:[16,16],"media-float-left":[16,16],"media-inner":[16,16],"media-outer":[16,16],"media-full":[16,16],quiz:[16,16],attachment:[16,16],collage:[16,16],video:[16,16],note:[16,16],table:[16,16],"layout-column":[16,16],"layout-column-background":[16,16],"flip-cards":[16,16],"divider-line":[16,16],"divider-line-with-text":[16,16],"divider-arrow":[16,16],"divider-quotes":[16,16],"divider-diamonds":[16,16],continue:[16,16],snippet:[16,16],code:[16,16],ol:[16,16],ul:[16,16],blockquote:[16,16],pullquote:[16,16],"default-ul-item":[8,8],"default-ol-item":[8,8],"custom-ul-item":[8,8],"custom-ol-item":[8,8]},"default-ol-item":{text:[16,16],none:[16,16],h1:[16,16],h2:[16,16],h3:[16,16],media:[16,16],"media-float-left":[16,16],"media-inner":[16,16],"media-outer":[16,16],"media-full":[16,16],quiz:[16,16],attachment:[16,16],collage:[16,16],video:[16,16],note:[16,16],table:[16,16],"layout-column":[16,16],"layout-column-background":[16,16],"flip-cards":[16,16],"divider-line":[16,16],"divider-line-with-text":[16,16],"divider-arrow":[16,16],"divider-quotes":[16,16],"divider-diamonds":[16,16],continue:[16,16],snippet:[16,16],code:[16,16],ol:[16,16],ul:[16,16],blockquote:[16,16],pullquote:[16,16],"default-ul-item":[8,8],"default-ol-item":[8,8],"custom-ul-item":[8,8],"custom-ol-item":[8,8]},"custom-ul-item":{text:[32,32],none:[16,32],h1:[32,32],h2:[32,32],h3:[32,32],media:[32,32],"media-float-left":[32,32],"media-inner":[32,32],"media-outer":[32,32],"media-full":[32,32],quiz:[32,32],attachment:[32,32],collage:[32,32],video:[32,32],note:[32,32],table:[32,32],"layout-column":[32,32],"layout-column-background":[32,32],"flip-cards":[32,32],"divider-line":[32,32],"divider-line-with-text":[32,32],"divider-arrow":[32,32],"divider-quotes":[32,32],"divider-diamonds":[32,32],continue:[32,32],snippet:[32,32],code:[32,32],ol:[16,16],ul:[16,16],blockquote:[32,32],pullquote:[32,32],"default-ul-item":[8,8],"default-ol-item":[8,8],"custom-ul-item":[8,8],"custom-ol-item":[8,8]},"custom-ol-item":{text:[32,32],none:[16,32],h1:[32,32],h2:[32,32],h3:[32,32],media:[32,32],"media-float-left":[32,32],"media-inner":[32,32],"media-outer":[32,32],"media-full":[32,32],quiz:[32,32],attachment:[32,32],collage:[32,32],video:[32,32],note:[32,32],table:[32,32],"layout-column":[32,32],"layout-column-background":[32,32],"flip-cards":[32,32],"divider-line":[32,32],"divider-line-with-text":[32,32],"divider-arrow":[32,32],"divider-quotes":[32,32],"divider-diamonds":[32,32],continue:[32,32],snippet:[32,32],code:[32,32],ol:[16,16],ul:[16,16],blockquote:[32,32],pullquote:[32,32],"default-ul-item":[16,16],"default-ol-item":[16,16],"custom-ul-item":[16,16],"custom-ol-item":[16,16]}};function om(e,t){return sT[e][t][0]}function cT(e,t){return sT[e][t][1]}function lT({currentBlockType:e,prevBlockType:t,defaultTopPadding:o}){return t==="none"&&ro(o)?o:om(e,t)}function pT(e,t,o){G(e,t,o)}function rm(e,t,o=window){let r=new CustomEvent(e,{detail:t});o.dispatchEvent(r)}var x5={overlay:"_RfNCDP",background:"_BhInaU",background_column:"_V-t7lf",background_loading:"_S3-ywH",image:"_6vX7bu",image_loading:"_hDey21"},mT=x5;var uT=u(mT);function dT(e,{color:t,opacity:o,isLoading:r,position:n="over",...i}){let a=P(),s=E(window),c={"background-color":bi({color:t,opacity:o})},l=Pr();M(()=>{a.current&&(a.current.style.display="")}),pT(s,"change-page",()=>{a.current&&(a.current.style.display="none",l())});let p=n==="above"?{endStart:"xlarge",endEnd:"xlarge"}:void 0;return e`
<div
	class=${uT.background.withMods({loading:r,column:n==="above"})}
	save-ref=${a}
	contenteditable="false"
>
	${e(ho,{image:i,outContainerRef:a,fit:"cover",radius:p})}
	<div
		class=${uT.overlay}
		style=${c}
	/>
</div>`}var S5=72,k5=40;function nm(e,t){return e.designSettings.coverInfoState?t==="over"?S5:k5:null}var fT={...mC,showKicker:!0};function im(e){let t=[];return ue(e,o=>{let r=Q.toLayoutBlock(o);r?t.push(r,...Q.getAllBlocks(r)):t.push(o)}),t}var C5=1;function gT(e){let t=[];return e.forEach(o=>{let{hiddenHeaders:r}=o.navigationData,n={key:o.key,title:o.header.title||B("Roll.Common.ChapterDefaultTitle"),childHeaders:[],hiddenContent:null};t.push(n);let{continueButtonKey:i}=o,a=[],s=v5(a,n),c=T5(a,n),l=im(o.contentState.blockMap),{remappedBlocks:p,nextContinueButton:m}=_5(l,i);m&&(n.hiddenContent={type:"continue",blockKey:m}),p.forEach(d=>B5({block:d,hiddenHeaders:r,headersQueue:a,pageProps:n,addHeaderBiggerThenLast:c,addHeaderSameWithLast:s})),yT(n)}),t}function _5(e,t){if(!ie(t))return{remappedBlocks:e,nextContinueButton:null};let o=[],r=!t;for(let n of e){let i=we.toContinueBlock(n);if(i){if(i.key===t)r=!0;else if(r)return o.push(n),{remappedBlocks:o,nextContinueButton:i.key}}o.push(n)}return{remappedBlocks:o,nextContinueButton:null}}function B5({block:e,hiddenHeaders:t,headersQueue:o,pageProps:r,addHeaderSameWithLast:n,addHeaderBiggerThenLast:i}){let a=ae(e);if(!a||a.viewType!=="h1"&&a.viewType!=="h2"&&a.viewType!=="h3"||t.includes(a.key))return;let s=a,c=s.viewType,l=o.length?Rg(o):null;if(!l){am(sm(s,Os(c)),o,r.childHeaders);return}let p=l.headerType,m=Ig(c,p);m>0?am(sm(s,m),o,l.childHeaders):m===0?n(s):m<0&&i(s)}function am(e,t,o){o.push(e),t.push(e)}function sm(e,t){return{key:e.key,title:Ke.getCharactersText(e),offset:t,headerType:e.viewType,childHeaders:[]}}function v5(e,t){return o=>{e.pop();let r=Rg(e),n=r?Ig(o.viewType,r.headerType):Os(o.viewType),i=(r==null?void 0:r.childHeaders)||t.childHeaders;am(sm(o,n),e,i)}}function T5(e,t){return o=>{let r=o.viewType;e.pop();let n=null,i=0;for(;!n;){if(!e.length){n=t,i=Os(r);continue}let a=Rg(e),s=a.headerType,c=Ig(r,s);c<=0?e.pop():(n=a,i=c)}am(sm(o,i),e,n.childHeaders)}}function yT(e){let t=e.childHeaders.map(r=>r.offset),o=Math.min(...t);e.childHeaders.forEach(r=>{r.offset=r.offset-o+C5,yT(r)})}function Ig(e,t){return Os(e)-Os(t)}function Os(e){return J(e,{h1:1,h2:2,h3:3})}function Rg(e){return sc(e,-1)}var wt=Ne({isReadonly:!1,isPagesDraggable:!1,onHiddenContentClick:()=>{},getEmptyStateText:()=>null,gotoPageHandler:()=>{},gotoHeaderHandler:()=>{},setPagesOrderHandler:()=>{},isPageDisabled:()=>!1,getPageTooltip:()=>null,getHiddenContentIndicatorText:()=>null,renderPagePrefix:()=>null,renderPageControls:()=>null});function hT(e,t){let o=ne(wt),r=D(()=>({...o,...t}),[t,o]);e.setContext(wt,r)}function cm(e,t,o=50){let r=e.getBoundingClientRect(),n=t.getBoundingClientRect();return t.scrollTop+(r.top-n.top)-o}function xT(e,t){let o=Array.from(e.querySelectorAll("h1[data-key],h2[data-key],h3[data-key]")).filter(i=>{let a=i.getAttribute("data-key");return a&&t.includes(a)}),r=null,n=e.offsetHeight;for(let i of o){let a=cm(i,e,n*.75);if(Math.floor(e.scrollTop)>=Math.floor(a))r=i.getAttribute("data-key");else break}return r}function ST(e){let{hiddenHeaders:t}=e.navigationData,o=[];return im(e.contentState.blockMap).forEach(r=>{let n=ae(r);n&&["h1","h2","h3"].includes(n.viewType)&&!t.includes(r.key)&&o.push(r.key)}),o}var b5=400;function kT(e,t=()=>{}){let o=Cs({initialValue:e.scrollTop,setScrollValue:r=>{e.scrollTop=r},delta:e.scrollTop*-1,duration:b5});o&&o.add(()=>t())}var w5=400;function CT({contentElement:e,onBeforeStartScroll:t,onCompleteScroll:o,checkNeedToScroll:r}){let n=te(r),i=te(o);return I((a,s)=>{if(!n.current(a))return;let c=V(e.querySelector(`[data-key="${s}"]`)),l=e.scrollTop,p=e.offsetHeight,d=cm(c,e,p*.75)-l;if(Math.floor(d)===0)return;t&&t(s);let g=Cs({initialValue:e.scrollTop,setScrollValue:y=>{e.scrollTop=y},delta:d,duration:w5});g&&g.addCallOnce(()=>i.current&&i.current(s))},[e,n,t,i])}var Fs={};Xu(Fs,{PageHeader:()=>M5});var E5={header:"_nTButh",header_offset_medium:"_54a37p",header_offset_large:"_Vl5GPf",header_withBackground:"_VNoNJl",header_column:"_6AyfOx",content:"_h0QU8C",content_lock:"_KMD67k",content_withBackground:"_rB3zI_",kicker:"__CsoUv",meta:"_phzg9D",title:"_Ic_U-E",subtitle:"_eWRs0L"},_T=E5;var P5={tag:"_bMD7OD",content:"_kK84tn"},BT=P5;var vT=u(BT);function TT(e,t){let o=P(),r=ui(o);return on({html:e,anchorRef:o,text:t,show:r,offset:{x:0,y:-12}}),o}function bT(e,{content:t,textColor:o,hasBackground:r}){let[n,i,a]=Ae(o),s=r?`rgba(${n}, ${i}, ${a}, 0.1)`:bn("surface-subdued");return e`
<div
	class=${vT.tag}
	style=${{backgroundColor:s}}
>
	${e(t,vT.content)}
</div>`}var ia=u(_T);function M5(e,{background:t,content:o,autotestData:r,coverPosition:n}){let{textColor:i,isLocked:a,meta:s=null,kicker:c,title:l,subtitle:p,buttonGroup:m=null,collaborators:d=null}=o,g=P();return ee(()=>{De(g.current,{"--roll-page-header-text-color":i,"--roll-page-header-meta-color":t?i:lo("text-subdued")})},[t,g,i]),e`
<div
	class=${ia.header.withMods({withBackground:!!t,offset:s?"medium":"large",column:n==="above"})}
    data-at=${j(r)}
>
	${e.renderIf(dT,()=>!!t&&{src:t.src,editedSrc:t.editedSrc,width:t.width,height:t.height,color:t.color,opacity:t.opacity,isLoading:t.isLoading,crop:t.crop,position:n})}
	<div
		save-ref=${g}
		class=${ia.content.withMods({lock:a,withBackground:a&&!t})}
	>
		${e(m)}
		${e(s,ia.meta)}
		${e.renderIf(bT,()=>!!c&&{content:c,textColor:i,hasBackground:!!t&&n==="over"},ia.kicker)}
		${e(l,ia.title)}
		${e(p,ia.subtitle)}
		${e(d)}
	</div>
</div>`}var wT="intro";var I5=[yt.CLICK],sa=new Map,Dg=new Map,aa=!1,Ag=!1,R5=()=>null;function PT(){MT(),ao(PT)}ao(PT);function MT(){if(sa.size&&!Ag){aa=!0;for(let e of sa.keys())e._redraw();aa=!1,sa.clear()}}function D5(e){sa.set(e,!0)}function ET(e){sa.delete(e)}function A5(e){return sa.has(e)}var lm=class extends _r{constructor({bemInfo:t,blockName:o,block:r=o,relatedData:n,direction:i="ltr"}){super(),this._bemInfoArray=[],(t||r)&&this._addBemInfo(V(t||r)),this._childElements=null,this._childElementsRef=null,this._relatedData=n||this,this._modifiers={},this._browserEventSignals=null,this._domElement=null,this._onDidRedraw=null,this._onDomElementReCreatedCallback=null,this._childContext=new Map,this._direction=i}setDirection(t){this._direction=t}_setContext(t,o){Bc(this._childContext,t,o)}static renderInProgress(){return aa}static suspend(t){Ag=t,t||MT()}domElement(){if(A5(this)&&!Ag){let t=aa;aa=!0,this._redraw(),aa=t}return this._domElement?this._domElement:(this._redraw(),this.domElement())}onDidRedraw(){return this._onDidRedraw||(this._onDidRedraw=this._createSignal()),this._onDidRedraw}updateModifier(t,o){o?typeof o=="string"?this._modifiers[t]=o:o&&(this._modifiers[t]=null):delete this._modifiers[t],this._sheduleRender()}hasModifier(t){return Object.keys(this._modifiers).includes(t)}handleEvent(t){if(t.defaultPrevented&&I5.includes(t.type))return;let o=this._getBrowserEventSignalIfExists(t.type);o&&o.dispatch(t)}createChildBemInfo(t){return V(this._bemInfoArray[0]).createChildElementBemInfo(t)}addBemInfo(t,o){this._addBemInfo(t,o),this._sheduleRender()}setOnDomElementReCreatedCallback(t){this._onDomElementReCreatedCallback=t}clearCache(){this._relatedData={},this._sheduleRender()}_sheduleRender(){D5(this)}_redraw(){ET(this);let t=this._render();if(t!=this._domElement){let o=this._domElement;this._domElement=t,o&&(this._onDomElementReCreatedCallback?this._onDomElementReCreatedCallback():O.error(`[${this.constructor.name}] component element was changed`))}this._onDidRedraw&&document.body.contains(this._domElement)&&this._onDidRedraw.dispatch()}_getBrowserEventSignalIfExists(t){return this._browserEventSignals&&this._browserEventSignals[t]||null}_getBrowserEventSignal(t){return this._browserEventSignals||(this._browserEventSignals={}),this._browserEventSignals[t]||(this._browserEventSignals[t]=this._createSignal(),this._sheduleRender()),this._browserEventSignals[t]}_activeListenerExists(t){let o=this._getBrowserEventSignalIfExists(t);return!!o&&o.handlersCount()>0}_getHandler(t){return this._activeListenerExists(t)?this:null}_addBemInfo(t,o){t instanceof Uo||(t=new Uo(t,o)),this._bemInfoArray.push(t)}_getCssClasses(){return this._bemInfoArray?N1(this._bemInfoArray,this._modifiers):""}_wasRendered(){return!!this._domElement}_html(t,...o){return this._generateElement("",t,...o)}_renderFunctionEx(t){return this._childElementsRef||(this._childElementsRef={}),this._childElementsRef[t]||(this._childElementsRef[t]={}),kn(this._relatedData,t,this._childContext,this._childElementsRef[t])}_childHtml(t){Dg.has(this)||Dg.set(this,{});let o=Dg.get(this);return o[t]||(o[t]=(r,...n)=>typeof r=="string"?this._childHtml(t+r):this._generateElement(t,r,...n),o[t].optional=(r,n)=>n?o[t](r):R5),o[t]}_getChildClass(t){return this.createChildBemInfo(t).className()}_getChildElement(t){if(this._childElementsRef&&this._childElementsRef[t])return V(this._childElementsRef[t].current);this.domElement();let o=this._childElements;return o&&o[t]||null}_generateElement(t,o,...r){let n=s=>s.map((c,l)=>{if(c instanceof Uo)c=c.className();else if(c instanceof io)c=c.dispatch.bind(c);else if(typeof c=="function")c=c.bind(this);else{if(c==this)return c.handleEvent.bind(this);if(c&&c!=this&&typeof c.domElement=="function")return typeof c.setOnDomElementReCreatedCallback=="function"&&c.setOnDomElementReCreatedCallback(()=>this._redraw()),this._addDisposable(c),c.domElement();if(Array.isArray(c))return n(c)}if(o[l]&&o[l].endsWith("passive-events="))for(let p of Object.keys(c))typeof c[p]=="function"&&(c[p]=c[p].bind(this));return c});r=n(r);let i=t&&`:${t}`,a=Gt(this._relatedData,i)(o,...r);return t&&(this._childElements=this._childElements||{},this._childElements[t]=a),a}_render(){}_destruct(){ET(this),super._destruct()}};function pm(e){return e.replace(/^\s|\s$/,ko.NBSP)}var IT={create(e){let t=[],o=t.length>0?0:-1;return{key:e.key,type:S.QUIZ,exercise:e,questionsState:t,selectedQuestionIndex:o}},toExerciseState(e){return e.type!==S.EXERCISE?null:e}};var Et={create(e){let t={},o={},r={},n={};return ue(e.state.questions,i=>{switch(i.type){case"ti":o[i.id]=Vp();break;case"mc":case"mr":t[i.id]=Ap(i);break;case"sq":r[i.id]=Op(i);break;case"mt":n[i.id]=Lp(i,e.settings.main.shuffleAnswersEnabled);break;default:z(i)}}),{key:e.key,type:S.QUIZ,quizData:e,attempts:0,timeSpent:0,timerStartTime:null,timerStopTime:null,sessionState:"notStarted",currentSlide:{type:"intro"},typeInQuestionsState:o,choicesQuestionsState:t,sequenceQuestionsState:r,matchingQuestionsState:n,questionsViewOrder:ta(e.state,e.settings.main),choicesViewOrderMap:ea(e.state,e.settings.main),bestAttempt:null}},toQuizState(e){return e.type!==S.QUIZ?null:e}};function V5(e){let t=[];for(let o of e){let r=mt.toQuizBlock(o);r&&t.push(Et.create(r))}return t}var RT={create(e=[]){return{blockMap:F.createBlocks(e),blocksState:V5(e)}}};var DT=Mt(N_());var L5=.76;function AT(e,t,o){let r=[...Ae(e),t],n=Ae(pt.whiteDefault),i=ai(n,r),[,,a]=md(i[0],i[1],i[2]);return a<=o?"light":"dark"}function O5({setStyle:e,background:t,lightnessLimitValue:o}){let r=new DT.default,n=He(t.imageSrc);r.getColorAsync(n).then(i=>{i.error||e(AT(i.hexa,1,o))}),r.destroy()}function mm({background:e,lightnessLimitValue:t=L5,setStyle:o}){if(!e){o("dark");return}e.type==="color"?o(AT(e.color,e.opacity,t)):e.type==="image"&&O5({background:e,lightnessLimitValue:t,setStyle:o})}var F5={imageTemp:"_GFJvfC"},VT=F5;var LT=u(VT);function um(e,{image:t,isTemporary:o}){let r=P();return M(()=>{o?r.current.classList.add(LT.imageTemp):r.current.classList.remove(LT.imageTemp)},[r,o]),pe(e,f(ho,{image:t,fit:"cover"}),r)}var K5={dndIcon:"_3Yj6Qa"},OT=K5;var $5=u(OT);function FT(e,{onClick:t,className:o,autotestData:r}){return e`
<div
	class=${Ee($5.dndIcon,o)}
	draggable="true"
	contenteditable="false"
	data-at=${j(r)}
>
	${e(N5,{onClick:t})}
</div>`}function N5(e,{state:t,onClick:o}){return Ts(e,{type:"icon",style:"ghost",size:"xSmall",state:t,icon:f(Ki),onClick:o!=null?o:()=>{}})}function z5({onUpload:e,accept:t,type:o}){let r=g_();return{multiple:o==="multi",browseRef:r,accept:t,onChange:n=>{n.length&&e(o==="multi"?n:n[0])}}}function dm(e){let t=vx(Hh());return z5({onUpload:e,accept:t,type:"single"})}var sn=(e,t,o=!0)=>r=>{r.target===e.current&&(o&&r.preventDefault(),t(r))};var H5=Oo("addNewPage",(e,t)=>t.addNewPage()),Q5=Oo("gotoPage",(e,t)=>t.gotoPage(e)),U5=Oo("duplicatePage",(e,t)=>t.duplicatePage(e)),W5=Oo("moveUpPage",(e,t)=>t.moveUpPage(e)),q5=Oo("moveDownPage",(e,t)=>t.moveDownPage(e)),G5=Oo("removePage",(e,t)=>t.removePage(e)),j5=Oo("setPagesOrder",(e,t)=>t.setPagesOrder({newOrder:e})),Y5=Oo("showPageHeader",({pageKey:e,headerKey:t},o)=>o.showPageHeader(e,t)),Z5=Oo("hidePageHeaderAction",({pageKey:e,headerKey:t},o)=>o.hidePageHeader(e,t)),KT={addNewPageAction:H5,gotoPageAction:Q5,duplicatePageAction:U5,moveUpPageAction:W5,moveDownPageAction:q5,removePageAction:G5,setPagesOrderAction:j5,showPageHeaderAction:Y5,hidePageHeaderAction:Z5};function $T(){let e=V(getComputedStyle(document.body));return{top:parseFloat(e.getPropertyValue("--top-bar-height"))||0,bottom:window.innerHeight}}function cn(e){let t=ae(e);if(t)return t.viewType;let o=mt.toQuizBlock(e);if(o)return mt.getBlockType(o);let r=Pn.toAttachmentBlock(e);if(r)return Pn.getBlockType(r);let n=Y.toCollageBlock(e);if(n)return Y.getBlockType(n);let i=$t.toNoteBlock(e);if(i)return $t.getBlockType(i);let a=xe.toTableBlock(e);if(a)return xe.getBlockType(a);let s=Q.toLayoutBlock(e);if(s)return Q.getBlockType(s);let c=oe.toFlipCardsBlock(e);if(c)return oe.getBlockType(c);let l=Be.toDividerBlock(e);if(l)return Be.getBlockType(l);let p=we.toContinueBlock(e);if(p)return we.getBlockType(p);let m=Xt.toVideoBlock(e);if(m)return Xt.getBlockType(m);let d=Ri.toEmbedBlock(e);if(d)return Qr.getBlockType(d);let g=Wr.toSnippetBlock(e);if(g)return Wr.getBlockType(g);let y=Tt.toCodeBlock(e);if(y)return Tt.getBlockType(y);let h=Se.toListItemBlock(e);return h?Se.getBlockType(h):""}var NT="data-1.bin",zT="data-1.json";var HT={create({title:e="",subtitle:t="",kicker:o="",designSettings:r={textColor:lo("text-default"),coverInfoState:null}}){return{title:e,subtitle:t,kicker:o,designSettings:r}}};var QT={create(e){return{key:e.key,header:e.header,contentState:e.contentState,index:e.index||0,progress:e.progress||0,continueButtonKey:"",navigationData:{hiddenHeaders:e.hiddenHeaders||[]}}}};function X5(e,t){let o=t+1;return e[o]||null}var Te={sections(e){return[...e.pages]},nextSection(e){return X5(e.pages,e.selectedSectionIndex)},getSectionByKey(e,t){return e.pages.find(o=>o.key===t)||null},selectedSection(e){let t=e.selectedSectionIndex;return e.pages[t]},getContinueButtons(e){let t=this.selectedSection(e),o=[];return be.forEach(t.contentState.blockMap,r=>{let n=we.toContinueBlock(r);n&&o.push(n)}),o},getLastContinueButtonKey(e){let t=this.getContinueButtons(e);return t.length?t[t.length-1].key:null},create(e,t=!1){return{pages:e,selectedSectionIndex:0,navigationPanelShowed:t}}};function UT(e,t){if(e.linkToBlockButtonSettings.enabled)return o=>e.linkToBlockButtonSettings.enabled&&t&&e.linkToBlockButtonSettings.onCopyLink(t,o)}function J5(e,t){return{...e,...t}}function eF(e,t){for(let o of t){let r=e.findIndex(a=>o.key===a.key),n=e[r];if(r===-1||!n)continue;let i=Et.toQuizState(n);if(i){e[r]=J5(i,o);continue}throw new Error(`Unexpected block state type: ${n.type}`)}}function Vg(e,t){let{pages:o,selectedChapter:r}=t;o&&e.pages.forEach((n,i)=>{let a=o[i];if(a){let{progress:s,blocksState:c,continueButtonKey:l}=a;s&&(n.progress=s),l&&(n.continueButtonKey=l),c&&eF(n.contentState.blocksState,c)}}),typeof r=="number"&&r>=0&&(e.selectedSectionIndex=r)}function tF(e){let t=[];for(let o of e.blockMap.order)t.push(w(e.blockMap.blocks[o]));return RT.create(t)}function oF(e){return e.order.map((t,o)=>{let r=w(e.blocks[t]);return QT.create({key:r.key,index:o,header:HT.create(r.header),contentState:tF(r.contentState),hiddenHeaders:r.navigationData.hiddenHeaders})})}function WT(e,t){let o=oF(e.pages),{isNavigationPanelCollapsedByDefault:r}=t.navigation;return Te.create(o,!r)}var qT={...Xi,_:"b",key:"k",type:"t"},GT={intro:{_:"i",progress:"p",blocksState:qT,continueButtonKey:"c"},chapters:{_:"c",progress:"p",blocksState:qT,continueButtonKey:"c"},selectedChapter:"s"};var jT={...Ji,_:"b",key:"k",type:"t"},fm={intro:{_:"i",progress:"p",blocksState:jT,continueButtonKey:"c"},chapters:{_:"c",progress:"p",blocksState:jT,continueButtonKey:"c"},selectedChapter:"s"};var YT={pages:{...fm.chapters,_:"ps"},selectedChapter:"s"};function ZT(e){switch(e){case 1:return GT;case 2:return fm;case 3:return YT;default:throw Error(`cannot decode ResumeState with version ${e}`)}}function XT(e,t){let o=tr(e,ql),r=ZT(t);return wo(o,r,[])}function JT(e,t){let o=ZT(t),r=jt(e,o,[]);return tr(r,$i)}function eb(e){return e.replace(/(["'])/g,"\\$1")}function tb(e){return e.replace(/\\(["'])/g,"$1")}function ob(e){let t=Et.toQuizState(e);return t?{...t,...Hp(t)}:e}function rb(e){return oc({...e,intro:e.intro&&{...e.intro,blocksState:e.intro.blocksState&&e.intro.blocksState.map(ob)},chapters:e.chapters&&e.chapters.map(t=>({...t,blocksState:t.blocksState&&t.blocksState.map(ob)}))})}function nb(e){let t=rF(e);return oc({pages:t.intro&&t.chapters?[t.intro,...t.chapters]:void 0,selectedChapter:ie(t.selectedChapter)?t.selectedChapter+1:void 0})}function rF(e){let t=e.chapters&&e.chapters.length?nF(e.chapters[0],e.chapters):[];return{...e,chapters:t}}function nF(e,t){let r=Object.keys(e).filter(n=>!isNaN(Number(n)));return r.length?r.sort((n,i)=>Number(n)-Number(i)).map((n,i)=>{var a;return{...e[n],blocksState:(a=t[i])==null?void 0:a.blocksState}}):t}function gm({resumeState:e,version:t}){return Eo({document:e,initialVersion:1,versionFrom:t,versionTo:3,upgraders:[{targetVersion:2,upgradeFn:rb},{targetVersion:3,upgradeFn:nb}]}).upgradedDocument}var{Int:iF,Bool:ym,String:ca}=xt,ib=W({key:ca(1),selected:ym(2)}),aF=W({choicesState:me(1,ib)}),sF=W({choicesState:me(1,ib)}),cF=W({answer:ca(1)}),lF=W({key:ca(1),answered:ym(2),contentState:Z(3,aF)}),pF=W({key:ca(1),answered:ym(2),contentState:Z(3,sF)}),mF=W({key:ca(1),answered:ym(2),contentState:Z(3,cF)}),uF=Ot({mc:lF,mr:pF,ti:mF}),ab=W({key:ca(1),selectedQuestionIndex:iF(2),questionsState:me(3,uF)});var{Float:sb,Int:dF,String:cb}=xt,lb=Ot({[S.EXERCISE]:ab}),fF=W({intro:Z(1,{progress:de(1,sb),blocksState:me(2,lb),continueButtonKey:de(3,cb)}),chapters:me(2,{progress:de(1,sb),blocksState:me(2,lb),continueButtonKey:de(3,cb)}),selectedChapter:de(3,dF)}),pb=new Rr(fF);function gF({questionState:e,questionData:t,choicesQuestionsState:o,choicesViewOrderMap:r}){if(e.type!=="mr"&&e.type!=="mc")return;let i=e.contentState.choicesState;if(!i)return;let a=ze(t.content).filter(m=>m.correct),s=[],c={},l=[];i.forEach(m=>{s.push(m.key),c[m.key]=m.selected,m.selected&&l.push(m.key)});let p=e.answered&&a.length===l.length&&a.every(m=>c[m.id]);o[e.key]={type:e.type,correct:p,submitted:e.answered,choices:c},r[e.key]=s}function yF({questionState:e,questionData:t,typeInQuestionsState:o}){let r=e.contentState,n=zp(t.content,r.answer);o[e.key]={type:"ti",correct:n,submitted:e.answered,answer:r.answer}}function hF(e,t){let{questionsState:o,selectedQuestionIndex:r,key:n}=e,i=[],a={},s={},c={};return o.forEach(l=>{i.push(l.key);let p=t.state.questions.blocks[l.key];p&&((l.type==="mr"||l.type==="mc")&&(p.type==="mr"||p.type==="mc")?gF({questionState:l,questionData:p,choicesQuestionsState:s,choicesViewOrderMap:c}):p.type==="ti"&&yF({questionState:l,questionData:p,typeInQuestionsState:a}))}),{key:n,type:S.QUIZ,attempts:0,timeSpent:0,timerStartTime:null,timerStopTime:null,sessionState:"inProgress",currentSlide:{type:"question",questionId:w(o[r]).key},typeInQuestionsState:a,choicesQuestionsState:s,questionsViewOrder:i,choicesViewOrderMap:c,bestAttempt:null}}function mb(e,t){return e.map(o=>{let r=IT.toExerciseState(o),n=mt.toQuizBlock(w(t.blocks[o.key]));return r&&n?hF(o,n):o})}function ub(e,t){let[o,...r]=t.pages;return{...e,intro:e.intro?{...e.intro,blocksState:e.intro.blocksState&&mb(e.intro.blocksState,w(o).contentState.blockMap)}:void 0,chapters:e.chapters?e.chapters.map((n,i)=>{let a=r[i];return{...n,blocksState:n.blocksState&&mb(n.blocksState,w(a).contentState.blockMap)}}):void 0}}function db(e,t){let o=mx(e,()=>pb),r=ub(o,t);return gm({resumeState:r,version:1})}function Og(e,t){let o=WT(e.content,e.settings);if(t)try{let{version:r,state:n}=JSON.parse(tb(t)),i=JT(n,r),a=gm({resumeState:i,version:r});return Vg(o,a),o}catch{xF(o,t)}return o}function xF(e,t){try{let o=db(t,e);Vg(e,o)}catch(o){O.warn(o)}}function SF(e){return{key:e.key,type:S.QUIZ,sessionState:e.sessionState,attempts:e.attempts,currentSlide:e.currentSlide,typeInQuestionsState:e.typeInQuestionsState,choicesQuestionsState:e.choicesQuestionsState,sequenceQuestionsState:e.sequenceQuestionsState,matchingQuestionsState:e.matchingQuestionsState,questionsViewOrder:e.questionsViewOrder,choicesViewOrderMap:e.choicesViewOrderMap,timeSpent:e.timeSpent,timerStartTime:e.timerStartTime,timerStopTime:e.timerStopTime,bestAttempt:e.bestAttempt}}function kF(e){return e.map(t=>{let o=Et.toQuizState(t);if(o)return SF(o);throw new Error(`Unexpected block state type: ${t.type}`)})}function fb(e){return{pages:e.pages.map(t=>({progress:t.progress,blocksState:kF(t.contentState.blocksState),continueButtonKey:t.continueButtonKey})),selectedChapter:e.selectedSectionIndex}}var gb={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...he,...Ie,...Me,...Oe,...et,...eo,...fs})}},CF={header:{_:"h",kicker:"k",title:"t",coverInfoState:{_:"c",src:"s",width:"w",height:"h",color:"c",opacity:"o",isBlob:"i"}},contentState:{_:"cs",...gb}},_F={key:"k",header:{_:"h",title:"t"},contentState:{_:"cs",...gb}},hm={intro:{_:"i",...CF},chapters:{_:"c",order:{_:"o",length:"l"},blocks:T({_:"B",..._F})}};var yb=hm;var hb={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...he,...Ie,...Me,...Oe,...et,...eo,...fs,...up})}},BF={header:{_:"h",kicker:"k",title:"t",coverInfoState:{_:"c",src:"s",width:"w",height:"h",color:"c",opacity:"o",isBlob:"i"}},contentState:{_:"cs",...hb}},vF={key:"k",header:{_:"h",title:"t"},contentState:{_:"cs",...hb}},xb={intro:{_:"i",...BF},chapters:{_:"c",order:{_:"o",length:"l"},blocks:T({_:"B",...vF})}};var Sb={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...he,...Ie,...Me,...Oe,...et,...eo,...Bo,...yo})}},TF={header:{_:"h",kicker:"k",title:"t",coverInfoState:{_:"c",src:"s",width:"w",height:"h",color:"c",opacity:"o",isBlob:"i"}},contentState:{_:"cs",...Sb}},bF={key:"k",header:{_:"h",title:"t"},contentState:{_:"cs",...Sb}},xm={intro:{_:"i",...TF},chapters:{_:"c",order:{_:"o",length:"l"},blocks:T({_:"B",...bF})}};var Sm=xm;var kb=Sm;var Cb={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...he,...Ie,...Me,...Oe,...et,...eo,...Bo,...yo,...ur})}},wF={header:{_:"h",kicker:"k",title:"t",coverInfoState:{_:"c",src:"s",width:"w",height:"h",color:"c",opacity:"o",isBlob:"i"}},contentState:{_:"cs",...Cb}},EF={key:"k",header:{_:"h",title:"t"},contentState:{_:"cs",...Cb}},km={intro:{_:"i",...wF},chapters:{_:"c",order:{_:"o",length:"l"},blocks:T({_:"B",...EF})}};var PF={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...he,...Ie,...Me,...Oe,...et,...eo,...Bo,...yo,...ur})}},MF={key:"k",header:{_:"h",title:"t",subtitle:"s"},contentState:{_:"cs",...PF}},_b={...km,chapters:{_:"c",order:{_:"o",length:"l"},blocks:T({_:"B",...MF})}};var Bb={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...he,...Ie,...Me,...Oe,...et,...ds,...Bo,...yo,...ur})}},IF={header:{_:"h",kicker:"k",title:"t",coverInfoState:{_:"c",src:"s",width:"w",height:"h",color:"c",opacity:"o",isBlob:"i"}},contentState:{_:"cs",...Bb}},RF={key:"k",header:{_:"h",title:"t",subtitle:"s"},contentState:{_:"cs",...Bb}},vb={intro:{_:"i",...IF},chapters:{_:"c",order:{_:"o",length:"l"},blocks:T({_:"B",...RF})}};var Tb={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...he,...Ie,...Me,...Oe,...et,...ds,...Bo,...yo,...ur,...B1})}},DF={header:{_:"h",kicker:"k",title:"t",coverInfoState:{_:"c",src:"s",width:"w",height:"h",color:"c",opacity:"o",isBlob:"i"}},contentState:{_:"cs",...Tb}},AF={key:"k",header:{_:"h",title:"t",subtitle:"s"},contentState:{_:"cs",...Tb}},Cm={intro:{_:"i",...DF},chapters:{_:"c",order:{_:"o",length:"l"},blocks:T({_:"B",...AF})}};var bb={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...Ue,..._t,...go,...Ct,...Wn,...ft,...$n,...Xr,...dr,...Vn,...mr})}},VF={...Cm.intro,contentState:{_:"cs",...bb}},LF={key:"k",header:{_:"h",title:"t",subtitle:"s"},contentState:{_:"cs",...bb}},_m={intro:VF,chapters:{_:"c",order:{_:"o",length:"l"},blocks:T({_:"B",...LF})}};var wb={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...Ue,..._t,...go,...Ct,...Wn,...ft,...$n,...Xr,...dr,...Vn,...mr,...bt})}},OF={..._m.intro,contentState:{_:"cs",...wb}},FF={key:"k",header:{_:"h",title:"t",subtitle:"s"},contentState:{_:"cs",...wb}},Bm={intro:OF,chapters:{_:"c",order:{_:"o",length:"l"},blocks:T({_:"B",...FF})}};var Eb={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...Ue,..._t,...go,...Ct,...Wn,...ft,...$n,...Xr,...dr,...Vn,...mr,...bt,...rg})}},KF={...Bm.intro,contentState:{_:"cs",...Eb}},$F={key:"k",header:{_:"h",title:"t",subtitle:"s"},contentState:{_:"cs",...Eb}},vm={intro:KF,chapters:{_:"c",order:{_:"o",length:"l"},blocks:T({_:"B",...$F})}};var Pb={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...ut,..._t,...go,...Ct,...Ep,...ft,...tg,...ms,...ls,...Vf,...ss,...bt,...ng})}},NF={...vm.intro,contentState:{_:"cs",...Pb}},zF={key:"k",header:{_:"h",title:"t",subtitle:"s"},contentState:{_:"cs",...Pb}},Tm={intro:NF,chapters:{_:"c",order:{_:"o",length:"l"},blocks:T({_:"B",...zF})}};var Mb={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...We,..._t,...go,...Ct,...oB,...ft,...gs,...us,...Fn,...es,...On,...bt,...zi,...hs})}},HF={...Tm.intro,contentState:{_:"cs",...Mb}},QF={key:"k",header:{_:"h",title:"t",subtitle:"s"},contentState:{_:"cs",...Mb}},bm={intro:HF,chapters:{_:"c",order:{_:"o",length:"l"},blocks:T({_:"B",...QF})}};var Ib={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...We,..._t,...go,...Ct,...Uf,...ft,...gs,...us,...Fn,...es,...On,...bt,...zi,...hs})}},UF={...bm.intro,key:"k",contentState:{_:"cs",...Ib}},WF={key:"k",header:{_:"h",title:"t",subtitle:"s"},contentState:{_:"cs",...Ib}},wm={intro:UF,chapters:{_:"c",order:{_:"o",length:"l"},blocks:T({_:"B",...WF})}};var Rb={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...$e,...$o,...An,...Lo,...Wf,...zo,...Nn,...No,...Ko,...Ln,...Fo,...Ho,...Vo,...xs})}},qF={...wm.intro,key:"k",contentState:{_:"cs",...Rb}},GF={key:"k",header:{_:"h",title:"t",subtitle:"s"},contentState:{_:"cs",...Rb}},Em={intro:qF,chapters:{_:"c",order:{_:"o",length:"l"},blocks:T({_:"B",...GF})}};var Db={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...$e,...$o,...An,...Lo,...is,...zo,...Nn,...No,...Ko,...Ln,...Fo,...Ho,...Vo,...xs})}},jF={...Em.intro,key:"k",contentState:{_:"cs",...Db}},YF={key:"k",header:{_:"h",title:"t",subtitle:"s"},contentState:{_:"cs",...Db}},Ks={intro:jF,chapters:{_:"c",order:{_:"o",length:"l"},blocks:T({_:"B",...YF})}};var Fg={...Mr(Ks.chapters.blocks),header:{_:"h",title:"t",subtitle:"s",kicker:"k",designSettings:{_:"ds",textColor:"tc",coverInfoState:{_:"cis",src:"s",width:"w",height:"h",color:"c",opacity:"o",isBlob:"i"}}},navigationData:{_:"nd",hiddenHeaders:{_:"hh",length:"l"}}},Pm={pages:{...Ks.chapters,blocks:T({_:"B",...Fg})}};var ZF={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...$e,...$o,...An,...Lo,...is,...zo,...Nn,...No,...Ko,...Ln,...Fo,...Ho,...Vo,...ig})}},Kg={...Fg,contentState:{_:"cs",...ZF}},Mm={pages:{...Pm.pages,blocks:T({_:"B",...Kg})}};var XF={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...Ye,...pp,...Za,...Xa,...as,...en,...ys,...dp,...Zr,...ts,...sp,...Qo,...jr,...ag,...Kn})}},$g={...Kg,contentState:{_:"cs",...XF}},Im={pages:{...Mm.pages,blocks:T({_:"B",...$g})}};var JF={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...Ye,...ps,...Za,...Ja,...as,...en,...ys,...dp,...Zr,...ts,...cs,...Qo,...jr,...sg,...Kn})}},la={...$g,contentState:{_:"cs",...JF}},Rm={pages:{...Im.pages,blocks:T({_:"B",...la})}};var eK={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...kt,...mp,...W0,...Xl,..._1,...gp,...D1,...T1,...lp,...o1,...cp,...Qo,...Yl,...F1,...fp})}},tK={...la,contentState:{_:"cs",...eK},header:{...la.header,designSettings:{...la.header.designSettings,coverInfoState:{...la.header.designSettings.coverInfoState,...Ao}}}},Dm={pages:{...Rm.pages,blocks:T({_:"B",...tK})}};var Am=Dm;var Vm=Am;var Ab=Vm;var Vb={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...he,...Yr,...Ie,...Me,...vs})}},oK={header:{_:"h",kicker:"k",title:"t",coverInfoState:{_:"c",src:"s",width:"w",height:"h",color:"c",opacity:"o",isBlob:"i"}},contentState:{_:"cs",...Vb}},rK={key:"k",header:{_:"h",title:"t"},contentState:{_:"cs",...Vb}},Lb={intro:{_:"i",...oK},chapters:{_:"c",order:{_:"o",length:"l"},blocks:T({_:"B",...rK})}};var Ob={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...he,...Ie,...Me,...Zl,...vs})}},nK={header:{_:"h",kicker:"k",title:"t",coverInfoState:{_:"c",src:"s",width:"w",height:"h",color:"c",opacity:"o",isBlob:"i"}},contentState:{_:"cs",...Ob}},iK={key:"k",header:{_:"h",title:"t"},contentState:{_:"cs",...Ob}},Fb={intro:{_:"i",...nK},chapters:{_:"c",order:{_:"o",length:"l"},blocks:T({_:"B",...iK})}};var Kb={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...he,...Ie,...Me,...Oe,...yg})}},aK={header:{_:"h",kicker:"k",title:"t",coverInfoState:{_:"c",src:"s",width:"w",height:"h",color:"c",opacity:"o",isBlob:"i"}},contentState:{_:"cs",...Kb}},sK={key:"k",header:{_:"h",title:"t"},contentState:{_:"cs",...Kb}},$b={intro:{_:"i",...aK},chapters:{_:"c",order:{_:"o",length:"l"},blocks:T({_:"B",...sK})}};var Nb={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...he,...Ie,...Me,...Oe,...et})}},cK={header:{_:"h",kicker:"k",title:"t",coverInfoState:{_:"c",src:"s",width:"w",height:"h",color:"c",opacity:"o",isBlob:"i"}},contentState:{_:"cs",...Nb}},lK={key:"k",header:{_:"h",title:"t"},contentState:{_:"cs",...Nb}},zb={intro:{_:"i",...cK},chapters:{_:"c",order:{_:"o",length:"l"},blocks:T({_:"B",...lK})}};var Hb={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:T({_:"B",...he,...Ie,...Me,...Oe,...et,...eo})}},pK={header:{_:"h",kicker:"k",title:"t",coverInfoState:{_:"c",src:"s",width:"w",height:"h",color:"c",opacity:"o",isBlob:"i"}},contentState:{_:"cs",...Hb}},mK={key:"k",header:{_:"h",title:"t"},contentState:{_:"cs",...Hb}},Qb={intro:{_:"i",...pK},chapters:{_:"c",order:{_:"o",length:"l"},blocks:T({_:"B",...mK})}};function Lm(e){return J(`${e}`,{4:Lb,5:Fb,6:$b,7:zb,8:Qb,9:hm,10:yb,11:xb,12:xm,13:Sm,14:kb,15:km,16:_b,17:vb,18:Cm,19:_m,20:Bm,21:vm,22:Tm,23:bm,24:wm,25:Em,26:Ks,27:Pm,28:Mm,29:Im,30:Rm,31:Dm,32:Am,33:Vm,34:Ab})}function Ub(e,t){let o=Lm(t),r=jt(e,o,[]);return tr(r,$i)}function Wb(e,t){let o=Lm(t);return Qh(e,o).map(r=>({...r,value:tr(r.value,$i)}))}var Om={main:{_:"m",navigationType:"nT",numberingEnabled:"nE",nextButtonEnabled:"nbE",copyingEnabled:"cE",longreadType:"lT"},design:{_:"d",accentColor:"aC",headerFont:"hF",contentFont:"cF"}};var Fm=Om;var qb=Fm;var Km={main:{_:"m",navigationType:"nT",numberingEnabled:"nE",nextButtonEnabled:"nbE",copyingEnabled:"cE",longreadType:"lT"},design:{_:"d",accentColor:"aC",headerFont:"hF",contentFont:"cF"},advanced:{_:"a",direction:"d"}};var $m=Km;var Nm=$m;var zm=Nm;var Hm=zm;var Qm=Hm;var Um=Qm;var Wm=Um;var qm=Wm;var Gm=qm;var Gb=Gm;var jm={main:{_:"m",navigationType:"nT",numberingEnabled:"nE",nextButtonEnabled:"nbE",copyingEnabled:"cE",longreadType:"lT",chaptersCount:"chc",grade:{_:"gd",mode:"gM",quizToGradeId:"qTG"}},design:{_:"d",accentColor:"aC",headerFont:"hF",contentFont:"cF"},advanced:{_:"a",direction:"d"}};var Ym=jm;var jb=Ym;var Zm={main:{_:"m",navigationType:"nT",copyingEnabled:"cE",chaptersCount:"chc",grade:{_:"gd",mode:"gM",quizToGradeId:"qTG"}},navigation:{_:"n",contentsDisplayType:"cdt",nextButtonEnabled:"nbE",isNavigationPanelCollapsedByDefault:"inpc"},design:{_:"d",accentColor:"aC",headerFont:"hF",contentFont:"cF"},advanced:{_:"a",direction:"d"}};var Xm=Zm;var Jm=Xm;var eu=Jm;var Yb=eu;var tu={main:{_:"m",navigationType:"nT",copyingEnabled:"cE",chaptersCount:"chc",grade:{_:"gd",mode:"gM",quizToGradeId:"qTG"}},navigation:{_:"n",contentsDisplayType:"cdt",nextButtonEnabled:"nbE",isNavigationPanelCollapsedByDefault:"inpc"},design:{_:"d",accentColor:"aC",headerFont:{_:"hf",type:"t",id:"i"},contentFont:{_:"cf",type:"t",id:"i"}},advanced:{_:"a",direction:"d"}};var ou=tu;var Zb=ou;var Xb={main:{_:"m",navigationType:"nT",numberingEnabled:"nE",nextButtonEnabled:"nbE",copyingEnabled:"cE"},design:{_:"d",accentColor:"aC",headerFont:"hF",contentFont:"cF"}};var ru={main:{_:"m",navigationType:"nT",numberingEnabled:"nE",nextButtonEnabled:"nbE",copyingEnabled:"cE"},design:{_:"d",accentColor:"aC",headerFont:"hF",contentFont:"cF"}};var nu=ru;var iu=nu;var au=iu;var Jb=au;function e4(e){return J(`${e}`,{4:Xb,5:ru,6:nu,7:iu,8:au,9:Jb,10:Om,11:Fm,12:qb,13:Km,14:$m,15:Nm,16:zm,17:Hm,18:Qm,19:Um,20:Wm,21:qm,22:Gm,23:Gb,24:jm,25:Ym,26:jb,27:Zm,28:Xm,29:Jm,30:eu,31:Yb,32:tu,33:ou,34:Zb})}function t4(e,t){let o=e4(t);return jt(e,o,[])}function su(e){switch(e){case 400:case 600:case 700:return e;default:Qe(e,`Unknown font weight: ${e}`)}}function cu(e){switch(e){case"normal":case"italic":return e;default:Qe(e,`Unknown font style: ${e}`)}}function o4(e){try{return Object.entries(e).map(([t,o])=>({id:t,originalId:t,name:o.name,fallback:o.fallback,fontFaces:o.fontFaces.map(r=>({src:JS(r.path),weight:su(r.weight),style:cu(r.style)}))}))}catch{return[]}}var r4=[];function n4(){return r4}function i4(){let e=document.querySelector("#builtInDynamicFonts");if(e instanceof HTMLInputElement){let t=JSON.parse(e.value);r4=o4(t)}}function Ng(e){let o=(e.type==="builtIn"?n4():a4()).find(r=>r.id===e.id);return o||(console.warn(`Font with id: ${e.id} is not defined`),null)}function zg(e,t){let o=t!=null?t:Ng(e);if(!o)return"";let r=`"${o.name}"`;return o.fallback?`${r}, "${o.fallback}"`:r}function s4(e){return e?e.map(({name:t,fonts:o,combinedId:r})=>({id:r.settingsFontFamilyId,originalId:r.originalFontFamilyId,name:t!=null?t:"",fontFaces:o?o.map(n=>({src:He(n.path),weight:su(n.weight),style:cu(n.style)})):[]})):[]}var c4=[];function l4(e){return e.sort((t,o)=>t.name.localeCompare(o.name))}function uK(e){c4=l4(e)}function a4(){return c4}function p4(e){let t=s4(e);uK(l4(t))}var dK="condensed";function fK({font:e,fonts:t=document.fonts}){return[...t].some(o=>o.family===e.family&&o.style===e.style&&o.weight===e.weight)}function gK(e,t){let o=new FontFace(e,`url(${t.src})`,{style:t.style,weight:String(t.weight),stretch:dK});return o.load().then(()=>document.fonts.add(o))}async function yK(e,t){let o=e.name;await Promise.all(e.fontFaces.map(r=>fK({font:{family:o,style:r.style,weight:r.weight.toString()}})?void 0:gK(o,r))).catch(()=>{t&&PS(B("Common.Editor.Settings.Design.Font.Toast.LoadFailed",{name:o}))})}function m4(e,t=!1){let o=r=>{let n=Ng(r);n&&yK(n,t)};e.forEach(r=>o(r))}function u4({customFonts:e,documentFonts:t,showFailToast:o=!1}){i4(),p4(e),m4(t,o)}var d4="Inter";function f4({element:e=document.documentElement,designSettings:t}){YS({element:e,baseFonts:{headerFontFamily:t.headerFont?zg(t.headerFont):d4,contentFontFamily:t.contentFont?zg(t.contentFont):d4}}),De(e,{"--roll-player-accent-color":t.accentColor})}function g4({settings:e,customFonts:t,resourcesBaseUrl:o}){o&&s1(o),Ax(e.advanced.direction),u4({customFonts:t,documentFonts:[e.design.headerFont,e.design.contentFont]}),f4({designSettings:e.design}),ZS({baseColors:{accent:e.design.accentColor}})}function y4(e){let{patches:t,version:o}=e;return{content:t&&t.length?(0,At.applyPatches)(e.content,t):e.content,settings:e.settings,version:o}}function h4(e){let{content:t,settings:o,patches:r,version:n}=e;return{content:Ub(t,n),settings:t4(o,n),patches:r?Wb(r,n):[],version:n}}var k4=Mt(or());function hK(e){return{...e,verticalTextAlign:"top"}}function xK(e){for(let t of e.rowsOrder)for(let o of e.colsOrder){let r=xe.getCell(e,t,o);w(e.rowsMap[t]).colsMap[o]=hK(r)}}function x4(e){return e.type==="image"?e:{...e,meta:[]}}function SK(e){e.frontSide=x4(e.frontSide),e.backSide=x4(e.backSide)}function kK(e){ue(e.cardsBlockMap,SK)}function S4(e){ue(e,t=>{t.type===S.TABLE&&xK(t),t.type===S.FLIP_CARDS&&kK(t)})}function C4(e){return(0,k4.produce)(e,t=>{S4(t.intro.contentState.blockMap),ue(t.chapters,o=>{S4(o.contentState.blockMap)})})}var B4=Mt(or());function _4(e){ue(e,t=>{if(t.type===S.NOTE){let o=t;o.customIconColor=null,o.customBackgroundColor=null}})}function v4(e){return(0,B4.produce)(e,t=>{_4(t.intro.contentState.blockMap),ue(t.chapters,o=>{_4(o.contentState.blockMap)})})}var b4=Mt(or());function T4(e){return fe(e,t=>{if(t.type===S.FLIP_CARDS){let o=t;return{cardsBlockMap:o.cardsBlockMap,maxCardsInRow:o.maxCardsInRow,cardsLayout:o.cardsLayout,type:o.type,key:o.key,designSettings:{background:o.background&&o.background.type==="color"?{color:o.background.color,opacity:o.background.opacity}:null,paddingTop:null,paddingBottom:null}}}return{...t,designSettings:{background:null,paddingTop:null,paddingBottom:null}}})}function w4(e){return(0,b4.produce)(e,t=>{t.intro.contentState.blockMap=T4(t.intro.contentState.blockMap),ue(t.chapters,o=>{o.contentState.blockMap=T4(o.contentState.blockMap)})})}function P4(e){return{...e,viewType:_C(e.viewType)}}function CK(e){let t=e.colsMap,o=e.colsOrder,r={};return o.forEach(n=>{let i=w(t[n]).blockMap,a=fe(i,s=>s.type===S.PARAGRAPH?P4(s):s);r[n]={blockMap:a}}),{...e,colsMap:r}}function E4(e){return fe(e,t=>t.type===S.PARAGRAPH?P4(t):t.type===S.LAYOUT?CK(t):{...t})}function M4(e){return{intro:{...e.intro,contentState:{blockMap:E4(e.intro.contentState.blockMap)}},chapters:fe(e.chapters,t=>({...t,contentState:{blockMap:E4(t.contentState.blockMap)}}))}}function I4(e){return fe(e,t=>{if(t.type===S.EXERCISE){let o=t,r=o.questions.map(a=>a.type==="ti"?{id:a.key,type:a.type,description:a.description,attachment:a.attachment,feedback:a.feedback,content:{caseSensitive:a.content.caseSensitive,answers:a.content.answers.map(l=>({id:l.key,text:l.text}))}}:{id:a.key,type:a.type,description:a.description,attachment:a.attachment,feedback:a.feedback,content:Ve(a.content.choices.map(c=>({id:c.key,text:c.content,correct:c.correct})),c=>c.id)}),n={intro:null,questions:Ve(r,a=>a.id),results:null};return{key:o.key,type:S.QUIZ,longreadQuizId:null,isLoading:!1,alignment:"inner",designSettings:o.designSettings,settings:{main:{attempts:hl,passingScore:80,timeLimit:20*6e4,timeLimitEnabled:!1,shuffleAnswersEnabled:o.settings.shuffleAnswers,shuffleQuestionsEnabled:!1,showCorrectAnswersEnabled:o.settings.showCorrectAnswers,isGraded:!1}},state:n}}return t})}function R4(e){return{intro:{key:wT,header:e.intro.header,contentState:{blockMap:I4(e.intro.contentState.blockMap)}},chapters:Ve(ze(e.chapters).map(t=>({...t,contentState:{blockMap:I4(t.contentState.blockMap)}})),t=>t.key)}}function Hg(e){let{designSettings:t}=e;if(!t)return{...e,designSettings:void 0};let o={},r=t.paddingTop!==void 0&&t.paddingTop!==null,n=t.paddingBottom!==void 0&&t.paddingBottom!==null;return t.background!==void 0&&t.background!==null&&(o.background={color:t.background}),(r||n)&&(o.padding={},r&&(o.padding.top=t.paddingTop),n&&(o.padding.bottom=t.paddingBottom)),{...e,designSettings:o}}function _K(e){let t=Hg(e).designSettings,o=e.colsMap,r=e.colsOrder,n={};return r.forEach(i=>{let a=w(o[i]).blockMap,s=fe(a,c=>Hg(c));n[i]={blockMap:s}}),{...e,colsMap:n,layoutType:"column",designSettings:t}}function D4(e){return fe(e,t=>t.type===S.LAYOUT?_K(t):Hg(t))}function A4(e){return{intro:{...e.intro,contentState:{blockMap:D4(e.intro.contentState.blockMap)}},chapters:fe(e.chapters,t=>({...t,contentState:{blockMap:D4(t.contentState.blockMap)}}))}}var L4=Mt(or());function V4(e){return fe(e,t=>{var o;if(t.type===S.QUIZ){let r=t;return{...r,state:zB(r.state),alignment:(o=r.alignment)!=null?o:"inner",settings:{...r.settings,main:{...r.settings.main,showFeedbackEnabled:!0}}}}return t})}function O4(e){return(0,L4.produce)(e,t=>{t.intro.contentState.blockMap=V4(t.intro.contentState.blockMap),ue(t.chapters,o=>{o.contentState.blockMap=V4(o.contentState.blockMap)})})}var BK=72,vK="#FFFFFF",TK="#323537";function bK(e){var r,n;let o=((r=e.designSettings)!=null&&r.padding&&ie(e.designSettings.padding.top)?e.designSettings.padding.top:om(cn(e),"none"))+BK;return{...e,designSettings:{...e.designSettings,padding:{...(n=e.designSettings)==null?void 0:n.padding,top:o}}}}function wK(e){if(!Vr(e))return e;let[t,...o]=ze(e);return Ve([bK(w(t)),...o],r=>r.key)}function EK(e){return{...e,contentState:{blockMap:e.header.coverInfoState?wK(e.contentState.blockMap):e.contentState.blockMap},header:{title:e.header.title,subtitle:"",kicker:e.header.kicker.toUpperCase(),designSettings:{textColor:e.header.coverInfoState?vK:TK,coverInfoState:e.header.coverInfoState?{src:e.header.coverInfoState.src,width:e.header.coverInfoState.width,height:e.header.coverInfoState.height,color:e.header.coverInfoState.color,opacity:e.header.coverInfoState.opacity,isBlob:e.header.coverInfoState.isBlob}:null}},navigationData:{hiddenHeaders:[]}}}function PK({chapter:e,index:t,needToMigrateNumbering:o,totalChaptersCount:r}){return{...e,header:{title:e.header.title,subtitle:e.header.subtitle,kicker:o?B("Roll.Common.CurrentChapterFromTotal",{current:t+1,total:r}):"",designSettings:{textColor:"#323537",coverInfoState:null}},navigationData:{hiddenHeaders:[]}}}function F4(e,t,o){let r=ze(e.chapters);return{pages:Ve(er([t&&EK(e.intro),...ze(e.chapters).map((n,i)=>PK({chapter:n,index:i,totalChaptersCount:r.length,needToMigrateNumbering:o}))]),n=>n.key)}}var K4=Mt(or()),MK=24;function IK(e){let t=e.colsMap,o={},r=MK/e.colsOrder.length;return e.colsOrder.forEach(n=>{o[n]={blockMap:w(t[n]).blockMap,width:r}}),{...e,colsMap:o}}function RK(e){return fe(e,t=>t.type===S.LAYOUT?IK(t):t)}function $4(e){return(0,K4.produce)(e,t=>{ue(t.pages,o=>{o.contentState.blockMap=RK(o.contentState.blockMap)})})}function DK(e){return e.viewType==="ul"?{type:S.LIST_ITEM,key:e.key,designSettings:e.designSettings,characters:e.characters,listType:"ul",listViewType:"custom"}:e.viewType==="ol"?{type:S.LIST_ITEM,key:e.key,designSettings:e.designSettings,characters:e.characters,listType:"ol",listViewType:"custom",counterReset:e.isOrderedListFirstItem?1:null}:{type:e.type,key:e.key,designSettings:e.designSettings,characters:e.characters,viewType:e.viewType,textAlign:e.textAlign,defaultCharactersMeta:e.defaultCharactersMeta}}function AK(e){let t=e.colsMap,o={};return e.colsOrder.forEach(r=>{let n=w(t[r]),i=n.blockMap,a=fe(i,N4);o[r]={...n,blockMap:a}}),{...e,colsMap:o}}function N4(e){return e.type===S.PARAGRAPH?DK(e):e.type===S.LAYOUT?AK(e):e}function VK(e){return fe(e,N4)}function z4(e){return{pages:fe(e.pages,t=>({...t,contentState:{...t.contentState,blockMap:VK(t.contentState.blockMap)}}))}}function Qg({enabled:e,text:t}){return{enabled:e||!1,value:t||[]}}function LK({enabled:e}){return{enabled:e||!1}}function OK({enabled:e,url:t}){return{enabled:e||!1,value:t||""}}function FK(e){let t={key:e.key,type:S.COLLAGE,alignment:e.alignment,images:NK(e.images)};return t.designSettings&&(t.designSettings=e.designSettings),t}function KK(e){let t={key:e.key,type:S.VIDEO,alignment:e.alignment,width:e.width,height:e.height,caption:Qg({enabled:e.paragraph&&!!e.paragraph.characters.length,text:e.paragraph.characters}),src:e.src,isLoading:e.isLoading};return e.posterSrc&&(t.posterSrc=e.posterSrc),e.designSettings&&(t.designSettings=e.designSettings),t}function $K(e){let t={key:e.key,type:S.EMBED,alignment:e.alignment,width:e.width,height:e.height,caption:Qg({enabled:e.characters&&!!e.characters.length,text:e.characters}),src:e.src};return e.designSettings&&(t.designSettings=e.designSettings),t}function NK(e){let t=!!e.find(o=>o.characters.length);return e.map(o=>zK(o,t))}function zK(e,t){let o={key:e.key,type:S.IMAGE,parentCollageKey:e.parentCollageKey,src:e.src,isBlob:e.isBlob,width:e.width,height:e.height,alignment:e.alignment,caption:Qg({enabled:t,text:e.characters}),zoom:LK({enabled:!0}),link:OK({enabled:!1,url:""})};return e.designSettings&&(o.designSettings=e.designSettings),e.crop&&(o.crop=e.crop),o}function HK(e){let t=e.colsMap,o={};return e.colsOrder.forEach(r=>{let n=w(t[r]),i=n.blockMap,a=fe(i,H4);o[r]={...n,blockMap:a}}),{...e,colsMap:o}}function H4(e){return e.type===S.COLLAGE?FK(e):e.type===S.VIDEO?KK(e):e.type===S.EMBED?$K(e):e.type===S.LAYOUT?HK(e):e}function QK(e){return fe(e,H4)}function Q4(e){return{pages:fe(e.pages,t=>({...t,contentState:{...t.contentState,blockMap:QK(t.contentState.blockMap)}}))}}function U4(e){return{pages:fe(e.pages,t=>({...t,contentState:{...t.contentState,blockMap:fe(t.contentState.blockMap,W4)}}))}}function W4(e){return e.type===S.LAYOUT?UK(e):e.type===S.COLLAGE?WK(e):e}function UK(e){let t=e.colsMap,o={};return e.colsOrder.forEach(r=>{let n=w(t[r]),i=n.blockMap,a=fe(i,W4);o[r]={...n,blockMap:a}}),{...e,colsMap:o}}function WK(e){let t={...e,images:GK(e.images)};return t.designSettings&&(t.designSettings=e.designSettings),t}function qK(e){if(!e.length)return e;let t=e.map(r=>r.caption.enabled);return t.every(r=>r)||t.every(r=>!r)?e:e.map(r=>({...r,caption:{...r.caption,enabled:!0}}))}function GK(e){return qK(e).map(o=>jK(o))}function jK(e){let t={...e,frame:{type:"none"},rounding:{radius:"none"}};return e.designSettings&&(t.designSettings=e.designSettings),e.crop&&(t.crop=e.crop),t}function q4(e,t){return t?{pages:fe(e.pages,o=>({...o,header:{...o.header,designSettings:{...o.header.designSettings,textColor:"#323537"}}}))}:e}var j4=Mt(or());function G4(e){return fe(e,t=>{if(t.type===S.IMAGE){let o=t;return{alignment:o.alignment,key:o.key,type:S.COLLAGE,images:[{key:L(),type:o.type,parentCollageKey:o.key,width:o.width,height:o.height,src:o.src,characters:o.characters,isBlob:o.isBlob,alignment:"inner"}]}}if(t.type===S.EMBED){let o=t;return{key:o.key,type:o.type,width:o.width,height:o.height,src:o.src,alignment:o.alignment,characters:o.characters}}return t})}function Y4(e){return(0,j4.produce)(e,t=>{t.intro.contentState.blockMap=G4(t.intro.contentState.blockMap),ue(t.chapters,o=>{o.contentState.blockMap=G4(o.contentState.blockMap)})})}function Z4(e){let{content:t,versionFrom:o,options:r={}}=e,{convertIntroToPageV27:n=!0,numberingEnabledToV27:i=!1,changeHeaderTextColorToV33:a=!1}=r,c=Eo({document:t,initialVersion:4,versionFrom:o,versionTo:34,upgraders:[{targetVersion:5,upgradeFn:Y4},{targetVersion:6,upgradeFn:ce},{targetVersion:7,upgradeFn:ce},{targetVersion:8,upgradeFn:ce},{targetVersion:9,upgradeFn:ce},{targetVersion:10,upgradeFn:ce},{targetVersion:11,upgradeFn:ce},{targetVersion:12,upgradeFn:C4},{targetVersion:13,upgradeFn:ce},{targetVersion:14,upgradeFn:ce},{targetVersion:15,upgradeFn:ce},{targetVersion:16,upgradeFn:ce},{targetVersion:17,upgradeFn:v4},{targetVersion:18,upgradeFn:ce},{targetVersion:19,upgradeFn:w4},{targetVersion:20,upgradeFn:ce},{targetVersion:21,upgradeFn:ce},{targetVersion:22,upgradeFn:M4},{targetVersion:23,upgradeFn:ce},{targetVersion:24,upgradeFn:R4},{targetVersion:25,upgradeFn:A4},{targetVersion:26,upgradeFn:O4},{targetVersion:27,upgradeFn:l=>F4(l,n,i)},{targetVersion:28,upgradeFn:$4},{targetVersion:29,upgradeFn:z4},{targetVersion:30,upgradeFn:Q4},{targetVersion:31,upgradeFn:U4},{targetVersion:32,upgradeFn:ce},{targetVersion:33,upgradeFn:l=>q4(l,a)},{targetVersion:34,upgradeFn:ce}]});return{content:c.upgradedDocument,wasFixed:c.isDocumentFixed}}function X4(e){return{...e,main:{...e.main,longreadType:"multiplePage"}}}function J4(e){return{...e,advanced:{direction:"ltr"}}}function tw(e){return{...e,main:{...e.main,chaptersCount:-1,grade:{mode:"noGrade"}}}}function ow(e){return{...e,main:{navigationType:e.main.navigationType,copyingEnabled:e.main.copyingEnabled,chaptersCount:e.main.chaptersCount,grade:e.main.grade},navigation:{contentsDisplayType:e.main.longreadType==="multiplePage"?"withPages":"hidden",nextButtonEnabled:e.main.nextButtonEnabled,isNavigationPanelCollapsedByDefault:e.main.longreadType==="multiplePage"}}}function rw(e){let t={"Exo 2":"exo2","IBM Plex Sans":"ibm-plex-sans",Inter:"inter",Lato:"lato",Merriweather:"merriweather",Montserrat:"montserrat","Nunito Sans":"nunito-sans","Open Sans":"open-sans","PT Serif":"pt-serif",Roboto:"roboto","Roboto Slab":"roboto-slab","exo-2":"exo2"};return Object.values(t).includes(e)?e:J(e,t)}function nw(e){let{design:t}=e;return{...e,design:{accentColor:t.accentColor,headerFont:{type:"builtIn",id:rw(t.headerFont)},contentFont:{type:"builtIn",id:rw(t.contentFont)}}}}function iw(e){let{settings:t,versionFrom:o}=e,n=Eo({document:t,initialVersion:4,versionFrom:o,versionTo:34,upgraders:[{targetVersion:5,upgradeFn:ce},{targetVersion:6,upgradeFn:ce},{targetVersion:7,upgradeFn:ce},{targetVersion:8,upgradeFn:ce},{targetVersion:9,upgradeFn:ce},{targetVersion:10,upgradeFn:X4},{targetVersion:11,upgradeFn:ce},{targetVersion:12,upgradeFn:ce},{targetVersion:13,upgradeFn:J4},{targetVersion:14,upgradeFn:ce},{targetVersion:15,upgradeFn:ce},{targetVersion:16,upgradeFn:ce},{targetVersion:17,upgradeFn:ce},{targetVersion:18,upgradeFn:ce},{targetVersion:19,upgradeFn:ce},{targetVersion:20,upgradeFn:ce},{targetVersion:21,upgradeFn:ce},{targetVersion:22,upgradeFn:ce},{targetVersion:23,upgradeFn:ce},{targetVersion:24,upgradeFn:tw},{targetVersion:25,upgradeFn:ce},{targetVersion:26,upgradeFn:ce},{targetVersion:27,upgradeFn:ow},{targetVersion:28,upgradeFn:ce},{targetVersion:29,upgradeFn:ce},{targetVersion:30,upgradeFn:ce},{targetVersion:31,upgradeFn:ce},{targetVersion:32,upgradeFn:nw},{targetVersion:33,upgradeFn:ce},{targetVersion:34,upgradeFn:ce}]});return{settings:n.upgradedDocument,wasFixed:n.isDocumentFixed}}function aw(e,t){return t>=4&&t<27&&e.main&&"numberingEnabled"in e.main?e.main.numberingEnabled:!1}function lu(e){let{content:t,settings:o,version:r}=e,n=Z4({content:t,versionFrom:r,options:{convertIntroToPageV27:!0,numberingEnabledToV27:aw(o,r),changeHeaderTextColorToV33:!1}}),i=iw({settings:o,versionFrom:r});return{content:n.content,settings:i.settings,isContentFixed:n.wasFixed,isSettingsFixed:i.wasFixed}}function sw(e){if(!["content","settings","version"].every(n=>n in e))throw new Error("cannot prepare longread document");let o=h4(e),r=y4(o);return lu(r)}var{String:oo,Int:ln,Bool:$s}=xt,YK=W({start:ln(1),end:ln(2),style:oo(3)}),ZK=W({start:ln(1),end:ln(2),url:oo(3)}),Xn=W({text:oo(1),inlineStyleRanges:me(2,YK),urls:me(3,ZK)}),XK=W({src:oo(1),width:ln(2),height:ln(3)}),JK=W({src:oo(1),width:ln(2),height:ln(3)}),Wg=Ot({i:JK,e:XK}),cw=W({key:oo(1),text:Z(2,Xn),correct:$s(3)}),e$=W({choices:me(1,cw)}),t$=W({choices:me(1,cw)}),o$=W({key:oo(1),text:oo(2)}),r$=W({caseSensitive:$s(1),answers:me(2,o$)}),qg=W({type:oo(1),correct:Z(2,Xn),incorrect:Z(3,Xn),answered:Z(4,Xn)}),n$=W({includeInProgress:$s(1),shuffleAnswers:$s(2),showCorrectAnswers:$s(3)}),i$=W({key:oo(1),description:Z(2,Xn),attachment:de(3,Wg),content:Z(4,e$),feedback:Z(5,qg)}),a$=W({key:oo(1),description:Z(2,Xn),attachment:de(3,Wg),content:Z(4,t$),feedback:Z(5,qg)}),s$=W({key:oo(1),description:Z(2,Xn),attachment:de(3,Wg),content:Z(4,r$),feedback:Z(5,qg)}),c$=Ot({mc:i$,mr:a$,ti:s$}),lw=W({key:oo(1),settings:Z(2,n$),questions:me(3,c$)});var{String:tt,Int:Yo,Float:l$}=xt,Gg=W({start:Yo(1),end:Yo(2),url:tt(3)}),jg=W({start:Yo(1),end:Yo(2),style:tt(3)}),p$=W({key:tt(1),text:tt(2),viewType:tt(3),inlineStyleRanges:me(4,jg),urls:me(5,Gg)}),m$=W({key:tt(1),src:tt(2),width:Yo(3),height:Yo(4),alignment:tt(5),text:tt(6),inlineStyleRanges:me(7,jg),urls:me(8,Gg)}),u$=W({key:tt(1),src:tt(2),width:Yo(3),height:Yo(4),alignment:tt(5),text:tt(6),inlineStyleRanges:me(7,jg),urls:me(8,Gg)}),pw=Ot({[S.PARAGRAPH]:p$,[S.IMAGE]:m$,[S.EMBED]:u$,[S.EXERCISE]:lw}),mw=W({intro:Z(1,{kicker:tt(1),title:tt(2),coverSrc:de(3,tt),coverWidth:de(4,Yo),coverHeight:de(5,Yo),blocks:me(6,pw),coverColor:de(7,tt),coverOpacity:de(8,l$)}),chapters:me(2,{key:tt(1),title:tt(2),blocks:me(3,pw)})});var{String:Qt,Int:xr,Bool:Ns,Float:d$}=xt,f$=W({start:xr(1),end:xr(2),style:Z(3,{name:Qt(1),size:de(2,xr),color:de(3,Qt),opacity:de(4,d$)})}),g$=W({start:xr(1),end:xr(2),url:Qt(3)}),Jn=W({text:Qt(1),inlineStyleRanges:me(2,f$),urls:me(3,g$)}),y$=W({src:Qt(1),width:xr(2),height:xr(3)}),h$=W({src:Qt(1),width:xr(2),height:xr(3)}),Yg=Ot({i:h$,e:y$}),uw=W({key:Qt(1),text:Z(2,Jn),correct:Ns(3)}),x$=W({choices:me(1,uw)}),S$=W({choices:me(1,uw)}),k$=W({key:Qt(1),text:Qt(2)}),C$=W({caseSensitive:Ns(1),answers:me(2,k$)}),Zg=W({type:Qt(1),correct:Z(2,Jn),incorrect:Z(3,Jn),answered:Z(4,Jn)}),_$=W({includeInProgress:Ns(1),shuffleAnswers:Ns(2),showCorrectAnswers:Ns(3)}),B$=W({key:Qt(1),description:Z(2,Jn),attachment:de(3,Yg),content:Z(4,x$),feedback:Z(5,Zg)}),v$=W({key:Qt(1),description:Z(2,Jn),attachment:de(3,Yg),content:Z(4,S$),feedback:Z(5,Zg)}),T$=W({key:Qt(1),description:Z(2,Jn),attachment:de(3,Yg),content:Z(4,C$),feedback:Z(5,Zg)}),b$=Ot({mc:B$,mr:v$,ti:T$}),dw=W({key:Qt(1),settings:Z(2,_$),questions:me(3,b$)});var{String:Fe,Int:xo,Float:gw,Bool:w$}=xt,Xg=W({start:xo(1),end:xo(2),url:Fe(3)}),Jg=W({start:xo(1),end:xo(2),style:Z(3,{name:Fe(1),size:de(2,xo),color:de(3,Fe),opacity:de(4,gw)})}),E$=W({key:Fe(1),text:Fe(2),viewType:Fe(3),inlineStyleRanges:me(4,Jg),urls:me(5,Xg),textAlign:de(6,Fe),isOrderedListFirstItem:de(7,w$)}),P$=W({key:Fe(1),src:Fe(2),width:xo(3),height:xo(4),alignment:Fe(5),text:Fe(6),inlineStyleRanges:me(7,Jg),urls:me(8,Xg)}),M$=W({key:Fe(1),src:Fe(2),width:xo(3),height:xo(4),alignment:Fe(5),text:Fe(6),inlineStyleRanges:me(7,Jg),urls:me(8,Xg)}),I$=W({key:Fe(1),fileName:Fe(2),fileExtension:Fe(3),fileSize:xo(4)}),fw=Ot({[S.PARAGRAPH]:E$,[S.IMAGE]:P$,[S.EMBED]:M$,[S.EXERCISE]:dw,[S.ATTACHMENT]:I$}),yw=W({intro:Z(1,{kicker:Fe(1),title:Fe(2),coverSrc:de(3,Fe),coverWidth:de(4,xo),coverHeight:de(5,xo),blocks:me(6,fw),coverColor:de(7,Fe),coverOpacity:de(8,gw)}),chapters:me(2,{key:Fe(1),title:Fe(2),blocks:me(3,fw)})});function hw(e){let t=J_(e),o={order:[],blocks:{}};for(let r of t)o.order.push(r.key),o.blocks[r.key]=r;return{blockMap:o}}function R$(e){let t={kicker:e.kicker,title:e.title,coverInfoState:null};return e.coverSrc&&e.coverColor&&ie(e.coverWidth)&&ie(e.coverHeight)&&ie(e.coverOpacity)&&(t.coverInfoState={src:e.coverSrc,width:e.coverWidth,height:e.coverHeight,color:e.coverColor,opacity:e.coverOpacity,isBlob:!1}),{header:{kicker:t.kicker,title:t.title,coverInfoState:t.coverInfoState},contentState:hw(e.blocks)}}function D$(e){return{key:e.key,header:{title:e.title},contentState:hw(e.blocks)}}function xw(e){let t=R$(e.intro),o=(e.chapters||[]).map(r=>D$(r));return{intro:t,chapters:Ve(o,r=>r.key)}}var A$={blockWrapper:"_qpH3GK",blockWrapper_hidden:"_eACrwy",blockWrapper_list:"_DfTVs8",blockWrapper_floatLeft:"_xIv7Z-",blockWrapper_clearBoth:"_5skJ0p",blockWrapper_dir_ltr:"_ryTAWr",blockWrapper_dir_rtl:"_d48IXR",blockWrapper_fitContent:"_8ZBH7N",blockWrapper_beforeLists:"_qSKrOq",alignmentBlockWrapper:"_f48TI-",alignmentBlockWrapper_align_floatLeft:"_SlZ0mr",alignmentBlockWrapper_align_inner:"_-ob_mt",alignmentBlockWrapper_align_outer:"_6qzJfq",alignmentBlockWrapper_align_full:"_m7v-BS",alignmentBlockWrapper_align_fullLayout:"_buNvwx",indentationBlockWrapper:"_ogWs1H"},Sw=A$;var V$={mediaResource:"_J2auIZ",image:"_CVnwus",overlay:"_eHGaW8",image_stub:"_zqIYW0"},kw=V$;var ey=u(kw);function L$(e,{mediaResource:t,position:o,showStub:r}){let n=P(),i=P(),a=D(()=>(t==null?void 0:t.resource)||{width:0,height:0,src:""},[t]),s=ey.image.withMods({stub:!a.src&&r});return M(()=>{var c;(c=i.current)==null||c.setAttribute("data-background-image","true")},[i]),e`
<div class=${s} save-ref=${n}>
	${e.renderIf(ho,()=>!!to(a)&&{image:a,imageRef:i,outContainerRef:n,fit:"cover",position:`${o.x}% ${o.y}%`})}
</div>`}function Cw(e,{block:t,showStub:o=!0}){let r=Bl(t),n={"background-color":bi((r==null?void 0:r.overlay)||rC)};return e`
<div
	class=${ey.mediaResource}
	contenteditable="false"
>
	${e(L$,{mediaResource:Bl(t),showStub:o,position:iC(t)||oC})}
	<div
		class=${ey.overlay}
		style=${n}
	></div>
</div>`}var ty=u(Sw),O$=.89,F$=32,_w=e=>Tr()?e*O$:e,oy=(e,t,o)=>{var r,n;return _w(e.designSettings&&((n=(r=e.designSettings)==null?void 0:r.padding)==null?void 0:n.top)!==void 0?e.designSettings.padding.top:lT({currentBlockType:cn(e),prevBlockType:t,defaultTopPadding:o}))},ry=(e,t)=>{var o;return _w(e.designSettings&&((o=e.designSettings.padding)==null?void 0:o.bottom)!==void 0?e.designSettings.padding.bottom:cT(cn(e),t))},K$=(e,t)=>{let o=Se.toOrderedListItemBlock(e);if(!o)return"";let r=t!==void 0,n=o.listViewType==="default"?`nesting-${_o(e)}`:"linear-counter";return!r&&o.counterReset===null?"":`${n} ${t!=null?t:o.counterReset}`};function pu(e,{selectionBinding:t,controlsBinding:o,blockWrapperExtendClassList:r,...n}){let{block:i,blockAfterType:a,continueProps:s,listItemProps:c,direction:l}=n,p=P(),m=!!Se.toListItemBlock(i),d=i.type===S.LAYOUT?i.key:null,g=D(()=>{let h=Qr.toAbstractMediaBlock(i),k=ae(i),C=a==="ol"||a==="ul";return Xe(ty.blockWrapper.withMods({fitContent:Y.isCollageBlock(i),floatLeft:!!h&&h.alignment==="float-left",clearBoth:!k,beforeLists:C,dir:l,hidden:!!s&&s.isHidden,list:m}),r)},[i,a,l,s,m,r]),y=D(()=>{var k,C;return{"background-color":bi((C=(k=i.designSettings)==null?void 0:k.background)==null?void 0:C.color),"counter-reset":K$(i,c==null?void 0:c.counterReset)}},[i,c]);return e`
<div
	save-ref=${p}
    class=${g}
	style=${y}
    draggable="false"
    data-wrapper-key=${i.key}
	data-context-block-key=${d}
	data-at=${j("block-wrapper")}
>
	${e.renderIf(Cw,()=>Sf(i)&&{block:i})}
	${e(t)}
	${e(o)}
	${e($$,{...n})}
</div>`}function $$(e,t){let{block:o,blockBeforeType:r,blockAfterType:n,defaultTopPadding:i,sizeWrapperExtendClassList:a}=t,s=P(),c=D(()=>Xe(a),[a]),l=D(()=>{let p={"padding-block-start":q(oy(o,r,i)),"padding-block-end":q(ry(o,n))};return s&&s.current&&(Dt(s.current,"--top-padding-height",p["padding-block-start"]),Dt(s.current,"--bottom-padding-height",p["padding-block-end"])),p},[o,n,r,i,s]);return e`
<div
	class=${c}
	save-ref=${s}
	style=${l}
    draggable="false"
>
	${e(N$,t)}
</div>`}function N$(e,t){let{block:o}=t,r=_l(o),n=Q.toLayoutBlock(o),i=oe.toFlipCardsBlock(o),a="inner";return n&&n.alignment==="full"?a="full-layout":i?a="full":r&&(a=r),e`
<div
    class=${ty.alignmentBlockWrapper.withMods({align:no(a)})}
    draggable="false"
>
	${e(z$,{...t,indentationAvailable:a==="inner"})}
</div>`}function z$(e,{indentationAvailable:t,content:o,columnsDropAreaBinding:r,contextKey:n,...i}){var l;let s=((l=i.block.designSettings)==null?void 0:l.indent)||0,c=t&&s?{"padding-inline-start":q(s*F$)}:null;return e`
<div
    class=${ty.indentationBlockWrapper}
	style=${c}
    draggable="false"
>
	${e(o,i)}
	${e(r)}
</div>`}var mu=0;function uu(e){let t={},o=0,r=null,n=null,i=[],a=be.getBlocksArray(e);return H$(a,t),a.forEach(s=>{we.toContinueBlock(s)&&(r=o);let l=Se.toOrderedListItemBlock(s);if(!l)return;let p=(n==null?void 0:n.listViewType)||l.listViewType,m=_o(n||l),d=_o(l),g=Math.abs(m-d),y=l.listViewType!==p,h=m<d&&!y,k=m>d&&!y,C=h||k||y||!!l.counterReset||r!==null;if(h){i.push(o);for(let _=0;_<g-1;_++)i.push(mu)}if(C){if(o=l.counterReset?l.counterReset-1:r||mu,h&&(o=mu),k)for(let _=0;_<g;_++)o=i.pop()||mu;t[l.key]=o,r=null}n=l,o++}),t}function H$(e,t){let o=e.find(r=>Se.toOrderedListItemBlock(r));o&&(t[o.key]=0)}var Q$=["onHyperlinkOverFn"];function U$(e){return Object.fromEntries(Object.entries(e).filter(([t])=>!Q$.includes(t)))}function Bw(e){let t={};return o=>{let r=o.block.key,n=U$(o);if(ie(t[r])&&tc(n,w(t[r]).props))return w(t[r]).result;let i=e.call(null,o);return t[r]={props:n,result:i},i}}function iy(e,t){let o=e[t-1];return o?cn(o):"none"}function ay(e,t){let o=e[t+1];return o?cn(o):"none"}var ny={},du=class extends lm{constructor({blockName:t,direction:o,defaultTopPadding:r}){super({blockName:t,direction:o}),this._renderers={},this._readonlyMode=!1,this._renderedBlockIndex=0,this._defaultTopPadding=r,this.onHyperlinkOver=this._createSignal(),this._relatedGroupData={},this._wrapperRenderFn=pu}setDefaultTopPadding(t){this._defaultTopPadding!==t&&(this._defaultTopPadding=t,this._sheduleRender())}getLockedBlocks(){return[]}setReadonlyMode(t){this._readonlyMode!==t&&(this._readonlyMode=t,this._sheduleRender())}setDirection(t){this._direction!==t&&(super.setDirection(t),this._sheduleRender())}registerRenderer({blockType:t,renderFn:o,enableMemoize:r=!1}){this._renderers[t]=r?Bw(o):o}_getReadonlyMode(){return this._readonlyMode}_getBlockMap(){}_getVisibleBlocks(){}_getParagraphPlaceholder(t){return""}_getParagraphPrompt(t){return""}_getGroupRelatedData(){return this._relatedGroupData}isLock(t){return!1}isHidden(t){return!1}isSelected(t){}_resetRenderBlockIndex(){this._renderedBlockIndex=0}_renderBlock(t,o,r){let n=this._getPrevBlockType(this._renderedBlockIndex),i=this._getNextBlockType(this._renderedBlockIndex);this.isHidden(t)||this._renderedBlockIndex++;let a=ae(t),s=a?{placeholder:this._getParagraphPlaceholder(a),prompt:this._getParagraphPrompt(a),paragraphIndex:o}:void 0,l=Se.toListItemBlock(t)?{counterReset:r}:void 0,m=w(this._renderers[t.type])({block:t,blockBeforeType:n,blockAfterType:i,defaultTopPadding:this._defaultTopPadding,onHyperlinkOverFn:this.onHyperlinkOver.toFn(),readonlyMode:this._readonlyMode,isLock:this.isLock(t),direction:this._direction,isSelected:this.isSelected(t),paragraphProps:s,listItemProps:l});if(m instanceof Element)return m;let d=Qr.toAbstractMediaBlock(t);return d&&d.alignment==="float-left"&&(this._prevFloatedElementRenderer=m),m.domElement()}bindingBlockRenderer(t,o,r,n){return r in ny||(ny[r]={}),Cn(this._wrapperRenderFn)({...o,content:t},kn(w(ny[r]),o.block.key,n))}_getPrevBlockType(t){let o=this._getVisibleBlocks();return iy(o,t)}_getNextBlockType(t){let o=this._getVisibleBlocks();return ay(o,t)}_processBlock({blocks:t,block:o}){t.push(o)}_getCounterResetMap(){return uu(this._getBlockMap())}_renderBlocks(t){let o=[];be.forEach(t,i=>{this._processBlock({blocks:o,block:i})});let r=this._getCounterResetMap(),n=[];return o.forEach((i,a)=>n.push(this._renderBlock(i,a,r[i.key]))),n}};var fu=class extends du{constructor({blockName:t,blockMap:o,direction:r,defaultTopPadding:n,autotestData:i}){super({blockName:t,direction:r,defaultTopPadding:n}),this._blockMap=o,this._autotestData=i}updateBlockMap(t){this._blockMap!==t&&(this._blockMap=t,this._sheduleRender())}isLock(t){return!0}isSelected(t){return!1}_getBlockMap(){return this._blockMap}_getVisibleBlocks(){return ze(this._blockMap)}_renderContent(){}_render(){return this._html`
			<div class=${this._getCssClasses()} data-at=${j(this._autotestData)}>
				${this._renderContent()}
			</div>`}};var W$={attachmentSubblock_uploading:"_B2F9li",attachmentBlock:"_FCE9zV",attachmentBlock_clickable:"_GuBwqD",attachmentBlock_lock:"_zh4gXV",attachmentSubblock:"_TNf81j",attachmentIcon:"_hBV--G",attachmentInfo:"_z8JVIy",attachmentName:"_ffIFX6",attachmentSize:"_3SsCKo",attachmentButtons:"_oCiz1M",placeholder:"_a0RIKK"},vw=W$;var Sr=u(vw);function q$(e,{disabled:t,onReplace:o,onDownload:r}){return e`
<div class=${Sr.attachmentButtons}>
	${e.renderIf(Mf,()=>o&&{component:f(Le,{state:t?"disabled":"default",style:"linkSecondary",structure:"icon",icon:f(Pp),size:"small",onClick:o}),tooltipText:B("Roll.Editor.AttachmentBlock.UpdateButtonTooltip")})}
	${e(Mf,{component:f(Le,{state:t?"disabled":"default",style:"linkSecondary",structure:"icon",icon:f(d_),size:"small",onClick:r}),tooltipText:B("Roll.Editor.AttachmentBlock.DownloadButtonTooltip")})}
</div>`}function G$(e,{extension:t}){return e`
<div class=${Sr.attachmentIcon}>
	${e.switch(()=>{switch(t){case"doc":case"docx":return f(gB,{});case"ppt":case"pptx":return f(hB,{});case"xls":case"xlsx":return f(SB,{});case"pdf":return f(yB,{});default:return f(xB,{})}})}
</div>`}function j$(e){return e`
<img class=${Sr.placeholder} aria-hidden=true src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" />`}function Tw(e,{key:t,fileName:o,fileSize:r,fileExtension:n,isLoading:i,isPlayer:a,disabled:s,onReplace:c,onDownload:l}){let p=E();return G(p,"click",()=>{a&&l()}),e`
<div
	class=${Sr.attachmentBlock.withMods({clickable:a,lock:!!s})}
	save-ref=${p}
	draggable=true
>
	${e.switch(()=>i?f(wi,{size:"medium"},Sr.attachmentIcon):f(G$,{extension:n}))}
	<div class=${Sr.attachmentSubblock.withMods({uploading:i})}>
		<div class=${Sr.attachmentInfo}>
			${e(vt,{text:o},{className:Sr.attachmentName})}
			<div class=${Sr.attachmentSize}>${O1(r)}</div>
		</div>
		${e(q$,{disabled:!!s,onReplace:c,onDownload:a?()=>{}:l})}
		${e.renderIf(j$,()=>!a&&!i)}
	</div>
</div>`}var Y$={collageBlock:"_J7IGyh",collageBlockWrapper:"_NgFMts",collageBlockWrapper_singleImage:"_4vQ_FT",newImagePlaceholder:"_uKeV5C",collageBlock_addingAnimated:"_bLrY9E",blockMenuButton:"_4gYaB_",collageBlock_oneImage:"_2JCS6J",collageBlock_lock:"_PDB6V_",collageBlock_dndMode:"_NOYy0l",collageBlock_readOnly:"_NHUjKo",collageBlock_selected:"_KIrxVS",selectionFrame:"_M3Wmv6",imageDndIcon:"_JALhU1",linkToBlockButton:"_pRuC5w",linkToBlockButton_adapted:"_ypsHjx"},bw=Y$;var ww=u(bw);function Ew(e){let t=e.map(n=>{let i=St(n);return i.crop?i.width/i.height:n.width/n.height}),o=Math.min(...t);return{imagesGrows:t.map(n=>n/o),minImageRatio:o}}var Z$={imageBlock:"_6qcX9U",imageBlock_collaged:"_ww5v2Q",imageBlock_lock:"_K24dyj",imageBlock_first:"_FgM7_g",imageBlock_last:"_0dimrf",imageControls:"_vhRMJN",imageDndIcon:"_OXqZgj",imageBlock_blob:"_4oWOot"},Pw=Z$;var X$={imageBlockWrapper:"_8xVFa1",imageBlockWrapper_zoomable:"_6JUr--",imageBlockWrapper_clickable:"_kTHicy",imageBlockWrapper_lock:"_odiExl",imageBlockPlaceholder:"_gMw4HX"},Mw=X$;var J$={stubContainer:"_woCyLG",preloaderContainer:"_8iSdCl",preloader:"_JHjxVb",loadingLabel:"_Y8nQbX",loadingText:"_vaJ2nM",selectionImage:"_h_hgY8",cropImage:"_7hxOui"},Iw=J$;var zs=u(Iw);function e8(e){return e`
<div class=${zs.stubContainer}>
	<div class=${zs.preloaderContainer}>
		${e(Fr,{},zs.preloader)}
		<div class=${zs.loadingLabel}>
			${e(X1,{})}
			<div class=${zs.loadingText}>
				${B("Roll.Editor.ImageLoading.Label")}
			</div>
		</div>
	</div>
</div>`}function t8(e,{image:t,onClick:o,isPlayer:r}){let n=fo.isEnabled(t.zoom),i=uo.isEnabled(t.link),a=Hr.getRadius(t.rounding),s=zr.getFrameType(t.frame);return pe(e,f(ho,{image:t,withImageSelection:!0,onClick:o,withZoom:n,withLink:i,isPlayer:r,radius:o8(a),decoration:s==="none"?void 0:s}))}function o8(e){return J(e,{none:void 0,medium:"large",large:"xxlarge"})}function Rw(e,{imageBlock:t,className:o,onClick:r,isPlayer:n}){let{isBlob:i,src:a}=t,[s,c]=N(!i);return ee(()=>{if(i){let l=new Image;l.onload=()=>c(!0),l.onerror=()=>c(!1),l.src=a}else c(!0)},[a,i]),e`
<div>
	${e.switch(()=>s?f(t8,{image:t,onClick:r,isPlayer:n},o):f(e8,{},o))}
</div>`}var Dw=u(Mw);function Aw(e,{imageBlock:t,isDraggable:o=!1,preventCollaging:r=!1,isLock:n,onClick:i,imageContentBinding:a,isPlayer:s}){let c=St(t).width,p=St(t).height/c*100,m=uo.isEnabled(t.link),d=fo.isEnabled(t.zoom),g=r?q(c):null,y=a!=null?a:f(Rw,{imageBlock:t,className:"collaged-image",onClick:i,isPlayer:s});return e`
<div
	draggable=${o}
	class=${Dw.imageBlockWrapper.withMods({lock:n,zoomable:s&&d,clickable:s&&m})}
	style=${{"max-width":g}}
>
	${e(y)}
	<div class=${Dw.imageBlockPlaceholder} style=${{"padding-bottom":`${p}%`}}></div>
</div>`}function at(e,t){let{isLock:o,onHyperlinkOverFn:r,readonlyMode:n,paragraphClassName:i,wrapperClassName:a="",paragraphStyles:s}=t,c=r8(t),l=D(()=>{let p=Gi(c,r,n,o);return i&&p.classList.add(...i.split(" ")),s&&De(p,s),p},[c,r,n,o,i,s]);return e`
<div contenteditable=${!n&&!o} class=${a} data-name="paragraph-wrapper">
	${l}
</div>`}function r8(e){return D(()=>{switch(e.propsType){case"paragraphData":return new Wo({paragraph:e.paragraph,idPrefix:e.idPrefix,placeholder:e.placeholder,disableStyles:e.disableStyles});case"wrappedParagraph":return e.wrappedParagraph;default:Qe(e)}},[e])}var n8={captionWrapper_lock:"_cnBEw7",captionWrapper:"_THlIbV",paragraphWrapper:"_a2_a7U",imageText:"_d7N-Np"},Vw=n8;var sy=u(Vw);function Lw(e,{block:t,isLock:o,readonlyMode:r,onHyperlinkOverFn:n,isSelected:i}){let a=Xe(sy.imageText,"image-text"),s=je.getText(t.caption),c=$.create({key:t.key,characters:s,textAlign:"center"});return e`
<figcaption
	class=${sy.captionWrapper.withMods({lock:o})}
>
	${e(at,{propsType:"paragraphData",paragraph:c,idPrefix:"image-block",isLock:o,readonlyMode:r,onHyperlinkOverFn:n,placeholder:i?B("Roll.Editor.MediaCaptionDefaultText"):"",paragraphClassName:a},sy.paragraphWrapper)}
</figcaption>`}var i8=u(Pw);function Ow(e,{block:t,readonlyMode:o,isLock:r,onHyperlinkOverFn:n,grow:i,imageContentBinding:a,imageControlsBinding:s,onClick:c,isFirst:l=!1,isLast:p=!1,isDraggable:m=!1,isSelected:d=!1,preventCollaging:g=l&&p,isPlayer:y=!1}){let h=t,k=t,C=je.isEnabled(h.caption),_=i8.imageBlock.withMods({lock:!1,blob:k.isBlob,collaged:!!k.parentCollageKey,first:l,last:p}),x=i?{flex:`${i} 0 0`}:null;return e`
<figure
	data-collaged-key=${t.key}
	data-parent-collage-key=${k.parentCollageKey}
	class=${_}
	style="${x}"
	contenteditable="false"
	tabindex="-1"
>
	${e(Aw,{imageBlock:h,imageContentBinding:a,isDraggable:m,isLock:r,preventCollaging:g,onClick:c,isPlayer:y})}
	${e.renderIf(Lw,()=>C&&{block:h,isLock:r,readonlyMode:o,onHyperlinkOverFn:n,isSelected:d})}
	${e(s)}
</figure>
`}var a8={continueWrapper:"_OLRvpM",continueContent:"_QfcvOW"},Fw=a8;var s8={button:"_kuzBIh",paragraphWrapper:"_WfFHRi"},Kw=s8;var $w=u(Kw);function Nw(e,{block:t,isLock:o,onHyperlinkOverFn:r,onClick:n=()=>{},readonlyMode:i}){let a=D(()=>f(at,{propsType:"paragraphData",paragraph:t.paragraph,idPrefix:"continue-block",isLock:o,readonlyMode:i,onHyperlinkOverFn:r,paragraphClassName:"continue-text",disableStyles:!0},$w.paragraphWrapper),[t.paragraph,o,r,i]);return pe(e,f(rn.PlayerButton,{style:"primary",size:"large",content:a,onClick:n,isEditable:!i&&!o,backgroundColor:t.continueColor,focusBlockKey:t.key},$w.button))}var zw=u(Fw);function Hw(e,{block:t,isLock:o,onHyperlinkOverFn:r,readonlyMode:n,onClick:i}){let a=t;return e`
<div class=${zw.continueWrapper}>
	${e(Nw,{block:a,isLock:o,onHyperlinkOverFn:r,readonlyMode:n,onClick:i},{className:zw.continueContent})}
</div>`}var c8={button:"_1A6qwX",button_adapted:"_0FUIki"},Qw=c8;var l8=u(Qw);function Ut(e,{adapted:t,onClick:o}){return e`
		<div class=${l8.button.withMods({adapted:!!t})}>
			${e(gr,{component:f(qo.OverlayButton,{style:"ghost",type:"icon",icon:f(KB),state:"default",onClick:()=>{o(),Oc({text:B("Common.LinkToBlockButton.Toast")})},circleRadius:!0}),tooltipText:B("Common.LinkToBlockButton.Tooltip")})}
		</div>
	`}var p8={dividerBlock:"_mFSLtu",menuButton:"_AvvUdo",dividerBlock_lock:"_7od9-6",selectionFrame:"_fiwJRl"},Uw=p8;var Ww=u(Uw);var m8={dividerContent:"_7xcrB-",draggableBackground:"_prEm1f"},qw=m8;var u8={dividerContainer:"_bDXc8k"},Gw=u8;var d8=u(Gw);function ma(e,{figure:t}){return e`
<div class=${d8.dividerContainer}>
	${e(t)}
</div>`}var f8=16,g8=56;function y8(e){return e`
<svg width=${f8} height=${g8} fill="currentColor">
	<mask id="path-1-inside-1_915_7477" fill="white">
		<path fill-rule="evenodd" clip-rule="evenodd" d="M9.25149 1.25C9.25149 0.559644 8.69185 0 8.00149 0C7.31114 0 6.75149 0.559644 6.75149 1.25V43.25H1.78966C1.00734 43.25 0.527991 44.1078 0.93801 44.7741L7.14854 54.8661C7.53903 55.5006 8.46138 55.5006 8.85186 54.8661L15.0622 44.7741C15.4722 44.1078 14.9929 43.25 14.2105 43.25H9.25149V1.25Z"/>
	</mask>
	<path fill-rule="evenodd" clip-rule="evenodd" d="M9.25149 1.25C9.25149 0.559644 8.69185 0 8.00149 0C7.31114 0 6.75149 0.559644 6.75149 1.25V43.25H1.78966C1.00734 43.25 0.527991 44.1078 0.93801 44.7741L7.14854 54.8661C7.53903 55.5006 8.46138 55.5006 8.85186 54.8661L15.0622 44.7741C15.4722 44.1078 14.9929 43.25 14.2105 43.25H9.25149V1.25Z"/>
	<path d="M6.75149 43.25V44.25H7.75149V43.25H6.75149ZM0.93801 44.7741L0.0863544 45.2982L0.086355 45.2982L0.93801 44.7741ZM7.14854 54.8661L6.29689 55.3902L7.14854 54.8661ZM8.85186 54.8661L9.70352 55.3901L9.70352 55.3901L8.85186 54.8661ZM15.0622 44.7741L14.2105 44.25V44.25L15.0622 44.7741ZM9.25149 43.25H8.25149V44.25H9.25149V43.25ZM8.00149 1C8.13956 1 8.25149 1.11193 8.25149 1.25H10.2515C10.2515 0.0073592 9.24413 -1 8.00149 -1V1ZM7.75149 1.25C7.75149 1.11193 7.86342 1 8.00149 1V-1C6.75885 -1 5.75149 0.0073592 5.75149 1.25H7.75149ZM7.75149 43.25V1.25H5.75149V43.25H7.75149ZM1.78966 44.25H6.75149V42.25H1.78966V44.25ZM1.78966 44.25L1.78966 44.25V42.25C0.225014 42.25 -0.73368 43.9657 0.0863544 45.2982L1.78966 44.25ZM8.0002 54.342L1.78966 44.25L0.086355 45.2982L6.29689 55.3902L8.0002 54.342ZM8.0002 54.342H8.0002L6.29689 55.3902C7.07786 56.6592 8.92256 56.6592 9.70352 55.3901L8.0002 54.342ZM14.2105 44.25L8.0002 54.342L9.70352 55.3901L15.9139 45.2982L14.2105 44.25ZM14.2105 44.25L14.2105 44.25L15.9139 45.2982C16.7339 43.9656 15.7752 42.25 14.2105 42.25V44.25ZM9.25149 44.25H14.2105V42.25H9.25149V44.25ZM8.25149 1.25V43.25H10.2515V1.25H8.25149Z" mask="url(#path-1-inside-1_915_7477)"/>
</svg>`}function jw(e){return ma(e,{figure:f(y8,{})})}var h8=3,Yw=10,Zw=6;function x8(e){let t=(Yw+Zw)*h8-Zw;return e`
<svg width=${t} height=${Yw} fill="currentColor">
	<polygon points="0 5, 5 10, 10 5, 5 0"/>
	<polygon points="16 5, 21 10, 26 5, 21 0"/>
	<polygon points="32 5, 37 10, 42 5, 37 0"/>
</svg>`}function Xw(e){return ma(e,{figure:f(x8,{})})}var gu=32;function S8(e){return e`
<svg width=${gu} height=${gu} fill="currentColor">
	<path d="M8.252 28.704C6.756 28.704 5.532 28.398 4.58 27.786C3.628 27.174 2.846 26.392 2.234 25.44C1.554 24.284 1.078 23.094 0.806 21.87C0.602 20.578 0.5 19.524 0.5 18.708C0.5 15.376 1.35 12.35 3.05 9.63C4.60865 7.13616 6.96757 5.07104 10.1268 3.43463C10.6108 3.18392 11.2007 3.38941 11.4445 3.87694C11.704 4.39597 11.4683 5.02324 10.9526 5.28938C9.247 6.16963 7.7348 7.4125 6.416 9.018C4.92 10.922 4.54672 11.7378 4.30005 13.5C4.05338 15.2622 4.59605 16.362 4.80005 16.974C5.88805 16.09 6.824 15.648 8.252 15.648C10.02 15.648 11.55 16.226 12.842 17.382C14.134 18.538 14.78 20.136 14.78 22.176C14.78 24.08 14.134 25.644 12.842 26.868C11.55 28.092 10.02 28.704 8.252 28.704Z" />
	<path d="M25.252 28.704C23.756 28.704 22.532 28.398 21.58 27.786C20.628 27.174 19.846 26.392 19.234 25.44C18.554 24.284 18.078 23.094 17.806 21.87C17.602 20.578 17.5 19.524 17.5 18.708C17.5 15.376 18.35 12.35 20.05 9.63C21.6087 7.13616 23.9676 5.07104 27.1268 3.43463C27.6108 3.18392 28.2007 3.38941 28.4445 3.87694C28.704 4.39597 28.4683 5.02324 27.9526 5.28938C26.247 6.16963 24.7348 7.4125 23.416 9.018C21.92 10.922 21.5467 11.7378 21.3 13.5C21.0534 15.2622 21.596 16.362 21.8 16.974C22.888 16.09 23.824 15.648 25.252 15.648C27.02 15.648 28.55 16.226 29.842 17.382C31.134 18.538 31.78 20.136 31.78 22.176C31.78 24.08 31.134 25.644 29.842 26.868C28.55 28.092 27.02 28.704 25.252 28.704Z" />
</svg>
`}function k8(e){return e`
<svg width=${gu} height=${gu} fill="currentColor">
	<path d="M13.918 3.71393L13.338 7.94794C11.83 7.83194 10.728 8.14127 10.032 8.87593C9.336 9.6106 8.91067 10.5966 8.756 11.8339C8.60133 13.0713 8.56267 14.4053 8.64 15.8359H13.918V28.0739H4V13.5159C4 9.9586 4.88933 7.2906 6.668 5.51193C8.48533 3.73327 10.902 3.13393 13.918 3.71393Z" />
	<path d="M27.918 3.71393L27.338 7.94794C25.83 7.83194 24.728 8.14127 24.032 8.87593C23.336 9.6106 22.9107 10.5966 22.756 11.8339C22.6013 13.0713 22.5627 14.4053 22.64 15.8359H27.918V28.0739H18V13.5159C18 9.9586 18.8893 7.2906 20.668 5.51193C22.4853 3.73327 24.902 3.13393 27.918 3.71393Z" />
</svg>
`}function C8(e){switch(e){case"quote_1":return f(S8);case"quote_2":return f(k8);default:throw z(e,`Unknown quotes divider style: ${e}`),new Error}}function Jw(e,{style:t}){return ma(e,{figure:C8(t)})}var _8={lineContainer:"_SNiqQP"},yu=_8;function hu(e,{lineWidth:t=2}){let o=t/2;return e`
<svg width="100%" height=${t}>
	<line x1="0" y1="${o}" x2="100%" y2="${o}" stroke="currentColor" stroke-width=${t} stroke-linecap="round"/>
</svg>`}function xu(e,{lineWidth:t=2,isReverse:o=!1}){let r=t/2,n=["0","100%"];o&&n.reverse();let[i,a]=n;return e`
<svg width="100%" height=${t}>
	<line x1="${i}" y1="${r}" x2="${a}" y2="${r}" stroke="currentColor" stroke-width=${t} stroke-dasharray="6 6" stroke-linecap="round"/>
</svg>`}function eE(e,{blockKey:t,lineWidth:o=2}){let r=o/2;return e`
<svg width="100%" height=${o}>
	<line x1="0" y1="${r}" x2="100%" y2="${r}" stroke="url(#linear_gradient_${t})" stroke-width=${o} />
	<defs>
		<linearGradient id="linear_gradient_${t}" x1="100%" y1="0" x2="0" y2="0" gradientUnits="userSpaceOnUse">
			<stop stop-color="currentColor" stop-opacity="0"/>
			<stop offset="0.5" stop-color="currentColor"/>
			<stop offset="1" stop-color="currentColor" stop-opacity="0"/>
		</linearGradient>
	</defs>
</svg>`}function tE(e,{blockKey:t,lineWidth:o=2,isReverse:r=!1}){let n=o/2,i=[1,0];r&&i.reverse();let[a,s]=i;return e`
<svg width="100%" height=${o}>
	<line x1="0" y1="${n}" x2="100%" y2="${n}" stroke="url(#linear_gradient_${t}_${r})" stroke-width=${o} />
	<defs>
		<linearGradient id="linear_gradient_${t}_${r}" x1="0" y1="0" x2="100%" y2="0" gradientUnits="userSpaceOnUse">
			<stop stop-color="currentColor" stop-opacity="${a}"/>
			<stop offset="1" stop-color="currentColor" stop-opacity="${s}"/>
		</linearGradient>
	</defs>
</svg>`}var B8={dividerContainer:"_IzSy5B",textWrapper:"_qgiNNo",textWrapper_style_rounded:"_udxzBv",textWrapper_style_squared:"_Pts2gl",paragraphWrapper:"_4GX8a_",dividerText:"_LEB9Rt"},Su=B8;var v8=u(Su),T8=u(yu);function b8(e,{blockKey:t,style:o,isReverse:r}){return e`
<div class=${T8.lineContainer}>
	${e.switch(()=>{switch(o){case"solid":return f(hu,{});case"dotted":return f(xu,{isReverse:r});case"faded":return f(eE,{blockKey:t});default:return z(o,`unknown line style ${o}`),null}})}
</div>
`}function oE(e,{block:t,direction:o}){let r=o==="rtl";return e`
<div class=${v8.dividerContainer}>
	${e(b8,{style:t.style,blockKey:t.key,isReverse:r})}
</div>`}var ku=u(Su),w8=u(yu);function rE(e,{blockKey:t,style:o,isReverse:r}){return e`
<div class=${w8.lineContainer}>
	${e.switch(()=>{switch(o){case"solid":return f(hu,{});case"dotted":return f(xu,{isReverse:r});case"faded":return f(tE,{blockKey:t,isReverse:r});default:return z(o,`unknown line style ${o}`),null}})}
</div>
`}function E8(e,{paragraph:t,paragraphStyle:o,dividerColor:r,isLock:n,readonlyMode:i,onHyperlinkOverFn:a}){let s=D(()=>{let p=r.opacity,m=Ae(pt.whiteDefault),d=[...Ae(r.color),p],[g,y,h]=ai(m,d);return{background:`rgb(${g}, ${y}, ${h})`}},[r]),c=ku.textWrapper.withMods({style:o}),l=Xe(ku.dividerText,"divider-text");return e`
<div class=${c} style=${s}>
	${e(at,{propsType:"paragraphData",paragraph:t,idPrefix:"divider-block",isLock:n,readonlyMode:i,onHyperlinkOverFn:a,paragraphClassName:l},ku.paragraphWrapper)}
</div>`}function nE(e,{block:t,onHyperlinkOverFn:o,readonlyMode:r,isLock:n,direction:i}){let a=i==="rtl";return e`
<div class=${ku.dividerContainer}>
	${e(rE,{style:t.style,blockKey:t.key,isReverse:!a})}
	${e(E8,{paragraph:t.paragraph,paragraphStyle:t.paragraphStyle,dividerColor:t.dividerColor,isLock:n,readonlyMode:r,onHyperlinkOverFn:o})}
	${e(rE,{style:t.style,blockKey:t.key,isReverse:a})}
</div>`}var iE=u(qw);function P8(e){let t=Ae(e.color),o=e.opacity;return{color:`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${o})`}}function aE(e,{block:t,isLock:o,onHyperlinkOverFn:r,readonlyMode:n,direction:i}){let a=D(()=>P8(t.dividerColor),[t.dividerColor]);return e`
<div
	class=${iE.dividerContent}
	style=${a}
>
	${e.switch(()=>{switch(t.dividerType){case"line":return f(oE,{block:t,direction:i});case"line-with-text":return f(nE,{block:t,isLock:o,onHyperlinkOverFn:r,readonlyMode:n,direction:i});case"arrow":return f(jw,{});case"diamonds":return f(Xw,{});case"quotes":return f(Jw,{style:t.style})}})}
	<div class=${iE.draggableBackground} draggable="true"></div>
</div>`}function sE(e,t){let o=ze(e);return{blockBeforeType:iy(o,t),blockAfterType:ay(o,t)}}function Cu(e){return e?e.type==="color"?{type:"color",color:e.color,opacity:e.opacity}:{type:"image",imageSrc:to(e.image)}:null}function cE(e){return e?{type:"image",imageSrc:to(e)}:null}function lE(e,{cardSideData:t}){let o=E(),r=D(()=>I8(t),[t]);return e`
<div
	save-ref=${o}
	onconnected=${()=>M8(o.current,r)}
>
	${e(Pp,{})}
</div>
`}function M8(e,t){mm({background:t,setStyle:r=>{let n=J(r,{dark:{background:lo("overlay-hovered"),color:lo("icon-placeholder")},light:{background:lo("overlay-modals-default"),color:lo("icon-oncolor-secondary")}});Dt(e,"--color",n.color),Dt(e,"--background",n.background)}})}function I8(e){switch(e.type){case"image":return cE(e.image);case"imageWithText":case"text":return Cu(e.background);default:return null}}var R8={flipCard:"_2IbzkJ",flipCard_readonly:"_TiAjAc",cardFlipContainer:"_33K8fg",flipCardSide:"_gOFOtI",frontSide:"_Nvum2T",backSide:"_GnOSNY",flipCard_activeSideBack:"_KpS4xM",cardFlipHint:"_b8MbvM",cardDndControl:"_5N_SLx",flipCard_mobile:"_5BBRLx",cardSideContent:"_jfIngQ"},pE=R8;var D8={image:"_xTdX5E",imageToolbar:"_POmqT_",divider:"_-DGI4h",imageContainer:"_OcIPAM",overlay:"_CdjRBJ"},mE=D8;var ua=u(mE);function A8(e,{image:t,isLoading:o}){let r=P();return ee(()=>{t.overlay&&t.overlay.color!==po?(r.current.style.background=t.overlay.color,r.current.style.opacity=`${t.overlay.opacity}`):(r.current.style.background="",r.current.style.opacity="")},[t.overlay,r]),e`
<div class=${ua.imageContainer}>
	${e(um,{image:t,isTemporary:o})}
	<div
		class=${ua.overlay}
		save-ref=${r}
	>
	</div>
</div>
`}function V8(e,{onReplaceImage:t,onDeleteImage:o,onCropImage:r}){return e`
<div class=${ua.imageToolbar}>
	${e(Le,{style:"ghostInversed",structure:"icon",icon:f(B_),onClick:t,tooltip:B("Common.Editor.ImageControls.MediaToolbar.Replace")})}
	<div class=${ua.divider}></div>
	${e(Le,{style:"ghostInversed",structure:"icon",icon:f(AB),onClick:r,tooltip:B("Common.Editor.CropImage.TooltipText")})}
	<div class=${ua.divider}></div>
	${e(Le,{style:"ghostInversed",structure:"icon",icon:f(k_),onClick:o,tooltip:B("Common.Editor.DeleteImage.TooltipText")})}
</div>`}function uE(e,{imageData:t,readonlyMode:o,onUploadImage:r,onDeleteImage:n,onCropImage:i,onOpenFileDialog:a}){let s=dc(t.src),c=dm(r),l=I(()=>{c.browseRef.current(),a()},[c.browseRef,a]);function p(m){li(m)}return e`
<div class=${ua.image} oninput=${p}>
	${e.renderIf(kp,()=>!o&&c)}
	${e(A8,{image:t,isLoading:s})}
	${e.renderIf(V8,()=>!o&&!s&&{onReplaceImage:l,onDeleteImage:n,onCropImage:i})}
</div>`}var L8={content:"_1hOYOM",imageWithDownload:"_kOBx_L",imageWithStub:"_EE_9DY",downloadStub:"_ZFqnpK",downloadStubText:"_-aYByZ",stubIcon:"_AJj5ZY"},dE=L8;var da=u(dE);function O8(e,{onUploadImage:t,onOpenFileDialog:o}){let r=dm(t),n=I(()=>{r.browseRef.current(),o()},[r.browseRef,o]);function i(a){li(a)}return e`
<div
	class=${da.imageWithDownload}
	oninput=${i}
>
	${e(kp,r)}
	<div
		class=${da.downloadStub}
		onclick=${n}
	>
		${e(IB,{})}
		<span class=${da.downloadStubText}>
			${B("Roll.Editor.FlipCardsBlock.AddImage.Placeholder")}
		</span>
	</div>
</div>`}function F8(e){return e`
<div class=${da.imageWithStub}>
	${e(fB,{},da.stubIcon)}
</div>
`}function _u(e,{image:t,readonlyMode:o,onUploadImage:r,onOpenFileDialog:n,onDeleteImage:i,onCropImage:a}){return e`
<div class=${da.content}>
	${e.switch(()=>t?f(uE,{imageData:t,readonlyMode:o,onDeleteImage:i,onUploadImage:r,onOpenFileDialog:n,onCropImage:()=>a(t)}):o?f(F8):f(O8,{onUploadImage:r,onOpenFileDialog:n}))}
</div>`}var K8={imageSideContent:"_6rTSsO"},fE=K8;var $8=u(fE);function gE(e,{sideData:t,readonlyMode:o,onUploadImage:r,onOpenFileDialog:n,onDeleteImage:i,onCropImage:a}){return e`
<div class=${$8.imageSideContent}>
 	${e(_u,{image:t.image,readonlyMode:o,onUploadImage:r,onOpenFileDialog:n,onDeleteImage:i,onCropImage:a})}
</div>
`}var N8={cardParagraphWrapper:"_0C8vGR",flipCardParagraph:"_QnXUMG",flipCardParagraph_currentSide_front:"_NUlKzj",flipCardParagraph_currentSide_back:"_U7DDET",cardParagraphWrapper_verticalAlign_top:"_YJ9rFd",cardParagraphWrapper_verticalAlign_middle:"_9ZUJlP",cardParagraphWrapper_verticalAlign_bottom:"_F08Zss"},yE=N8;var Bu=class extends Wo{constructor({paragraph:t,bemInfo:o,blockBeforeType:r,idPrefix:n,placeholder:i,prompt:a,paragraphIndex:s,flipCardSideRef:c}){super({paragraph:t,bemInfo:o,blockBeforeType:r,idPrefix:n,placeholder:i,prompt:a,paragraphIndex:s}),this._flipCardSideElement=c}getFontSize(t){if(t!=="auto")return t;let o=this._flipCardSideElement.current;if(!o)return 0;let{width:r}=o.getBoundingClientRect();return r>=420?24:r>=260?20:r>=200?18:16}};var hE=u(yE);function vu(e,{blockKey:t,cardKey:o,sideData:r,flipCardRef:n,activeSide:i,currentSide:a,isLock:s,readonlyMode:c,onHyperlinkOverFn:l}){let p=r.text,m=r.verticalTextAlign,d=D(()=>{let g=Gi(new Bu({paragraph:p,placeholder:B("Roll.Editor.FlipCardsBlock.Card.TextPlaceholder"),idPrefix:"flip-card-paragraph",flipCardSideRef:n}),l,c,s),y=hE.flipCardParagraph.withMods({currentSide:a});return g.classList.add(...y.split(" ")),g},[a,n,s,l,p,c]);return e`
<div
	contenteditable=${!c&&!s}
	class=${hE.cardParagraphWrapper.withMods({verticalAlign:m})}
	data-name='flip-card-text-field'
	data-flip-cards-key=${t}
	data-card-key=${o}
	data-side=${i}
>
	${d}
</div>
`}function Tu(e){return D(()=>{let t=e.background;if(!t||t.type!=="color"||t.color===po)return null;let[o,r,n]=Ae(t.color),i=t.opacity;return`background: rgba(${o}, ${r}, ${n}, ${i})`},[e])}var z8={imageWithTextSideContent:"_FCagVa",imageWrapper:"_gOCPSl",textWrapper:"_rQdZue",flipCardParagraph:"_dynhEM"},xE=z8;var cy=u(xE);function SE(e,{onUploadImage:t,onOpenFileDialog:o,onDeleteImage:r,onCropImage:n,...i}){let{sideData:a,readonlyMode:s}=i,c=a.image,l=Tu(a);return e`
<div class=${cy.imageWithTextSideContent}>
	<div class=${cy.imageWrapper}>
		${e(_u,{image:c,readonlyMode:s,onUploadImage:t,onOpenFileDialog:o,onDeleteImage:r,onCropImage:n})}
	</div>
	<div class=${cy.textWrapper} style=${l}>
		${e(vu,i)}
	</div>
</div>`}var H8={textSideContent:"_crWHat",textSideBackgroundImage:"_ONgLS0",textSideBackgroundImageOverlay:"_u5NrI2"},kE=H8;var ly=u(kE);function CE(e,t){let{sideData:o}=t,r=Tu(o);return e`
<div
	class=${ly.textSideContent}
	style=${r}
>
	${e.renderIf(Q8,()=>o.background.type==="image"&&{background:o.background})}
	${e(vu,t)}
</div>`}function Q8(e,{background:t}){let o=D(()=>({image:t.image,isTemporary:dc(t.image.src)}),[t.image]),r=I(()=>{let n=t==null?void 0:t.overlay;if(!n||n.color===po)return null;let[i,a,s]=Ae(n.color),c=n.opacity;return`background: rgba(${i}, ${a}, ${s}, ${c})`},[t==null?void 0:t.overlay]);return e`
<div class=${ly.textSideBackgroundImage}>
	${e(um,o)}
	<div
		class=${ly.textSideBackgroundImageOverlay}
		style=${r()}
	/>
</div>`}var Zo=u(pE);function bu(e,{isLock:t,readonlyMode:o,onHyperlinkOverFn:r,cardData:n,activeSide:i,blockKey:a,showDnd:s,onUploadImage:c,onOpenFileDialog:l,onDeleteImage:p,onCropImage:m}){let d=E(),g=U8(d),y=I((h,k)=>{switch(h.type){case"image":return f(gE,{sideData:h,readonlyMode:o,onUploadImage:C=>c("content",C),onOpenFileDialog:l,onDeleteImage:()=>p("content"),onCropImage:C=>m==null?void 0:m("image",C)},Zo.cardSideContent);case"imageWithText":return f(SE,{blockKey:a,cardKey:n.key,sideData:h,flipCardRef:g,activeSide:i,isLock:t,readonlyMode:o,onHyperlinkOverFn:r,onUploadImage:C=>c("content",C),onOpenFileDialog:l,onDeleteImage:()=>p("content"),onCropImage:C=>m==null?void 0:m("imageWithText",C),currentSide:k},Zo.cardSideContent);case"text":return f(CE,{blockKey:a,cardKey:n.key,sideData:h,flipCardRef:g,activeSide:i,isLock:t,readonlyMode:o,onHyperlinkOverFn:r,currentSide:k},Zo.cardSideContent);default:throw new Error(`Unknown side data: ${h}`)}},[i,a,n,t,r,o,c,l,p,m,g]);return e`
<div
	class=${Zo.flipCard.withMods({activeSideBack:i==="back",readonly:o,mobile:vr()})}
	data-card-key=${n.key}
	save-ref=${d}
>
	<div class=${Zo.cardFlipContainer}>
		${e(_E,{cardData:n.frontSide,sideComponent:y(n.frontSide,"front"),readonlyMode:o,showDnd:s},Zo.frontSide)}
		${e(_E,{cardData:n.backSide,sideComponent:y(n.backSide,"back"),readonlyMode:o,showDnd:s},Zo.backSide)}
	</div>
</div>
`}function _E(e,{cardData:t,sideComponent:o,readonlyMode:r,showDnd:n}){return e`
<div class=${Zo.flipCardSide}>
	${e(o)}
	${e.renderIf(FT,()=>n&&{autotestData:"flip-card-dnd-button"},{className:Zo.cardDndControl})}
	${e.renderIf(lE,()=>r&&{cardSideData:t},Zo.cardFlipHint)}
</div>
`}function U8(e){let[t]=Lt(e),[o,r]=N(()=>({current:null}));return M(()=>{e.current&&r({current:e.current})},[e,t]),o}var W8={flipCardsList:"_xoSf_V",listContainer:"_MR7CWi",newCardPlaceholder:"_v5rcJR",newCardPlaceholder_visible:"_gu9nMJ",newCardPlaceholder_animated:"_Qqu1Id"},BE=W8;var py=u(BE),my=12,vE=180,q8=468,G8=599,j8=.93;var Y8={inner:{defaultScreen:{gap:24,horizontalPadding:0},smallScreen:{gap:20,horizontalPadding:0}},outer:{defaultScreen:{gap:24,horizontalPadding:56},smallScreen:{gap:20,horizontalPadding:20}},"full-width":{defaultScreen:{gap:24,horizontalPadding:56},smallScreen:{gap:20,horizontalPadding:20}}};function TE(e,t){let{block:o,onContentWidthChange:r,insertionPoint:n}=t,i=P(),[a]=Lt(i),[s,c]=N(()=>null),[l,p]=N(()=>null),m=D(()=>{if(!i.current||!a)return null;let h=i.current,k=th(h,o.key);if(!(k!=null&&k.offsetWidth))return null;let{gap:C,horizontalPadding:_}=J8(k.offsetWidth,o.cardsLayout);c({gap:C,horizontalPadding:_});let x=oe.getFlipCardsCount(o),v=Math.min(o.maxCardsInRow,x),b=Math.floor((a+C)/(vE+C)),A=Math.min(v,b);return p(A),{"grid-template-columns":`repeat(${A}, minmax(${vE}px, ${q8}px))`,"padding-inline":`${_}px`,gap:`${C}px`}},[o,i,a]),d=(n==null?void 0:n.blockKey)===o.key,g=s&&s.gap,{updateSelectionWidth:y}=X8(l,g,d,r);return e`
<div
	class=${py.flipCardsList}
	save-ref=${i}
>
	${e.renderIf(Z8,()=>!!m&&{...t,updateSelectionWidth:y,flipCardsListStyles:m,currentCardsCountInRow:l})}
</div>
`}function Z8(e,{isLock:t,readonlyMode:o,onHyperlinkOverFn:r,updateSelectionWidth:n,block:i,direction:a,activeSide:s,cardRenderFn:c=bu,firstCardRef:l,onUploadImage:p,onOpenFileDialog:m,onDeleteImage:d,flipCardsListStyles:g,showPlaceholder:y,currentCardsCountInRow:h,insertionPoint:k}){let C=P(),_=i.cardsBlockMap,{visible:x,animated:v}=eN(C,!!y),b=oN(i,h,k);tN(i,C);let A=re=>{if(b.before.includes(re))return"start";if(b.after.includes(re))return"end"},K=py.newCardPlaceholder.withMods({visible:x,animated:v}),U=!o&&!t&&_.order.length!==1;return e`
<div
	class=${py.listContainer}
	style=${g}
>
	${e.renderAll(_.order,re=>se(re,c,{isLock:t,direction:a,readonlyMode:o,onHyperlinkOverFn:r,cardData:w(_.blocks[re]),activeSide:s,blockKey:i.key,onSizeChange:n,isFirstCard:_.order[0]===re,firstCardRef:l,shifted:A(re),showDnd:U,onUploadImage:(ge,Ce)=>{p({type:ge,cardKey:re,sideType:s,file:Ce})},onOpenFileDialog:m,onDeleteImage:ge=>{d({type:ge,cardKey:re,sideType:s})}}))}
	<div class=${K} save-ref=${C}/>
</div>
`}function X8(e,t,o,r){return{updateSelectionWidth:I(i=>{if(!t||!e||!r||!i)return;let a=e*i+(e-1)*t,s=o?a+my*2:a;r==null||r(s)},[e,t,r,o])}}function J8(e,t){let{defaultScreen:o,smallScreen:r}=Y8[t];return e>G8?o:r}function eN(e,t){let[o,r]=N(!1),[n,i]=N(!1),[a,s]=N(!1);return M(()=>{let c=()=>{s(!1),r(!1)},l=()=>s(!0),p=e.current;return t?(r(!0),requestAnimationFrame(()=>i(!0))):(i(!1),a||r(!1),p.addEventListener("transitionend",c),p.addEventListener("transitionstart",l)),()=>{p.removeEventListener("transitionend",c),p.removeEventListener("transitionstart",l)}},[e,t,a]),{animated:n,visible:o}}function tN(e,t){var r,n;let o=(n=(r=e.designSettings)==null?void 0:r.background)==null?void 0:n.color;M(()=>{let i=a=>{let s=J(a,{dark:lo("border-default"),light:lo("border-oncolor-default")});Dt(t.current,"--placeholder-color",s)};mm({background:Cu(o?{type:"color",...o}:null),lightnessLimitValue:j8,setStyle:i})},[o,t])}function oN(e,t,o){return D(()=>{if(!t||!o||o.blockKey!==e.key)return{before:[],after:[]};let{insertBefore:r,cardKey:n}=o,i=e.cardsBlockMap.order,a=i.indexOf(n),s=a%t,c=a-s,l=a+(t-s),p=r?a:a+1,m=i.slice(c,p),d=i.slice(p,l);return{before:m,after:d}},[e,t,o])}var rN=42;function bE({ref:e,direction:t,firstCardRef:o,dropTarget:r,additionalOffset:n=0}){let[i]=Lt(e),a=o.current;if(!a)return[0];let s=a.offsetLeft,c=a.offsetWidth,l=t==="rtl"?i-s-c:s;return r&&(l-=my),[l-rN-n]}function wE(e){let t=D(()=>uu(e),[e]);return I(o=>{let r,n=Se.toOrderedListItemBlock(o);if(n){let i=t[n.key];ie(i)&&(r={counterReset:i})}return r},[t])}function EE(e,{contentState:t,innerWidth:o=80,getBlockRendererFn:r,...n}){let i=t.blockMap,a=wE(i);return e`
<div style="--inner-width: ${o}%; --inner-max-width: ${o}%" >
	${e.renderAll(i.order,(s,c)=>{let l=w(i.blocks[s]),p=sE(i,c),m=a(l);return se(s,pu,{...n,...p,contextKey:s,block:l,listItemProps:m,content:r(l.type,{...n,...p,listItemProps:m,block:l,isSelected:!1})})})}
</div>
`}var nN={layoutBlock:"_voZ_R_",colContainer:"_tbuwmb",colContainer_verticalAlign_top:"_pK66Fz",colContainer_verticalAlign_middle:"_2VBu5x",colContainer_verticalAlign_bottom:"_7NFvLQ",col:"_6EgUTi",layoutBlock_type_layoutColumn1:"_v_Z47C",layoutBlock_type_layoutColumn2:"_Sk8JzI",layoutBlock_type_layoutColumn3:"_YJCPpy",layoutBlock_type_layoutColumn4:"_t7kUbb"},PE=nN;var wu=u(PE);function iN(e,{countCol:t,columnData:o,colKey:r,controlBinding:n,richTextRenderFn:i,getBlockRendererFn:a,...s}){let{width:c,...l}=o,p=s.block;return e`
<div
	class="${wu.colContainer.withMods({verticalAlign:p.verticalBlockAlign})}"
	style="--col-fr: ${c};"
>
	<div
		class="${wu.col} ${wu.col}-${c}"
		contenteditable=${!s.readonlyMode}
		data-context-col-key=${r}
	>
		${e(i,{...s,defaultTopPadding:null,contentState:l,innerWidth:100,getBlockRendererFn:a})}
	</div>
	${e(n)}
</div>`}function ME(e,{controlsBindings:t={},...o}){let r=o.block,n={type:no(Q.getColumnType(r))},i=D(()=>{let a=oy(r,o.blockBeforeType,o.defaultTopPadding),s=ry(r,o.blockAfterType);return{"min-height":`calc(${aC(r)} - ${a}px - ${s}px)`}},[r,o.blockAfterType,o.blockBeforeType,o.defaultTopPadding]);return e`
<div
	class=${wu.layoutBlock.withMods(n)}
	style=${i}
	data-key=${r.key}
>
	${e.renderAll(r.colsOrder,a=>{let s=w(r.colsMap[a]);return se(a,iN,{...o,countCol:r.colsOrder.length,columnData:s,colKey:a,controlBinding:t[a]})})}
</div>`}var aN={orderedListItemBlock:"_W1MIWT",orderedListItemBlock_type_default:"_V8KlSP",orderedListItemBlock_indent_0:"_u52zQG",orderedListItemBlock_indent_1:"_AdlZow",orderedListItemBlock_indent_2:"_Hy-Q-K",orderedListItemBlock_type_custom:"_w2fw9E",paragraph:"_efoSsg"},IE=aN;var RE=u(IE);function DE(e,t){let{block:o,onHyperlinkOverFn:r,readonlyMode:n,isLock:i}=t,a=D(()=>$.create(o),[o]),s=RE.orderedListItemBlock.withMods({type:o.listViewType,indent:`${_o(o)}`});return e`
<div class=${s}>
    ${e(at,{propsType:"paragraphData",paragraph:a,idPrefix:"ordered-list-item-text",onHyperlinkOverFn:r,readonlyMode:n,isLock:i},RE.paragraph)}
</div>
`}var sN={unorderedListItemBlock:"_XsUYwB",unorderedListItemBlock_type_default:"_FZlwVw",unorderedListItemBlock_indent_0:"_hL5t_l",unorderedListItemBlock_indent_1:"_OZjAqA",unorderedListItemBlock_indent_2:"_o5D3om",unorderedListItemBlock_type_custom:"_ekMB7d",paragraph:"_ZGFv4M"},AE=sN;var VE=u(AE);function LE(e,t){let{block:o,onHyperlinkOverFn:r,readonlyMode:n,isLock:i}=t,a=D(()=>$.create(o),[o]),s=VE.unorderedListItemBlock.withMods({type:o.listViewType,indent:`${_o(o)}`});return e`
<div class=${s}>
    ${e(at,{propsType:"paragraphData",paragraph:a,idPrefix:"list-item-text",onHyperlinkOverFn:r,readonlyMode:n,isLock:i},VE.paragraph)}
</div>
`}function Eu(e,t){let o=t.block,r=o.listType;switch(r){case"ul":return e(LE,{...t,block:o});case"ol":return e(DE,{...t,block:o});default:throw z(r),new Error(`Unknown list type: ${r}`)}}function OE(e,t,o){let r={"font-size":"","caret-color":"","line-height":""},n=t==null?void 0:t.style;if(n){let i=Re.getFontSize(n);if(i&&i!=="auto"&&(r["font-size"]=q(i),r["line-height"]=o(i)),!lh()&&qC(e)===0){let a=Re.getFontColor(n);a&&(r["caret-color"]=a)}}return r}var cN={paragraphBlock:"_bdxJmu",paragraphBlock_type_ul:"_uTCaHg",paragraphBlock_type_ol:"_PKTKCj",paragraphBlock_type_h1:"_x5J7kr",paragraphBlock_type_h2:"_s0BBe5",paragraphBlock_type_h3:"_Cbtbo1",paragraphBlock_type_text:"_JCQLUW",paragraphBlock_type_blockquote:"_NlCaQ-",paragraphBlock_type_pullquote:"_IOaOUy"},FE=cN;var lN=u(FE);function KE(e,{block:t,blockBeforeType:o,blockAfterType:r,readonlyMode:n,isLock:i,onHyperlinkOverFn:a,direction:s,paragraphProps:c={}}){let l=t,p=D(()=>new Wo({paragraph:l,blockBeforeType:o,blockAfterType:r,direction:s,...c}),[l,o,r,s,c]);return e`
<div
	class=${lN.paragraphBlock.withMods({type:p.type()})}
	tabindex="-1"
>
	${Gi(p,a,n,i)}
</div>`}var pN={snippetContent:"_tHk522",text:"_hyqFtW",heading:"_cnKVol",description:"_iilLf3",refContainer:"_F04AaK",favicon:"_4DhZXz",url:"_WDFrfL",image:"_Z1lY31"},$E=pN;var pn=u($E);function mN(e,{description:t}){return e`
<p class=${pn.description}>
	${t}
</p>`}function uN(e,{iconSrc:t}){return e`
<img class=${pn.favicon} src=${He(t)}/>
`}function dN(e,{imageSrc:t}){return e`
<img class=${pn.image} src=${He(t)}/>
`}function NE(e,{block:t}){return e`
<div class=${pn.snippetContent}>
	<div class=${pn.text}>
		<p class=${pn.heading}>
			${t.title}
		</p>
		${e.renderIf(mN,()=>!!t.description&&{description:t.description})}
		<div class=${pn.refContainer}>
			${e.renderIf(uN,()=>!!t.iconSrc&&{iconSrc:t.iconSrc})}
			<p class=${pn.url}>${_x(t.url)}</p>
		</div>
	</div>
	${e.renderIf(dN,()=>!!t.imageSrc&&{imageSrc:t.imageSrc})}
</div>`}var fN={tableBlock:"_abiR_r",linkToBlockButton:"_l7FEz5",linkToBlockButton_adapted:"_TcCp21"},zE=fN;var HE=u(zE);var gN={tableScrollContainer:"_1HvUHB"},QE=gN;var UE=u(QE);function Pu(e){return e<=27?"1.5":e<=31?"1.35":e<=56?"1.25":"normal"}var yN={table:"_pe20sz",tableRow:"_znj95-",tableCell:"_LfION4",table_pinHeaderColumn:"_X36Uix",tableCellContent:"_NalZFk",tableCellContent_verticalAlign_top:"_0-8AGi",tableCellContent_verticalAlign_middle:"_GiXAzc",tableCellContent_verticalAlign_bottom:"_07hCTF",cellParagraph:"_LLFSB4"},WE=yN;var Mu=class extends Wo{getLineHeightForFontSize(t){return Pu(t)}};var fa=Ne({});function qE(e){let t=D(()=>({tableRef:{current:{}},onCellFocus:()=>{},onCellBlur:()=>{},onCellMouseOver:()=>{},onCellMouseOut:()=>{},onCellKeydown:()=>{},onHyperlinkOverFn:()=>{},onTableCellTabPress:()=>{},onTableCellShiftTabPress:()=>{},onTableCellEnterPress:()=>{},onTableCellUpArrowPress:()=>{},onTableCellDownArrowPress:()=>{},onTableCellRightArrowPress:()=>{},onTableCellLeftArrowPress:()=>{},getCellElementRef:{current:()=>null}}),[]);e.setContext(fa,t)}function GE(e,{ref:t,onTableCellDownArrowPress:o,onTableCellEnterPress:r,onTableCellLeftArrowPress:n,onTableCellRightArrowPress:i,onTableCellShiftTabPress:a,onTableCellTabPress:s,onTableCellUpArrowPress:c}){ht(t,qe.TAB,sn(t,s),{shift:!1},!1,!1),ht(t,qe.TAB,sn(t,a),{shift:!0},!1,!1),ht(t,qe.ENTER,sn(t,r),{shift:!1},!1,!1),ht(t,qe.UP,sn(t,c,!1),void 0,!1,!1),ht(t,qe.DOWN,sn(t,o,!1),void 0,!1,!1),ht(t,qe.RIGHT,sn(t,i,!1),void 0,!1,!1),ht(t,qe.LEFT,sn(t,n,!1),void 0,!1,!1)}var Hs=u(WE);function jE(e,{block:t,isLock:o,readonlyMode:r}){let{getCellElementRef:n,tableRef:i}=ne(fa),a=E({});return M(()=>{i.current&&(n.current=s=>{let c=a.current[s],l=c==null?void 0:c.current;return l!=null?l:null})},[n,i]),e`
<table
	save-ref=${i}
	contenteditable="false"
	class="${Hs.table.withMods({pinHeaderColumn:jC(t)})}"
>
	${e.renderAll(t.rowsOrder,s=>se(s,hN,{block:t,rowKey:s,readonlyMode:r,isLock:o,cellsRefsMap:a}))}
</table>`}function hN(e,{block:t,rowKey:o,readonlyMode:r,isLock:n,cellsRefsMap:i}){return e`
<tr
	contenteditable="false"
	class=${Hs.tableRow}
	data-row-key=${o}
>
	${e.renderAll(t.colsOrder,a=>se(a,xN,{rowKey:o,block:t,colKey:a,readonlyMode:r,isLock:n,cellsRefsMap:i}))}
</tr>`}function xN(e,{rowKey:t,block:o,colKey:r,readonlyMode:n,isLock:i,cellsRefsMap:a}){let s=P(),c=V(o.rowsMap[t]),l=V(c.colsMap[r]),p=ae(l.content);if(!p)throw new Error;M(()=>{a.current[l.key]=s},[l.key,a,s]);let{onCellBlur:m,onCellFocus:d,onCellKeydown:g,onCellMouseOut:y,onCellMouseOver:h,onHyperlinkOverFn:k,onTableCellTabPress:C,onTableCellShiftTabPress:_,onTableCellEnterPress:x,onTableCellUpArrowPress:v,onTableCellDownArrowPress:b,onTableCellRightArrowPress:A,onTableCellLeftArrowPress:K}=ne(fa),U=()=>d(l.key),re=()=>m(l.key),ge=()=>h({cellKey:l.key,rowKey:t,colKey:r}),Ce=()=>y({cellKey:l.key,rowKey:t,colKey:r});GE(e,{ref:s,onTableCellTabPress:C,onTableCellShiftTabPress:_,onTableCellEnterPress:x,onTableCellUpArrowPress:v,onTableCellDownArrowPress:b,onTableCellRightArrowPress:A,onTableCellLeftArrowPress:K});let Pt=D(()=>SN(l.meta),[l.meta]),gn=D(()=>OE(V(ae(l.content)),GC(l),Pu),[l]),ha=Hs.tableCellContent.withMods({verticalAlign:l.verticalTextAlign}),QM=D(()=>new Mu({paragraph:p,idPrefix:"divider-block"}),[p]);return e`
<td
	save-ref=${s}
	style=${Pt}
	data-table-key=${o.key}
	data-cell-key=${l.key}
	data-row-key=${t}
	data-col-key=${r}
	contenteditable=${!n&&!i}
	class=${Hs.tableCell}
	onmouseover=${ge}
	onmouseout=${Ce}
	onfocus=${U}
	onblur=${re}
	onkeydown=${g}
>
	${e(at,{propsType:"wrappedParagraph",wrappedParagraph:QM,isLock:i,readonlyMode:n,paragraphStyles:gn,onHyperlinkOverFn:k,paragraphClassName:`${Hs.cellParagraph}`,wrapperClassName:ha})}
</td>`}function SN(e){let t="",o="",r=1;if(e.forEach(n=>{switch(n.name){case"backgroundColor":o=n.color;break;case"backgroundOpacity":r=n.opacity;break;case"charactersMeta":break;default:throw z(n),new Error(`unknown meta ${n}`)}}),o){let n=Ae(pt.whiteDefault),i=[...Ae(o),r],[a,s,c]=ai(n,i);t+=`background-color: rgb(${a}, ${s}, ${c});`}return t}var kN={tableShadowContainer:"_nftaWv",tableShadowContainer_dir_ltr:"_u2SMkU",tableShadowContainer_dir_rtl:"_GncTtr",tableShadowContainer_leftShadow:"_WsQqV-",tableShadowContainer_rightShadow:"_xE_292"},YE=kN;var CN=u(YE);function ZE(e,{direction:t,tableRef:o,tableScrollContainerRef:r}){let[n,i]=N(!1),[a,s]=N(!1),c=I(()=>{if(!r.current)return;let l=r.current,p=t==="rtl"?Math.abs(Math.ceil(l.scrollLeft)):Math.ceil(l.scrollLeft),m=Math.ceil(l.scrollWidth-l.clientWidth);i(p>0),s(p<m)},[t,r]);return Ze({target:o,onResize:c}),Ze({target:r,onResize:c}),G(r,"scroll",c),e`
<div class=${CN.tableShadowContainer.withMods({dir:t,leftShadow:n,rightShadow:a})}></div>`}function _N({blockElement:e,getControlWidth:t,setAdaptedControl:o,getPageElement:r}){let n=r();if(!n)return;let i=e.getBoundingClientRect(),a=n.clientWidth-t()*2;o(i.width>=a)}function BN(e){let{blockElement:t}=e,o=new ResizeObserver(()=>requestAnimationFrame(()=>_N(e)));return o.observe(document.body),o.observe(t),()=>{o.disconnect()}}function mn(e,t,o){let[r,n]=N(!1);return M(()=>{if(!(!e.current||!t.current))return BN({blockElement:e.current,getControlWidth:()=>t.current.offsetWidth,setAdaptedControl:n,getPageElement:o})},[e,t,o]),r}var vN={hiddenIndicator:"_SKvA2l",tooltipContent:"__V-PrS"},XE=vN;var JE=u(XE);function uy(e,t){let o=E(),{onHiddenContentClick:r,getHiddenContentIndicatorText:n}=ne(wt);return b_({html:e,anchorRef:o,content:f(TN,{text:n(t)||""})}),e`
<button
	save-ref=${o}
	class=${JE.hiddenIndicator}
	onclick=${()=>r(t)}
>
	${e(R0,{})}
</button>`}function TN(e,{text:t}){return e`
<div
	class=${JE.tooltipContent}
>
	${t}
</div>
`}var bN={container:"_SWtzj5",container_backgroundColor_default:"_HipOvw",container_backgroundColor_white:"_ziAZ6m",childItemsContainer:"__SDqlh",headerWrapper:"_B0cj1Q",headerWrapper_position_default:"_7k02Pf",headerWrapper_showSeparator:"_DG4cCa",headerWrapper_position_first:"_dUxAhi",headerWrapper_position_last:"_8E_78b",childItemsContainer_showSeparator:"_eMpLmW"},eP=bN;var wN={moreButton:"_r_jFTr",moreButton_active:"_lF0NL0"},tP=wN;var EN=u(tP);function oP(e,t){let{pageId:o,id:r,onControlsOpenedChange:n}=t,[i,a]=N(!1),s=Tx(KT.hidePageHeaderAction),c=[{id:"duplicate",text:B("Roll.Editor.Navigation.HeaderActions.Hide"),prefix:f(FB),autotestData:"hide-from-table-of-contents",helper:B("Roll.Editor.Navigation.HeaderActions.Hide.Helper"),onClick:()=>s({pageKey:o,headerKey:r})}],l=p=>{a(p),n&&n(p)};return e`
<div
	class=${EN.moreButton.withMods({active:i})}
>
	${e(m_,{controlType:"state",opened:i,onClose:()=>l(!1),createControl:()=>f(Le,{structure:"icon",icon:f(uB),style:"linkSecondary",size:"xSmall",onClick:()=>l(!i),autotestData:"navigation-panel-dropdown-button"}),createPopover:()=>y_({items:c,direction:so(),onItemClick:(p,m)=>{a(!1),m.onClick()},prefixType:"custom",width:"adaptive",height:"adaptive"}),align:"start"})}
</div>
`}var PN={container:"_SBRIqQ",container_active:"_vljsen",controlsContainer:"_wPYpIq",controlsBackLayer:"_vgJ1Dr",text:"_GNhE5i",control:"_dIO-A3"},rP=PN;var Qs=u(rP);function nP(e,t){let{pageId:o,id:r,title:n,activeItemId:i,controlsParams:a}=t,s=ie(a)&&a.enabled,c=P(),{gotoHeaderHandler:l}=ne(wt);return G(c,"click",p=>{p.defaultPrevented||(p.preventDefault(),l(o,r))}),e`
<div
	class=${Qs.container.withMods({active:i===r})}
	save-ref=${c}
>
	${e(xp,{text:pm(n),maxLines:2},Qs.text)}
	${e.renderIf(MN,()=>s&&{pageId:o,id:r,onControlsOpenedChange:a.onControlsOpenedChange})}
</div>
`}function MN(e,{id:t,pageId:o,onControlsOpenedChange:r}){return e`
<div class=${Qs.controlsBackLayer}>
	<div class=${Qs.controlsContainer}>
		${e(oP,{id:t,pageId:o,onControlsOpenedChange:r},Qs.control)}
	</div>
</div>
`}var dy={style:"regular",backgroundColorStyle:"default"};var fy=u(eP),IN=20;function iP(e,t){if(t>=e.length)return"default";let o=w(e[t]);return t===0||o.offset!==w(e[t-1]).offset?"first":t===e.length-1||o.offset!==w(e[t+1]).offset?"last":"default"}function Iu(e,t){let{style:o=dy.style,backgroundColorStyle:r=dy.backgroundColorStyle,autotestData:n,items:i,hiddenContent:a}=t,s=P();return ee(()=>{De(s.current,Jc(o))},[s,o]),e`
<div
	class=${fy.container.withMods({backgroundColor:r})}
	data-at=${j(n)}
	save-ref=${s}
>
	${e.renderAll(i,(c,l)=>se(c.key,aP,{...t,item:c,position:iP(i,l)}))}
	${e.renderIf(uy,()=>a)}
</div>
`}function aP(e,t){let{pageId:o,item:r,activeItemId:n,itemControlsParams:i,withSeparator:a,position:s}=t,{key:c,title:l,childHeaders:p,offset:m}=r,d=D(()=>({marginInlineStart:IN*(m-1)}),[m]),g=!!p.length,y=!!a&&m>1;return e`
<div
	class=${fy.headerWrapper.withMods({showSeparator:y,position:s})}
	style=${d}
>
	${e(nP,{pageId:o,id:c,title:l,activeItemId:n,controlsParams:i})}
	${e.renderIf(RN,()=>g&&{...t,items:p,hiddenContent:null})}
</div>
`}function RN(e,t){let{items:o,hiddenContent:r,withSeparator:n}=t;return e`
<div class=${fy.childItemsContainer.withMods({showSeparator:!!n})}>
	${e.renderAll(o,(i,a)=>se(i.key,aP,{...t,item:i,position:iP(o,a)}))}
	${e.renderIf(uy,()=>r)}
</div>`}function Ru(){let e=so();return J(e,{ltr:new Map([["inlineStart","right"],["inlineEnd","left"]]),rtl:new Map([["inlineStart","left"],["inlineEnd","right"]])})}var DN={list:"_5-APhn",itemContainer:"_sukyvC",itemContainer_mode_overview:"_CmeD6M",itemContainer_mode_navigation:"_1zMPzS",itemContainer_side_inlineStart:"_9vn9vs",itemContainer_side_inlineEnd:"_t7lGZj",itemContent:"_rPMgYu",itemContent_active:"_lfJN7Q",itemContent_itemType_h1:"_j9AvQh",itemContent_itemType_h2:"_Htzmu3",itemContent_itemType_h3:"_4yc2da"},sP=DN;var Du=u(sP);function gy(e,t){return e`
<div class=${Du.list}>
	${e.renderAll(t.items,o=>se(o.key,AN,{...t,item:o}))}
</div>
`}function AN(e,t){let o=f(VN,t),{item:r,mode:n,side:i}=t,{title:a,childHeaders:s}=r;return e`
<div class=${Du.list}>
	${e.switch(()=>Ny(n,{overview:()=>o,navigation:()=>f(gr,{component:o,tooltipText:a,size:"small",side:Ru().get(i),align:"center",offset:{x:0,y:0},disablePointer:!0})}))}
	${e.renderIf(gy,()=>!!r.childHeaders.length&&{...t,items:s})}
</div>
`}function VN(e,{item:t,pageId:o,side:r,mode:n,activeItemId:i}){let a=P(),{gotoHeaderHandler:s}=ne(wt),{key:c,headerType:l}=t;return G(a,"click",p=>{n==="navigation"&&!p.defaultPrevented&&(p.preventDefault(),s(o,c))}),e`
<div
	class=${Du.itemContainer.withMods({mode:n,side:r})}
	save-ref=${a}
>
	<div
		class=${Du.itemContent.withMods({itemType:l,active:i===c})}
	></div>
</div>
`}var LN={container:"_w4NROc",itemsContainer:"_jtquG_",itemsContainer_fixedWidth:"_W_qI79",editButton:"_GBvvF4"},cP=LN;var yy={side:"inlineStart",mode:"navigation"};var hy=u(cP);function lP(e,t){let{autotestData:o,side:r=yy.side,mode:n=yy.mode,items:i,pageId:a,activeItemId:s,onEditClick:c,fixedWidth:l}=t,p=P();return G(p,"mouseover",()=>{t.mode==="overview"&&t.onHover&&t.onHover()}),e`
<div
	class=${hy.container}
	data-at=${j(o)}
	save-ref=${p}
>
	<div class=${hy.itemsContainer.withMods({fixedWidth:!!l})}>
		${e(gy,{items:i,pageId:a,activeItemId:s,mode:n,side:r})}
	</div>
	${e.renderIf(gr,()=>ie(c)&&{component:f(qo.OverlayButton,{type:"icon",icon:f(dB),style:"ghost",onClick:c,size:"xSmall",circleRadius:!1,scale:!0},hy.editButton),tooltipText:B("Roll.Editor.Navigation.Edit"),size:"small",side:Ru().get(r),align:"center",disablePointer:!0})}
</div>
`}var ON={chapterWrapper:"_JTTFlj",chapter:"_3s_zox",chapter_readonly:"_IDX0VZ",chapter_dragged:"_CMwFVM",chapter_selected:"_aSCVcN",childHeadersWrapper:"_dlXqb1",content:"_5doJhw",content_minimized:"_KKOtM6",chapter_disabled:"_JIuw_x",text:"_RR2XkB",moreButton:"_Xw9uzQ",icon:"_65imwD"},pP=ON;var un=u(pP),FN=200;function KN(e,{id:t,title:o,disableTooltip:r}){let{renderPageControls:n,renderPagePrefix:i}=ne(wt);return e`
<div
	class=${un.content.withMods({minimized:!1})}
>
	${e(i(t),un.icon)}
	${e(xp,{text:pm(o),maxLines:2,disableTooltip:r},{className:un.text})}
	${e(n(t,un.moreButton))}
</div>`}function $N(e){let t=f(Dp);return e`
<div
	class=${un.content.withMods({minimized:!0})}
>
	${e(t)}
</div>`}var NN=4;function mP(e,{page:t,state:o,isSelected:r,isMinimized:n,showHeaders:i,autotestData:a,selectedHeaderId:s,scrollContainerRef:c,headerControlsParams:l}){let{key:p,title:m,childHeaders:d,hiddenContent:g}=t,y=P();M(()=>{r&&w_({itemRef:y,containerRef:c,scrollDuration:FN})},[r,y,c]);let h=i&&r&&!n&&(!!d.length||!!g)&&o==="normal";return e`
<div
	class=${un.chapterWrapper}
	save-ref=${y}
>
	${e(HN,{id:p,title:m,state:o,isSelected:r,isMinimized:n,autotestData:a})}
	${e.renderIf(zN,()=>h&&{pageId:p,hiddenContent:g,childHeaders:d,selectedHeaderId:s,headerControlsParams:l})}
</div>`}function zN(e,{pageId:t,hiddenContent:o,childHeaders:r,selectedHeaderId:n,headerControlsParams:i}){return e`
<div class=${un.childHeadersWrapper}>
	${e(Iu,{pageId:t,items:r,withSeparator:!0,hiddenContent:o,activeItemId:n,itemControlsParams:i})}
</div>`}function HN(e,{id:t,title:o,isSelected:r,isMinimized:n,autotestData:i,state:a}){let s=P(),{isReadonly:c,isPagesDraggable:l,gotoPageHandler:p,isPageDisabled:m,getPageTooltip:d}=ne(wt),g=d(t)||"",y=!!g,h=m(t),k=A=>{A.defaultPrevented||h||c||p(t)},C=Ul(),_=E(0),x=E(!1);Kh({ref:s,enabled:l,onStart:A=>{_.current=A.clientY},onDrag:A=>{let K=Math.abs(A.clientY-_.current)>NN;!x.current&&K&&(x.current=!0,C(t,A))},onEnd:()=>{x.current=!1,_.current=0}});let[v,b]=N(!1);return Mo(s,{focused:v,onFocusedChange:b}),G(s,"keydown",A=>{A.keyCode===qe.ENTER&&s.current.click()}),on({html:e,anchorRef:s,text:g,show:!!g}),e`
<div
	save-ref=${s}
	class=${un.chapter.withMods({selected:r,dragged:a==="dragged",readonly:c,disabled:h})}
	onclick=${k}
	data-at=${j(i)}
	tabindex="0"
>
	${e.switch(()=>n?f($N):f(KN,{id:t,title:o,disableTooltip:y}))}
</div>`}var QN={list:"_fZDGto"},uP=QN;var UN=u(uP);function dP(e,{pages:t,selectedPageId:o,isMinimized:r,showHeaders:n,scrollController:i,selectedHeaderId:a,scrollContainerRef:s,headerControlsParams:c}){let{setPagesOrderHandler:l}=ne(wt);return pe(e,f(Wl,{items:t,getItemId:m=>m.key,onItemsChange:m=>{l(m.map(d=>d.key))},getItemBinding:(m,d,g)=>{let y=o===m.key;return se(m.key,mP,{page:m,state:g,isSelected:y,isMinimized:r,showHeaders:n,autotestData:{[Ra]:"navigation-panel-chapter",[Vx]:y?"selected":"unselected"},selectedHeaderId:a,scrollContainerRef:s,headerControlsParams:c})},scrollController:i},UN.list))}var WN={emptyState:"_EWFyDR"},fP=WN;var qN=u(fP);function gP(e,{text:t}){return e`
<div class="${qN.emptyState}">
	${t}
</div>`}var GN={scrollContainer:"_ZVl_PX",scrollContainer_minimized:"_Ky05FE",minimizedPanel:"_1CHroT",navigationList:"_kfDoD0"},yP=GN;var xy=u(yP);function hP(e,{pages:t,selectedPageId:o,isMinimized:r,showHeaders:n,selectedHeaderId:i,headerControlsParams:a}){let s=P(),c=Ar(s),{getEmptyStateText:l}=ne(wt);return e`
<div
	save-ref=${s}
	class=${xy.scrollContainer.withMods({minimized:r})}
	data-at=${j("navigation-panel-item-list")}
>
	${e.switch(()=>{if(t.length>1||!n)return f(dP,{pages:t,selectedPageId:o,isMinimized:r,showHeaders:n,scrollController:c,selectedHeaderId:i,scrollContainerRef:s,headerControlsParams:a});let p=w(t[0]);if(p.childHeaders.length||p.hiddenContent)return r?f(lP,{items:p.childHeaders,pageId:p.key,activeItemId:i,mode:"overview"},xy.minimizedPanel):f(Iu,{pageId:p.key,items:p.childHeaders,activeItemId:i,hiddenContent:p.hiddenContent,withSeparator:!0,itemControlsParams:a},xy.navigationList);let m=l();return m&&!r?f(gP,{text:m}):null})}
</div>`}function xP(e,{block:t}){let o=t,{src:r,fileName:n}=o;return pe(e,f(Tw,{...o,isPlayer:!0,onDownload:()=>{let i=document.createElement("a");i.setAttribute("href",He(V(r))),i.setAttribute("download",n),i.click()}}))}var jN={highlight:"_u2EDHy"},SP=jN;var lvt=u(SP),Wt="highlight-block";var YN={codeBlockView:"_LvoiLK",codeBlockWrapper:"_RtEsIp",codeTextWrapper:"_LfJZUc",codeBlockControls:"_5L8M-u",languageLabel:"_Y4DfL_",copyButton:"_2mkbAH",codeTextWrapper_overflowLeft:"_Xu73_C",codeTextWrapper_overflowRight:"_U-TuH0",codeTextWrapper_rtl:"_iIaMXL",codeText:"_4EFE4J",codeText_empty:"_qDy74W",linkToBlockButton:"_0WBcmj"},kP=YN;var Sy=Mt(_P());function BP(e){var o;let t=[];for(let r of e)if(r.nodeType===yc.TEXT){if(r.textContent){let n=document.createElement("span");n.textContent=r.textContent,t.push(n)}}else r.nodeType===yc.ELEMENT&&(r.childNodes.length===1&&((o=r.childNodes[0])==null?void 0:o.nodeType)===yc.TEXT?t.push(r):t.push(...BP(r.childNodes)));return t}function vP(e,t){Sy.default.configure({classPrefix:`${ky}-`});let o=Sy.default.highlight(e,{language:t}),r=document.createElement("div");r.innerHTML=o.value;let n=BP(r.childNodes),[i]=n.slice(-1);if(!i)return ko.ZERO_WIDTH_SPACE;i.innerHTML.endsWith(`
`)&&(i.innerHTML+=ko.ZERO_WIDTH_SPACE);let a=document.createElement("div");return a.append(...n),a.innerHTML}var dn=u(kP),ky="code-text";function ZN(e,{textToCopy:t}){let o=()=>{eh(t),MS(B("Roll.Common.CodeBlock.Copied"))};return Le(e,{style:"linkSecondary",structure:"text",text:B("Roll.Common.CodeBlock.CopyCode"),onClick:o,size:"xSmall"})}function XN(e,{block:t}){return e`
<div class=${dn.codeBlockControls}>
	${e(ZN,{textToCopy:Ke.getCharactersText(t.paragraph)},dn.copyButton)}
	<div class=${dn.languageLabel}>${O0(t.language)}</div>
</div>`}function JN(e,t){let[o,r]=N(!1),[n,i]=N(!1),a=Ar(e),s=I(()=>{let c=t==="rtl"?Math.abs(Math.ceil(e.current.scrollLeft)):Math.ceil(e.current.scrollLeft),l=Math.ceil(e.current.scrollWidth-e.current.clientWidth),p=c>0,m=c<l;o!==p&&r(p),n!==m&&i(m)},[t,e,o,n]);return ux(a,s),Ze({target:e,onResize:s}),{overflowLeft:o,overflowRight:n}}function e7(e,{block:t,readonlyMode:o,isLock:r}){let n=!r&&!o,i=o?null:B("Roll.Common.CodeBlock.Placeholder"),a=Ee(dn.codeText.withMods({empty:$.isEmptyParagraph(t.paragraph)}),ky),s=D(()=>vP(Ke.getCharactersText(t.paragraph),t.language),[t.language,t.paragraph]),c=t.fontSize==="auto"?{lineHeight:"auto"}:{fontSize:q(t.fontSize),lineHeight:yp(t.fontSize)};return e`
<pre
    class=${a}
    data-key=${t.paragraph.key}
    contenteditable=${n}
	data-placeholder=${i}
	style=${c}
>${{html:s}}</pre>`}function t7(e,{block:t,readonlyMode:o,isLock:r,direction:n}){let i=P(),a=!o&&!r,s=JN(i,n);return e`
<div
	save-ref=${i}
	class=${dn.codeTextWrapper.withMods({rtl:n==="rtl",...s})}
	contenteditable="${a}"
>
	${e(e7,{block:t,readonlyMode:o,isLock:r})}
</div>`}function Au(e,{block:t,isLock:o,readonlyMode:r,onHyperlinkOverFn:n,onCopyLinkToBlock:i}){let a=P(),s=P(),c=t;return e`
<div
	save-ref=${a}
	data-at=${Wt}
	class=${dn.codeBlockView}
	dir="ltr"
>
	${e.renderIf(Ut,()=>i&&{onClick:()=>i(t.key)},{className:dn.linkToBlockButton,ref:s})}
	<div class=${dn.codeBlockWrapper}>
		${e(t7,{block:c,isLock:o,readonlyMode:r,onHyperlinkOverFn:n,direction:"ltr"})}
		${e(XN,{block:c})}
	</div>
</div>`}function fn(){return document.querySelector(`[data-at='id=${n1}']`)}function o7(e,t="_blank"){let o=document.createElement("a");o.setAttribute("target",t),o.setAttribute("href",e),o.click(),o.remove()}function TP(e,t){let o=t.block,r=fo.isEnabled(o.zoom),n=uo.isEnabled(o.link),i=bp(e,{style:"light"}),a=()=>{let c=uo.getUrl(o.link);c&&o7(c,"_blank")},s=()=>{let c=to(o);i(He(c),o)};return pe(e,f(Ow,{...t,onClick:()=>{n?a():r&&s()},isPlayer:!0}))}var Cy=ww,r7=740;function Vu(e,{renderImageFn:t=TP,block:o,isSelected:r,onCopyLinkToBlock:n,...i}){var _;let a=P(),s=P(),c=P(),l=o,p=Y.isOneImageCollage(l),m=p,d=p?(_=l.images[0])==null?void 0:_.key:null,{imagesGrows:g}=Ew(l.images),y=n7(l,m,c),h=mn(a,s,fn),k=!0,C=Cy.linkToBlockButton.withMods({adapted:h});return e`
<div
	save-ref=${c}
	data-key=${l.key}
	class=${Cy.collageBlockWrapper.withMods({singleImage:m})}>
	<figure
		class=${Cy.collageBlock.withMods({lock:!1,addingAnimated:!1,dndMode:!1,oneImage:p,readOnly:k,selected:r})}
		save-ref=${a}
		style=${y}
		data-key=${l.key}
		data-collaged-key=${d}
		data-at=${Wt}
		data-block-type="${S.COLLAGE}"
		draggable="false"
		contenteditable="false"
		tabindex="-1"
	>
		<div class=${C}>
			${e.renderIf(Ut,()=>n&&{adapted:h,onClick:()=>n(l.key)},{ref:s})}
		</div>
		${e.renderAll(l.images,(x,v)=>se(x.key,t,{...i,isSelected:r,block:x,grow:g[v],isFirst:!v,isLast:v===l.images.length-1,readonlyMode:k,isLock:!1,preventCollaging:m},"media-block_collaged"))}
	</figure>
</div>`}function n7(e,t,o){let[r]=Lt(o);if(Y.isOneImageCollage(e)&&(document.body.clientWidth<=r7||e.alignment==="float-left"||t)){let n=e.images[0],i=St(n).width;return{[i<r?"min-width":"width"]:q(i)}}return null}function bP(e){let t=e.current;return i1(t,r1)}function i7(e){let t=bP(e),o=t&&t.parentElement;return o&&o.nextElementSibling}function wP(e,{block:t,continueProps:o,...r}){let n=P(),i=I(()=>{if(o){let a=i7(n);o.onContinueClick(t.key);let s=bP(n),c=s?s.getBoundingClientRect().height:0;a&&o.scrollToContinueGroupFn(a,c)}},[t.key,o,n]);return e`
<div
	data-key=${t.key}
	save-ref=${n}
	contenteditable="false"
	tabindex="-1"
>
	${e(Hw,{...r,block:t,onClick:i,readonlyMode:!0})}
</div>`}var a7=Ww;function Lu(e,{block:t,onHyperlinkOverFn:o,direction:r}){let n=t;return e`
<figure
	data-key=${n.key}
	class=${a7.dividerBlock.withMods({lock:!1})}
	contenteditable="false"
>
	${e(aE,{block:n,readonlyMode:!0,isLock:!1,onHyperlinkOverFn:o,direction:r})}
</figure>
`}var s7={embedIframe:"__HOfJl",embedIframe_rounded:"_ojugKT",embedIframe_active:"_fpYqGm"},EP=s7;var c7=u(EP);function PP(e,{block:t,active:o,onContentResize:r}){let n=I(i=>{let a=i.target;try{let s=w(a.contentWindow),c=new ResizeObserver(()=>{c.unobserve(s.document.body),r(s.document.body.clientHeight/s.document.body.clientWidth)});c.observe(s.document.body)}catch{}},[r]);return e`
<iframe
	onload=${n}
	src=${t.src}
	allowfullscreen
	loading="lazy"
	class=${c7.embedIframe.withMods({rounded:t.alignment!=="full",active:o})}
>
</iframe>
`}var l7={embedContainer:"_eGloKG",embedContent:"_Fu-q-a",embedBlockPlaceholder:"_CCnS7m"},MP=l7;var _y=u(MP);function p7(e,t){return e.width?{"padding-bottom":`${(t||e.height/e.width)*100}%`}:{width:"100%",height:q(e.height)}}function IP(e,{block:t,isDraggable:o=!1,isActive:r}){let[n,i]=N(0),a=p7(t,n);return e`
<div class=${_y.embedContainer} draggable=${o}>
	${e(PP,{block:t,active:r,onContentResize:i},_y.embedContent)}
	<div class=${_y.embedBlockPlaceholder} style=${a}></div>
</div>`}var m7={paragraphWrapper:"_nxnjsi",embedText:"_0rWVkW",captionWrapper:"_zAJBrj"},RP=m7;var By=u(RP);function DP(e,{block:t,isLock:o,readonlyMode:r,onHyperlinkOverFn:n,isSelected:i}){let a=P(),s=je.getText(t.caption),c=Ee(By.embedText,"embed-text"),l=$.create({key:t.key,characters:s,textAlign:"center"});return M(()=>{a.current&&(a.current.style.display=s.length?"block":"")},[s.length,a]),e`
<div
	save-ref=${a}
	class=${By.captionWrapper}
>
	${e(at,{propsType:"paragraphData",paragraph:l,idPrefix:"embed-block",isLock:o,readonlyMode:r,onHyperlinkOverFn:n,placeholder:i?B("Roll.Editor.MediaCaptionDefaultText"):"",paragraphClassName:c},By.paragraphWrapper)}
</div>`}var u7={embedBlockView:"_bK_yDE",embedContainer:"_5yqKGu",embedBlockView_active:"_bpw5q-",linkToBlockButton:"_7loRpC",linkToBlockButton_adapted:"_niJJG0"},AP=u7;var vy=u(AP);function Ou(e,{block:t,isLock:o,readonlyMode:r,onHyperlinkOverFn:n,isSelected:i,isActive:a=!0,isDraggable:s=!1,onCopyLinkToBlock:c}){let l=P(),p=P(),m=t,d=je.isEnabled(m.caption),g=mn(l,p,fn),y=vy.linkToBlockButton.withMods({adapted:g});return e`
<div
	class=${vy.embedBlockView.withMods({active:a})}
	data-at=${Wt}
	save-ref=${l}
>
	<div class=${y}>
		${e.renderIf(Ut,()=>c&&{adapted:g,onClick:()=>c(m.key)},{ref:p})}
	</div>
	${e(IP,{block:m,isDraggable:s,isActive:a},vy.embedContainer)}
	${e.renderIf(DP,()=>d&&{block:m,isLock:o,readonlyMode:r,onHyperlinkOverFn:n,isSelected:i})}
</div>`}var d7={playerFlipCard:"_qpVP-z"},VP=d7;var f7=u(VP);function LP(e,t){let{isFirstCard:o,firstCardRef:r}=t,n=E(),[i,a]=N(t.activeSide),s=I(c=>{let l=c.target&&g7(c.target);!c.defaultPrevented&&!l&&a(i==="front"?"back":"front")},[i]);return M(()=>{o&&n.current&&r&&(r.current=n.current)},[o,r]),e`
<div
	class=${f7.playerFlipCard}
	save-ref=${n}
	onclick=${s}
>
	${e(bu,{...t,activeSide:i})}
</div>
`}function g7(e){return e.tagName===rr.A}var y7={flipCardsBlock:"_7OxlX5",blockMenuButton:"_6Dt4ad",flipCardsBlock_align_inner:"_EMD1ne",flipCardsBlock_align_outer:"_UlbgXW",flipCardsBlock_align_fullWidth:"_Rdzxok",linkToBlockButton:"_TV8Kf1"},OP=y7;var FP=u(OP),h7=4;function KP(e,{block:t,isLock:o,onHyperlinkOverFn:r,direction:n,onCopyLinkToBlock:i}){let a=E(),s=E(),c=E(),l=t,p=FP.flipCardsBlock.withMods({align:no(l.cardsLayout)}),[m]=bE({ref:a,direction:n,firstCardRef:s,additionalOffset:h7});return M(()=>{let d=c.current;d&&d.style.setProperty("inset-inline-start",`${m}px`)},[m]),e`
<figure
	save-ref=${a}
	class=${p}
	contenteditable="false"
	draggable="false"
	data-at=${Wt}
>
	${e.renderIf(Ut,()=>i&&{onClick:()=>i(l.key)},{ref:c,className:FP.linkToBlockButton})}
	${e(TE,{direction:n,block:l,isLock:o,readonlyMode:!0,onHyperlinkOverFn:r,firstCardRef:s,activeSide:"front",cardRenderFn:LP,onUploadImage:()=>{},onOpenFileDialog:()=>{},onDeleteImage:()=>{}})}
</figure>
`}var x7={noteBlockView:"_u8ekNz",dndLayer:"_2QjNOP",noteTextWrapper:"_t0bkOC",noteTextWrapper_withIcon:"_6aXbIU",paragraph:"_1xpnF_",noteText:"_xhrAxS",iconWrapper:"_J5jWbO",iconWrapper_withIcon:"_k_APHs"},$P=x7;var ga=u($P);function S7(e){switch(e){case"correct":return f(TB);case"incorrect":return f(bB);case"info":return f(CB);case"minus":return f(_B);case"plus":return f(BB);case"question":return f(vB);case"warning":return f(wB);case"bulb":return f(kB);case"withoutIcon":return null;default:Qe(e)}}function k7(e,{iconBinding:t,iconColor:o}){return e`
<div
	style=${{color:o.color,opacity:o.opacity}}
>
	${e(t)}
</div>`}function C7(e,{backgroundColor:t,draggable:o}){return e`
<div
	draggable=${o}
	class=${ga.dndLayer}
	style=${{background:t.color,opacity:t.opacity}}
></div>`}function Fu(e,{block:t,isLock:o,onHyperlinkOverFn:r,readonlyMode:n}){var d,g;let i=t,a=!n&&!o,s=S7(i.noteType),c=D(()=>$.create({key:i.key,characters:i.characters}),[i.characters,i.key]),l=Xe(ga.noteText,"note-text"),p=(d=i.customBackgroundColor)!=null?d:Na.getBackgroundColorData(i.noteType,!0),m=(g=i.customIconColor)!=null?g:Na.getIconColorData(i.noteType,!0);return e`
<div class=${ga.noteBlockView}>
	${e(C7,{backgroundColor:p,draggable:a})}
	<div class=${ga.iconWrapper.withMods({withIcon:!!s})}>
		${e.renderIf(k7,()=>!!s&&{iconBinding:s,iconColor:m})}
	</div>
	<div
		class=${ga.noteTextWrapper.withMods({withIcon:!!s})}
		contenteditable="false"
	>
		${e(at,{propsType:"paragraphData",paragraph:c,idPrefix:"note-text",onHyperlinkOverFn:r,readonlyMode:n,isLock:o,paragraphClassName:l,placeholder:B("Roll.Note.Placeholder")},ga.paragraph)}
	</div>
</div>`}var _7={linkToBlockButton:"_uOv3F9",paragraphBlockWrapper:"_963XTu"},NP=_7;var zP=u(NP),B7=["h1","h2","h3"];function Ku(e,t){let{block:o,onCopyLinkToBlock:r}=t,n=o,i=B7.includes(n.viewType),a=r&&i;return e`
		<div
			class=${zP.paragraphBlockWrapper}
			data-at=${Wt}
		>
			${e.renderIf(Ut,()=>a&&{onClick:()=>r(n.key)},zP.linkToBlockButton)}
			${e(KE,{...t})}
		</div>
`}var v7={snippetBlock:"_Y8Awh3"},HP=v7;var T7=u(HP);function $u(e,{block:t}){let o=t;return e`
<figure
	data-key=${t.key}
	class=${T7.snippetBlock}
	contenteditable="false"
>
	<a href="${o.url}" target="_blank">
		${e(NE,{block:o})}
	</a>
</figure>
`}function QP(e,{src:t,posterSrc:o}){function r(i){li(i)}let n=o?t:`${t}#t=0.001`;return e`
<video
	src=${He(n)}
	poster=${o&&He(o)}
	preload="metadata"
	controls
	controlsList="nodownload"
	oninput=${r}
></video>`}var b7={videoBlockView:"_b_S0CN",videoContainer:"_yI9a6-",videoBlockView_loading:"_57oZlA",videoBlockView_active:"_HMrkUD",linkToBlockButton:"_0xT20V",linkToBlockButton_adapted:"_7sHHoJ"},UP=b7;var w7={videoContainer:"_iH5Qj1",video:"_2tWZHw",videoPlaceholder:"_TIVCd-"},WP=w7;var Ty=u(WP);function qP(e,{content:t,width:o,height:r,isDraggable:n=!1}){let i=o>=r?r/o*100:100;return e`
<div
	draggable=${n}
	class=${Ty.videoContainer}
>
	${e(t,Ty.video)}
	<div class=${Ty.videoPlaceholder} style=${{"padding-bottom":`${i}%`}}></div>
</div>`}var E7={paragraphWrapper:"_H3MBAU",videoText:"_a82uE2",captionWrapper:"_e8gGky"},GP=E7;var by=u(GP);function jP(e,{block:t,isLock:o,readonlyMode:r,onHyperlinkOverFn:n,isSelected:i}){let a=P(),s=je.getText(t.caption),c=$.create({key:t.key,characters:s,textAlign:"center"});M(()=>{a.current&&(a.current.style.display=s.length?"block":"")},[s.length,a]);let l=Ee(by.videoText,"video-text");return e`
<div
	save-ref=${a}
	class=${by.captionWrapper}
>
	${e(at,{propsType:"paragraphData",paragraph:c,idPrefix:"video-block",isLock:o,readonlyMode:r,onHyperlinkOverFn:n,placeholder:i?B("Roll.Editor.MediaCaptionDefaultText"):"",paragraphClassName:l},by.paragraphWrapper)}
</div>`}var wy=u(UP);function Nu(e,{block:t,isLock:o,readonlyMode:r,onHyperlinkOverFn:n,content:i,isSelected:a,isActive:s=!0,isLoading:c=!1,isDraggable:l=!1,onCopyLinkToBlock:p}){let m=P(),d=P(),g=mn(m,d,fn),y=t,h=je.isEnabled(y.caption),k=wy.linkToBlockButton.withMods({adapted:g});return e`
<div
	class=${wy.videoBlockView.withMods({active:s,loading:c})}
	save-ref=${m}
	data-at=${Wt}
>
	<div class=${k}>
		${e.renderIf(Ut,()=>p&&{adapted:g,onClick:()=>p(y.key)},{ref:d})}
	</div>
	${e(qP,{content:i||f(QP,{src:y.src,posterSrc:y.posterSrc}),width:y.width,height:y.height,isDraggable:l},wy.videoContainer)}
	${e.renderIf(jP,()=>h&&{block:y,isLock:o,readonlyMode:r,onHyperlinkOverFn:n,isSelected:a})}
</div>`}function YP(e,t){let o=I((r,n)=>{switch(r){case mo.DIVIDER:return f(Lu,n);case mo.EMBED:return f(Ou,n);case mo.NOTE:return f(Fu,n);case mo.VIDEO:return f(Nu,n);case mo.COLLAGE:return f(Vu,n);case mo.PARAGRAPH:return f(Ku,n);case mo.LIST_ITEM:return f(Eu,n);case mo.SNIPPET:return f($u,n);case mo.CODE:return f(Au,n);default:throw Error(`Unsupported layout block ${r}`)}},[]);return pe(e,f(ME,{...t,getBlockRendererFn:o,richTextRenderFn:EE,readonlyMode:!0}))}var ZP="continue-block-group",P7=`${ZP}_hidden`,zu=class{constructor(t,o){this.continueButtonKey=t,this.blockMap=Ve(o,r=>r.key)}},Hu=class extends fu{constructor({state:t,continueKey:o,direction:r=so(),defaultTopPadding:n}){super({blockName:"player-rich-text-editor",blockMap:t.blockMap,direction:r,defaultTopPadding:n,autotestData:"player-rich-text-editor"}),this._state=t,this._continueKey=o,this._passedContinueButtonKeys=[],this._invalidatePassedContinueButtonKeys()}updateState(t,o,r=null){this._state===t&&this._continueKey===o||(this._state=t,this._continueKey=o,this._defaultTopPadding=r,this.updateBlockMap(this._state.blockMap),this._invalidatePassedContinueButtonKeys(),this._sheduleRender())}_invalidatePassedContinueButtonKeys(){if(!this._continueKey)return;let t=[],o=this._getBlockMap();for(let r of o.order)if(we.toContinueBlock(o.blocks[r])&&t.push(r),r===this._continueKey)break;this._passedContinueButtonKeys=t}isHidden(t){let o=we.toContinueBlock(t);return o?this._passedContinueButtonKeys.includes(o.key):!1}_getContinueGroupId(t){return t.blockMap.order.reduce((o,r)=>`${o}-${r}`,"")}_getContinueGroups(){let t=this._getBlockMap(),o=[],r=[];if(be.forEach(t,n=>{r.push(n);let i=we.toContinueBlock(n);if(i){let a=new zu(i.key,r);o.push(a),r=[]}}),r.length){let n=new zu("none",r);o.push(n)}return o}_getVisibleBlocks(){return ze(this._getBlockMap()).filter(t=>!this.isHidden(t))}_renderContinueGroups(){this._resetRenderBlockIndex();let t=this._passedContinueButtonKeys.indexOf(this._continueKey);return this._getContinueGroups().map((o,r)=>{let n=super._renderBlocks(o.blockMap),i=Gt(this._getGroupRelatedData(),this._getContinueGroupId(o)),a=r>t+1,s=Ee(ZP,a?P7:null);return i`<div class=${s}>${n}</div>`})}_renderContent(){return this._renderContinueGroups()}};var M7={quizBlock:"_2IopOg",quizPlayer:"_csZ0DG",infoMessagesLayout:"_8NpCFg"},XP=M7;var Ey=u(XP),I7={title:"",previewMode:!0,proctoringInProgress:!1,subscriptionProduct:null,watermarkUrl:"",showWatermark:!1};function JP(e){let t={sessionState:e.sessionState,attempts:e.attempts,currentSlide:e.currentSlide,typeInQuestionsState:e.typeInQuestionsState,choicesQuestionsState:e.choicesQuestionsState,sequenceQuestionsState:e.sequenceQuestionsState,matchingQuestionsState:e.matchingQuestionsState,questionsViewOrder:e.questionsViewOrder,choicesViewOrderMap:e.choicesViewOrderMap,timeSpent:e.timeSpent,timerStartTime:e.timerStartTime,timerStopTime:e.timerStopTime,bestAttempt:e.bestAttempt};return Kp(t)}function eM(e,t){let o=E(),r=t.block,n=w(t.quizProps),i=n.quizState,a=r.longreadQuizId,s=n.setQuizApi,[c,l]=N(()=>JP(i));M(()=>{l(m=>{let d=JP(i);return Object.assign(m,d)})},[i]);let p=I(m=>{let d=r.settings.main.isGraded;s({quizBlockKey:r.key,quizId:a,isGraded:d,api:m})},[r.settings.main.isGraded,r.key,a,s]);return e.setContext(oa,o),e`
	<div
		class=${Ey.quizBlock}
		data-key=${r.key}
	>
		${e(aT,{...I7,quiz:r.state,settings:r.settings.main,direction:t.direction,persistedState:c,initApi:p,insertType:"builtIn",scrollableContainerRef:n.scrollableContainerRef},Ey.quizPlayer)}
		<div save-ref=${o} class=${Ey.infoMessagesLayout}></div>
	</div>`}var R7=UE;function tM(e,{tableScrollContainerRef:t,block:o,readonlyMode:r,isLock:n,direction:i}){return e`
<div
	save-ref=${t}
	class="${R7.tableScrollContainer}"
	contenteditable="false"
>
	${e(jE,{block:o,direction:i,isLock:n,readonlyMode:r})}
</div>`}var oM=HE;function rM(e,t){return qE(e),e`
<div>
	${e(D7,t)}
</div>`}function D7(e,{block:t,direction:o,isLock:r,readonlyMode:n,onCopyLinkToBlock:i}){let a=P(),s=P(),c=mn(a,s,fn),l=t,p=E(),{tableRef:m}=ne(fa),d=oM.linkToBlockButton.withMods({adapted:c});return e`
<figure
	class=${oM.tableBlock}
	contenteditable="false"
	draggable="false"
	data-key=${t.key}
	tabindex="-1"
	save-ref=${a}
	data-at=${Wt}
>
	<div class=${d}>
		${e.renderIf(Ut,()=>i&&{adapted:c,onClick:()=>i(l.key)},{ref:s})}
	</div>
	${e(tM,{block:l,tableScrollContainerRef:p,direction:o,isLock:r,readonlyMode:n})}
	${e(ZE,{direction:o,tableRef:m,tableScrollContainerRef:p})}
</figure>`}function nM({getState:e,updateStateFn:t,setQuizApi:o,scrollableContainerRef:r,scrollToContinueGroupFn:n,headerCoverPosition:i,onCopyLinkToBlock:a}){let s=Te.selectedSection(e()),c=s.contentState,l=s.continueButtonKey,p=nm(s.header,i),m=new Hu({state:c,continueKey:l,defaultTopPadding:p});function d(y){switch(y.block.type){case S.PARAGRAPH:case S.EMBED:case S.TABLE:case S.FLIP_CARDS:case S.VIDEO:case S.CODE:case S.LAYOUT:case S.COLLAGE:return{...y,onCopyLinkToBlock:a};case S.QUIZ:return{...y,quizProps:{quizState:w(A7(e(),y.block.key)),setQuizApi:o,scrollableContainerRef:r}};case S.CONTINUE:return{...y,continueProps:{onContinueClick:h=>t(k=>{Te.selectedSection(k).continueButtonKey=h}),isHidden:m.isHidden(y.block),scrollToContinueGroupFn:n}};default:return y}}return[[S.PARAGRAPH,Ku],[S.COLLAGE,Vu],[S.EMBED,Ou],[S.QUIZ,eM],[S.ATTACHMENT,xP],[S.NOTE,Fu],[S.TABLE,rM],[S.FLIP_CARDS,KP],[S.DIVIDER,Lu],[S.CONTINUE,wP],[S.VIDEO,Nu],[S.SNIPPET,$u],[S.CODE,Au],[S.LAYOUT,YP],[S.LIST_ITEM,Eu]].forEach(([y,h])=>{m.registerRenderer({blockType:y,renderFn:k=>m.bindingBlockRenderer(h,d(k),y)})}),m}function A7(e,t){let n=Te.selectedSection(e).contentState.blocksState.find(i=>t===i.key);return n&&n.type===S.QUIZ?n:null}function iM(e,{meta:t,kicker:o,title:r,subtitle:n,designSettings:i,coverPosition:a="over",showKicker:s=!0}){return Fs.PageHeader(e,{background:i.coverInfoState?{src:i.coverInfoState.src,editedSrc:i.coverInfoState.editedSrc,color:i.coverInfoState.color,opacity:i.coverInfoState.opacity,width:i.coverInfoState.width,height:i.coverInfoState.height,crop:i.coverInfoState.crop,isLoading:!1}:null,content:{textColor:i.textColor,isLocked:!1,meta:t,kicker:s&&o?f(V7,{text:o}):null,title:f(L7,{text:r}),subtitle:n?f(O7,{text:n}):null},coverPosition:a,autotestData:"page-header"})}function V7(e,{text:t}){let o=TT(e,t);return e`
<div save-ref=${o}>${t}</div>`}function L7(e,{text:t}){return e`
<div data-area-id="pageTitle">${t}</div>`}function O7(e,{text:t}){return e`
<div>${t}</div>`}function aM({state:e,contentElementRef:t,showHeaders:o,ignoreChangeSelectedHeader:r}){let[n,i]=N(null),a=E(null),s=D(()=>{let c=Te.selectedSection(e);return ST(c)},[e]);return M(()=>{!r&&a.current&&i(a.current)},[r]),G(t,"scroll",()=>{if(!o){i(null);return}let c=xT(t.current,s);r?a.current=c:i(c)}),n}var RM=Mt(or());var Qu=class{constructor(t){this.chaptersCount=t.main.chaptersCount,this.navigationType=t.main.navigationType,this.nextButtonEnabled=t.navigation.nextButtonEnabled,this.copyingEnabled=t.main.copyingEnabled,this.contentsDisplayType=t.navigation.contentsDisplayType,this.isNavigationPanelCollapsedByDefault=t.navigation.isNavigationPanelCollapsedByDefault}};var Us={header:fT,linkToBlockButtonSettings:{enabled:!1}};var F7="cubic-bezier(0.24, 0.84, 0.26, 0.99)";function sM(e){let t=new KeyframeEffect(e,[{transform:"translateY(50px)",opacity:0,"overflow-y":"hidden"},{transform:"translateY(0)",opacity:1,"overflow-y":"visible"}],{duration:600,easing:F7});new Animation(t).play()}var K7={rollPlayer:"_1-HQ__",withWatermark:"_tJ1gT3",copyingDisabled:"_iT3UbE",main:"_kMYupD",content:"_M9tjg-",nextSectionContentContainer:"_VVPutZ",next:"_n2c_9c",overlay:"_VBmcL-",fadeIn:"_QDa4kf",completeSectionContentContainer:"_ySTEOm",nextSectionLabel:"_wVacDF",tooltipWithTail:"_XQFRlM"},ya=K7;function cM({contentRef:e,nextButtonRef:t,onSelectedSectionProgress:o,richTextRenderer:r}){let n=I(()=>{let i=e.current,a=r.domElement(),s=t.current,c=s?s.clientHeight:0,l=a.children,p=i.scrollHeight-a.scrollHeight-c;for(let m of l)p+=m.scrollHeight;return p},[e,t,r]);return I(()=>{let i=e.current;if(!i)return;let a=n(),s=Bt(Math.ceil(i.scrollTop+i.clientHeight)/a,0,1);o(s)},[e,n,o])}var $7={topPanel:"_xrlGKJ",buttons:"_M0NxBi",navigationButton:"_NE6qwI",closeButton:"_LlZVXp"},lM=$7;var Uu=u(lM);function pM(e,{previewMode:t,showNavigationPanel:o,autotestData:r,onShowNavigationButton:n,onCloseButton:i}){return e`
<div
	class=${Uu.topPanel}
	data-at=${j(r)}
>
	<div class=${Uu.buttons}>
		<div class=${Uu.navigationButton}>
			${e.renderIf(qo.OverlayButton,()=>o&&{style:"ghost",type:"icon",icon:f(OB),onClick:n,circleRadius:!0,scale:!0})}
		</div>
		<div class=${Uu.closeButton}>
			${e.renderIf(qo.OverlayButton,()=>!t&&{style:"ghost",type:"icon",icon:f(Ip),onClick:i,circleRadius:!0,scale:!0})}
		</div>
	</div>
</div>`}var Ws=u(ya);function mM({state:e,settings:t,onGotoNextChapter:o,onClosePlayerRequest:r}){let n=I(()=>t.nextButtonEnabled?Te.nextSection(e):null,[t.nextButtonEnabled,e]),i=I(()=>{let c=Te.getLastContinueButtonKey(e),l=Te.selectedSection(e).continueButtonKey,p=!!c&&c!==l;return t.nextButtonEnabled&&!p},[t.nextButtonEnabled,e]),a=I(()=>{let c=t.navigationType==="sequence",l=Te.selectedSection(e);return c&&l.progress<1},[t.navigationType,e]),s=I(()=>{let c=n();return c?B("Roll.Player.GotoNextChapterLink",{title:c.header.title||B("Roll.Common.ChapterDefaultTitle")}):""},[n]);return D(()=>i()?n()?f(z7,{labelText:s(),disabled:a(),onGotoNextChapter:()=>{rm("change-page",{}),o()}}):f(N7,{onClosePlayerRequest:r}):null,[s,n,a,i,r,o])}function N7(e,{onClosePlayerRequest:t}){return e`
<div
	class=${Ws.completeSectionContentContainer}
	data-at=${j("complete-section-content-container")}
>
	${e(rn.PlayerButton,{style:"primary",content:B("Roll.Player.Complete"),onClick:()=>t(),size:"large"},Ws.next)}
</div>`}function z7(e,{disabled:t,onGotoNextChapter:o,labelText:r}){return e`
<div class=${Ws.nextSectionContentContainer}>
	<div class=${Ws.nextSectionLabel}>
		${r}
	</div>
	${e(rn.PlayerButton,{style:"primary",content:B("Roll.Player.Continue"),onClick:t?()=>{}:()=>o(),size:"large",state:t?"disabled":"default",isNarrow:!0},Ws.next)}
</div>`}var H7=500,uM=Us.header.coverPosition;function dM({state:e,setQuizApi:t,updateStateFn:o,contentRef:r}){let n=te(e),i=D(()=>nM({getState:()=>n.current,updateStateFn:o,setQuizApi:t,scrollableContainerRef:r,scrollToContinueGroupFn:(l,p)=>{let m={top:0,bottom:p!=null?p:0};ji({element:l,container:r.current,duration:H7,scrollDirection:"bottom",bounds:m})},headerCoverPosition:uM,onCopyLinkToBlock:UT(Us)}),[r,t,n,o]),a=I(()=>Te.selectedSection(e).contentState,[e]),s=I(()=>{let l=Te.selectedSection(e);return nm(l.header,uM)},[e]),c=I(()=>Te.selectedSection(e).continueButtonKey,[e]);return M(()=>{let l=a(),p=c(),m=s();i.updateState(l,p,m)},[c,a,i,s]),i}var Q7=u(ya);function fM(e,{settings:t,state:o,setQuizApi:r,updateStateFn:n,onClosePlayerRequest:i,onGotoNextChapter:a,onSelectedSectionProgress:s,previewMode:c,showNavigationPanel:l,onShowNavigationButton:p,onCloseButton:m}){let d=E(),g=E(),y=Te.selectedSection(o),h=dM({state:o,updateStateFn:n,setQuizApi:r,contentRef:d}),k=mM({state:o,settings:t,onGotoNextChapter:a,onClosePlayerRequest:i}),C=cM({contentRef:d,nextButtonRef:g,richTextRenderer:h,onSelectedSectionProgress:s});return U7(C),M(()=>{sM(d.current),C(),ir(y.key)},[C,y.key]),ee(()=>{d.current.scrollTop=0,ir(y.key)},[d,y.key]),e`
<div
	class=${Q7.content}
	onscroll=${C}
	save-ref=${d}
>
	${e(pM,{previewMode:c,showNavigationPanel:l,autotestData:"roll-top-panel",onShowNavigationButton:p,onCloseButton:m})}
	<div>
		${e(iM,{...Us.header,...y.header})}
	</div>
	${h.domElement()}
	${e(k,{ref:g})}
</div>`}function U7(e){M(()=>{if(Sc()){let t=()=>{ao(()=>{e(),t()})};t()}},[e])}function W7(e){return e.contentState.blocksState.filter(t=>Et.toQuizState(t))}function gM(e){let t=W7(e),o=[],r=[];return t.forEach(n=>{let i=n.quizData.settings.main;if(i.isGraded){let s=i.passingScore;n.bestAttempt!==null&&(n.bestAttempt>=s&&r.push(n),o.push(n))}else r.push(n),o.push(n)}),o.length!==t.length?"notCompleted":r.length===t.length?"passed":"failed"}function yM(e,{articleTitle:t}){let o=P(),r=Fh(o);return Ft({html:e,elementRef:o,text:t,show:r}),e`
<div save-ref=${o}>${t}</div>`}var q7={navigationPanel:"_vbXFbu",navigationPanel_showed:"_57b7u4",navigationPanel_inOverlay:"_dJ0wGh",mainPanel:"_jK2kjP",articleTitle:"_6Ff78a",progress:"_XLPFlh"},hM=q7;var G7={totalProgress:"_nx2KVG",numeric:"_iv0_mf",indicatorContainer:"_KtKMDV",indicatorProgress:"_UK4nAH"},qs=G7;function xM(e,{progress:t}){let o=Math.floor(t*100)+"%";return e`
<div class=${qs.totalProgress}>
	<div class=${qs.numeric}>${o}</div>
	<div class=${qs.indicatorContainer}>
		<div class=${qs.indicatorProgress} style=${`width: ${o}`}></div>
	</div>
</div>`}var j7={correct:"_T6sMOZ",incorrect:"_9HmMPg"},Py=j7;function SM(e,{passed:t}){return e`
<div>
	${e.switch(()=>t?f(DB,{},Py.correct):f(RB,{},Py.incorrect))}
</div>`}var Y7={progressBar:"_iFmRHS",bar:"_751-kS"},My=Y7;function kM(e,{progress:t}){let r=Math.PI*18,n=(100-t*100)/100*r;return e`
		<div class=${My.progressBar}>
			<svg width="22" height="22" viewPort="0 0 11 11" version="1.1" xmlns="http://www.w3.org/2000/svg">
				<circle r="${9}" cx="11" cy="11" fill="transparent" stroke-dasharray="56.5" stroke-dashoffset="0"></circle>
				<circle class=${My.bar} r="${9}" cx="11" cy="11" fill="transparent" stroke-dasharray="56.5" stroke-dashoffset="${n}"></circle>
			</svg>
		</div>`}var Z7=400,X7=50;function CM({playerContentRef:e,continueButtonKey:t}){let o=w(e.current.querySelector(`[data-key="${t}"]`));ji({element:o,container:e.current,duration:Z7,scrollDirection:"bottom",additionalOffset:X7,bounds:$T()})}function _M({selectedPageKey:e,gotoPageHandler:t,playerContentRef:o,setIgnoreChangeSelectedHeader:r}){let n=te(t);return I(i=>{e===i?(r(!0),kT(o.current,()=>r(!1))):n.current(i)},[n,r,o,e])}function BM(e,{selectedPageKey:t,playerContentRef:o,pageStateMap:r,setIgnoreChangeSelectedHeader:n,onGotoPage:i}){let a=_M({selectedPageKey:t,playerContentRef:o,setIgnoreChangeSelectedHeader:n,gotoPageHandler:i}),s=CT({contentElement:o.current,checkNeedToScroll:g=>g===t,onBeforeStartScroll:()=>n(!0),onCompleteScroll:()=>n(!1)}),c=I(g=>{let y=r[g];if(!y)return null;switch(y.state){case"completed":return f(SM,{passed:y.passed});case"notStarted":return f(Dp);case"inProgress":return f(kM,{progress:y.progress})}},[r]),l=I(g=>{let y=r[g];return y?y.state==="notStarted"&&y.disabled:!0},[r]),p=I(g=>{let y=r[g];return y&&y.state==="notStarted"&&y.disabled?B("Roll.Player.Navigation.DisabledPage.Tooltip.Text"):null},[r]),m=I(g=>{g.type==="continue"&&CM({playerContentRef:o,continueButtonKey:g.blockKey})},[o]),d=D(()=>({isReadonly:!1,isPagesDraggable:!1,gotoPageHandler:a,gotoHeaderHandler:s,renderPagePrefix:c,isPageDisabled:l,getPageTooltip:p,getHiddenContentIndicatorText:g=>{if(g.type==="continue")return B("Roll.Player.Navigation.HiddenContent.Tooltip.Text")},onHiddenContentClick:m}),[p,a,s,l,m,c]);hT(e,d)}var Wu=u(hM);function vM(e,{state:t,totalProgress:o,settings:r,playerContentRef:n,onSectionClick:i,onTransitionEnd:a}){let s=E(),c=E(window),[l,p]=N(!1),m=D(()=>w(t.pages[0]).header.title||B("Roll.Common.IntroDefaultTitle"),[t.pages]);G(c,"resize",()=>{s.current&&(s.current.style.height=`${window.innerHeight}`)}),ee(()=>{De(s.current,{"--font-family":"var(--header-font-family)",...Jc("compact")})},[s]);let g=Te.selectedSection(t).key,y=D(()=>gT(t.pages),[t.pages]),h=D(()=>J7(t,r.navigationType==="sequence"),[r.navigationType,t]);BM(e,{selectedPageKey:g,playerContentRef:n,pageStateMap:h,onGotoPage:C=>{let _=Te.getSectionByKey(t,C);_&&i(_)},setIgnoreChangeSelectedHeader:p});let k=aM({state:t,contentElementRef:n,showHeaders:r.contentsDisplayType==="withPagesAndHeaders",ignoreChangeSelectedHeader:l});return e`
<div
	save-ref=${s}
	class=${Wu.navigationPanel.withMods({showed:t.navigationPanelShowed,inOverlay:Cc()||Tr()})}
	ontransitionend=${a}
>
	<div class=${Wu.mainPanel}>
		${e(yM,{articleTitle:m},Wu.articleTitle)}
		${e(xM,{progress:o},Wu.progress)}
		${e(hP,{pages:y,selectedPageId:g,isMinimized:!1,showHeaders:r.contentsDisplayType==="withPagesAndHeaders",selectedHeaderId:k})}
	</div>
</div>`}function J7(e,t){let o={},r=-1;return Te.sections(e).forEach((n,i)=>{let a=n.progress;n===Te.selectedSection(e)&&(r=a<1?i:i+1);let c=t&&r!==-1&&i>r&&a===0,l=gM(n),p=l==="passed"||l==="failed";n.progress===1&&p?o[n.key]={state:"completed",passed:l==="passed"}:n.progress===0?o[n.key]={state:"notStarted",disabled:c}:o[n.key]={state:"inProgress",progress:n.progress}}),o}var ez={progressBarWrapper:"_DVdpAm",progressBar:"_-ksFmB"},TM=ez;var bM=u(TM);function wM(e,{progress:t}){let o={width:`calc(100% * ${t})`};return e`
<div
	class=${bM.progressBarWrapper}
>
	<div
		class=${bM.progressBar}
		style=${o}
	></div>
</div>`}function EM(e){let t=D(()=>{try{if(window.top&&window.top.location.href)return window.top}catch{}return window},[]),o=I(()=>{let r=w(t).innerHeight;e.current.style.height=`${r}px`},[e,t]);M(()=>{if(ph()){o();let r=[st(w(t),yt.RESIZE,()=>{o()}),st(w(t),yt.SCROLL,()=>{o()}),st(w(t),yt.ORIENTATIONCHANGE,()=>{setTimeout(()=>w(t).scrollTo(0,0),500)})];return()=>r.forEach(Rt)}},[o,t])}var Gs=u(ya);function PM(e,{state:t,settings:o,previewMode:r,updateStateFn:n,setQuizApi:i,showWatermark:a,progress:s,onClosePlayerRequest:c,onGotoNextChapter:l,onSectionClick:p,onToggleNavigationButtonClick:m,onSelectedSectionProgress:d}){let g=E(),y=E(),[h,k]=N(!0),C=Te.selectedSection(t),_=I(()=>{k(!0)},[]),x=I((K=!1)=>{kc()||!h||(k(K),m())},[h,m]),v=I(K=>{K===C?x(!1):(x(!0),rm("change-page",{})),p(K)},[x,p,C]);EM(g);let b=(Cc()||Tr())&&t.navigationPanelShowed||!h,A=o.contentsDisplayType!=="hidden";return e`
<div
	class=${Ee(Gs.rollPlayer,!o.copyingEnabled&&Gs.copyingDisabled,a&&Gs.withWatermark)}
	save-ref=${g}
>
	${e.renderIf(vM,()=>A&&{state:t,totalProgress:s,settings:o,playerContentRef:y,onSectionClick:v,onTransitionEnd:_})}
	<div
		class=${Gs.main}
		data-at=${j("roll-player-main")}
	>
		${e(wM,{progress:C.progress})}
		${e(fM,{settings:o,state:t,setQuizApi:i,updateStateFn:n,onClosePlayerRequest:c,onGotoNextChapter:l,onSelectedSectionProgress:d,previewMode:r,showNavigationPanel:A,onShowNavigationButton:m,onCloseButton:c,progress:C.progress},{ref:y})}
	</div>
	${e.renderIf(tz,()=>b&&{hideNavigationPanel:x})}
</div>`}function tz(e,{hideNavigationPanel:t}){return e`
<div
	class=${Gs.overlay}
	passive-events=${{ontouchstart:t}}
	onmousedown=${t}
></div>`}var qu=class{constructor({longreadMainSettings:t,updateQuizState:o,onQuizToGradeCompleted:r,onQuizStatisticChange:n}){this._longreadMainSettings=t,this._onQuizStatisticChange=n,this._updateQuizState=o,this._onQuizToGradeCompleted=r,this._quizKeyToApiMap=new Map,this._quizKeyToUnsubs=new Map}setApi({quizBlockKey:t,quizId:o,isGraded:r,api:n}){let i=this._quizKeyToApiMap.get(t);if(i){if(i===n)return;w(this._quizKeyToUnsubs.get(t)).forEach(c=>c())}let a=iB(n);this._quizKeyToApiMap.set(t,n),this._quizKeyToUnsubs.set(t,er([n.onPersistedStateChanged.add(()=>this._onQuizPersistedStateChanged(t,n)),r&&!!o&&a.add(s=>this._onQuizStatisticChangedHandler(n,o,s))]))}_onQuizStatisticChangedHandler(t,o,r){var i;let n=this._longreadMainSettings.grade;if(n.mode==="gradeByQuiz"&&n.quizToGradeId===o){let a=(i=t.session)==null?void 0:i.evaluation;a&&this._onQuizToGradeCompleted({passed:a.quizPassed,score:a.score})}this._onQuizStatisticChange.dispatch({...r,quizId:o})}_onQuizPersistedStateChanged(t,o){let r=Qp($p(JSON.parse(o.persistedState)));this._updateQuizState(t,r)}};function MM(e){let t=Date.now(),o=setInterval(()=>{let n=Date.now()-t;e(n)},100);return()=>clearInterval(o)}var Iy=3e3;var js=class extends _r{constructor({container:t,playerData:o,previewMode:r=!1,resumeState:n,showWatermark:i}){super();let a=Og(o,n);this._attemptDate=Date.now(),this._state=a,this._settings=o.settings,this.onSelectedSectionChange=this._createSignal(),this.onPersistedStateChange=this._createSignal(),this.onSectionProgressChange=this._createSignal(),this.onQuizStatisticChange=this._createSignal(),this.onLongreadResultChange=this._createSignal(),this._longreadResult=this._calculateLongreadResult(),this._quizApiMap=new qu({longreadMainSettings:o.settings.main,updateQuizState:this._updateQuizState.bind(this),onQuizToGradeCompleted:this._onQuizToGradeCompleted.bind(this),onQuizStatisticChange:this.onQuizStatisticChange}),this._playerProps={state:this._state,updateStateFn:this._updateState.bind(this),setQuizApi:this._quizApiMap.setApi.bind(this._quizApiMap),previewMode:r,settings:new Qu(this._settings),showWatermark:i,progress:0,onToggleNavigationButtonClick:()=>this._toggleNavigationPanel(),onSectionClick:c=>this._selectSection(c),onGotoNextChapter:()=>this._gotoNextChapter(),onSelectedSectionProgress:c=>{this._setSelectedSectionProgress(c),this._setLongreadProgress(this._getLongreadProgress()),c>=1&&this._onSectionProgressChangeWithThrottle.flush()},onClosePlayerRequest:()=>this._onClosePlayer()},this._setPlayerProps=Ah(PM,c=>{t.appendChild(c)}),this._renderView(),this._onLongreadResultChangedWithThrottle=Js(this.onLongreadResultChange.toFn(),Iy),this._onPersistedStateChangeWithThrottle=Js(this.onPersistedStateChange.toFn(),Iy),this._onSectionProgressChangeWithThrottle=Js(this.onSectionProgressChange.toFn(),Iy),this.onClosePlayerRequest=this._createSignal(),MM(c=>{this._longreadResult.duration=c});let s=uc(()=>this.setInitialNavigationToggleState(),100);this._lastWindowWidth=0,this._listen(window,yt.RESIZE,s.call),this.setInitialNavigationToggleState()}isGraded(){let t=this._settings.main.grade;return t.mode==="gradeByQuiz"&&!!t.quizToGradeId}getTitle(){return w(this._state.pages[0]).header.title||B("Roll.Common.IntroDefaultTitle")}getChaptersCount(){return this._state.pages.length}getCurrentSectionIndex(){return this._state.selectedSectionIndex}getCurrentSectionProgress(){return Te.selectedSection(this._state).progress}getCurrentSectionsStateProgress(){return this._state.pages.map(t=>t.progress===1)}getSuspendData(){let t=XT(fb(this._state),3);return eb(JSON.stringify({state:t,version:3}))}getArticle(){return{pages:this._state.pages.map(t=>({key:t.key,title:t.header.title}))}}getLongreadResult(){return this._longreadResult}setInitialNavigationToggleState(){let t=window.innerWidth;if(this._lastWindowWidth>xn.FULL&&kc())return;this._lastWindowWidth=t;let o=t>xn.FULL&&!this._settings.navigation.isNavigationPanelCollapsedByDefault;this._updateState(r=>{if(o===r.navigationPanelShowed){o&&this._renderView();return}r.navigationPanelShowed!==o&&(r.navigationPanelShowed=o)})}_renderView(t={}){this._playerProps={...this._playerProps,...t},this._setPlayerProps(this._playerProps)}_getAllChaptersArray(){return[...this._state.pages]}_getSettingsChaptersCount(){return this._settings.main.chaptersCount===-1?this._getAllChaptersArray().length:this._settings.main.chaptersCount}_getGradedQuizProgressPortion(t){let o=0;return t.contentState.blocksState.forEach(r=>{let n=Et.toQuizState(r);n&&n.quizData.settings.main.isGraded&&o++}),o?(1-.75)/o:0}_verifyProgress(t){return Ba(t,10)>=1?1:t}_getLongreadProgress(){let t=this._getAllChaptersArray();return t.reduce((o,r)=>o+r.progress,0)/t.length}_getLongreadProgressState(){let t=this._getAllChaptersArray(),o=this._getSettingsChaptersCount(),r=0;return t.forEach(n=>{n.progress===1&&r++}),r>=o}_updateState(t){let o=(0,RM.produce)(this._state,r=>{t(r)});this._state!==o&&(this._state=o,this._renderView({state:o}),this._state.selectedSectionIndex!==o.selectedSectionIndex&&this.onSelectedSectionChange.dispatch(),this._onPersistedStateChangeWithThrottle())}_selectSection(t){this._updateState(o=>{o.selectedSectionIndex=o.pages.findIndex(r=>r.key===t.key)})}_updateQuizState(t,o){this._updateState(r=>{let n=Te.selectedSection(r),i=n.contentState,a=this._getGradedQuizProgressPortion(n);i.blocksState.forEach((s,c)=>{let l=Et.toQuizState(s);l&&l.quizData.key===t&&(l.quizData.settings.main.isGraded&&yn(l.bestAttempt)&&!yn(o.bestAttempt)&&(n.progress=this._verifyProgress(n.progress+a)),i.blocksState[c]={...l,...o})})}),this._setLongreadProgress(this._getLongreadProgress())}_gotoNextChapter(){this._updateState(t=>{let o=Te.nextSection(t);o&&(t.selectedSectionIndex=t.pages.findIndex(r=>r.key===o.key))})}_onQuizToGradeCompleted({score:t,passed:o}){let r=this._longreadResult.score;(!r||t>r)&&(this._longreadResult.score=t,this._longreadResult.longreadPassed=o,this._longreadResult.completed=!0,this.onLongreadResultChange.dispatch())}_setLongreadProgress(t){t>this._playerProps.progress&&this._renderView({progress:t});let o=this._normalizeProgress(t);if(this._longreadResult.progress!==o){if(this._longreadResult.progress=o,!this.isGraded()){let r=this._getLongreadProgressState();this._longreadResult.longreadPassed=r,this._longreadResult.completed=r}this._onSectionProgressChangeWithThrottle(),this._onLongreadResultChangedWithThrottle()}}_setSelectedSectionProgress(t){this._updateState(o=>{let r=Te.selectedSection(o);if(isNaN(t)||r.progress>=t)return;let n=this._getGradedQuizProgressPortion(r),i=0;r.contentState.blocksState.forEach(s=>{let c=Et.toQuizState(s);c&&c.quizData.settings.main.isGraded&&!yn(c.bestAttempt)&&(i+=n)});let a=n?this._verifyProgress(t*.75+i):t;r.progress>=a||(r.progress=a)})}_toggleNavigationPanel(){this._updateState(t=>{t.navigationPanelShowed=!t.navigationPanelShowed})}_calculateLongreadResult(){let t=this._settings.main.grade,o=this._attemptDate,r=this._normalizeProgress(this._getLongreadProgress());if(t.mode!=="gradeByQuiz"||!t.quizToGradeId){let a=this._getLongreadProgressState();return{longreadPassed:a,progress:r,score:null,completed:a,attemptDate:o,duration:0}}let n=this._findQuizToGrade(t.quizToGradeId);if(!n)throw new Error(`graded quiz with id ${t.quizToGradeId} is not found`);let i=n.quizData.settings.main.passingScore;return n.bestAttempt?{longreadPassed:n.bestAttempt>=i,progress:r,score:n.bestAttempt,completed:!0,attemptDate:o,duration:0}:{longreadPassed:!1,progress:r,score:null,completed:!1,attemptDate:o,duration:0}}_findQuizToGrade(t){return this._state.pages.reduce((r,n)=>(r.push(...n.contentState.blocksState),r),[]).find(r=>{let n=Et.toQuizState(r);return n&&n.quizData.longreadQuizId===t})}_normalizeProgress(t){return t*100}_onClosePlayer(){this.onLongreadResultChange.dispatch(),this.onClosePlayerRequest.dispatch()}};function DM(e){e.appendChild(Fa("popup")),e.appendChild(Fa("popover")),e.appendChild(Fa("tooltip")),e.appendChild(Fa("uploader"))}function AM(e){let t=Cn(ES)({});Gc("toast",t),e.appendChild(t)}function VM(e){return e.publishSettings.copyingEnabled=!0,e}function LM(e){return Bf(e.content.intro.blocks),e.content.chapters&&e.content.chapters.forEach(t=>{Bf(t.blocks)}),e}var Xo={ACCENT_COLOR:"ACCENT_COLOR",PLAYER_MAIN_FONT:"PLAYER_MAIN_FONT",CONTENT_FONT:"CONTENT_FONT"};var bo={TOOLTIP:"tooltip",PLAYER_MAIN:"playerMain",CONTENT:"content"};function OM({content:e,publishSettings:t,cssReplacements:o}){return{content:xw(e),settings:{main:{navigationType:t.navigationType,numberingEnabled:t.numberingEnabled,nextButtonEnabled:t.nextButtonEnabled,copyingEnabled:t.copyingEnabled},design:{accentColor:w(o[Xo.ACCENT_COLOR]),headerFont:w(t.fonts[bo.PLAYER_MAIN]),contentFont:w(t.fonts[bo.CONTENT])}}}}function FM({playerDocument:e,versionFrom:t}){let o=[{targetVersion:2,upgradeFn:VM},{targetVersion:3,upgradeFn:LM},{targetVersion:4,upgradeFn:OM}],{upgradedDocument:r}=Eo({document:e,initialVersion:1,versionFrom:t,versionTo:4,upgraders:o});return r}var{String:ei,Bool:Gu}=xt,rz=W({content:Z(1,mw),publishSettings:Z(2,{navigationType:ei(1),searchEnabled:Gu(2),numberingEnabled:Gu(3),nextButtonEnabled:Gu(4),copyingEnabled:de(6,Gu),fonts:Z(5,{[bo.TOOLTIP]:ei(1),[bo.PLAYER_MAIN]:ei(2),[bo.CONTENT]:ei(3)})}),cssReplacements:Z(3,{[Xo.ACCENT_COLOR]:ei(1),[Xo.CONTENT_FONT]:ei(2),[Xo.PLAYER_MAIN_FONT]:ei(3)})}),ju=new Rr(rz);var KM=ju;var{String:ti,Bool:Yu}=xt,nz=W({content:Z(1,yw),publishSettings:Z(2,{navigationType:ti(1),searchEnabled:Yu(2),numberingEnabled:Yu(3),nextButtonEnabled:Yu(4),copyingEnabled:de(6,Yu),fonts:Z(5,{[bo.TOOLTIP]:ti(1),[bo.PLAYER_MAIN]:ti(2),[bo.CONTENT]:ti(3)})}),cssReplacements:Z(3,{[Xo.ACCENT_COLOR]:ti(1),[Xo.CONTENT_FONT]:ti(2),[Xo.PLAYER_MAIN_FONT]:ti(3)})}),$M=new Rr(nz);async function NM(e){let t=await rx(e,n=>{switch(n){case 1:return ju;case 2:return KM;case 3:return $M;default:throw Error("invalid blob document format")}}),{version:o,data:r}=t;return FM({playerDocument:r,versionFrom:o})}async function zM(e){if(e instanceof Blob){let{content:t,settings:o}=await NM(e);return lu({content:t,settings:o,version:4})}return sw(e)}async function iz(){let e=await Rd(zT);return e||(e=await tx(NT),e)?e:null}function az(){DM(document.body),AM(document.body)}function HM({i18nFileName:e,showWatermark:t,resumeState:o,subscriptionProduct:r,watermarkUrl:n}){return new Promise(i=>{Promise.all([Rd(e),iz()]).then(([a,s])=>{if(!s)throw new Error;sh(a||{}),zM(s).then(l=>{if(!l)throw new Error;g4({settings:l.settings,customFonts:hn(s)&&s.customFonts}),aB(document.body,t,r,n);let p=new js({container:document.body,playerData:l,resumeState:o,showWatermark:t});i(p),az()})})})}function sz(e,t,o,r,n,i){return HM({i18nFileName:e,showWatermark:i||!1,resumeState:o,subscriptionProduct:r,watermarkUrl:n})}Gy("start",sz);})();
