"use strict";(()=>{var wM=Object.create;var Wu=Object.defineProperty;var PM=Object.getOwnPropertyDescriptor;var EM=Object.getOwnPropertyNames;var MM=Object.getPrototypeOf,RM=Object.prototype.hasOwnProperty;var Zn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),qu=(e,t)=>{for(var o in t)Wu(e,o,{get:t[o],enumerable:!0})},IM=(e,t,o,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of EM(t))!RM.call(e,n)&&n!==o&&Wu(e,n,{get:()=>t[n],enumerable:!(r=PM(t,n))||r.enumerable});return e};var Mt=(e,t,o)=>(o=e!=null?wM(MM(e)):{},IM(t||!e||!e.__esModule?Wu(o,"default",{value:e,enumerable:!0}):o,e));var Jo=Zn((B9,zy)=>{zy.exports=window.immer});var _h=Zn((IH,kh)=>{kh.exports=window.hyperHTML});var bd=Zn((uU,Vh)=>{Vh.exports=window.reatom});var jh=Zn((qU,Gh)=>{Gh.exports=window.protobuf});var M_=Zn((r0e,E_)=>{E_.exports=window.FastAverageColor});var iE=Zn((lBt,nE)=>{nE.exports=window.hljs});var O=class e{static log(t,...o){console.log(t,...o)}static warn(t,...o){console.warn(t,...o)}static error(t,...o){console.error(t,...o)}static assert(t,o){t||e.error("Assertion failed"+(o?": "+o:""))}};function A(e,t){return O.assert(e,t),e}function yr(e){throw new Error(e)}function ie(e){return e!==void 0}function Gu(e){return e===void 0}function _y(e){return e!==null}function pn(e){return e===null}function eo(e){return ie(e)&&_y(e)}function fa(e){return Gu(e)||pn(e)}function Xn(e){return!DM(e)}function DM(e){return e===!1||fa(e)}function By(e){return typeof e=="boolean"}function Qt(e){return typeof e=="string"}function mn(e){return typeof e=="object"&&_y(e)}function Us(e){return typeof e=="function"}function Ws(e,t="assert failed"){e||yr(t)}function T(e,t="verify failed"){return fa(e)&&yr(t),e}function Qe(e,t=`checkNever failed, received '${String(e)}'`){yr(t)}function vy({type:e,edge:t,fn:o,timeout:r}){let n,i;Ws(!(e==="debounce"&&t==="leading"));function a(p){ie(n)&&(clearTimeout(n),n=void 0),p&&(n=setTimeout(p,r))}function s(){if(!i)return;let p;try{p=o(...i.params),i.resolve(p)}catch(m){a(),T(i).reject(m)}finally{i=void 0}return p}function c(){i==null||i.resolve(void 0),i=void 0}let l=(...p)=>{c();let m=ie(n);if(!m||e==="debounce"){let d=()=>{a(i&&t==="leading"?d:void 0),s()};a(d)}return new Promise((d,y)=>{i={params:p,resolve:d,reject:y},t==="leading"&&!m&&s()})};return l.isPending=()=>!!i,l.flush=()=>(a(),s()),l.force=(...p)=>(l.cancel(),o(...p)),l.cancel=()=>{a(),c()},l}var by=()=>{},ju=e=>e;var qs=(e,t,o="trailing")=>vy({type:"throttle",fn:e,timeout:t,edge:o});function q(e){return`${e}px`}function Yu(e,t=0){return`${Number(e.toFixed(t))}%`}function Ty(e){let t=!1,o;return()=>(t||(o=e(),t=!0),o)}function to(e){return e.replace(/-\w/g,t=>t.charAt(1).toUpperCase())}function ho(e,t,o=Object.is){return e.length===t.length&&e.every((r,n)=>o(r,t[n]))}function Yo(e){for(let t=e.length-1;t>0;t--){let o=Math.floor(Math.random()*(t+1));[e[t],e[o]]=[e[o],e[t]]}}function wy(e,t){let o=e.indexOf(t),r=o>=0;return r&&e.splice(o,1),r}function Py(e,t,o){let r=e[t];e[t]=e[o],e[o]=r}function Zo(e){return e.filter(Xn)}function Gs(e){return Object.keys(e)}function ga(e){return Object.entries(e)}function Jn(e,t){let o={};return Gs(e).forEach(r=>{o[r]=t(e[r],r)}),o}function js(e,t){if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((o,r)=>js(o,t[r]));if(mn(e)&&mn(t)){let o=Object.keys(e),r=Object.keys(t);return o.length===r.length&&o.every(n=>r.includes(n)&&js(e[n],t[n]))}return Object.is(e,t)}function Zu(e,t,o){return e.reduce((r,n,i)=>(r[t(n,i)]=o?o(n,i):n,r),{})}function Ey(e,t){let o={};return Object.keys(e).forEach(r=>{let n=e[r];ie(n)&&t(n,r)&&(o[r]=n)}),o}function Ys(e){return Ey(e,Xn)}function My(e,t){Gs(e).forEach(o=>{t(e[o],o)})}function J(e,t,o){if(!t.hasOwnProperty(e)){if(o)return o(e);yr(`switchEnum() failed, received '${e}'`)}return t[e]}function Ry(e,t,o){return J(e,t,o&&(r=>()=>o(r)))(e)}function ya(e){let t=typeof e;return t==="object"&&e!=null||t==="function"}function Xu(e){return Array.isArray(e)}var N=(e,t=`Unhandled value: ${JSON.stringify(e,null," ")}`)=>O.error(t);var AM=0,Zs=class{constructor(t,o,r,n,i=null){this.listener=t,this.src=o,this.type=r,this.capture=!!n,this.handler=i,this.key=++AM}};var Xs=class extends Zs{constructor(t,o,r,n,i,a){super(t,r,n,i,a),this.proxy=o,this.callOnce=!1,this.removed=!1}markAsRemoved(){this.removed=!0,this.listener=null,this.proxy=null,this.src=null,this.handler=null}};function Iy(e,t,o){for(let r in e)if(t.call(o,e[r],r,e))return!0;return!1}function Dy(e,t,o){if(e){for(let r in e)if(t.call(o,e[r],r,e))return r}}function Js(e,t){for(let o in e)if(!(o in t)||e[o]!==t[o])return!1;for(let o in t)if(!(o in e))return!1;return!0}function Ay(e,t,o){let r={};if(e)for(let n in e)t.call(o,e[n],n,e)&&(r[n]=e[n]);return r}function ha(e,t,o){for(let r in e)e.hasOwnProperty(r)&&t.call(o,e[r],r,e)}function Xo(e,t){let o=t(e);if(o!==void 0)return o;if(typeof e!="object"||e==null)return e;if(Array.isArray(e))return e.map(n=>Xo(n,t));let r={};for(let n of Object.keys(e))r[n]=Xo(e[n],t);return r}function Vy(e,t){for(let o of Object.keys(t))e[o]=t[o]}function Rt(e){return e&&JSON.parse(JSON.stringify(e))}var xa=class{constructor(t){this.src=t,this.listeners={},this._typeCount=0}getTypeCount(){return this._typeCount}getListenerCount(){let t=0;for(let o of Object.keys(this.listeners))t+=this.listeners[o].length;return t}add(t,o,r,n,i){let a=t.toString(),s=this.listeners[a];s||(s=this.listeners[a]=[],this._typeCount++);let c,l=this._findListenerIndex(s,o,n,i);return l>-1?(c=s[l],r||(c.callOnce=!1)):(c=new Xs(o,null,this.src,a,!!n,i),c.callOnce=r,s.push(c)),c}remove(t,o,r,n){let i=t.toString();if(!(i in this.listeners))return!1;let a=this.listeners[i],s=this._findListenerIndex(a,o,r,n);return s>-1?(a[s].markAsRemoved(),a.splice(s,1),a.length===0&&(delete this.listeners[i],this._typeCount--),!0):!1}removeByKey(t){let o=t.type;if(!(o in this.listeners))return!1;let r=this.listeners[o],n=r.indexOf(t),i=n>=0;return i&&(r.splice(n,1),t.markAsRemoved(),this.listeners[o].length===0&&(delete this.listeners[o],--this._typeCount)),i}getListeners(t,o){let r=this.listeners[t.toString()],n=[];if(r)for(let i=0;i<r.length;++i){let a=r[i];a.capture==o&&n.push(a)}return n}getListener(t,o,r,n){let i=this.listeners[t.toString()],a=-1;return i&&(a=this._findListenerIndex(i,o,r,n)),a>-1?i[a]:null}hasListener(t="",o=void 0){let r=ie(t),n=r?t.toString():"",i=ie(o);return Iy(this.listeners,a=>{for(let s=0;s<a.length;++s)if((!r||a[s].type==n)&&(!i||a[s].capture==o))return!0;return!1})}_findListenerIndex(t,o,r,n){for(let i=0;i<t.length;++i){let a=t[i];if(!a.removed&&a.listener==o&&a.capture==!!r&&a.handler==n)return i}return-1}};var ed="ispring_lm_"+(Math.random()*1e6|0),Ju;function VM(){if(!gt.addEventListener||!Object.defineProperty)return!1;let e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});return gt.addEventListener("test",Function.prototype,t),gt.removeEventListener("test",Function.prototype,t),e}function LM(){return ie(Ju)||(Ju=VM()),Ju}function td(e){let t=e[ed];return t instanceof xa?t:null}function It(e){let t=e;if(!t||t.removed)return!1;let o=t.src,r=t.type,n=t.proxy;o.removeEventListener&&o.removeEventListener(r,n,t.capture);let i=td(o);return i?(i.removeByKey(t),i.getTypeCount()===0&&(o[ed]=null)):t.markAsRemoved(),!0}function OM(e){let{listener:t,handler:o,callOnce:r}=e,n=o?t.bind(o):t;return r?(...i)=>{n(...i),It(e)}:n}function st(e,t,o,r,n=null){let i=ya(r)?A(r).capture:!!r,a=td(e);a||(a=new xa(e),e[ed]=a);let s=!!(r&&r.once),c=a.add(t,o,s,i,n);if(c.proxy)return c;let l=OM(c);if(c.proxy=l,e.addEventListener){let p=LM()?r:i;ie(p)||(p=!1),e.addEventListener(t.toString(),l,p)}else throw new Error("addEventListener is unavailable.");return c}function Ly(e,t,o,r,n){r=!!r;let i=td(e);return i?i.getListener(t,o,r,n):null}var ec=class{dispose(){}};var FM=0,hr=class extends ec{constructor(){super(),this._listenersKeys=null,this._activeSignals=null,this._disposables=null,this._customDestructHandlers=null}addDestructHandler(t){this._customDestructHandlers=this._customDestructHandlers||[],this._customDestructHandlers.push(t)}dispose(){if(this._destruct(),this._customDestructHandlers)for(let t of this._customDestructHandlers)t();if(this._disposables)for(let t of this._disposables)od(t);if(this._listenersKeys){for(let t of this._listenersKeys)It(t);this._listenersKeys=null}if(this._activeSignals)for(let t of Object.keys(this._activeSignals))this._removeSignalByKey(t)}_listen(t,o,r,n){this._listenersKeys=this._listenersKeys||[];let i=st(this._getEventTarget(t),o,r,n,this);return this._listenersKeys.push(i),i}_unlisten(t,o,r){let n=Ly(this._getEventTarget(t),o,r,!1);return!!n&&this._unlistenByKey(n)}_unlistenByKey(t){let o=A(this._listenersKeys),r=o.indexOf(t);return r>=0&&o.splice(r,1),It(t)}_addSignal(t,o,r){this._activeSignals=this._activeSignals||{},t.add(o,this,r);let n=++FM;return this._activeSignals[n]={dispatcher:t,fn:o,priority:r},n}_addSignalCallOnce(t,o,r){let n=(...i)=>{o.apply(this,i),this._removeSignal(t,n,r)};this._addSignal(t,n,r)}_removeSignal(t,o,r){let n=Dy(this._activeSignals,i=>Js(i,{dispatcher:t,fn:o,priority:r}));n&&this._removeSignalByKey(n)}_removeSignalByKey(t){if(!(this._activeSignals&&this._activeSignals[t])){O.warn("unknown signal key");return}let{dispatcher:o,fn:r,priority:n}=this._activeSignals[t];o.remove(r,this,n),delete this._activeSignals[t]}_removeAllEvents(t){if(t){if(this._activeSignals){let o=Ay(this._activeSignals,r=>r.dispatcher.eventOwner()===t);for(let r of Object.keys(o))this._removeSignalByKey(r)}if(this._listenersKeys){let o=this._getEventTarget(t),r=this._listenersKeys.filter(n=>n.src===o);for(let n of r)this._unlistenByKey(n)}}}_addDisposable(t){return this._disposables=this._disposables||[],!t||this._disposables.includes(t)||this._disposables.push(t),t}_removeDisposable(...t){if(this._disposables){for(let o of t)if(o){this._cleanItemDependencies(o);let r=this._disposables.indexOf(o);r>=0&&(this._disposables.splice(r,1),od(o))}}}_cleanItemDependencies(t){this._removeAllEvents(t)}_cleanDependencies(...t){for(let o of t)o&&this._cleanItemDependencies(o)}_getEventTarget(t){return t}_destruct(){}};function rd(e,t){return e>t?1:e<t?-1:0}function KM(e,t,o,r,n){let i=0,a=e.length,s;for(;i<a;){let c=i+a>>1,l;o?l=t.call(n,e[c],c,e):l=t(r,e[c]),l>0?i=c+1:(a=c,s=!l)}return s?i:~i}function $M(e,t,o=rd){return KM(e,o,!1,t)}function Oy(e,t,o){let r=$M(e,t,o);return r<0?(e.splice(-(r+1),0,t),!0):!1}function tc(e,t){let o=(t%e.length+e.length)%e.length;return e[o]}var oc=class{constructor(){this._priorities=null,this._values=null,this._zeroPriorityValues=null}push(t,o){this._addPriority(o);let r=this._getPriorityValues(o);r?r.push(t):O.warn("Priority array values are zero")}remove(t,o){let r=this._getPriorityValues(o);r&&wy(r,t)}removeAt(t,o){let r=this._getPriorityValues(o);r&&r.splice(t,1)}getValuesWithPriority(t){if(t===0)return this._zeroPriorityValues||[];if(!this._values)return O.warn("Priority array values are zero"),[];if(!(t in this._values))return[];let o=this._getPriorityValues(t);return o||(O.warn("Priority array values are zero"),[])}getAllValues(){if(!this._values)return this._zeroPriorityValues?this._zeroPriorityValues.slice():[];let t=[],o=A(this._priorities);for(let r=0;r<o.length;++r){let n=o[r],i=this._getPriorityValues(n);i&&t.push(...i)}return t}_addPriority(t){if(t===0){this._zeroPriorityValues=this._zeroPriorityValues||[];return}this._priorities=this._priorities||[0],this._values=this._values||{},t in this._values||(this._values[t]=[],Oy(this._priorities,t))}_getPriorityValues(t){return t===0?this._zeroPriorityValues:A(this._values)[t]}};var oo=class extends hr{constructor(t=null){super(),this._handlers=null,this._owner=t}eventOwner(){return this._owner}add(t,o,r=0){this._handlers=this._handlers||new oc,this._handlers.push({fn:t,context:o},r)}addCallOnce(t,o,r=0){let n=i=>{t.call(o,i),this.remove(n,o,r)};this.add(n,o,r)}remove(t,o,r=0){if(!this._handlers){O.warn("Signal has no handlers!");return}let n=this._handlers.getValuesWithPriority(r),i=n.length;for(let a=0;a<i;++a){let s=T(n[a]);if(s.fn===t&&s.context===o){this._handlers.removeAt(a,r);break}}}has(t,o,r=0){if(!this._handlers)return!1;let n=this._handlers.getValuesWithPriority(r),i=n.length;for(let a=0;a<i;++a){let s=T(n[a]);if(s.fn===t&&s.context===o)return!0}return!1}dispatch(t){if(!this._handlers)return;let o=this._handlers.getAllValues(),r=o.length;for(let n=0;n<r;++n){let i=T(o[n]);if(this._handlers.getAllValues().indexOf(i)!==-1)try{i.fn.apply(i.context,[t])}catch(a){nd(a,!0)}}}toFn(){return t=>this.dispatch(t)}handlersCount(){return this._handlers?this._handlers.getAllValues().length:0}};var gt=Function("return this")(),NM=()=>!0;function id(e,t){if(NM()){if(t){O.error(e);return}O.warn(e)}}function nd(e,t){let o=e.stack||e.toString();String(o).indexOf(e.message)<0&&id(e.message,t),id(o,t)}var c9=Object.getPrototypeOf({});function od(e){e&&(A(!e.disposed),Us(e.dispose)&&e.dispose(),e.disposed=!0)}function Fy(e,t){let o=e.split("."),r=gt;!(A(o[0])in r)&&typeof r.execScript!="undefined"&&r.execScript("var "+o[0]);for(let n;o.length&&(n=o.shift());)!o.length&&ie(t)?r[n]=t:r[n]&&r[n]!==Object.prototype[n]?r=r[n]:r=r[n]={}}gt.onerror=function(...e){let[t,,,,o]=e;return o?nd(o,!0):id(t,!0),!0};var ro=gt.requestAnimationFrame||gt.mozRequestAnimationFrame||gt.webkitRequestAnimationFrame||gt.msRequestAnimationFrame||setTimeout,zM=gt.cancelAnimationFrame||gt.mozCancelAnimationFrame||gt.webkitCancelAnimationFrame||gt.msCancelAnimationFrame||clearTimeout,m9=gt.requestIdleCallback||HM;function HM(e){let t=Date.now();return setTimeout(()=>{e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)}function rc(e,t){let o=t?e.bind(t):e,r;function n(){zM(r),r=null}function i(){r&&n(),r=ro(o)}function a(){return r!==null}return{call:i,cancel:n,isSheduled:a}}function Bt(e,t,o){return Math.max(t,Math.min(o,e))}function Ky(e){return e>0?1:e===0?0:-1}function Sa(e,t=0){return parseFloat(e.toFixed(t))}function nc({reducer:e,timingFn:t,duration:o,abortSignal:r,beforeAnimation:n,afterAnimation:i}){let a=Date.now(),s=!1,c=new oo;function l(){if(s)return;let m=Bt(Date.now()-a,0,o),d=t(m/o);e.animate(d),m<o?ro(l):(i&&i(),r&&r.remove(p),c.dispatch(!0),ro(()=>{e.complete()}))}n&&n(),ro(l);function p(){s=!0,A(r).remove(p),c.dispatch(!1)}return r&&r.add(p),c}function $y(e){return{animate:t=>{e.forEach(o=>o.animate(t))},complete:()=>{e.forEach(t=>t.complete())},changedProperties:[]}}function Dt(e,t,o){De(e,{[t]:o})}function De(e,t,o=window){(e instanceof o.HTMLElement||e instanceof o.SVGElement)&&Object.keys(t).forEach(r=>{let n=t[r];eo(n)&&(n=n.toString()),e.style.setProperty(r,n)})}function Ca(e){De(document.documentElement,e)}function ei(e){return T(getComputedStyle(document.documentElement)).getPropertyValue(e)}function Ny(e){let t=window.getComputedStyle(e),o=t&&t.transform?t.transform:"";return o==="none"&&(o=""),o}function Pe(...e){return e.filter(t=>t).join(" ")}function ic(e){return--e*e*e+1}var At=Mt(Jo());(0,At.enableAllPlugins)();function ac(e,t){let o;function r(){o&&(clearTimeout(o.id),o=void 0)}function n(){if(o){let s=o.handler;r(),s()}}function i(...s){r();let c=()=>{r(),e(...s)};o={id:setTimeout(c,t),handler:c}}function a(...s){r(),e(...s)}return{isPending:()=>ie(o),cancel:r,flush:n,call:i,forceCall:a}}function sc(e){return e.startsWith("blob:")}function QM(e,t){if(typeof e.className=="string"){e.className=t;return}e.className.baseVal=t}function UM(e){return typeof e.className=="string"?e.className:e.className.baseVal}function WM(e){if(e.classList)return e.classList;let t=e.className;return Qt(t)&&t.match(/\S+/g)||[]}function qM(e,t){return e.classList?e.classList.contains(t):WM(e).includes(t)}function Hy(e,t){if(e instanceof Element){if(e.classList){e.classList.add(t);return}if(!qM(e,t)){let o=UM(e),r="";o&&(r=`${o} `),QM(e,r+t)}}}function Qy(e){if(navigator.clipboard)navigator.clipboard.writeText(e);else{let o=st(document,"copy",r=>{r.clipboardData&&(r.clipboardData.setData("text/plain",e),r.preventDefault(),It(o))});document.execCommand("copy")}}function ad(e,t,o){let r=e/255,n=t/255,i=o/255,a=Math.max(r,n,i),s=Math.min(r,n,i),c=0,l=0,p=.5*(a+s);return a!==s&&(a===r?c=60*(n-i)/(a-s):a===n?c=60*(i-r)/(a-s)+120:a===i&&(c=60*(r-n)/(a-s)+240),p>0&&p<=.5?l=(a-s)/(2*p):l=(a-s)/(2-2*p)),[Math.round(c+360)%360,l,p]}function Ae(e){var n;e=(n=GM(e))!=null?n:e;let t=parseInt(e.substr(1,2),16),o=parseInt(e.substr(3,2),16),r=parseInt(e.substr(5,2),16);return[t,o,r]}function GM(e){return e.startsWith("#")||(e="#"+e),e.match(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/)?(e.length===4&&(e=e.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")),e.toLowerCase()):null}function cc(e){let t=Ae(e);return ad(T(t[0]),T(t[1]),T(t[2]))}function ti(e,t){let o=T(t[3]);return[(1-o)*T(e[0])+o*T(t[0]),(1-o)*T(e[1])+o*T(t[1]),(1-o)*T(e[2])+o*T(t[2])]}var lc=class extends hr{addDisposable(t){return this._addDisposable(t)}addSignal(t,o,r){return this._addSignal(t,o,r)}addSignalCallOnce(t,o,r){return this._addSignalCallOnce(t,o,r)}listen(t,o,r,n){return this._listen(t,o,r,n)}};var xr=class extends hr{_createDependencyGroup(){return this._addDisposable(new lc)}_createSignal(t){let o=new oo(this);if(this._addDisposable(o),t)if(Array.isArray(t))for(let r of t)this._addSignal(r,n=>o.dispatch(n));else this._addSignal(t,r=>o.dispatch(r));return o}_createSignalProxy({signal:t,checkDispatchFn:o,modifyDataFn:r}){let n=new oo(this);return this._addDisposable(n),this._addSignal(t,i=>{if(!o||o(i)){let a=r?r(i):i;n.dispatch(a)}}),n}};var pc={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12};function Uy(e,t){return e?e.closest(`div[data-wrapper-key="${t}"]`):null}var xo={NBSP:String.fromCharCode(160),ZERO_WIDTH_SPACE:String.fromCharCode(8203),ELLIPSIS:"\u2026",NDASH:"\u2013",GREATER_THAN_OR_EQUAL_TO:String.fromCharCode(8805),LESS_THAN:String.fromCharCode(60),LESS_THAN_OR_EQUAL_TO:String.fromCharCode(8804),PERCENT:String.fromCharCode(37),LTR_DIRECTION:"\u200E",RTL_QUESTION_SIGN:"\u2E2E"};function Wy(e){return{width:e.offsetWidth,height:e.offsetHeight}}function oi(e){return{width:e.right-e.left,height:e.bottom-e.top}}function mc(e){return`url("data:image/svg+xml,${e.replace(/"/g,"'").replace(/\s{2,}/g," ").replace(/[\r\n%#()<>?[\\\]^`{|}]/g,encodeURIComponent)}")`}var er={SPAN:"SPAN",DIV:"DIV",SVG:"SVG",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",UL:"UL",OL:"OL",LI:"LI",P:"P",BR:"BR",B:"B",STRONG:"STRONG",I:"I",EM:"EM",A:"A",U:"U",S:"S",STRIKE:"STRIKE",SUP:"SUP",SUB:"SUB",IMG:"IMG",IFRAME:"IFRAME",BLOCKQUOTE:"BLOCKQUOTE",Q:"Q",FIGURE:"FIGURE",FIGCAPTION:"FIGCAPTION",LINK:"LINK",CANVAS:"CANVAS",INPUT:"INPUT",BUTTON:"BUTTON",TABLE:"TABLE",TD:"TD",HR:"HR",PRE:"PRE",CODE:"CODE"};function sd(){return"ontouchstart"in document.documentElement}function jM(e){return e.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}function YM(e,t,o,r="g"){return e.replace(new RegExp(jM(t),r),o)}function qy(e,t,o){let r=e;for(let n of Object.keys(t)){let i=t[n],a=o(n);r=YM(r,a,i)}return r}function Gy(e,t){return e.slice(0,t).replace(/[^\s]*\s*$/,"").length}function jy(e,t){let o=/^\s*[^\s]*/i.exec(e.slice(t)),r=o?o[0].length:0;return t+r}var Yy=["Learn.Reports.SendReportOnSchedulePopup.Schedule.Month.Day","Learn.EditContent.CompletionTab.ReenrollmentAfterCourseCompletion.Part1","Learn.EditContent.CompletionTab.ReenrollmentBeforeCertExpires.Part1","Learn.EditContent.CompletionTab.ReenrollmentAfterCourseCompletion.Part2","Common.SideBar.StorageBar.Progress.Part1","Common.SideBar.StorageBar.Progress.Part2"];var uc=class extends xr{constructor(t){super(),this._messages=t}addMessages(t){this._messages={...this._messages,...t}}getMessage(t,o){if(!this._messages.hasOwnProperty(t))return t;let r=A(this._messages[t]||Yy.includes(t));return typeof r!="string"&&(r=""),o&&(r=qy(r,o,this._generateKey)),r}messages(){return this._messages}hasMessage(t){return this._messages.hasOwnProperty(t)}_generateKey(t){return"{"+t.toLowerCase()+"}"}};var ri;function ZM(e){if(ri){O.warn("i18n has already been declared");return}ri=e}function Zy(e){if(ri){ri.addMessages(e);return}let t=new uc(e);ZM(t)}function B(e,t){let o=typeof e=="string"?e:e.value;return ri?ri.getMessage(o,t):(O.warn("i18n is not initialized"),o)}function Sr(e){return{value:e}}function Xy(e){return B("Common.Colon",{text:e})}function XM(){return window.navigator.platform.includes("Mac")}function JM(){return window.navigator.userAgent.includes("Chrome")}function Jy(){return XM()&&!JM()}function eR(){return/Macintosh/i.test(navigator.userAgent)&&navigator.maxTouchPoints>1}function eh(){return!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)||eR()}function dc(){return/Firefox/.test(navigator.userAgent)}function Cr(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(window.navigator.userAgent)}var un={FULL:1180,MEDIUM:739};function fc(){return window.innerWidth>un.FULL}function gc(){return window.innerWidth<=un.FULL&&window.innerWidth>un.MEDIUM}function kr(){return window.innerWidth<=un.MEDIUM}var yt={CLICK:"click",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",CHANGE:"change",SELECTION_CHANGE:"selectionchange",INPUT:"input",TEXT_INPUT:"textInput",KEY_DOWN:"keydown",KEY_PRESS:"keypress",PASTE:"paste",CUT:"cut",COPY:"copy",BLUR:"blur",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",LOAD:"load",LOAD_END:"loadend",LOADED_METADATA:"loadedmetadata",UNLOAD:"unload",BEFOREUNLOAD:"beforeunload",ERROR:"error",DRAG_START:"dragstart",DRAG_OVER:"dragover",DRAG_END:"dragend",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DROP:"drop",RESIZE:"resize",SCROLL:"scroll",COMPOSITIONSTART:"compositionstart",COMPOSITIONUPDATE:"compositionupdate",COMPOSITIONEND:"compositionend",ORIENTATIONCHANGE:"orientationchange",CUSTOM_CONNECTED:"connected",CUSTOM_DISCONNECTED:"disconnected",TRANSITIONEND:"transitionend",TOUCHSTART:"touchstart",VISIBILITYCHANGE:"visibilitychange"};var qe={WIN_KEY_FF_LINUX:0,MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS_SIGN:43,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,FF_DASH:173,QUESTION_MARK:63,AT_SIGN:64,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLL_LOCK:145,FIRST_MEDIA_KEY:166,LAST_MEDIA_KEY:183,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,MAC_WK_CMD_LEFT:91,MAC_WK_CMD_RIGHT:93,WIN_IME:229,VK_NONAME:252,PHANTOM:255};var yc={left:0,center:1,right:2},tR=1;function th(e){return e.buttons===tR}function ni(e){e.stopPropagation()}function ii(e){ha(e,(t,o)=>{It(t),delete e[o]})}var tr=new Map,cd=null;function oh(){return cd||(cd=new MutationObserver(e=>{for(let t of e){for(let o of t.removedNodes)for(let r of tr.keys()){let n=A(tr.get(r));n.remove&&o.contains&&o.contains(r)&&n.remove()}for(let o of t.addedNodes)for(let r of tr.keys()){let n=A(tr.get(r));n.add&&o.contains&&o.contains(r)&&n.add()}}})),cd}function rh(e,t){let o=tr.size===0;return O.assert(!tr.has(e)),tr.set(e,t),o&&oh().observe(document,{subtree:!0,childList:!0}),()=>{tr.delete(e),tr.size===0&&oh().disconnect()}}var nh={};function pd(){let e;for(;e===void 0||nh.hasOwnProperty(e)||!isNaN(Number(e));)e=Math.floor(Math.random()*16777216).toString(32);return nh[e]=!0,e}var ld=new WeakMap;function ih(e){return ld.has(e)||ld.set(e,pd()),ld.get(e)}var ah="renderBinding",f=(e,t=void 0,o=void 0)=>{let r=()=>[e,t,o];return r._meta=ah,r},se=(e,t,o=void 0,r=void 0)=>({id:typeof e=="string"?e:ih(e),binding:f(t,o,r)});function sh(e){return typeof e=="function"&&e._meta===ah}function Ne(e){return Object.freeze({initialValue:e})}function hc(e,t,o){let r=e.get(t);if(!(r&&r.value===o)){if(md.set(t,!0),r){r.value=o;return}e.set(t,{value:o})}}function ch(e,t){return e.has(t)?e.get(t).value:t.initialValue}function lh(){md.clear()}var md=new Map;function ph(e){for(let t of e.keys())if(md.has(t))return!0;return!1}var mh=[],uh=[];function dh(e){for(let t of e){t.clear&&t.clear();try{let o=t.callback();typeof o=="function"?t.clear=o:o&&(O.error("useEffect's callback should return a function"),t.clear=void 0)}catch(o){console.log(o)}}e.length=0}function fh(){dh(uh)}function xc(){dh(mh)}function gh(e){e.clear&&(e.clear(),e.clear=null),e.sync?mh.push(e):uh.push(e)}var ud=null,fd=new Map;function gd(){if(!ud){let{call:e}=rc(yd);ud=e}ud()}var dd=!1,Sc=!1;function yd(){if(dd)return;if(dd=!0,fh(),dd=!1,Sc){O.error("render was already started"),gd();return}Sc=!0,lh();let e=fd;fd=new Map;for(let t of e.keys())try{t()}catch(o){console.log(o)}xc(),Sc=!1}function Cc(e){fd.set(e,!0),gd()}function yh(){return Sc}function hd(e){gh(e),e.sync||gd()}var _r=new Map,dn=[];function hh(e,t){if(dn.push({redrawFn:e,contextMap:t}),_r.has(e)){let o=T(_r.get(e));o.hookIndex=0,o.effectIndex=0}}function xh(e){let t=T(dn.pop()),o=_r.get(t.redrawFn);if(o){if(O.assert(e instanceof Element),o.connected)O.assert(o.firstRenderHooksCount===o.hookData.length,`Incorrect hooks count
expected: ${o.firstRenderHooksCount}
actual: ${o.hookData.length}`),O.assert(o.firstRenderEffectsCount===o.effects.length,`Incorrect effects count
expected: ${o.firstRenderEffectsCount}
actual: ${o.effects.length}`);else{o.connected=!0;for(let r of o.effects)hd(r);o.firstRenderHooksCount=o.hookData.length,o.firstRenderEffectsCount=o.effects.length}return!0}return!1}function Sh(e){let t=_r.get(e);if(t){for(let o of t.effects)o.clear&&o.clear();_r.delete(e)}}function xd(){if(!dn.length)throw new Error("Hooks can be used only in render functions");let e=T(dn[dn.length-1]).redrawFn;return _r.has(e)||_r.set(e,{hookIndex:0,hookData:[],effectIndex:0,effects:[],redraw:e,connected:!1}),T(_r.get(e))}var z=e=>{let t=xd(),o=t.hookIndex;if(t.hookData.length===o){let r=i=>{typeof i=="function"&&(i=i(t.hookData[o][0])),t.hookData[o][0]=i,Cc(t.redraw)},n=Us(e)?e():e;t.hookData.push([n,r])}return++t.hookIndex,t.hookData[o]};function P(e){let t=xd(),o=t.hookIndex;if(t.hookData.length===o){let n={current:e};t.hookData.push(n)}let r=t.hookData[o];return++t.hookIndex,r}function Ch(e,t,o){let r=xd(),n=r.effectIndex;if(r.effects.length===n){let a={callback:e,sync:o,clear:null,deps:t};r.effects.push(a)}else{let a=T(r.effects[n]);a.callback=e}let i=T(r.effects[n]);r.connected&&(!t||!ho(T(i.deps),t))&&hd(i),i.deps=t,++r.effectIndex}function M(e,t){Ch(e,t,!1)}function ee(e,t){Ch(e,t,!0)}function ka(e){let t=P();return M(()=>{t.current=e},[e]),t.current}function D(e,t){let o=P(),r=ka(t);return(!r||!ho(r,t))&&(o.current=e()),o.current}function E(e,t){return D(()=>e,t)}function re(e){return ch(T(dn[dn.length-1]).contextMap,e)}function or(...e){}var _a=Mt(_h());function oR(e,t={}){t.current=e}_a.default.define("save-ref",oR);var Bh=new WeakMap;function rR(e,t){let o=Bh.get(e)||Bh.set(e,{}).get(e);for(let r of Object.keys(t))if(r.slice(0,2)==="on"&&o[r]!==t[r]){let i=r.slice(2);o[r]&&e.removeEventListener(i,o[r]),o[r]=t[r],o[r]&&e.addEventListener(i,o[r],{passive:!0})}return""}_a.default.define("passive-events",rR);var Ut=_a.default.wire,DH=_a.default.bind;var Sd=new Map,kc=new WeakMap;function nR(e,t){return e===t?!0:typeof e=="object"&&typeof t=="object"&&Js(e,t)}function fn(e,t,o=new Map,r=void 0,n="html"){let i=t?`${t}`:"__root";Sd.has(e)||Sd.set(e,{});let a=Sd.get(e);if(!a[i]){let s=Ut(void 0,n),c=0,l=new Map(o),p=0,m=[],d=[],y=null,g=new Map,h=new Map,C=(S,..._)=>{if(sh(S)||S==null){let b=_[0];return C.switch(()=>S,b)}else if(typeof S=="function"){let b=_[0],w=_[1];return C._getHtmlWireResultWithOptimizations(`_c${++c}`,S,b,w)}y&&!Object.is(S,y)&&O.warn("Template literal was changed"),y=S;let x=s(S,..._);return x.__clearCache=()=>{s=Ut(void 0,n)},C._finishRender(),r&&(r.current=x),x};C.contextMap=o,C.switch=(S,_)=>{m[p]||(m[p]=new Map);let x=m[p],b=d[p],w=S();if(!w)return++p,null;let[V,$,W]=w();if(Ws(!!x),!x.get(V)){let Ce=x.has(V)?[...x.keys()].indexOf(V):x.size;x.set(V,kd(V,C._createChild(`_u${p}_${Ce}`,n),l,_,W))}return++p,b&&b.delete(V),A(x.get(V))($)},C.renderAll=(S,_)=>{let x=[],b=new Set;return S.forEach((w,V)=>{let $=_(w,V);if($){let{id:W,binding:ne}=$,Ce=W;for(;b.has(W);)W=`${W}_copy`;b.add(W),Ce!==W&&O.error(`duplicated child id: ${Ce}`);let[ke,Et,ln]=ne();W||(O.error("unexpected error: empty id in render all"),W=`_c${++c}`),x.push(C._getHtmlWireResultWithOptimizations(W,ke,Et,ln))}}),x},C.toSvgMode=()=>{let S=C._createChild(`_c${++c}`,"svg");return C._finishRender(),S},C.setRenderTypeForChildren=S=>{n=S},C._createChild=(S,_)=>fn(e,(t||"")+S,l,void 0,_),C._getHtmlWireResultWithOptimizations=(S,_,x,b)=>{let w=C._createChild(S,n);if(g.has(w))h.delete(w);else{let $=kd(_,w,l,b);g.set(w,$)}return A(g.get(w))(x)},C._finishRender=()=>{if(h.size)for(let S of h.keys()){let _=g.get(S);_?(_.clean(),g.delete(S)):O.warn("clean child error")}for(let S=0;S<d.length;++S){let _=T(d[S]);for(let x of _.keys()){let b=_.get(x);b?(b.clean(),T(m[S]).set(x,null)):b!==null&&O.warn("clean child error")}}h=new Map(g),d=m.map(S=>new Map(S)),c=0,p=0},C.renderIf=function(S,_,x){let b=_();return b?C(S,b,x):(++c,null)},C.setContext=(S,_)=>(hc(l,S,_),C),C.clean=function(){C.clean=()=>console.log("clean already complete"),a[i]=null;for(let S of g.values())S.clean();for(let S of m)for(let _ of S.values())_&&_.clean();g.clear(),h.clear()},a[i]=C}return a[i]}function pe(e,t,o){let[r,n,i]=t(),a=r(e,n);return a instanceof Element&&Cd(a,i),o&&(o.current=a),a}function Cd(e,t){if(!t)return;let o=String(t);if(o.includes(" ")){O.error(`multiple classNames not allowed: ${o}`);return}Hy(e,o)}function kd(e,t,o=new Map,r="",n=""){let i,a=null,s=typeof r=="string"||r.___css?{className:String(r)}:r,c=!1;function l(){if(c)return;hh(l,A(o));let m=e(t,i),d=xh(m);return a&&d?a!=m&&window.console.error(`[${e.name}] dom element was changed`):a=m,a instanceof Element&&(Cd(a,s.className),Cd(a,n)),s.ref&&(s.ref.current=a),m}function p(m){return!ph(A(o))&&nR(i,m)&&a?a:(i=m,A(l()))}return p.clean=function(){c=!0,Sh(l),t.clean()},p}function iR(e,t,o=fn(t),r=new Map){let n=kc.has(o);n||kc.set(o,kd(e,o,r));let i=kc.get(o),a=i(t);if(!n){let s=rh(a,{remove:()=>{document.body.contains(a)||(i.clean(),s(),kc.delete(o))}})}return ro(xc),a}function gn(e){return(o,r)=>{let n=r&&r.contextMap;return iR(e,o,r,n)}}function vh(e,t,o=t){let r=gn(e),n=fn(o),i=!0;return a=>{if(i){let s=r(a,n);t(s),i=!1}else Cc(()=>{r(a,n)})}}function ct(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function bh(e,t,o,r){if(t<0&&e===0||t>0&&e===o-1||t===0)return e;let n=Ky(t),i=l=>l+n;t=Math.abs(t);let a=e,s=r(i(a)),c=s/2;for(;c<t&&a<o&&a>=0;)c+=s/2,a=i(a),a>0&&a<o-1&&(s=r(i(a)),c+=s/2);return Bt(a,0,o-1)}function yn(e){return{x:e.left,y:e.top}}function Ba(e){return{x:e.width,y:e.height}}function hn(e,t){return{x:e.x*t.x,y:e.y*t.y}}function Th(e,t){return{x:e.x/t.x,y:e.y/t.y}}function rr(e,t){return{x:e.x+t.x,y:e.y+t.y}}function _c(e){return{x:e,y:e}}var Br=(e,t,o)=>st(e,t,r=>{try{o(r)===!0&&r.preventDefault(),yh()||yd()}catch(n){O.error(n)}});function Vt(){let e=[];return{add(t){return e.push(t),()=>{let o=e.indexOf(t);o>=0&&e.splice(o,1)}},dispatch(t){for(let o of e)o(t)}}}function wh(e){let t=()=>e.current.scrollTop;return{onScroll:Vt(),getDomObject:()=>e.current,getRelativeElementOffset:o=>{let r=e.current,n=r.getBoundingClientRect(),i=o.getBoundingClientRect();return{x:r.scrollLeft+i.left-n.left,y:r.scrollTop+i.top-n.top}},getScrollLeft:()=>e.current.scrollLeft,getScrollTop:t,getClientWidth:()=>e.current.clientWidth,getClientHeight:()=>e.current.clientHeight,getMaxScrollX:()=>e.current.scrollWidth-e.current.clientWidth,getMaxScrollY:()=>e.current.scrollHeight-e.current.clientHeight,scroll:(o,r,n)=>{e.current.scrollTo({top:r,left:o,behavior:n})},scrollBy:(o,r)=>e.current.scroll(e.current.scrollLeft+o,e.current.scrollTop+r)}}var G=(e,t,o)=>{let r=P(o);r.current=o;let n=o===null;M(()=>{if(n)return;let i=st(e.current,t,a=>A(r.current)(a));return()=>It(i)},[e,t,n])};function ht(e,t,o,r,n=!1,i=!0){let a=r||{};G(e,"keydown",n?null:s=>{s.defaultPrevented||s.keyCode===t&&(a.ctrl===void 0||s.ctrlKey===a.ctrl)&&(a.shift===void 0||s.shiftKey===a.shift)&&(a.metaKey===void 0||s.metaKey===a.metaKey)&&(i&&s.preventDefault(),o(s))})}function no(e){let[t,o]=z(()=>({width:0,height:0}));return M(()=>{let r=A(e.current),n=new ResizeObserver(([i])=>{o(A(i).contentRect)});return n.observe(r),()=>{n.disconnect()}},[e]),[t.width,t.height]}var aR=[];function ai(e,t=aR){let[o,r]=z(!1),[n,i]=z(!1),[a,s]=no(e);return M(()=>{let c=e.current.scrollWidth>e.current.clientWidth;c!==o&&r(c);let l=e.current.scrollHeight>e.current.clientHeight;l!==n&&i(l),or(a,s,...t)},[e,o,n,a,s,t]),[o,n]}function si(e,t){let[o]=ai(e,t);return o}function Ph(e,t){let[,o]=ai(e,t);return o}function te(e){let t=P();return t.current=e,t}function Eh({ref:e,enabled:t=!0,onDrag:o,onStart:r=()=>{},onEnd:n=()=>{}}){let i=te(o),a=te(r),s=te(n);M(()=>{if(!t)return;let c=e.current,l=null,p=null,m=Br(c,"mousedown",d=>{d.preventDefault(),a.current(d),i.current(d),l=Br(window,"mouseup",()=>{s.current(d),ii([l,p])}),p=Br(window,"mousemove",y=>{y.preventDefault(),i.current(y)})});return()=>ii([l,m,p])},[t,i,s,a,e])}function Mh(e,t,o,r=300){let n=P(0),i=P(0);function a(){n.current=0,clearTimeout(i.current)}G(e,"click",c=>{c.preventDefault(),n.current+=1,n.current===1&&(i.current=setTimeout(()=>{o&&o(),a()},r)),n.current===2&&(t(),a())})}function R(){return P()}function vr(){return P()}function br(){let[,e]=z(!0);return E(()=>e(t=>!t),[])}function Ze({target:e,onResize:t,ignoreObservationStart:o=!1},r=[]){let n=te(t);ee(()=>{let i=e instanceof Element?e:e&&e.current;if(!i)return;let a=o,s=new ResizeObserver(([c])=>{if(a){a=!1;return}n.current&&n.current(T(c).contentRect)});return s.observe(i),()=>{s.disconnect()}},[e,n,o,...r])}function sR(e,t,o,r){e.current!==void 0&&(clearTimeout(e.current),e.current=void 0),r<=0?t(o):e.current=setTimeout(()=>{e.current=void 0,t(o)},r)}function ci(e){let[t,o]=z(typeof e=="function"?e:()=>e),r=P(void 0),n=E((i,a)=>sR(r,s=>o(s),i,a),[]);return[t,n]}var _d=new WeakMap,Rh=(e,t)=>{let[,o]=z(()=>({})),r=P(),n=ka(t);return(!n||!ho(n,t))&&(r.current=e()),_d.has(o)||_d.set(o,i=>{r.current=i,o({})}),[r.current,_d.get(o)]};function va(e,t){let o=t&&t.crossOrigin;return new Promise((r,n)=>{let i=document.createElement("img");i.addEventListener(yt.LOAD,a),i.addEventListener(yt.ERROR,s),o&&(i.crossOrigin="Anonymous"),i.src=e;function a(){c(),r(i)}function s(){c(),n()}function c(){i.removeEventListener(yt.LOAD,a),i.removeEventListener(yt.ERROR,s)}})}var cR=10,qQ=cR*1024*1024,Ih=["png","jpg","jpeg","gif"],GQ=Ih.map(e=>`.${e}`);function Dh(){return Ih.slice()}function vc(e,t,o){let r=t[e];return r?Qt(r)?{keyValue:r,newKeys:t}:{keyValue:(Tr(r)||r)._,newKeys:r}:(O.error(`key not found: ${e}, path: ${o.join(".")}`),{keyValue:e,newKeys:t})}function bc(e,t,o){for(let r of Object.keys(t)){let{keyValue:n,newKeys:i}=vc(r,t,o);if(n===e&&r!=="_")return{key:r,newKeys:i}}return O.error(`cant find value: ${e}, path: ${o.join(".")}`),{key:e,newKeys:t}}var Bc=class{constructor(t){this.keys=t}};function v(e){return new Bc(e)}function Tr(e){return e instanceof Bc?e.keys:null}function bo(e,t,o){if(Xu(e))return e.map(n=>bo(n,t,o));let r=Tr(t);if(r)return Jn(e,n=>bo(n,A(r),o));if(ya(e)){let n={};return ha(e,(i,a)=>{let{keyValue:s,newKeys:c}=vc(a,t,o);n[s]=bo(i,c,[...o,a])}),n}return e}function Wt(e,t,o){if(Xu(e))return e.map(n=>Wt(n,t,o));let r=Tr(t);if(r)return Jn(e,n=>Wt(n,A(r),o));if(ya(e)){let n={};return ha(e,(i,a)=>{let{key:s,newKeys:c}=bc(a,t,o);n[s]=Wt(i,c,[...o,s])}),n}return e}function lR(e,t){let o=t,r=[],n=e.path.map(i=>{let a=Tr(o);if(a)return o=a,r.push(i),i;if(!Qt(i))return i;let{key:s,newKeys:c}=bc(i,o,r);return r.push(s),o=c,s});return{...e,path:n,value:Wt(e.value,o,r)}}function Ah(e,t){return e.map(o=>lR(o,t))}var Bd="data-focus-visible-added",vd="focus-visible";var Lh=Mt(bd());var Ge=Mt(bd()),wr=(e,...t)=>(0,Lh.declareAction)(e,...t);var qt=(0,Ge.createStore)();function Oh(){let e=[];return{add(t){let o=e.length?T(e[0]).state:null,r=t.state;if(o&&o.transactAction!==r.transactAction)throw new Error(`[model] states '${o.fullName}' and '${r.fullName}' belong to different models`);e.push(t)},commit(){for(;e.length;){let t=e.slice();e.length=0;let o=T(t[0]).state.transactAction;qt.dispatch(o(Zu(t,r=>r.state.fullName,r=>r.setArg)))}}}}var li=null,Tc=0;function Fh(){return li}function Kh(e){Tc===0&&!li&&(li=Oh()),++Tc;let t;try{e()}catch(o){t=o}if(--Tc,Tc===0&&li&&(t==null&&li.commit(),li=null),t!=null)throw t}function Nh({modelName:e,transactAction:t}){let o={},r=[];function n(l){if(o.hasOwnProperty(l))throw new Error(`[model ${e}] state '${l}' already defined`);return`${e}.${l}`}function i(l,p){let m=n(l),d=(0,Ge.declareAtom)([m],p,()=>{});return o[l]=d,{get:()=>qt.getState(d),subscribe:y=>qt.subscribe(d,y),fullName:m,atom:d,transactAction:t}}function a(l,p){let m=n(l),d=wr([`${m} [set]`]),y=(0,Ge.declareAtom)([m],p,C=>{C(d,$h),C(t,(S,_)=>_.hasOwnProperty(m)?$h(S,_[m]):S)});o[l]=y;let g={get:()=>qt.getState(y),subscribe:C=>qt.subscribe(y,C),set:h,mutate:C=>h(S=>(0,At.produce)(S,C)),fullName:m,atom:y,transactAction:t};function h(C){let S=Fh();S?S.add({state:g,setArg:C}):qt.dispatch(d(C))}return g}function s(l,p,m){let d=n(l),y=(0,Ge.combine)(Jn(p,h=>h.atom)),g=(0,Ge.map)(d,y,m);return o[l]=g,{get:()=>qt.getState(g),subscribe:h=>qt.subscribe(g,h),fullName:d,atom:g,transactAction:t}}function c(l,p,m,d){let y=n(l),g=(0,Ge.combine)(y,Jn(p,h=>h.atom));o[l]=g,r.push(()=>{if(d){let h=qt.getState(g);m(h)}return qt.subscribe(g,m)})}return{const:i,def:a,map:s,effect:c,subscribe:()=>{let l=(0,Ge.combine)(o),p=qt.subscribe(l,()=>{}),m=r.map(d=>d());return()=>{m.map(d=>d()),p()}}}}function $h(e,t){return typeof t=="function"?t(e):t}var Td={};function pR(e){return fa(Td[e])&&(Td[e]=0),Td[e]++}function zh(e){let t=P(e),o=D(()=>{let r=t.current.parentModel,n=r?`${r.name}.${t.current.name}`:t.current.name,i=r?r.transactAction:wr([ct()]),a=Nh({modelName:`${n}#${pR(n)}`,transactAction:i}),s=t.current.getStates(a),c=t.current.getActions(s),l=t.current.defEffects;return l&&l(a,s,c),{name:n,states:s,actions:c,transactAction:i,subscribe:a.subscribe}},[]);return M(()=>o.subscribe(),[o]),o}function Hh(e){return zh(e)}var H=(e,t=o=>o)=>mR(e,t);function mR(e,t){let o=br(),r=te(t(e.get())),n=te(t);return M(()=>e.subscribe(i=>{let a=n.current(i);Object.is(a,r.current)||o()}),[r,n,e,o]),r.current}function Qh(e,t={}){return new Promise((o,r)=>{let n=new XMLHttpRequest;n.open(t.method||"get",e,!0);for(let a in t.headers)t.headers.hasOwnProperty(a)&&n.setRequestHeader(a,t.headers[a]);n.withCredentials=t.credentials==="include",n.onload=()=>{o(i())},n.onerror=r,n.send(t.body);function i(){let a=[],s=[],c={},l;return n.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(p,m,d)=>(a.push(m=m.toLowerCase()),s.push([m,d]),l=c[m],c[m]=l?`${l},${d}`:d,"")),{ok:(n.status/100|0)===2,status:n.status,statusText:n.statusText,url:n.responseURL,clone:i,text:()=>Promise.resolve(n.responseText),json:()=>Promise.resolve(n.responseText).then(p=>JSON.parse(p)),blob:()=>Promise.resolve(new Blob([n.response])),headers:{keys:()=>a,entries:()=>s,get:p=>c[p.toLowerCase()],has:p=>p.toLowerCase()in c}}}})}async function wd(e){let t=await Qh(e);return t.ok?t.json():null}function Uh(e){return new Promise((t,o)=>{let r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){let n=r.response;t(new Blob([n]))},r.onerror=o,r.send(null)})}var Pr=class{constructor(t){this.Type=t}};function qh(e,t){return new Promise((o,r)=>{if(e=e,typeof e.arrayBuffer=="undefined"){let n=new FileReader;st(n,yt.LOAD_END,()=>{n.result||r();let i=n.result;o(Wh(i,t))}),st(n,yt.ERROR,r),n.readAsArrayBuffer(e)}else e.arrayBuffer().then(n=>o(Wh(n,t))).catch(r)})}function Wh(e,t){let o=T(new Uint32Array(e.slice(0,Uint32Array.BYTES_PER_ELEMENT))[0]),r=new Uint8Array(e.slice(Uint32Array.BYTES_PER_ELEMENT)),{Type:n}=t(o),i=n.decode(r),a=n.toObject(i);return{version:o,data:a}}var Er=Mt(jh()),Yh=Er.Type,ba=Er.Field,uR=Er.Root;var wc={string:"string",int:"int32",float:"float",bool:"bool"},dR=0,xt={String:e=>Z(e,wc.string),Int:e=>Z(e,wc.int),Bool:e=>Z(e,wc.bool),Float:e=>Z(e,wc.float)},fR=new uR;function U(e,t){t=t||`Type${++dR}`;let o=new Yh(t);for(let r of Object.keys(e)){let n=T(e[r]),i=n.ref;if(typeof i=="string")o=o.add(new ba(r,n.id,i,n.rule));else if(i instanceof Yh){let a=i;o=o.add(new ba(r,n.id,a.name,n.rule))}else{let a=U(i);o=o.add(new ba(r,n.id,a.name,n.rule))}}return fR.add(o),o}function Z(e,t,o="required"){return{id:e,ref:t,rule:o}}function me(e,t){return typeof t=="function"&&(t=t(e).ref),Z(e,t,"repeated")}function de(e,t){return typeof t=="function"&&(t=t(e).ref),Z(e,t,"optional")}function Lt(e){let t="type",o=U({}),r=U({}).add(new ba(t,0,"string","required"));for(let n of Object.keys(e))e[n]=T(e[n]).add(new ba(t,0,"string","required"));return o.fromObject=function(n){return T(e[n[t]]).fromObject(n)},o.toObject=function(n){return T(e[n[t]]).toObject(n)},o.encode=function(n,i){return T(e[n[t]]).encode(n,i)},o.decode=function(n,...i){if(n instanceof Er.Reader){let a=n.pos,s=r.decode(n,...i),c=T(e[s[t]]);return n.pos=a,c.decode(n,...i)}throw new Error("top level union is not supported")},o.verify=function(n){let i=T(e[n[t]]);return i?i.verify(n):`unknown type ${n[t]}`},o}function Xh(e){let t=e.length;if(!t)return 0;let o=0;for(;--t%4>1&&e.charAt(t)==="=";)++o;return Math.ceil(e.length*3)/4-o}var gR=new Array(64),Jh=new Array(123);for(let e=0;e<64;)Jh[gR[e]=e<26?e+65:e<52?e+71:e<62?e-4:e-59|43]=e++;var Zh="invalid encoding";function ex(e,t,o=0){let r=o,n=0,i;for(let a=0;a<e.length;){let s=e.charCodeAt(a++);if(s===61&&n>1)break;if((s=Jh[s])===void 0)throw Error(Zh);switch(n){case 0:i=s,n=1;break;case 1:t[o++]=i<<2|(s&48)>>4,i=s,n=2;break;case 2:t[o++]=(i&15)<<4|(s&60)>>2,i=s,n=3;break;case 3:t[o++]=(i&3)<<6|s,n=0;break}}if(n===1)throw Error(Zh);return o-r}function tx(e,t){let o=new Uint8Array(Xh(e));ex(e,o);let r=T(new Uint32Array(o.buffer.slice(0,Uint32Array.BYTES_PER_ELEMENT))[0]),n=new Uint8Array(o.buffer.slice(Uint32Array.BYTES_PER_ELEMENT)),{Type:i}=t(r),a=i.decode(n);return i.toObject(a)}function Mr(e,t=[]){let o=D(()=>wh(e),[e]);return M(()=>{let r=e.current;if(!r)return;let n=()=>o.onScroll.dispatch();return r.addEventListener("scroll",n),()=>r.removeEventListener("scroll",n)},[e,o.onScroll,...t]),o}function ox(e,t){M(()=>{if(t)return t(),e.onScroll.add(t)},[t,e])}function Rr(e){return e.order.length}function Pc(e,t,o){e.order.includes(t)||e.order.push(t),e.blocks[t]=o}function ze(e){let t=[];return ue(e,o=>{t.push(o)}),t}function Ir(){return{order:[],blocks:{}}}function Ve(e,t){let o=Ir();for(let r of e){let n=t(r);o.order.push(n),o.blocks[n]=r}return o}function yR(e,t){if(t<0||t>=e.order.length)return null;let o=e.order[t];return e.blocks[o]}function ot(e){return yR(e,0)}function pi(e,t){if(t<0||t>=e.order.length)return null;let o=e.order[t];return e.blocks[o]}function rx(e){return pi(e,0)}function nx(e){return pi(e,e.order.length-1)}function ix(e,t){let o=e.order.indexOf(t);return pi(e,o-1)}function ax(e,t){let o=e.order.indexOf(t);return pi(e,o+1)}function ue(e,t){e.order.forEach((o,r)=>{t(e.blocks[o],r)})}function fe(e,t){let o=Ir();return e.order.forEach(r=>{let n=t(e.blocks[r]);o.order.push(r),o.blocks[r]=n}),o}function sx(e,t){e.order.forEach(o=>{t(e.blocks[o])})}function cx(e,t,o){let r=e.order.indexOf(t);e.order.splice(r+1,0,o.key),e.blocks[o.key]=o}function Ta(e,t){e.order.push(t.id),e.blocks[t.id]=t}function Pd(e,t){e.order.push(t.key),e.blocks[t.key]=t}function mi(e,t){let o=e.order.indexOf(t);e.order.splice(o,1),delete e.blocks[t]}function Ec(e,t,o){e.order.includes(t)&&(delete e.blocks[t],e.order[e.order.indexOf(t)]=o.key,e.blocks[o.key]=o)}function nr(e,t){return{left:e.x,top:e.y,right:e.x+t.width,bottom:e.y+t.height}}function lx(e){let t=yn(e),o=oi(e),r=Ba(o);return rr(t,Th(r,_c(2)))}function hR(e,t){return e.right>=t.left&&e.left<=t.right&&e.bottom>=t.top&&e.top<=t.bottom}function px(e,t){if(!hR(e,t))return null;let o=Math.max(e.left,t.left),r=Math.max(e.top,t.top),n=Math.min(e.right,t.right),i=Math.min(e.bottom,t.bottom),a=n-o,s=i-r;return a*s}function mx(e){return{width:e.right-e.left,height:e.bottom-e.top}}function ux(e){return new URL(e).host.toLowerCase()}function dx(e,t,o=200){let r=D(()=>ac(()=>{},o),[o]);G(e,"touchstart",()=>{r.call()}),G(e,"touchend",n=>{r.isPending()&&(n.preventDefault(),t&&t()),r.cancel()})}var Mc=class{constructor({initialVersion:t,upgraders:o,fixers:r=[]}){this._initialVersion=t,this._upgraders=new Map,o.forEach((n,i)=>{this._validateUpgrader(t,n,i),this._upgraders.set(n.targetVersion,n.upgradeFn)}),this._fixers=new Map,r.forEach(n=>this._fixers.set(n.targetVersion,n.fixFn))}upgradeDocument(t,o){let r=!1;if(o.from===o.to){let i=this._fixDocument(t,o.to);return{upgradedDocument:i.document,isDocumentFixed:i.fixed}}if(o.from<this._initialVersion||o.to>this._initialVersion+this._upgraders.size)throw new Error;let n=this._fixDocument(t,o.from);t=n.document,r=n.fixed;for(let i=o.from+1;i<=o.to;++i)t=A(this._upgraders.get(i))(t),n=this._fixDocument(t,i),t=n.document,r=r||n.fixed;return{upgradedDocument:t,isDocumentFixed:r}}_fixDocument(t,o){let r=this._fixers.get(o),n={document:t,fixed:!1};return r&&(n=r(t)),{document:n.document,fixed:n.fixed}}_validateUpgrader(t,{targetVersion:o},r){if(t!==o-r-1)throw new Error}};function ce(e){return e}function To({document:e,initialVersion:t,versionFrom:o,versionTo:r,upgraders:n,fixers:i}){return new Mc({initialVersion:t,upgraders:n,fixers:i}).upgradeDocument(e,{from:o,to:r})}function fx(e){return e.map(t=>`.${t}`)}function Ed(e,t){let o=wr([`[set]${e}`]);return[(0,Ge.declareAtom)([e],t,n=>[n(o,(i,a)=>a)]),o]}var xR=Ne(null);function SR(){let e=re(xR);if(!e)throw new Error("[reatom] The provider is not defined");return e}function CR(e){let t=SR();if(typeof e!="function")throw new TypeError("[reatom] `useAction` argument must be a function");let r=E(n=>{let i=e(n);i&&t.dispatch(i)},[]);return r}var gx=CR;function yx(e,t){e.push(t),e.length>3&&(e[e.length-3-1].markedAsRemoved=!0)}function hx(e,t){if(!e.length)return[t];let o=e.findIndex(l=>l.important),r=e.findIndex(l=>!l.important),n=r==-1,i=o==-1,a=e.filter(l=>l.important),s=e.filter(l=>!l.important);t.important?yx(a,t):yx(s,t);let c;return i?c=[...s,...a]:n?c=[...a,...s]:o<r?c=[...a,...s]:c=[...s,...a],c}function xx(e,t){return e.filter(o=>o.id!==t)}var wa=Vt(),Sx=Vt();function xn(e){let t=ct();switch(e.type){case"basic":case"warning":case"critical":wa.dispatch({id:t,type:e.type,important:e.important,text:e.text,onClose:e.onClose});break;case"withLoad":wa.dispatch({id:t,type:e.type,important:e.important,text:e.text,operationCompletePromise:e.operationCompletePromise,onClose:e.onClose});break;case"withLoadAndCancel":wa.dispatch({id:t,type:e.type,important:e.important,text:e.text,operationCompletePromise:e.operationCompletePromise,cancelButtonLabel:e.cancelButtonLabel,onCancel:e.onCancel,onClose:e.onClose});break;case"confirm":wa.dispatch({id:t,type:e.type,important:e.important,text:e.text,doneButtonLabel:e.doneButtonLabel,cancelButtonLabel:e.cancelButtonLabel,onCancel:e.onCancel,onDone:e.onDone,onClose:e.onClose});break;default:N(e);break}return t}function ui(e){Sx.dispatch(e)}function Cx(){let[e,t]=z(()=>[]),{unsubAdd:o,unsubRemove:r}=D(()=>({unsubAdd:wa.add(n=>t(i=>hx(i,n))),unsubRemove:Sx.add(n=>t(i=>xx(i,n)))}),[]);return ee(()=>()=>{o(),r()},[o,r]),e}var Md;function di(e,t){return o=>{let r=Md==null?void 0:Md[e];return(r?r(o):t(o))||by}}var Rd=di("showCriticalToast",({text:e,important:t=!1})=>{xn({type:"critical",important:t,text:e})});var kx=di("showBasicToast",({text:e,important:t=!1,onClose:o})=>{xn({type:"basic",important:t,text:e,onClose:o})});var _R=di("showWarningToast",({text:e,important:t=!1})=>{xn({type:"warning",important:t,text:e})});var cY=di("showToastWithLoad",({text:e,operationCompletePromise:t})=>{xn({type:"withLoad",text:e,important:!0,operationCompletePromise:t})});var lY=di("showToastWithLoadAndCancel",({text:e,operationCompletePromise:t,onCancel:o})=>{xn({type:"withLoadAndCancel",text:e,important:!0,operationCompletePromise:t,cancelButtonLabel:B("Common.Toasts.CancelButtonLabel"),onCancel:o})});var pY=di("showConfirmToast",({text:e,onDone:t,onCancel:o})=>{let r=xn({type:"confirm",text:e,important:!0,doneButtonLabel:B("Common.Done"),cancelButtonLabel:B("Common.Cancel"),onCancel:o,onDone:t});return()=>ui(r)});function _x(e,t=document.documentElement){return getComputedStyle(t).getPropertyValue(e)}function Bx(e,t,o=document.documentElement){o.style.setProperty(e,t)}function Id(e){let t=document.createElement("span");return t.innerText=e,t.innerHTML}function Xe(...e){return e.filter(Xn).join(" ")}function vx(e,t){let o=t?to:ju;return(r,n,...i)=>{let a=o(r),s=[a];n&&Object.entries(n).forEach(([l,p])=>{let m=o(l);By(p)?p&&s.push(`${a}_${m}`):Qt(p)?s.push(`${a}_${m}_${o(p)}`):yr(`invalid mod type: {${l}: ${String(p)}}`)});let c=s.map(l=>e[l]);return Xe(...c,...i)}}function u(e){let t=vx(e),o={};return My(e,(r,n)=>{let[i,a]=n.split("_",2);if(!i)return;let s=o[i];!a&&Gu(s)?o[i]=r:a&&!mn(s)&&(o[i]={withMods:c=>t(i,c)})}),o}var Rc=null;function bx(e){if(Rc){O.warn("direction has already been declared");return}BR(e)}function BR(e){Rc=e,document.documentElement.dir=e}function io(){return Rc||(O.warn("direction is not initialized"),"ltr")}function fi(){return io()==="rtl"}var Pa="id";var Tx="state";var wx="comp";function j(e){if(e)return typeof e=="string"&&(e={[Pa]:e}),Object.entries(e).filter(([t,o])=>eo(o)).map(([t,o])=>`${t}=${o}`).join(";")}function Ea({elementSize:e={width:0,height:0},popoverSize:t,side:o,align:r,offsetX:n=0,offsetY:i=0}){let a={x:0,y:0};switch(o){case"top":a.y=-t.height-i;break;case"bottom":a.y=e.height+i;break;case"left":a.x=-t.width-n;break;case"right":a.x=e.width+n;break;default:N(o)}switch(r){case"start":switch(o){case"top":case"bottom":a.x=n;break;case"right":case"left":a.y=i;break;default:N(o)}break;case"center":switch(o){case"top":case"bottom":a.x=(e.width-t.width)/2;break;case"right":case"left":a.y=(e.height-t.height)/2;break;default:N(o)}break;case"end":switch(o){case"top":case"bottom":a.x=e.width-t.width-n;break;case"right":case"left":a.y=e.height-t.height-i;break;default:N(o)}break;default:N(r)}return a}function Dd(e,t,o){let r=0;switch(e){case"top":r=o.top-t.top;break;case"right":r=t.right-o.right;break;case"bottom":r=t.bottom-o.bottom;break;case"left":r=o.left-t.left;break;default:N(e)}return Math.max(0,r)}function Ad(e,t,o,r){let n=0;switch(t){case"start":switch(e){case"top":case"bottom":n=o.right-r.right;break;case"right":case"left":n=o.bottom-r.bottom;break;default:N(e)}break;case"center":switch(e){case"top":case"bottom":n=Math.max(o.right-r.right,r.left-o.left);break;case"right":case"left":n=Math.max(o.bottom-r.bottom,r.top-o.top);break;default:N(e)}break;case"end":switch(e){case"top":case"bottom":n=r.left-o.left;break;case"right":case"left":n=r.top-o.top;break;default:N(e)}break;default:N(t)}return Math.max(0,n)}function Vd(e){switch(e){case"top":return"bottom";case"right":return"left";case"bottom":return"top";case"left":return"right";default:throw N(e),new Error}}function Ld(e){switch(e){case"start":return"end";case"center":throw new Error;case"end":return"start";default:throw N(e),new Error}}function Px(e,t,o){switch(e){case"top":case"bottom":if(t.right>=o.right)return"end";if(t.left<=o.left)return"start";break;case"right":case"left":if(t.bottom>o.bottom)return"end";if(t.top<o.top)return"start";break;default:N(e)}return"center"}function Ex(e,t){switch(e){case"right":case"left":return{side:Vd(e),align:t};case"top":case"bottom":return{side:e,align:t==="center"?t:Ld(t)};default:throw N(e),new Error}}function gi(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.707 5.707a1 1 0 0 0-1.414-1.414L10 8.586 5.707 4.293a1 1 0 0 0-1.414 1.414L8.586 10l-4.293 4.293a1 1 0 1 0 1.414 1.414L10 11.414l4.293 4.293a1 1 0 0 0 1.414-1.414L11.414 10l4.293-4.293z" fill="currentColor"/></svg>
`}function Mx(e,t){ee(()=>{for(let o in t)t.hasOwnProperty(o)&&e.current.setAttributeNS(null,o,t[o].toString())},[e,...Object.keys(t),...Object.keys(t).map(o=>t[o])])}var Sn=8;function Ic(e){switch(e){case"top":return"bottom";case"bottom":return"top";case"left":return"right";case"right":return"left";default:throw N(e),new Error}}function vR(e){switch(e){case"start":return"end";case"center":return"center";case"end":return"start";default:throw N(e),new Error}}function Dr(e){switch(e){case"start":return 0;case"center":return-.5;case"end":return-1;default:throw N(e),new Error}}function bR(e,t){switch(e){case"top":return{x:Dr(t),y:-1};case"bottom":return{x:Dr(t),y:0};case"left":return{x:-1,y:Dr(t)};case"right":return{x:0,y:Dr(t)};default:throw N(e),new Error}}function TR(e,t){switch(e){case"top":return{x:-Dr(t),y:0};case"bottom":return{x:-Dr(t),y:1};case"left":return{x:0,y:-Dr(t)};case"right":return{x:1,y:-Dr(t)};default:throw N(e),new Error}}function Od({component:e,overlaySize:t,side:o,align:r,offset:n}){let i=oi(e),a=hn(Ba(t),bR(o,r)),s=hn(Ba(i),TR(o,r)),c=rr(yn(e),a);return c=rr(c,n),c=rr(c,s),c}function Fd(e){switch(e.side){case"top":case"bottom":return hn(e.offset,{x:1,y:-1});case"left":case"right":return hn(e.offset,{x:-1,y:1});default:throw N(e.side),new Error}}function Rx(e,t,o){function r([n,i],[a,s]){return a<n||i<s}switch(e){case"top":case"bottom":return r([t.top,t.bottom],[o.top,o.bottom]);case"left":case"right":return r([t.left,t.right],[o.left,o.right]);default:throw N(e),new Error}}function wR({viewPort:e,component:t,overlaySize:o,side:r,align:n,offset:i}){return Rx(r,e,nr(Od({side:r,component:t,overlaySize:o,align:n,offset:i}),o))&&!Rx(Ic(r),e,nr(Od({side:Ic(r),component:t,overlaySize:o,align:n,offset:Fd({side:r,offset:i})}),o))}function PR({side:e,viewPort:t,overlay:o}){let r=([n,i],[a,s])=>{n+=Sn,i-=Sn;let c=s-a;return Math.max(n,Math.min(i,s)-c)};switch(e){case"top":case"bottom":return{x:r([t.left,t.right],[o.left,o.right]),y:o.top};case"left":case"right":return{x:o.left,y:r([t.top,t.bottom],[o.top,o.bottom])};default:throw N(e),new Error}}function ER(e,t,o){let r=fi()?MR(e,t):{side:e,align:t},n=r.side===e?o:Fd({side:r.side,offset:o});return{side:r.side,align:r.align,offset:n}}function Ma(e){let t=ER(e.side,e.align,e.offset);return e.side=t.side,e.align=t.align,e.offset=t.offset,wR(e)?Ic(e.side):e.side}function Dc(e){let t=Ma(e);return PR({viewPort:e.viewPort,side:t,overlay:nr(Od({...e,offset:t===e.side?e.offset:Fd(e),side:t}),e.overlaySize)})}function MR(e,t){switch(e){case"right":case"left":return{side:Ic(e),align:t};case"top":case"bottom":return{side:e,align:t==="center"?t:vR(t)};default:throw N(e),new Error}}var RR={pointer:"_llHY5E",pointer_color_purple:"_lG1pXf",pointer_color_dark:"_NRf2NJ"},Ix=RR;var IR=u(Ix),Ac=22;function DR({targetRect:e,hintRect:t}){if(t.left>=e.right)return"right";if(t.right<=e.left)return"left";if(t.top>=e.bottom)return"bottom";if(t.bottom<=e.top)return"top";throw new Error("Never")}function AR({hintSide:e,hintRect:t,targetRect:o}){let r=lx(o);switch(e){case"left":case"right":return r.y-t.top-Ac/2;case"top":case"bottom":return r.x-t.left-Ac/2;default:throw Qe(e),new Error}}function VR({hintSide:e,shift:t}){let o={left:"",right:"",top:"",bottom:""},r=J(e,{left:"top",right:"top",top:"left",bottom:"left"});return{...o,[e]:"calc(100% - 3px)",[r]:q(t-.5)}}function LR(e){return J(e,{left:"translateX(-6px) translateY(6px) rotate(90deg)",right:"translateX(6px) translateY(6px) rotate(-90deg)",top:"scaleY(-1)",bottom:""})}function Dx(e,{color:t,getHintRect:o,getTargetRect:r}){let n=P(),i=te(o),a=te(r);return Mx(n,{width:Ac,height:10,viewBox:`0 0 ${Ac} 10`}),M(()=>{let s=i.current(),c=a.current(),l=DR({hintRect:s,targetRect:c}),p=AR({hintSide:l,hintRect:s,targetRect:c}),m=VR({hintSide:l,shift:p});n.current.style.left=m.left,n.current.style.right=m.right,n.current.style.top=m.top,n.current.style.bottom=m.bottom,n.current.style.transform=LR(l)},[i,a,n]),e`
<svg
	xmlns="http://www.w3.org/2000/svg"
	save-ref=${n}
	class=${IR.pointer.withMods({color:t})}
>
	<path
		fill-rule="evenodd"
		clip-rule="evenodd"
		d="M10 0C13 0 15.9999 8 20 8H0C3.9749 8 7 0 10 0Z"
	/>
	<rect x="0" y="8" width="20" height="2"></rect>
</svg>
`}var OR={tooltip:"_Afudt6",content:"_7jxaMr",closeButton:"_RVpvRq",tooltip_text:"_08Ya4y",tooltip_size_small:"_HKoF1b",tooltip_size_large:"_SBazfI",tooltip_type_default:"_cDUFLT",tooltip_type_onboarding:"_ulDJqH",text:"_bQ5eII"},Ax=OR;var Vc=u(Ax);function Lc(e,t){let o=R(),{onClose:r=null,getPointerTargetRect:n,size:i="small",type:a="default",autotestData:s}=t,c=R();G(c,"mousedown",p=>p.stopPropagation());let l=t.contentType==="text"?f(KR,t.text):t.content;return G(o,"mousedown",r),e`
<div class=${Vc.tooltip.withMods({type:a,text:t.contentType==="text",size:i})}
	save-ref=${c}
	data-at=${j(s)}
>
	${e.renderIf(Dx,()=>n&&{color:FR(a),getTargetRect:n,getHintRect:()=>c.current.getBoundingClientRect()})}
	${e(l,Vc.content)}
	${e.renderIf(gi,()=>!!r,{className:Vc.closeButton,ref:o})}
</div>`}function FR(e){return J(e,{default:"dark",onboarding:"purple"})}function KR(e,t){return e`<div class=${Vc.text}>${t}</div>`}var $R=!1;function Vx({propName:e,defaultValue:t,units:o,element:r,getCurrentValue:n}){let i=window.getComputedStyle(r),a=i&&i.getPropertyValue(e),s=a?parseFloat(a):t,c=r.style.getPropertyValue(e);return{animate:l=>{r.style.setProperty(e,`${n(l,s)}${o||""}`)},complete:()=>{r.style.setProperty(e,c)},changedProperties:[e]}}function NR(e,t){return Vx({propName:"opacity",defaultValue:1,element:e,getCurrentValue:t})}function zR(e,t){return Vx({propName:"max-height",defaultValue:0,units:"px",element:e,getCurrentValue:t})}function HR(e,t,o){let r=e.style.transform,n=Ny(e);return{animate:i=>{let a=[n],s=o&&o(i);if(s!=null){let[l,p]=s;a.push(`translate(${l}px, ${p}px)`)}let c=t&&t(i);if(c!=null)if(typeof c=="number")a.push(`scale(${c})`);else{let[l,p]=c;l!=null&&a.push(`scaleX(${l})`),p!=null&&a.push(`scaleY(${p})`)}e.style.transform=a.join(" ")},complete:()=>{e.style.transform=r},changedProperties:["transform"]}}function QR({reducer:e,duration:t,abortSignal:o,before:r,after:n}){return new Promise(i=>{let a=Date.now(),s=!1,c=o?o.add(()=>{s=!0}):()=>{};function l(){let p=Bt(Date.now()-a,0,t),m=p/t;e.animate(m),s||p>=t?(c(),e.complete(),i(),n&&n()):requestAnimationFrame(l)}r&&r(),l()})}function Oc({opacity:e,maxHeight:t,scale:o,translate:r,duration:n,before:i,after:a}){return $R?{play:()=>Promise.resolve()}:{play:(s,c)=>QR({reducer:$y([e?NR(s,e):null,t?zR(s,t):null,o||r?HR(s,o,r):null].filter(eo)),duration:n,abortSignal:c,before:i&&(()=>T(i)(s)),after:a&&(()=>T(a)(s))})}}function Fc(e,t,o){let r=t-e;return n=>(o&&(n=o(n)),n>=1?t:e+r*n)}function Kc(e,t,o){let r=t[0]-e[0],n=t[1]-e[1];return i=>(o&&(i=o(i)),i>=1?t:[e[0]+r*i,e[1]+n*i])}function yi(e,t){let o=e.getBoundingClientRect(),r=!1;function n(){if(r)return;let i=e.getBoundingClientRect();(Math.round(i.top)!=Math.round(o.top)||Math.round(i.left)!=Math.round(o.left)||i.width!=o.width||i.height!=o.height)&&(o=i,t()),requestAnimationFrame(n)}return requestAnimationFrame(n),()=>{r=!0}}function $c(e,t){let o=te(t);M(()=>{if(e)return yi(e,o.current)},[e,o])}var Lx={};function Nc(e,t){Lx[e]=t}function wo(e){return Lx[e]||document.body}function zc({html:e,layer:t,createBinding:o,show:r,appearAnimation:n,hideAnimation:i}){let a=P(null),s=P(null),c=E(()=>{s.current&&(s.current.parentElement==t&&t.removeChild(s.current),s.current=null)},[t]),l=E(()=>{c();let d=a.current;d&&d.parentElement===t&&t.removeChild(d)},[c,t]);M(()=>l,[l]);let p=r?o():null,m=e(p);return ee(()=>{a.current!=m&&(m?(c(),m.style.position="absolute",O.assert(a.current==null),t.appendChild(m),n&&n(m)):a.current&&(s.current=a.current,i?i(a.current).then(c):c()),a.current=m)}),a}function Ox({getPopoverRect:e,side:t,align:o,rootElementRect:r,args:n,offset:i}){let a=e(i),s=Dd(t,a,r);if(s){let l=Vd(t),p=Ea({...n,side:l}),m=e(p);Dd(l,m,r)<s&&(n.side=l,i=p)}let c=Ad(n.side,o,a,r);if(c){let l=o=="center"?Px(n.side,a,r):Ld(o),p=Ea({...n,align:l}),m=e(p);Ad(n.side,l,m,r)<c&&(n.align=l,i=p)}return i}function UR(e,t){let o=e?e.getBoundingClientRect():{top:0,right:document.body.scrollHeight-document.body.offsetHeight?document.body.offsetWidth:window.innerWidth,bottom:document.body.offsetHeight,left:0};return{top:o.top+t.y,right:o.right+t.x,bottom:o.bottom+t.y,left:o.left+t.x}}function Hc({element:e,popover:t,isTopLayer:o,side:r,align:n,getOffset:i,autoInvert:a,rootElement:s}){let c=o?{x:window.pageXOffset,y:window.pageYOffset}:{x:0,y:0},l=UR(s,c),p=e.getBoundingClientRect(),m={width:p.width,height:p.height},d=Wy(t);function y(_){let x=_.x+p.left+c.x,b=_.y+p.top+c.y;return{left:x,top:b,right:x+d.width,bottom:b+d.height}}let g=i&&i()||{x:0,y:0},h=fi()?Ex(r,n):{side:r,align:n},C={elementSize:m,popoverSize:d,side:h.side,align:h.align,offsetX:g.x,offsetY:g.y},S=Ea(C);return a&&(S=Ox({getPopoverRect:y,side:h.side,align:h.align,rootElementRect:l,args:C,offset:S})),o&&(S.x+=p.left+c.x,S.y+=p.top+c.y),S}var Fx=500;function WR({tooltipElement:e,elementRef:t,position:o,setVisible:r,ignoreIsElementWithinViewport:n}){if(e.style.left="0",e.style.top="0",e.style.transform=`translateX(${o.x}px) translateY(${o.y}px)`,!n&&!qR(e))return e.style.display="none",r(!1,0),Promise.resolve();let i=o.y>t.current.getBoundingClientRect().top?-5:5;return Oc({opacity:Fc(0,1),translate:Kc([0,i],[0,0]),duration:150}).play(e)}function Kx({html:e,elementRef:t,container:o,show:r=!0,stayOnHover:n=!1,side:i="top",align:a="center",offset:s={x:0,y:8},appearDelay:c=Fx,hideDelay:l=n?Fx:0,isPreventDefaultClick:p=!1,ignoreIsElementWithinViewport:m=!1}){let d=P(null),y=P(null),[g,h]=ci(!1);M(()=>{or(r),r||h(!1,l)},[l,h,r]),G(t,"mouseover",()=>h(!0,c)),G(t,"mouseout",()=>h(!1,l)),G(t,"click",S=>p&&S.preventDefault());let C=zc({html:e,layer:wo("tooltip"),createBinding:()=>o,show:r&&g,appearAnimation:S=>{function _(){return Hc({element:t.current,popover:S,side:i,align:a,isTopLayer:!0,getOffset:()=>s,autoInvert:!0})}return d.current=yi(t.current,()=>h(!1,0)),WR({elementRef:t,tooltipElement:S,position:_(),setVisible:h,ignoreIsElementWithinViewport:!!m}).then(()=>{y.current=new ResizeObserver(()=>{let x=_();S.style.transform=`translateX(${x.x}px) translateY(${x.y}px)`}),y.current.observe(S)})},hideAnimation:()=>(d.current&&(d.current(),d.current=null),y.current&&(y.current.disconnect(),y.current=null),Promise.resolve())});return ee(()=>{let S=C.current;if(!n||!S)return;let _=()=>h(!0,0),x=()=>h(!1,l);return S.addEventListener("mouseover",_),S.addEventListener("mouseout",x),()=>{S.removeEventListener("mouseover",_),S.removeEventListener("mouseout",x)}}),{visible:g,setVisible:h}}function qR(e){let t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function $x(e){Kx({...e,container:f(Lc,{contentType:"text",text:e.text,size:e.size,autotestData:e.autotestData})})}function Ot(e){$x(e)}var GR={text:"_EfznYL"},Nx=GR;var jR=u(Nx);function vt(e,{text:t,disableTooltip:o,autotestData:r}){let n=R(),i=si(n,[typeof t=="string"?t:t.html]);return Ot({html:e,elementRef:n,text:t,show:!o&&i}),e`
<div
	class=${jR.text}
	save-ref=${n}
	data-at=${j(r)}
>
	${t}
</div>`}function Po(e,{focused:t,onFocusedChange:o}){if(ie(t)&&!ie(o))throw new Error("useFocusProps: `focused` requires `onFocusedChange`");M(()=>{if(!ie(t))return;let r=e.current,n=r===document.activeElement;t&&!n?(r.focus(),r.setAttribute(Bd,""),r.classList.add(vd)):!t&&n&&(r.blur(),r.removeAttribute(Bd),r.classList.remove(vd))},[t,e]),G(e,"focus",()=>{o&&o(!0)}),G(e,"blur",()=>{o&&o(!1)})}var YR={preloader:"_FDIdy2",spin:"_nboHb-",preloader_size_tiny:"_MkFXLX",preloader_size_small:"_NaXn-A",preloader_size_medium:"_Hdeggp",preloader_color_accent:"_IU66o1",preloader_color_subdued:"_Euyv5Q",preloader_color_onColor:"_N3JSoS"},zx=YR;var ZR=u(zx);function Ar(e,{size:t="medium",color:o="accent"}){return e`
<div
	class=${ZR.preloader.withMods({size:t,color:o})}
>
	<svg
		viewBox="0 0 32 32"
		xmlns="http://www.w3.org/2000/svg"
	>
		<path
			d="M30 16C30 23.732 23.732 30 16 30C8.26801 30 2 23.732 2 16C2 8.26801 8.26801 2 16 2"
			stroke="currentColor"
			stroke-width="2.5"
			stroke-linecap="round"
			fill="none"
		/>
	</svg>
</div>
`}var XR={button:"_jwZrnS",button_radius_default:"_n_Vogz",button_radius_circle:"_K1i24-",button_cursor_pointer:"_wsTb6U",button_cursor_grab:"_0tGs9Z",button_cursor_grabbing:"_lpacT8",button_size_xSmall:"_j8CWsg",button_spacing_none:"_BFBWjF",button_size_small:"_cbfq3R",button_size_medium:"_puUSrc",button_size_large:"_qDrv2N",button_size_xLarge:"_ql_TEb",button_spacing_default:"_o8aqb0",button_minWidth:"_irpium",button_spacing_icon:"_78h3H4",icon:"_r_aFXH",text:"_zqh9vG",button_bold:"_ONKU2Z",button_loading:"_euyv-r",preloader:"_mGBJw2",link:"_YwSBCF"},Hx=XR;var JR={button:"_c8SarF",text:"_Nai8XJ",icon:"_SqDEoa",button_pressed:"_uH3qPY",preloader:"_rBE_40"},Qx=JR;var eI={button:"_2Sgztl",text:"_iSJYT9",icon:"_Gay6bZ",button_pressed:"_Njl_dC",preloader:"_mrUBZh"},Ux=eI;var tI={button:"_Rgok0q",icon:"_xetwxc",text:"_vRxME9",button_pressed:"_hLkcRi",preloader:"_8uQbKU"},Wx=tI;var oI={button:"_QhieYK",text:"_bGOWJd",icon:"_Yf8_Gk",button_pressed:"_qOYQ05",preloader:"_dgT2u-"},qx=oI;var rI={button:"_ndBqdR",icon:"_MCY-We",text:"_z_zbRK",button_pressed:"_SH4bv-",preloader:"_NZLYOq"},Gx=rI;var nI={button:"_ZF8435",text:"_WFt2dw",icon:"_1QSMus",button_pressed:"_kBeSpB",preloader:"_EWwKRa"},jx=nI;var iI={button:"_448cW1",text:"_WVO116",icon:"_GF0w9v",button_pressed:"_sFb1-w",preloader:"_uB50TO"},Yx=iI;var aI={button:"_vk3PAi",text:"_EdvtU7",icon:"_b9f7UC",button_pressed:"_edlrFT",preloader:"_hYDfG2"},Zx=aI;var sI={button:"_p58FE6",text:"_SYYFsS",icon:"_hjl3U-",button_pressed:"_rDtwUU",preloader:"_4_N_UG"},Xx=sI;var cI={button:"_n4RhCi",text:"_xdVU9a",icon:"_Us9Pqx",button_pressed:"_TxzixR",preloader:"_wnwEZ4"},Jx=cI;var lI={button:"_DdKph6",icon:"_cKMXBn",text:"_37HMvz",button_pressed:"_EXXwly",preloader:"_g0P9Xw"},eS=lI;var pI={button:"_9bTZEo",text:"_EK5Rj_",icon:"_zhsTwo",button_pressed:"_mEt_No",preloader:"_MFqBHE"},tS=pI;var mI={button:"_8wF32g",icon:"_qDWo2D",text:"_faN7Vg",button_pressed:"_52AYpy",preloader:"_QS91dP"},oS=mI;var uI={button:"_2R6hr8",text:"_U9XVvk",icon:"_I7-QKt",button_pressed:"_gjWRS3",preloader:"_dxwc5r"},rS=uI;var dI={button:"_usFNBI",icon:"_WPSmos",text:"_LkhqIU",button_pressed:"_MNK4_5",preloader:"_xp_gIZ"},nS=dI;var hi=u(Hx),fI=u(eS),gI=u(oS),yI=u(rS),hI=u(Wx),xI=u(Gx),SI=u(nS),CI=u(qx),kI=u(jx),_I=u(Yx),BI=u(Zx),vI=u(Xx),bI=u(Jx),TI=u(Ux),wI=u(tS),PI=u(Qx);function iS(e,t){let o=R(),{size:r="medium",state:n="default",minWidth:i=!0,tooltip:a,cursor:s="pointer",radius:c="default",spacing:l="default",autotestData:p}=t,{iconLeft:m,text:d,iconRight:y}=RI(t),g=n==="loading",h=g||n==="disabled";function C(x){!h&&!x.defaultPrevented&&t.onClick&&(x.preventDefault(),t.onClick())}let S=J(t.style,{primary:fI,secondary:gI,destructive:hI,ghostDestructive:xI,warning:SI,ghost:CI,ghostInversed:kI,link:_I,linkInversed:BI,linkSecondary:vI,linkSecondaryAlpha:bI,complementary:TI,secondaryInversed:yI,promo:wI,aiPrimary:PI}),_=Xe(hi.button.withMods({size:r,spacing:t.structure==="icon"&&l==="default"?"icon":l,minWidth:t.structure!=="icon"&&i,loading:g,bold:DI(t.style),radius:c,cursor:s}),S.button.withMods({pressed:n==="pressed"}));return Ot({html:e,elementRef:o,show:!!a,text:typeof a=="string"?a:typeof a=="object"?a.text:"",size:typeof a=="object"?a.size:void 0,side:typeof a=="object"?a.side:void 0,align:typeof a=="object"?a.align:void 0,offset:typeof a=="object"?a.offset:void 0}),Po(o,t),e`
<button
	class=${_}
	disabled=${h}
	onclick=${C}
	save-ref=${o}
	data-at=${j(p)}
>
	${e.renderIf(aS,()=>!!m&&{className:Xe(hi.icon,S.icon),tooltip:a,icon:m})}
	${e.renderIf(EI,()=>!!d&&{className:Xe(hi.text,S.text),text:d,disableTooltip:!!a})}
	${e.renderIf(aS,()=>!!y&&{className:Xe(hi.icon,S.icon),icon:y})}
	${e.renderIf(MI,()=>g&&{className:Xe(hi.preloader,S.preloader),color:II(t.style)})}
</button>
`}function aS(e,{className:t,icon:o}){return e`
<div class=${t}>
	${e(o)}
</div>
`}function EI(e,{className:t,text:o,disableTooltip:r}){return e`
<div class=${t}>
	${e(vt,{text:o,disableTooltip:r})}
</div>
`}function MI(e,{className:t,color:o}){return e`
<div class=${t}>
	${e(Ar,{size:"small",color:o})}
</div>
`}function RI(e){switch(e.structure){case"icon":return{iconLeft:e.icon,text:null,iconRight:null};case"text":return{iconLeft:null,text:e.text,iconRight:null};case"iconAndText":return{iconLeft:e.icon,text:e.text,iconRight:null};case"textAndIcon":return{iconLeft:null,text:e.text,iconRight:e.icon};case"iconAndTextAndIcon":return e;default:throw Qe(e),new Error}}function II(e){return J(e,{primary:"onColor",secondary:"subdued",destructive:"onColor",ghostDestructive:"subdued",warning:"onColor",ghost:"subdued",ghostInversed:"onColor",link:"subdued",linkInversed:"onColor",linkSecondary:"subdued",linkSecondaryAlpha:"subdued",complementary:"subdued",secondaryInversed:"onColor",promo:"onColor",aiPrimary:"onColor"})}function DI(e){return J(e,{primary:!0,secondary:!0,destructive:!0,ghostDestructive:!0,warning:!0,ghost:!0,ghostInversed:!0,link:!1,linkInversed:!1,linkSecondary:!1,linkSecondaryAlpha:!1,complementary:!0,secondaryInversed:!0,promo:!0,aiPrimary:!0})}function Le(e,t){return t.link?e`
<a
	href=${t.link.href}
	target=${t.link.target}
	class=${hi.link}
>
	${e(iS,{...t,onClick:void 0})}
</a>`:iS(e,t)}var AI={toast:"_2vFN6A",text:"_v9S4L_"},Vr=AI;var VI=u(Vr);function xi(e,{text:t}){return e`
<div class=${VI.text}>
	${{html:t}}
</div>`}var LI={toast:"_7Trlqt",content:"_fTvqKk",button:"_9bK29U"},sS=LI;var OI=u(Vr),Kd=u(sS);function cS(e,{text:t,doneButton:o,cancelButton:r}){return e`
<div
	class=${`${OI.toast} ${Kd.toast}`}
>
	${e.switch(()=>typeof t=="function"?t(r==null?void 0:r.onClick):f(xi,{text:t}))}
    ${e(Le,{style:"secondaryInversed",structure:"text",text:o.label,onClick:o.onClick,size:"small"},Kd.button)}
    ${e.renderIf(Le,()=>r&&{style:"ghostInversed",structure:"text",text:r.label,onClick:r.onClick,size:"small"},Kd.button)}
</div>`}function lS(e){return e`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="m4.5 11.5 7-7m0 7-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
`}var FI={toast_type_critical:"_IhO_zG",toast_type_basic:"_ASToTg",toast_type_warning:"_bkFxJ-",closeIcon:"_M-bbd8"},pS=FI;var KI=u(Vr),mS=u(pS);function uS(e,{type:t,text:o,onClose:r}){let n=R();ee(()=>{n.current.setAttribute("data-at",j(`toast-${t}-close-button`)||"")},[n,t]),G(n,"click",r),dx(n,r);let i=mS.toast.withMods({type:t});return e`
<div
	class=${`${KI.toast} ${i}`}
	data-at=${j(`toast-${t}`)}
>
	${e.switch(()=>typeof o=="function"?o(r):f(xi,{text:o}))}
	${e(lS,{},{ref:n,className:mS.closeIcon})}
</div>`}var $I={fadeInAnimation:"_L1C4YC",fadeInWithShift:"_OUdLkD",fadeOutAnimation:"_zM02OM",fadeOutWithShift:"_m43EOl"},Si=$I;var NI=u(Si);function Ci(e){ee(()=>{Ca({"--toast-fade-in-duration":`${240}ms`,"--toast-fade-out-duration":`${120}ms`}),Dt(e.current,"--shift-animation-height",`-${e.current.clientHeight+e.current.style.marginBottom}px`),e.current.classList.add(NI.fadeInAnimation)},[e])}var zI=u(Si);function $d(e,t,o){let r=P(void 0),n=P(void 0),i=!o.important,a=E(()=>{r.current!==void 0&&clearTimeout(r.current),n.current!==void 0&&clearTimeout(n.current)},[]),s=E(()=>{a(),e.current.classList.add(zI.fadeOutAnimation),n.current=setTimeout(()=>ui(t),120)},[t,e,a]),c=E(()=>{r.current=setTimeout(()=>s(),4e3)},[s]);return M(()=>(i&&(c(),e.current.onmouseenter=a,e.current.onmouseleave=c),()=>a()),[e,c,a,i]),M(()=>{o.markedAsRemoved&&s()},[s,o.markedAsRemoved]),s}function fS(e,{toastId:t,toastData:o}){let r=R();Ci(r);let n=$d(r,t,o);return pe(e,f(uS,{type:o.type,text:o.text,onClose:()=>{n(),o.onClose&&o.onClose()}}),r)}function gS(e,{toastId:t,toastData:o}){let r=R();Ci(r);let n=$d(r,t,o);return pe(e,f(cS,{text:o.text,doneButton:{onClick:()=>{n(),o.onDone()},label:o.doneButtonLabel},cancelButton:o.cancelButtonLabel&&o.onCancel?{onClick:()=>{n(),o.onCancel&&o.onCancel()},label:o.cancelButtonLabel}:void 0}),r)}var HI={toast:"_rEZQWw",toast_withCancel:"_DU_uMQ",content:"_ZXo_qd",cancelButton:"_6SQAT6"},yS=HI;var QI=u(Vr),Nd=u(yS);function hS(e,{text:t,cancelButtonInfo:o}){let r=Nd.toast.withMods({withCancel:o!==void 0});return e`
<div class=${`${QI.toast} ${r}`}>
	${e(Ar,{size:"small",color:"onColor"})}
	${e.switch(()=>typeof t=="function"?t(o==null?void 0:o.onClick):f(xi,{text:t}),Nd.content)}
	${e.renderIf(Le,()=>o&&{style:"secondaryInversed",structure:"text",text:o.label,onClick:o.onClick,size:"small"},Nd.cancelButton)}
</div>`}var UI=u(Si);function WI(e,t,o){let r=E(()=>{e.current.classList.add(UI.fadeOutAnimation),setTimeout(()=>ui(t),120)},[t,e]);return M(()=>{o.operationCompletePromise.then(r)},[r,o.operationCompletePromise]),M(()=>{o.markedAsRemoved&&r()},[r,o.markedAsRemoved]),r}function zd(e,{toastId:t,toastData:o}){let r=R();Ci(r);let n=WI(r,t,o),i=o.type==="withLoad"?{text:o.text,cancelButtonInfo:void 0}:{text:o.text,cancelButtonInfo:{onClick:()=>{n(),o.onClose&&o.onClose()},label:o.cancelButtonLabel}};return pe(e,f(hS,i),r)}var qI={container:"_h4K159",container_dir_ltr:"_vy2u7y",container_dir_rtl:"_ELkbRD",toast:"_wiBav4"},xS=qI;var Ra=u(xS);function SS(e){let t=Cx(),o=io();return e`
<div class=${Ra.container.withMods({dir:o})}>
	${e.renderAll(t,r=>{switch(r.type){case"basic":case"warning":case"critical":return se(r.id,fS,{toastId:r.id,toastData:{type:r.type,text:r.text,important:r.important,markedAsRemoved:r.markedAsRemoved,onClose:r.onClose}},Ra.toast);case"withLoad":return se(r.id,zd,{toastId:r.id,toastData:{type:"withLoad",text:r.text,important:r.important,operationCompletePromise:r.operationCompletePromise,markedAsRemoved:r.markedAsRemoved,onClose:r.onClose}},Ra.toast);case"withLoadAndCancel":return se(r.id,zd,{toastId:r.id,toastData:{type:"withLoadAndCancel",text:r.text,important:r.important,operationCompletePromise:r.operationCompletePromise,cancelButtonLabel:r.cancelButtonLabel,onCancel:r.onCancel,markedAsRemoved:r.markedAsRemoved,onClose:r.onClose}},Ra.toast);case"confirm":return se(r.id,gS,{toastId:r.id,toastData:{type:"confirm",text:r.text,important:r.important,onDone:r.onDone,doneButtonLabel:r.doneButtonLabel,cancelButtonLabel:r.cancelButtonLabel,onCancel:r.onCancel,markedAsRemoved:r.markedAsRemoved,onClose:r.onClose}},Ra.toast);default:return N(r),null}})}
</div>`}var CS=e=>Rd({text:e,important:!0});var kS=e=>kx({text:e});var Lr={accent:"#2972E0",link:"#2972E0",topPanelBackground:"#FFFFFF",topPanelText:"#42484E"};function Ia(e,t){let[o,r,n]=Ae(e);return`rgba(${o}, ${r}, ${n}, ${t})`}function _S(e,t){let[o,r,n]=cc(e);return`hsl(${o}, ${r*100}%, ${(n+t)*100}%)`}function BS(e=Lr){return{"--color-accent-default":e.accent,"--color-accent-8":Ia(e.accent,.08),"--color-accent-16":Ia(e.accent,.16),"--color-accent-30":Ia(e.accent,.3),"--color-accent-60":Ia(e.accent,.6),"--color-accent-80":Ia(e.accent,.8),"--color-accent-dark":_S(e.accent,-.08),"--color-link-default":e.link,"--color-link-dark":_S(e.link,-.08),"--color-top-panel-background-default":e.topPanelBackground,"--color-top-panel-text-default":e.topPanelText}}function vS(){return{"action-primary-default":{base:"custom-accent"},"action-primary-hovered":{base:"custom-accent",fn:"hsl",s:-1,l:-4},"action-primary-pressed":{base:"custom-accent",fn:"hsl",s:-1,l:-8},"action-toggle-pressed-disabled":{base:"custom-accent",fn:"alpha",a:.36},"border-accent-default":{base:"custom-accent"},"border-accent-hovered":{base:"custom-accent",fn:"hsl",s:-1,l:-4},"border-accent-pressed":{base:"custom-accent",fn:"hsl",s:-1,l:-8},"custom-panel-hovered":{base:"custom-text-default",fn:"alpha",a:.12},"custom-panel-subdued":{base:"custom-text-default",fn:"alpha",a:.08},"custom-text-subdued":{base:"custom-text-default",fn:"alpha",a:.72},"focus-default":{base:"custom-accent",fn:"alpha",a:.4},"icon-accent-default":{base:"custom-accent"},"icon-accent-hovered":{base:"custom-accent",fn:"hsl",s:-1,l:-4},"icon-accent-pressed":{base:"custom-accent",fn:"hsl",s:-1,l:-8},"indicator-primary":{base:"custom-accent"},"surface-accent-default":{base:"custom-accent",fn:"alpha",a:.16},"surface-accent-hovered":{base:"custom-accent",fn:"alpha",a:.2},"surface-accent-subdued":{base:"custom-accent",fn:"alpha",a:.12},"text-accent-default":{base:"custom-accent"},"text-accent-hovered":{base:"custom-accent",fn:"hsl",s:-1,l:-4},"text-accent-pressed":{base:"custom-accent",fn:"hsl",s:-1,l:-8}}}var GI={grad:.9,turn:360,rad:360/(2*Math.PI)},ir=function(e){return typeof e=="string"?e.length>0:typeof e=="number"},rt=function(e,t,o){return t===void 0&&(t=0),o===void 0&&(o=Math.pow(10,t)),Math.round(o*e)/o+0},ao=function(e,t,o){return t===void 0&&(t=0),o===void 0&&(o=1),e>o?o:e>t?e:t},DS=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},bS=function(e){return{r:ao(e.r,0,255),g:ao(e.g,0,255),b:ao(e.b,0,255),a:ao(e.a)}},Hd=function(e){return{r:rt(e.r),g:rt(e.g),b:rt(e.b),a:rt(e.a,3)}},jI=/^#([0-9a-f]{3,8})$/i,Uc=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},AS=function(e){var t=e.r,o=e.g,r=e.b,n=e.a,i=Math.max(t,o,r),a=i-Math.min(t,o,r),s=a?i===t?(o-r)/a:i===o?2+(r-t)/a:4+(t-o)/a:0;return{h:60*(s<0?s+6:s),s:i?a/i*100:0,v:i/255*100,a:n}},VS=function(e){var t=e.h,o=e.s,r=e.v,n=e.a;t=t/360*6,o/=100,r/=100;var i=Math.floor(t),a=r*(1-o),s=r*(1-(t-i)*o),c=r*(1-(1-t+i)*o),l=i%6;return{r:255*[r,s,a,a,c,r][l],g:255*[c,r,r,s,a,a][l],b:255*[a,a,c,r,r,s][l],a:n}},TS=function(e){return{h:DS(e.h),s:ao(e.s,0,100),l:ao(e.l,0,100),a:ao(e.a)}},wS=function(e){return{h:rt(e.h),s:rt(e.s),l:rt(e.l),a:rt(e.a,3)}},PS=function(e){return VS((o=(t=e).s,{h:t.h,s:(o*=((r=t.l)<50?r:100-r)/100)>0?2*o/(r+o)*100:0,v:r+o,a:t.a}));var t,o,r},Da=function(e){return{h:(t=AS(e)).h,s:(n=(200-(o=t.s))*(r=t.v)/100)>0&&n<200?o*r/100/(n<=100?n:200-n)*100:0,l:n/2,a:t.a};var t,o,r,n},YI=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ZI=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,XI=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,JI=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ES={string:[[function(e){var t=jI.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?rt(parseInt(e[3]+e[3],16)/255,2):1}:e.length===6||e.length===8?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:e.length===8?rt(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=XI.exec(e)||JI.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:bS({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=YI.exec(e)||ZI.exec(e);if(!t)return null;var o,r,n=TS({h:(o=t[1],r=t[2],r===void 0&&(r="deg"),Number(o)*(GI[r]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return PS(n)},"hsl"]],object:[[function(e){var t=e.r,o=e.g,r=e.b,n=e.a,i=n===void 0?1:n;return ir(t)&&ir(o)&&ir(r)?bS({r:Number(t),g:Number(o),b:Number(r),a:Number(i)}):null},"rgb"],[function(e){var t=e.h,o=e.s,r=e.l,n=e.a,i=n===void 0?1:n;if(!ir(t)||!ir(o)||!ir(r))return null;var a=TS({h:Number(t),s:Number(o),l:Number(r),a:Number(i)});return PS(a)},"hsl"],[function(e){var t=e.h,o=e.s,r=e.v,n=e.a,i=n===void 0?1:n;if(!ir(t)||!ir(o)||!ir(r))return null;var a=function(s){return{h:DS(s.h),s:ao(s.s,0,100),v:ao(s.v,0,100),a:ao(s.a)}}({h:Number(t),s:Number(o),v:Number(r),a:Number(i)});return VS(a)},"hsv"]]},MS=function(e,t){for(var o=0;o<t.length;o++){var r=t[o][0](e);if(r)return[r,t[o][1]]}return[null,void 0]},eD=function(e){return typeof e=="string"?MS(e.trim(),ES.string):typeof e=="object"&&e!==null?MS(e,ES.object):[null,void 0]};var Qd=function(e,t){var o=Da(e);return{h:o.h,s:ao(o.s+100*t,0,100),l:o.l,a:o.a}},Ud=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},RS=function(e,t){var o=Da(e);return{h:o.h,s:o.s,l:ao(o.l+100*t,0,100),a:o.a}},IS=function(){function e(t){this.parsed=eD(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return this.parsed!==null},e.prototype.brightness=function(){return rt(Ud(this.rgba),2)},e.prototype.isDark=function(){return Ud(this.rgba)<.5},e.prototype.isLight=function(){return Ud(this.rgba)>=.5},e.prototype.toHex=function(){return t=Hd(this.rgba),o=t.r,r=t.g,n=t.b,a=(i=t.a)<1?Uc(rt(255*i)):"","#"+Uc(o)+Uc(r)+Uc(n)+a;var t,o,r,n,i,a},e.prototype.toRgb=function(){return Hd(this.rgba)},e.prototype.toRgbString=function(){return t=Hd(this.rgba),o=t.r,r=t.g,n=t.b,(i=t.a)<1?"rgba("+o+", "+r+", "+n+", "+i+")":"rgb("+o+", "+r+", "+n+")";var t,o,r,n,i},e.prototype.toHsl=function(){return wS(Da(this.rgba))},e.prototype.toHslString=function(){return t=wS(Da(this.rgba)),o=t.h,r=t.s,n=t.l,(i=t.a)<1?"hsla("+o+", "+r+"%, "+n+"%, "+i+")":"hsl("+o+", "+r+"%, "+n+"%)";var t,o,r,n,i},e.prototype.toHsv=function(){return t=AS(this.rgba),{h:rt(t.h),s:rt(t.s),v:rt(t.v),a:rt(t.a,3)};var t},e.prototype.invert=function(){return Gt({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},e.prototype.saturate=function(t){return t===void 0&&(t=.1),Gt(Qd(this.rgba,t))},e.prototype.desaturate=function(t){return t===void 0&&(t=.1),Gt(Qd(this.rgba,-t))},e.prototype.grayscale=function(){return Gt(Qd(this.rgba,-1))},e.prototype.lighten=function(t){return t===void 0&&(t=.1),Gt(RS(this.rgba,t))},e.prototype.darken=function(t){return t===void 0&&(t=.1),Gt(RS(this.rgba,-t))},e.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},e.prototype.alpha=function(t){return typeof t=="number"?Gt({r:(o=this.rgba).r,g:o.g,b:o.b,a:t}):rt(this.rgba.a,3);var o},e.prototype.hue=function(t){var o=Da(this.rgba);return typeof t=="number"?Gt({h:t,s:o.s,l:o.l,a:o.a}):rt(o.h)},e.prototype.isEqual=function(t){return this.toHex()===Gt(t).toHex()},e}(),Gt=function(e){return e instanceof IS?e:new IS(e)};function Wd(e){return`--color-${e}`}function Cn(e){return`var(${Wd(e)})`}function so(e,t=document.documentElement){return _x(Wd(e),t)}function LS(e,t=document.documentElement){let o=vS();[...ga(e),...ga(o).map(([n,i])=>[n,tD(e,i)])].forEach(([n,i])=>{Bx(Wd(n),i,t)})}function tD(e,t){var r,n,i;let o=T(e[t.base],`base color '${t.base}' not found`);switch(t.fn){case void 0:return o;case"alpha":return Gt(o).alpha(t.a).toHex();case"hsl":{let{h:a,s,l:c,a:l}=Gt(o).toHsl();return Gt({h:a+((r=t.h)!=null?r:0),s:s+((n=t.s)!=null?n:0),l:c+((i=t.l)!=null?i:0),a:l}).toHex()}default:Qe(t)}}var OS="Roboto",FS={regular:{"display-large":"44px/52px","display-medium":"36px/44px","display-small":"32px/40px","display-xlarge":"56px/64px","header-large":"22px/30px","header-medium":"20px/28px","header-small":"18px/26px","header-xlarge":"24px/32px","header-xxlarge":"28px/36px","text-large":"16px/22px","text-medium":"15px/20px","text-small":"14px/20px","text-xlarge":"18px/26px","text-xsmall":"13px/16px","text-xxlarge":"20px/28px","text-xxsmall":"10px/16px"},compact:{"display-large":"48px/56px","display-medium":"40px/48px","display-small":"32px/40px","display-xlarge":"56px/64px","header-large":"22px/30px","header-medium":"20px/28px","header-small":"18px/26px","header-xlarge":"24px/32px","header-xxlarge":"28px/36px","text-large":"16px/22px","text-medium":"14px/20px","text-small":"13px/20px","text-xlarge":"18px/26px","text-xsmall":"12px/16px","text-xxlarge":"20px/28px","text-xxsmall":"10px/16px"}};function oD(e){return`--font-${e}`}function Wc(e){return Object.fromEntries(ga(FS[e]).map(([t,o])=>[oD(t),`${o} var(--font-family, ${OS})`]))}var qd={headerFontFamily:"Roboto",contentFontFamily:"Roboto"};function KS(e=qd){return{"--header-font-family":e.headerFontFamily,"--content-font-family":e.contentFontFamily}}var qc={accent:Lr.accent,link:Lr.link,topPanelBackground:Lr.topPanelBackground,topPanelText:Lr.topPanelText};function $S(e){qc.accent=e.accent,qc.link=e.link,qc.topPanelBackground=e.topPanelBackground,qc.topPanelText=e.topPanelText}function NS(e){let t=(e==null?void 0:e.baseFonts)||qd,o=KS(t);e!=null&&e.element?De(e.element,o,e.windowContext):Ca(o)}function zS(e){var n;let t=(n=e==null?void 0:e.windowContext)!=null?n:window,o={...Lr,...e==null?void 0:e.baseColors};$S(o),LS({"custom-accent":o.accent,"custom-panel-default":o.topPanelBackground,"custom-text-default":o.topPanelText},e==null?void 0:e.element);let r=BS(o);e!=null&&e.element?De(e.element,r,t):Ca(r)}var HS="";function QS(e){return HS&&e?`${HS}${e}`:e}var rD={topLayer:"_2lXsgT",popupLayer:"_e_gnrT",popupLayerMobile:"_mYr9SD",uploaderLayer:"_nsgh2c"},US=rD;var Gc=u(US);function nD(e,t){let o=[Gc.topLayer];e==="popup"&&(o.push(Gc.popupLayer),Cr()&&o.push(Gc.popupLayerMobile)),e==="uploader"&&o.push(Gc.uploaderLayer),t.classList.add(...o)}function Aa(e){let t=document.createElement("div");return nD(e,t),Nc(e,t),t}var WS="#E73018",qS="#FF8400",GS="#FFC252";var jS="#3CB46E";var YS="#7C46B9";var Va="#323537",jc="#818181";var co="noColor";function ki(e){if(e&&e.color&&e.color!==co){let t=Ae(e.color),o=e.opacity;return`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${o})`}return""}var iD={container:"_fTlgGJ"},ZS=iD;var aD=u(ZS);function _i(e,t){return e`
<div
	class=${aD.container}
	data-at=${j(t.autotestData)}
>
	${e(Ar,t)}
</div>`}function sD(){let e=!1;try{e=!!window.Animation}catch{}return e}function Gd({element:e,createKeyframes:t,abortSignal:o}){if(!sD())return Promise.resolve();let r=new Animation(t(e));return new Promise(n=>{let i=e.style.pointerEvents;e.style.pointerEvents="none";function a(){c(),n()}function s(){c(),n("aborted")}function c(){e.style.pointerEvents=i,o&&o.removeEventListener("abort",s),r.removeEventListener("cancel",s),r.removeEventListener("finish",a)}o&&o.addEventListener("abort",s),r.addEventListener("cancel",s),r.addEventListener("finish",a),r.play()})}function Bi({element:e,getAppearKeyframes:t,getHideKeyframes:o,onAppeared:r,onHidden:n}){let[i,a]=z(!1),s=br(),c=P(new AbortController),l=P(e),p=P(null);e!==l.current&&(p.current=l.current),l.current=e;let m=te({getAppearKeyframes:t,getHideKeyframes:o,onAppeared:r||(()=>{}),onHidden:n||(()=>{})});return ee(()=>{if(!e)return;c.current.abort(),c.current=new AbortController;let d=c.current.signal,y=m.current.getAppearKeyframes,g=m.current.getHideKeyframes;return y?(a(!0),Gd({element:e,createKeyframes:y,abortSignal:d}).then(()=>{a(!1),m.current.onAppeared()})):m.current.onAppeared(),()=>{if(!g||d.aborted){p.current=null,s(),m.current.onHidden();return}a(!0),Gd({element:e,createKeyframes:g,abortSignal:d}).then(()=>{p.current=null,a(!1),m.current.onHidden()})}},[m,e,s]),{animating:i,element:p.current||e}}function XS(e){let t=Math.abs(e.scrollTop),o=A(getComputedStyle(e)),n=o.overflowY==="auto"||o.overflowY==="scroll"?e.scrollHeight-e.clientHeight:0;return t===n}function cD(e,t){for(;e!==t&&t.parentElement;){if(!XS(t))return!1;t=t.parentElement}return XS(t)}function jd(e){let t=st(e,"wheel",o=>{let r=o.deltaY>0;cD(e,o.srcElement)&&r&&o.preventDefault()});return()=>It(t)}function JS(e){M(()=>{if(e)return jd(e)},[e])}function vi({layer:e,element:t,onAppend:o,beforeAppend:r,beforeUnmount:n,position:i="absolute"}){let a=P(null),s=te(n),c=E(()=>{let l=a.current;l&&(A(l.parentElement==e,`useExternalLayer(): layer "${e}" doesn't contain element`),s.current&&s.current(),e.removeChild(l),a.current=null)},[e,s]);ee(()=>c,[c]),t!=a.current&&(c(),t&&(r&&r(t),t.style.position=i,e.appendChild(t),o&&o(t)),a.current=t)}function La(e){return e.current?e.current.getBoundingClientRect():{left:0,top:0,right:0,bottom:0,width:0,height:0}}function tC(){return{x:window.pageXOffset,y:window.pageYOffset}}function Yd(){let e=La({current:document.body}),t=yn(e),o=hn(tC(),_c(2));return nr(rr(t,o),e)}function eC(e){let t=La(e);return nr(rr(yn(t),tC()),t)}function bi({rootRef:e,overlayRef:t,relatedRef:o}){return{viewPort:e?eC(e):Yd(),component:eC(o),overlaySize:La(t)}}function Yc({overlay:e,getPosition:t}){lD(e);let o=t(),r=Yd(),n=nr(o,La({current:e})),i=r.top+Sn,a=r.bottom-Sn,s=n.top<i,c=n.bottom>a;(s||c)&&(e.style.width||(e.style.width=q(oi(n).width)),e.style.overflowY="auto"),s?(e.style.top=q(Sn),e.style.maxHeight=q(n.bottom-Sn)):(e.style.top=q(n.top),e.style.maxHeight=q(a-n.top)),e.style.left=q(n.left)}function lD(e){e.style.maxHeight="",e.style.left="",e.style.top="",e.style.overflowY=""}function Zc({html:e,layer:t,getOverlayPosition:o,getAppearKeyframes:r,getHideKeyframes:n,beforeMount:i,afterMount:a,opened:s,onClose:c,createOverlay:l,anchorTracking:p}){let m=e(s?l():null),{animating:d,element:y}=Bi({element:m,getAppearKeyframes:r,getHideKeyframes:n});vi({layer:t,element:y,beforeAppend:i,onAppend:h=>{Yc({overlay:h,getPosition:()=>o(h)}),a&&a(h)}}),JS(y);let g=D(()=>({current:y}),[y]);return Ze({target:g,onResize:()=>{y&&Yc({overlay:y,getPosition:()=>o(T(y))})}}),Ze({target:document.body,onResize:()=>!d&&(p==null?void 0:p.action)!=="move"&&c(),ignoreObservationStart:!0}),$c(y&&p?p.anchorRef.current:null,y&&p?J(p.action,{close:c,move:()=>Yc({overlay:y,getPosition:()=>o(y)})}):()=>{}),y}function pD(e,t){switch(e){case"top":return[0,-t];case"bottom":return[0,t];case"right":return[t,0];case"left":return[-t,0];default:throw N(e),new Error}}function oC([e,t]){return`translate(${e}px, ${t}px)`}function Xc({element:e,side:t}){return new KeyframeEffect(e,[{opacity:0,transform:oC(pD(t,5))},{opacity:1,transform:oC([0,0])}],{duration:150,fill:"forwards"})}var Jc=9,rC=8;function el(e){return J(e,{start:-rC,center:0,end:rC})}function mD(e,t){return J(e,{left:{x:-Jc,y:el(t)},right:{x:Jc,y:el(t)},top:{x:el(t),y:-Jc},bottom:{x:el(t),y:Jc}})}function nC({html:e,anchorRef:t,tooltipProps:o,side:r,align:n,offset:i,onClose:a,anchorTrackingAction:s,disablePointer:c,layer:l}){let[p,m]=z(!!o),d=n||"center",y=r||"top",g=i||mD(y,d);return M(()=>{m(!!o)},[o]),Zc({html:e,opened:p,layer:l!=null?l:wo("tooltip"),onClose:a,createOverlay:()=>o&&f(Lc,{...o,getPointerTargetRect:c?void 0:()=>t.current.getBoundingClientRect()}),getAppearKeyframes:h=>Xc({element:h,side:Ma({...bi({relatedRef:t,overlayRef:{current:h}}),offset:g,align:d,side:y})}),getOverlayPosition:h=>Dc({...bi({relatedRef:t,overlayRef:{current:h}}),offset:g,align:d,side:y}),anchorTracking:s&&{anchorRef:t,action:s}})}function L(){return pd()}function lt(e,t){return e.find(o=>o.name===t)}function So(e,t){let o=[...e],r=o.findIndex(n=>n.name===t.name);return r>=0?o[r]=t:o.push(t),o}function tl(e,t){return e.filter(o=>!t.includes(o.name))}function iC(e,t){return e.some(o=>o.name===t)}var uD="$",Ie={create(e){return e},add(e,t){return t.reduce((o,r)=>So(o,r),e)},compareTextStyles(e,t){return Ie.serializeStyles(e)===Ie.serializeStyles(t)},serializeStyles(e){return[...e].sort((t,o)=>rd(t.name,o.name)).map(t=>JSON.stringify(t)).join(uD)},compareSingleTextStyles(e,t){return JSON.stringify(e)===JSON.stringify(t)},remove(e,t){return tl(e,t)},has(e,t){return iC(e,t)},getAlignment(e){let t=lt(e,"alignment");return t&&t.name==="alignment"?t.type:null},getFontSize(e){let t=lt(e,"fontSize");return t&&t.name==="fontSize"?t.size:null},getFontColor(e){let t=lt(e,"fontColor");return t&&t.name==="fontColor"?t.color:null},getTextHighlightColor(e){let t=lt(e,"textHighlightColor");return t&&t.name==="textHighlightColor"?t.color:null},getTextHighlightOpacity(e){let t=lt(e,"textHighlightOpacity");return t&&t.name==="textHighlightOpacity"?t.opacity:null}};var dD=jc,fD=.1;var le={create(e={}){let{url:t=null,style:o=Ie.create([])}=e;return{url:t,style:o}},applyStyle(e,t){return le.create({...e,style:Ie.add(e.style,t)})},removeStyles(e,t){return le.create({...e,style:Ie.remove(e.style,t)})},hasStyle(e,t){return Ie.has(e.style,t)},hasUrl(e){return!!e.url},compare(e,t){return e.url===t.url&&Ie.compareTextStyles(e.style,t.style)},setUrl(e,t){return le.create({...e,url:t})},removeUrl(e){return le.create({...e,url:null})},isInlineCodeMeta(e){return e.style.some(t=>t.name==="code")},getInlineCodeAdditionStyles(e=dD){return[{name:"code"},{name:"fontColor",color:e},{name:"textHighlightColor",color:e},{name:"textHighlightOpacity",opacity:fD}]},getInlineCodeAdditionStylesNames(){return this.getInlineCodeAdditionStyles().map(e=>e.name)}};var k={PARAGRAPH:"p",IMAGE:"i",COLLAGE:"c",EMBED:"e",EXERCISE:"E",QUIZ:"Q",ATTACHMENT:"a",NOTE:"n",TABLE:"t",FLIP_CARDS:"fc",DIVIDER:"d",CONTINUE:"ct",VIDEO:"v",SNIPPET:"s",LAYOUT:"l",CODE:"cd",LIST_ITEM:"li"};function Ft(e){return{...e,background:e.background&&{...e.background}}}function aC(e){return e.length===2}function sC({offset:e,textLength:t,getCharacterByIndex:o}){let r=0,n=0;for(;r<t;++r,++n)if(aC(o(r))&&++n,n>=e)return r;return r}function cC({offset:e,textLength:t,getCharacterByIndex:o}){let r=0,n=0;for(;r<t;++r,++n){if(r>=e)return n;aC(o(r))&&++n}return n}function Zd(e,t){return e[t].meta.url}var Ke={isEmpty(e){return e.characters.length===0},extendHyperlinksSelection(e,t,o=e.characters.length){let{characters:r}=e,n=Zd.bind(null,r),i=n(t);if(i)for(;t>0&&i==n(t-1);)--t;let a=n(o-1);if(a)for(;o<r.length&&a==n(o);)++o;return{start:t,end:o}},hasHyperlink(e,t,o=e.characters.length){for(let r=t;r<o;++r)if(Zd(e.characters,r))return!0;return!1},getHyperlinksInfo(e){let t=[],o=null;for(let r=0;r<e.length;++r){let n=Zd(e,r);o&&o.url!=n&&(t.push({start:o.start,end:r,url:o.url}),o=null),n&&!o&&(o={start:r,url:n})}return o&&t.push({start:o.start,end:e.length,url:o.url}),t},getCharactersText(e){return e.characters.reduce((t,o)=>t+o.text,"")},getCharacters(e){return e.characters.map(t=>t.text)},getWordStartIndex(e,t){return Gy(Ke.getCharactersText(e),t)},getWordEndIndex(e,t){return jy(Ke.getCharactersText(e),t)},getLastCharacterMeta(e){let t=e.characters,o=t[t.length-1];return o&&o.meta},convertBrowserToModelOffset(e,t){return sC({offset:t,textLength:e.characters.length,getCharacterByIndex:o=>e.characters[o].text})},convertModelToBrowserOffset(e,t){return cC({offset:t,textLength:e.characters.length,getCharacterByIndex:o=>e.characters[o].text})}};function ae(e){return!e||e.type!==k.PARAGRAPH?null:e}var lC=["blockquote","pullquote"],pC=["h1","h2","h3"],goe=[...pC,...lC,"text"];var K={create(e={}){let t=e.characters||[];typeof t=="string"&&(t=K.createCharacters(t,le.create()));let o={type:k.PARAGRAPH,key:e.key||L(),viewType:e.viewType||"text",textAlign:e.textAlign||"left",characters:t};return e.designSettings&&(o.designSettings=e.designSettings),e.defaultCharactersMeta&&(o.defaultCharactersMeta=e.defaultCharactersMeta),o},clone(e,t={}){return{...Rt(e),key:L(),...t}},createCharacters(e,t){return[...e].map(o=>({text:o,meta:t}))},getBlockViewType(e){return e.viewType},isQuote(e){let t=ae(e);return!!t&&lC.includes(t.viewType)},isHeading(e){let t=ae(e);return!!t&&pC.includes(t.viewType)},isEmptyParagraph(e){let t=ae(e);return!!t&&Ke.isEmpty(t)},getTextRuns(e,t){t||(t=n=>n);let o=e.characters;if(o.length==0)return[];let r=[{text:o[0].text,styles:t(o[0].meta),isLast:!1}];for(let n=1;n<o.length;++n){let i=o[n],a=t(i.meta),s=r.length-1,c=r[s].styles;le.compare(a,c)?r[s].text+=i.text:r.push({text:i.text,styles:a,isLast:!1})}return r[r.length-1].isLast=!0,r}};var gD="javascript",yD=16,bt={create(e={}){let t=e.key||L();return{type:k.CODE,key:t,paragraph:e.paragraph||K.create(),language:e.language||gD,fontSize:e.fontSize||"auto",designSettings:e.designSettings}},clone(e){return bt.create({...e,key:L(),paragraph:{...e.paragraph,key:L()},designSettings:e.designSettings&&Ft(e.designSettings)})},toCodeBlock(e){return e&&e.type===k.CODE?e:null},getLanguage(e){return e.language},getFontSize(e){return e.fontSize==="auto"?yD:e.fontSize},getBlockType(e){return"code"},changeCodeLanguage(e,t){e.language=t},changeCodeFontSize(e,t){e.fontSize=t}};var Or="rectangle";var mC={top:0,right:0,bottom:0,left:0};function kn(){return{...mC}}function hD(e,t){return e&&t&&e.top===t.top&&e.right===t.right&&e.bottom===t.bottom&&e.left===t.left}function Xd(e){return!!hD(e,mC)}function St({width:e,height:t,crop:o,src:r,clip:n}){return{src:r,clip:n!=null?n:Or,crop:o!=null?o:kn(),width:o?e-o.left-o.right:e,height:o?t-o.top-o.bottom:t}}function uC(e){let{width:t,height:o}=e,r=St(e),n=t-r.width,i=o-r.height,a=n===0?0:r.crop.left/t*(t/n)*100,s=i===0?0:r.crop.top/o*(o/i)*100;return{width:t/r.width*100,height:o/r.height*100,positionX:a,positionY:s}}function Jd(e){return e.crop?{src:e.src,width:e.width,height:e.height}:e}async function xD(e,t,o,r){let n=await va(e);return new Promise((i,a)=>{let s=document.createElement("canvas"),c=A(s.getContext("2d")),l=mx(t);s.width=o?Math.min(l.width,o):l.width,s.height=r?Math.min(l.height,r):l.height,c.drawImage(n,t.left,t.top,l.width,l.height,0,0,s.width,s.height),s.toBlob(p=>p?i(p):a())})}function dC({src:e,crop:t,width:o,height:r}){let n=SD(t,o,r);return xD(e,n)}function SD(e,t,o){return{left:e.left,right:t-e.right,top:e.top,bottom:o-e.bottom}}function fC(e){return!!e.crop&&!Xd(e.crop)}var CD="collage",kD=3,gC="inner",_D=960,Y={create({key:e,images:t=[],alignment:o,designSettings:r}){let n=e||L(),i=t.map(a=>({...a,parentCollageKey:n}));return{key:n,type:k.COLLAGE,images:i,alignment:o||"inner",designSettings:r}},clone(e){let t=L();return{...e,key:t,images:e.images.map(o=>({...o,key:L(),parentCollageKey:t})),designSettings:e.designSettings&&Ft(e.designSettings)}},cloneImage(e){return{...e,key:L()}},toCollageBlock(e){return e&&e.type===k.COLLAGE?e:null},getBlockType(e){return CD},isCollageBlock(e){return!!e&&e.type===k.COLLAGE},getCollagedImage(e,t){return e.images.find(o=>o.key===t)||null},getCaptionParagraphs(e){return e.images.map(t=>t)},getCollagedImageIndex(e,t){return e.images.findIndex(o=>o.key===t)},supportFullAlign(e){return e.images.length>1?!0:St(e.images[0]).width>=_D},supportFloat(e){return e.images.length>1?!1:!!e.images[0].width},supportAlignment(e,t){switch(t){case"float-left":return Y.supportFloat(e);case"full":case"outer":return Y.supportFullAlign(e);case"inner":return!0}},isOneImageCollage(e){return e.images.length===1},canAddImage(e){return e.images.length<kD}};var pt={basicPaletteCrimson:"#B8195B",basicPaletteDeepSpace:"#02318A",basicPaletteSpaceBlue:"#0047CB",black60:"#00000099",black8:"#00000014",black80:"#000000CC",blackDefault:"#000000",blue16:"#4A90E229",blue30:"#4A90E24D",blue8:"#4A90E214",blue80:"#4A90E2CC",blueBlack:"#0D2E53",blueDark:"#287BDC",blueDarker:"#1E67BD",blueDefault:"#4A90E2",dark12:"#42484E1F",dark14:"#42484E24",dark16:"#42484E29",dark20:"#42484E33",dark28:"#42484E47",dark40:"#42484E66",dark60:"#42484E99",dark72:"#42484EB8",dark8:"#42484E14",dark80:"#42484ECC",dark87:"#42484EDE",darkDark:"#2F3337",darkDefault:"#42484E",grayDark:"#D0D0D1",grayDarker:"#C0C0C1",grayDefault:"#EFEFF0",grayLight:"#F2F2F3",grayLighter:"#F6F6F7",green16:"#3CB46E29",green30:"#3CB46E4D",green8:"#3CB46E14",green80:"#3CB46ECC",greenBlack:"#091B10",greenDark:"#32955B",greenDarker:"#287748",greenDefault:"#3CB46E",orange16:"#FF9F3329",orange30:"#FF9F334D",orange8:"#FF9F3314",orange80:"#FF9F33CC",orangeBlack:"#603506",orangeDark:"#F08713",orangeDarker:"#CE720D",orangeDefault:"#FF9F33",purple16:"#6257BA29",purple30:"#6257BA4D",purple8:"#6257BA14",purple80:"#6257BACC",purpleBlack:"#262150",purpleDark:"#4F44A6",purpleDarker:"#413889",purpleDefault:"#6257BA",red16:"#F0513D29",red30:"#F0513D4D",red8:"#F0513D14",red80:"#F0513DCC",redBlack:"#5A1007",redDark:"#EE2F17",redDarker:"#CC250F",redDefault:"#F15541",slate10:"#8D98A21A",slate20:"#8D98A233",slate40:"#8D98A266",slate5:"#8D98A20D",slate60:"#8D98A299",slate80:"#8D98A2CC",slateDefault:"#8D98A2",white16:"#FFFFFF29",white30:"#FFFFFF4D",white60:"#FFFFFF99",white80:"#FFFFFFCC",whiteDefault:"#FFFFFF",yellow16:"#F9C60E29",yellow30:"#F9C60E4D",yellow8:"#F9C60E14",yellow80:"#F9C60ECC",yellowBlack:"#473800",yellowDark:"#E5B406",yellowDarker:"#C29800",yellowDefault:"#F9C60E"};var BD="";function _n(){return BD}var vD="1",ef={rounded:le.create({style:Ie.create([{name:"fontColor",color:pt.whiteDefault}])}),squared:le.create({style:Ie.create([{name:"fontColor",color:pt.whiteDefault},{name:"bold"}])})};function yC(e){let t=e==="squared"?B("Roll.Editor.Divider.Default.Rectangle.Paragraph.Text"):vD,o=K.createCharacters(t,ef[e]);return K.create({characters:o,textAlign:"center"})}function Ti(e){return e==="line"?{color:pt.darkDefault,opacity:1}:{color:_n(),opacity:1}}var Be={createLineDivider(e={}){return{type:k.DIVIDER,key:e.key||L(),dividerType:"line",alignment:e.alignment||"inner",dividerColor:e.dividerColor||Ti("line"),style:e.style||"solid",designSettings:e.designSettings}},createLineWithTextDivider(e){let t=e.key||L();return{type:k.DIVIDER,key:t,dividerType:"line-with-text",alignment:e.alignment||"inner",dividerColor:e.dividerColor||Ti("line-with-text"),style:e.style||"solid",paragraph:e.paragraph||yC(e.paragraphStyle),paragraphStyle:e.paragraphStyle,meta:e.meta||[{name:"charactersMeta",data:ef[e.paragraphStyle]}],designSettings:e.designSettings}},createDividerFromContinue(e){var t,o;return Be.createLineWithTextDivider({...e,dividerColor:e.continueColor,paragraphStyle:"squared",designSettings:{background:{color:(o=(t=e.designSettings)==null?void 0:t.background)==null?void 0:o.color}}})},createQuoteDivider(e={}){return{type:k.DIVIDER,key:e.key||L(),dividerType:"quotes",dividerColor:e.dividerColor||Ti("quotes"),style:e.quoteStyle||"quote_1",designSettings:e.designSettings}},createDiamondsDivider(e={}){return{type:k.DIVIDER,key:e.key||L(),dividerType:"diamonds",dividerColor:e.dividerColor||Ti("diamonds"),style:"default",designSettings:e.designSettings}},createArrowDivider(e={}){return{type:k.DIVIDER,key:e.key||L(),dividerType:"arrow",dividerColor:e.dividerColor||Ti("arrow"),style:"default",designSettings:e.designSettings}},changeDividerType(e,t){if(e.dividerType===t)return e;let o=e.dividerType==="line-with-text"||e.dividerType==="line",r=e.dividerType==="line-with-text";switch(t){case"arrow":return Be.createArrowDivider({key:e.key,dividerColor:e.dividerColor,designSettings:e.designSettings});case"diamonds":return Be.createDiamondsDivider({key:e.key,dividerColor:e.dividerColor,designSettings:e.designSettings});case"quotes":return Be.createQuoteDivider({key:e.key,dividerColor:e.dividerColor,designSettings:e.designSettings});case"line":return Be.createLineDivider({key:e.key,dividerColor:e.dividerColor,alignment:o?e.alignment:void 0,style:o?e.style:void 0,designSettings:e.designSettings});case"line-with-rectangle":case"line-with-circle":return Be.createLineWithTextDivider({key:e.key,dividerColor:e.dividerColor,paragraphStyle:t==="line-with-circle"?"rounded":"squared",alignment:o?e.alignment:void 0,style:o?e.style:void 0,paragraph:r?e.paragraph:void 0,designSettings:e.designSettings});default:throw new Error(`unknown divider view type ${t}`)}},changeDividerColor(e,t){e.dividerColor=t},changeDividerLineStyle(e,t){e.style=t},changeQuoteStyle(e,t){e.style=t},addMeta(e,t){e.meta=So(e.meta,t)},changeDividerAlignment(e,t){e.alignment=t},clone(e,t=L()){let o={...e.dividerColor},r=e.designSettings&&Ft(e.designSettings);switch(e.dividerType){case"line-with-text":return Be.createLineWithTextDivider({...e,key:t,paragraph:{...e.paragraph,key:t},dividerColor:o,designSettings:r});case"line":return Be.createLineDivider({...e,key:t,dividerColor:o,designSettings:r});case"arrow":return Be.createArrowDivider({...e,key:t,dividerColor:o,designSettings:r});case"diamonds":return Be.createDiamondsDivider({...e,key:t,dividerColor:o,designSettings:r});case"quotes":return Be.createQuoteDivider({...e,key:t,dividerColor:o,designSettings:r})}},toFigureDividerBlock(e){switch(e.dividerType){case"quotes":case"arrow":case"diamonds":return!0}return!1},toDividerWithLineBlock(e){switch(e.dividerType){case"line":case"line-with-text":return!0}return!1},toDividerBlock(e){return e&&e.type===k.DIVIDER?e:null},getBlockType(e){return`divider-${e.dividerType}`},getCommonBlockType(e){return"divider"},getCharactersMeta(e){let t=lt(e.meta,"charactersMeta");return(t==null?void 0:t.name)==="charactersMeta"?t.data:null}};function hC(e){if(e.type==="image")return null;let t=lt(e.meta,"charactersMeta");return t&&t.name==="charactersMeta"?t.data:null}var Bn={create({key:e,fileName:t,fileExtension:o,fileSize:r,src:n,isLoading:i,designSettings:a}){return{key:e||L(),type:k.ATTACHMENT,fileName:t||"",fileExtension:o||"pdf",fileSize:r||0,src:n,isLoading:i||!1,designSettings:a}},clone(e){let t=L();return{...e,key:t}},toAttachmentBlock(e){return e&&e.type===k.ATTACHMENT?e:null},getBlockType(e){return"attachment"}};var vn=class{static create(t){return{codeTextSelected:t}}static isBlockSelection(t){return t.customSelection&&t.customSelection.codeTextSelected===!1}static isTextSelection(t){return t.customSelection&&!!t.customSelection.codeTextSelected}};var ol=class{static create({itemKey:t,captionSelected:o}){return{collageSelectedItemKey:t||"",collageItemCaptionSelected:o||!1}}};var bn=class{static create(t){return{continueTextSelected:t}}static isBlockSelection(t){return t.customSelection&&t.customSelection.continueTextSelected===!1}static isTextSelection(t){return t.customSelection&&!!t.customSelection.continueTextSelected}};var Tn=class{static create(t){return{dividerTextSelected:t}}static isBlockSelection(t){return t.customSelection&&t.customSelection.dividerTextSelected===!1}static isTextSelection(t){return t.customSelection&&!!t.customSelection.dividerTextSelected}};var ar=class{static createBlockSelection(){return{type:"flipCardBlock"}}static createCardTextSelection(t,o){return{type:"flipCardText",cardKey:t,cardSide:o}}static isBlockSelection(t){return t.customSelection&&t.customSelection.type==="flipCardBlock"}static isCardTextSelection(t){return t.customSelection&&t.customSelection.type==="flipCardText"}};var Te={getBlockByIndex(e,t){return pi(e,t)},getFirstBlock(e){return A(rx(e))},getLastBlock(e){return A(nx(e))},getBlockBefore(e,t){return ix(e,t)},getBlockAfter(e,t){return ax(e,t)},forEach(e,t){sx(e,t)},getBlocksArray(e){return e.order.map(t=>e.blocks[t])},hasBlock(e,t){return e.blocks.hasOwnProperty(t)}};function xC(e){let t=Ir();return ue(e,o=>{let r=F.cloneBlock(o);Pc(t,r.key,r)}),t}function SC(e,t){let o=Object.keys(e).length,r={},n=Math.floor(t/o),i=t%o;for(let[s,c]of Object.entries(e))r[s]=c+n;let a=Object.keys(r);return a.length>0&&(r[a[0]]+=i),r}function CC({sizesMap:e}){let t=0,o=Object.keys(e).length+1,r={...e};return Object.keys(r).forEach(n=>{let i=Math.floor(r[n]/o),a=r[n]-i>kC?i:0;r[n]-=a,t+=a}),{newSizesMap:r,newColumnSize:t}}var lo={PARAGRAPH:k.PARAGRAPH,LIST_ITEM:k.LIST_ITEM,COLLAGE:k.COLLAGE,EMBED:k.EMBED,NOTE:k.NOTE,DIVIDER:k.DIVIDER,VIDEO:k.VIDEO,SNIPPET:k.SNIPPET,CODE:k.CODE};var tf=["layout-column-2","layout-column-3","layout-column-4"],_C=["layout-column-1",...tf];var bD=Object.values(lo),TD=4;var wD=2,PD=1,of=24,kC=1;function ED(e,t=[]){let o={};for(let r in e){let n=t[r]?t[r]:[K.create()],i=e[r];o[i]=Q.createColumnData(n,of/e.length)}return o}function BC(e,t,o=[K.create({textAlign:e.horizontalTextAlign})]){let r=L(),{newSizesMap:n,newColumnSize:i}=CC({sizesMap:Q.getColumnsSizesMap(e)});return Q.transformColumnsSizes(e,n),e.colsMap[r]=Q.createColumnData(o,i),t(r,e.colsOrder),r}var Q={create(e={}){let t=e.colsOrder||Array.from(new Array(e.columnCount),L),o=e.colsMap||ED(t,e.fillBlocks),r={type:k.LAYOUT,layoutType:e.layoutType||"column",key:e.key||L(),alignment:"inner",horizontalTextAlign:"left",verticalBlockAlign:e.verticalBlockAlign||"top",colsOrder:t,colsMap:o};return e.designSettings&&(r.designSettings=e.designSettings),r},createFromBlock(e){let t=[L()],o={[t[0]]:Q.createColumnData([F.cloneBlock(e)],of)};return Q.create({key:e.key,colsMap:o,colsOrder:t})},createBlocksMap(e){let t={order:[],blocks:{}};for(let o of e)t.order.push(o.key),t.blocks[o.key]=o;return t},createColumnData(e,t){return{blockMap:Q.createBlocksMap(e),width:t}},toLayoutBlock(e){return e&&e.type===k.LAYOUT?e:null},getBlock(e,t,o){return e.colsMap[t].blockMap.blocks[o]},getColumn(e,t){return e.colsMap[t]},getMinColumns(e){switch(e.layoutType){case"column":return wD;case"column-background":return PD;default:throw new Error("Unsupported layout type")}},isBackgroundLayoutBlock(e){return e.layoutType==="column-background"},getColumnBlockTypes(e){switch(e.layoutType){case"column":return tf;case"column-background":return _C;default:throw new Error("Unsupported layout type")}},getColumnType(e){if(e.colsOrder.length===1&&Q.isBackgroundLayoutBlock(e))return"layout-column-1";switch(e.colsOrder.length){case 2:return"layout-column-2";case 3:return"layout-column-3";case 4:return"layout-column-4";default:throw new Error(`Layout unsupported columns ${e.colsOrder.length}`)}},getColumnCount(e){switch(e){case"layout-column-1":return 1;case"layout-column-2":return 2;case"layout-column-3":return 3;case"layout-column-4":return 4;default:Qe(e)}},getBlockType(e){let t=e.layoutType;switch(t){case"column":return"layout-column";case"column-background":return"layout-column-background";default:Qe(t)}},getFirstBlockContext(e){return{blockKey:e.key,colKey:e.colsOrder[0],key:e.colsMap[e.colsOrder[0]].blockMap.order[0]}},addColumnToStart(e,t){return BC(e,(o,r)=>r.unshift(o),t)},addColumnToEnd(e,t){return BC(e,(o,r)=>r.push(o),t)},addColumns(e,t){let o=e.colsOrder.length;for(let r=0;r<t-o;r++)Q.addColumnToEnd(e)},getAllBlocks(e){let t=[];for(let o=0;o<e.colsOrder.length;o++)t.push(...ze(e.colsMap[e.colsOrder[o]].blockMap));return t},replaceBlock(e,t,o){Object.keys(e.colsMap).forEach(r=>{let n=e.colsMap[r].blockMap;Te.hasBlock(n,t)&&Ec(n,t,o)})},insertBlockInColumn(e,t,o){e.colsMap[t].blockMap.order.push(o.key),e.colsMap[t].blockMap.blocks[o.key]=o},changeAlignment(e,t){e.alignment=t},changeVerticalAlign(e,t){e.verticalBlockAlign=t},changeHorizontalAlign(e,t){e.horizontalTextAlign=t,Object.values(e.colsMap).forEach(o=>{Object.values(o.blockMap.blocks).forEach(r=>{let n=ae(r);n&&(n.textAlign=t)})})},reduceColumnsCount(e,t){let o={order:[],blocks:{}},r=0;for(let n=t;n<e.colsOrder.length;n++){let i=e.colsOrder[n],a=e.colsMap[i];r+=a.width,F.isOneEmptyParagraph(a)||(o.order.push(...a.blockMap.order),o.blocks={...o.blocks,...Rt(a.blockMap.blocks)}),delete e.colsMap[i]}return e.colsOrder.splice(t),this.transformColumnsSizesAfterDeleting(e,r),o},transformColumnsSizes(e,t){Object.keys(t).forEach(o=>{e.colsMap[o].width=t[o]})},getColumnsSizesMap(e){let t={};return e.colsOrder.forEach(o=>{t[o]=e.colsMap[o].width}),t},getColumnsSizesSum(e){let t=Q.getColumnsSizesMap(e);return Q.getColumnsSizesMapSum(t)},getColumnsSizesMapSum(e){return Object.keys(e).map(t=>e[t]).reduce((t,o)=>t+o)},validateColumnsNewSizes(e,t){let o=Q.getColumnsSizesMap(e),r=Q.getColumnsSizesMapSum(o),n=Q.getColumnsSizesMapSum(t),i=r===n,a=Object.keys(o).every(s=>!!t[s]);return i&&a},transformColumnsSizesAfterDeleting(e,t){let o=SC(this.getColumnsSizesMap(e),t);this.transformColumnsSizes(e,o)},deleteColumn(e,t){let o=e.colsMap[t].width;delete e.colsMap[t],e.colsOrder=e.colsOrder.filter(r=>r!==t),this.transformColumnsSizesAfterDeleting(e,o)},cloneColumn(e,t){return{blockMap:xC(e.blockMap),width:e.width||t}},isLayoutColumnBlock(e){let t=Y.toCollageBlock(e);return t&&Y.isOneImageCollage(t)?!0:bD.includes(e.type)},canInsertColumn(e){return e.colsOrder.length<TD},getBeforeColumnBlock(e,t){let o=Q.getBeforeColumnKey(e,t);if(!o)return null;let{order:r,blocks:n}=e.colsMap[o].blockMap;return{block:n[r[r.length-1]],colKey:o}},getAfterColumnBlock(e,t){let o=Q.getAfterColumnKey(e,t);if(!o)return null;let{order:r,blocks:n}=e.colsMap[o].blockMap;return{block:n[r[0]],colKey:o}},getBeforeColumnKey(e,t){let o=e.colsOrder.indexOf(t);return o===0?null:e.colsOrder[o-1]},getAfterColumnKey(e,t){let o=e.colsOrder.indexOf(t);return o===e.colsOrder.length-1?null:e.colsOrder[o+1]},getColumnBlocks(e,t){let o=e.colsMap[t].blockMap,r=[];return o.order.forEach(n=>{r.push(o.blocks[n])}),r},clone(e){let t=Ir(),o=of/e.colsOrder.length;return e.colsOrder.forEach(r=>{let n=L();Pc(t,n,Q.cloneColumn(e.colsMap[r],o))}),{...e,key:L(),colsOrder:t.order,colsMap:t.blocks}}};var rl=class{static create({listItemBlockSelected:t}){return{listItemBlockSelected:t||!1}}static isBlockSelected(t){return t.customSelection&&t.customSelection.listItemBlockSelected}};var wi={create(e={}){return{...nt.create(e),type:k.EMBED,width:e.width||0,height:e.height||0,src:e.src||""}},clone(e){let t=L();return{...Rt(e),key:t}},toEmbedBlock(e){return e&&e.type===k.EMBED?e:null},getBlockType(){return"embed"}};var Fr={create({type:e="none"}){return{type:e}},hasFrameProperty(e){return!!Eo.toImageBlock(e)},setFrame(e,t){e.type=t},toBlockWithFrame(e){return e&&Fr.hasFrameProperty(e)?e:null},getFrameType(e){return e.type}};var po={create({url:e,enabled:t=!1}){return{enabled:t,value:e||""}},toggle(e){e.enabled=!e.enabled},setState(e,t){e.enabled=t},hasLinkProperty(e){return!!Eo.toImageBlock(e)},toBlockWithLink(e){return e&&po.hasLinkProperty(e)?e:null},setUrl(e,t){e.value=t},getUrl(e){return e.value},isEnabled(e){return e.enabled}};var Kr={create({radius:e="none"}){return{radius:e}},setRadius(e,t){e.radius=t},getRadius(e){return e.radius},hasRoundingProperty(e){return!!Eo.toImageBlock(e)},toBlockWithRounding(e){return e&&Kr.hasRoundingProperty(e)?e:null}};var mo={create({enabled:e=!1}){return{enabled:e}},toggle(e){e.enabled=!e.enabled},setState(e,t){e.enabled=t},hasZoomProperty(e){return!!Eo.toImageBlock(e)},toBlockWithZoom(e){return e&&mo.hasZoomProperty(e)?e:null},isEnabled(e){return e.enabled}};var MD=200,Eo={create(e={}){let{enabledZoom:t}=e,o=e.width!==void 0&&e.height!==void 0&&Math.min(e.width,e.height),r=!!o&&o<MD,n={enabled:t===void 0?!r:t},i={enabled:!!e.enabledLink,url:e.linkUrl},a={type:e.frame||"none"},s={radius:e.rounding||"none"},c={...nt.create(e),type:k.IMAGE,src:e.src||"",isBlob:e.isBlob||!1,zoom:mo.create(n),link:po.create(i),frame:Fr.create(a),rounding:Kr.create(s)};return e.crop&&(c.crop=e.crop),e.clip&&(c.clip=e.clip),e.editedSrc&&(c.editedSrc=e.editedSrc),c},toImageBlock(e){return e&&e.type===k.IMAGE?e:null}};var RD="video",jt={create(e){return{...nt.create(e),type:k.VIDEO,src:e.src,isLoading:e.isLoading||!1,posterSrc:e.posterSrc,designSettings:e.designSettings}},changeAlignment(e,t){e.alignment=t},changePoster(e,t){e.posterSrc=t||void 0},clone(e){let t=L();return{...e,key:t}},toVideoBlock(e){return e&&e.type===k.VIDEO?e:null},getBlockType(e){return RD}};var je={create({text:e,enabled:t=!1}){let o=e||[];return typeof o=="string"&&(o=K.createCharacters(o,le.create())),{enabled:t,value:o}},toggle(e){e.enabled=!e.enabled},setState(e,t){e.enabled=t},hasCaptionProperty(e){return!!jt.toVideoBlock(e)||!!Eo.toImageBlock(e)||!!wi.toEmbedBlock(e)},toBlockWithCaption(e){return e&&je.hasCaptionProperty(e)?e:null},setText(e,t){e.value=t},getText(e){return e.value||[]},isEnabled(e){return e.enabled}};var $r={create(e={}){let t={type:"",key:e.key||L(),alignment:e.alignment||"inner"};return e.designSettings&&(t.designSettings=e.designSettings),t},toAbstractMediaBlock(e){let t=e;return!e||t.type!==k.EMBED&&t.type!==k.IMAGE&&t.type!==k.COLLAGE&&t.type!==k.TABLE?null:t},getBlockType(e){return e.type===k.COLLAGE?`collage-${e.alignment}`:`media-${e.alignment}`}};var nt={create(e={}){return{...$r.create(e),caption:je.create({text:e.characters,enabled:e.enabledCaption||!1}),width:e.width||0,height:e.height||0}},toMediaBlock(e){return!e||![k.IMAGE,k.EMBED,k.VIDEO].includes(e.type)?null:e},getBlockType(e){return`media-${e.alignment}`},supportFullAlign(e){return e.type===k.EMBED||e.width>=960||!e.width}};var ID="info";function vC(e,t=!1){switch(e){case"incorrect":case"minus":return WS;case"correct":case"plus":return jS;case"info":return t?"var(--roll-player-accent-color)":ei("--roll-player-accent-color");case"question":return YS;case"warning":return qS;case"bulb":return GS;case"withoutIcon":return t?"var(--color-icon-disabled)":ei("--color-icon-disabled");default:throw N(e,`Unknown note type: ${e}`),new Error(`Unknown note type: ${e}`)}}var DD=1;function AD(e,t){return{color:vC(e,t),opacity:DD}}function VD(e,t){switch(e){case"bulb":return jc;case"withoutIcon":return Va;default:return vC(e,t)}}var LD=.1;function OD(e,t){return{color:VD(e,t),opacity:LD}}var Oa={defaultType:ID,getIconColorData:AD,getBackgroundColorData:OD};var Kt={create(e={}){let t=e.characters||[];typeof t=="string"&&(t=K.createCharacters(t,le.create()));let o=e.noteType||Oa.defaultType;return{type:k.NOTE,key:e.key||L(),noteType:o,characters:t,customIconColor:e.customIconColor||null,customBackgroundColor:e.customBackgroundColor||null,designSettings:e.designSettings}},clone(e){let t=L();return{...Rt(e),key:t}},toNoteBlock(e){return e&&e.type===k.NOTE?e:null},getBlockType(e){return"note"},setNoteType(e,t){e.noteType=t,e.customIconColor=null,e.customBackgroundColor=null},setNoteBackgroundColor(e,t){e.customBackgroundColor=t},setNoteIconColor(e,t){e.customIconColor=t}};var nl=class{static create(t={}){return{noteTextSelected:t.noteTextSelected||!1}}static textSelected(t){return t.customSelection&&t.customSelection.noteTextSelected}};var il=class{static create({blockSelected:t}){return{blockSelected:t||!1}}static isBlockSelected(t){return t.customSelection&&t.customSelection.blockSelected}};function bC(e={}){let{title:t=F.create(),attachment:o=null,description:r=F.create(),visible:n=!0}=e;return{title:t,attachment:o,description:r,visible:n}}function Je(e){let t=[];for(let o of e)t.push({text:o,meta:le.create()});return t}function al(){return{type:"correctIncorrect",correct:F.create([K.create({characters:Je(B("Quiz.Editor.Question.Feedback.CorrectText"))})]),incorrect:F.create([K.create({characters:Je(B("Quiz.Editor.Question.Feedback.IncorrectText"))})]),answered:F.create([K.create({characters:Je(B("Quiz.Editor.Question.Feedback.Answered"))})])}}function FD(e,t,o){return{id:o,text:F.create([K.create({characters:Je(e)})]),correct:t}}function Nr(e,t){return FD(e,t,ct())}function KD(e,t){return{id:e,text:F.create([K.create({characters:Je(t)})])}}function TC(e){return KD(ct(),e)}function sl(e,t){return{id:ct(),left:TC(e),right:TC(t)}}function $D(e,t){return{id:t,text:F.create([K.create({characters:Je(e)})])}}function cl(e){return $D(e,ct())}function wC(e={}){let{id:t=ct(),text:o=""}=e;return{id:t,text:o}}function PC(e={}){let{caseSensitive:t=!1,answers:o=[]}=e;return{caseSensitive:t,answers:Ve(o,r=>r.id)}}function ND(){return Ve([Nr(B("Quiz.Editor.Choices.DefaultAnswer",{index:1}),!0),Nr(B("Quiz.Editor.Choices.DefaultAnswer",{index:2}),!1),Nr(B("Quiz.Editor.Choices.DefaultAnswer",{index:3}),!1)],e=>e.id)}function zD(){return Ve([cl(B("Quiz.Editor.SequenceElements.DefaultAnswer",{index:1})),cl(B("Quiz.Editor.SequenceElements.DefaultAnswer",{index:2})),cl(B("Quiz.Editor.SequenceElements.DefaultAnswer",{index:3}))],e=>e.id)}function HD(){return PC({caseSensitive:!1,answers:[wC({text:`${B("Quiz.Editor.TypeIn.Answer")} 1`})]})}function rf(e){return[B("Quiz.Editor.Matching.DefaultElement",{index:e}),B("Quiz.Editor.Matching.DefaultMatch",{index:e})]}function QD(){return{matches:Ve([sl(...rf(1)),sl(...rf(2)),sl(...rf(3))],e=>e.id),distractors:Ve([],e=>e.id)}}function UD(e){switch(e){case"mc":case"mr":return{type:e,content:ND()};case"sq":return{type:e,content:zD()};case"ti":return{type:e,content:HD()};case"mt":return{type:e,content:QD()};default:N(e)}throw new Error("invalid question type "+e)}function EC({type:e,description:t,feedback:o}){return{id:ct(),description:t,attachment:null,feedback:o,...UD(e)}}function nf({titleText:e,messageText:t,visibility:o="titleAndMessage"}){let r=F.create([K.create({characters:Je(e)})]),n=F.create([K.create({characters:Je(t)})]);return{title:r,message:n,visibility:o}}function af(e={}){let{displayType:t="showResults",visible:o=!0,passed:r=nf({titleText:B("Quiz.Editor.Results.Passed.Title"),messageText:B("Quiz.Editor.Results.Passed.Message")}),failed:n=nf({titleText:B("Quiz.Editor.Results.Failed.Title"),messageText:B("Quiz.Editor.Results.Failed.Message")}),completed:i=nf({titleText:B("Quiz.Editor.Results.Completed.Title"),messageText:B("Quiz.Editor.Results.Completed.Message")})}=e;return{displayType:t,visible:o,passed:r,failed:n,completed:i}}var pl=-1;function sf(e){return{attempts:pl,passingScore:80,timeLimit:20*6e4,timeLimitEnabled:!1,shuffleAnswersEnabled:e,shuffleQuestionsEnabled:!1,showCorrectAnswersEnabled:e,showFeedbackEnabled:!0,isGraded:e}}function ml(e,t){return t===pl||e<t}function MC(e={}){let{visible:t=!0}=e,o=B("Roll.Editor.QuizBlock.DefaultTitle");return bC({title:F.create([K.create({characters:Je(o)})]),visible:t})}function WD(){let e=Ir(),t=EC({type:"mc",description:F.create(),feedback:al()});return Ta(e,t),e}var mt={create(e={}){var l;let{key:t=L(),longreadQuizId:o=null,questions:r=WD(),settings:n={},designSettings:i,alignment:a="inner",isLoading:s=!1}=e,c={key:t,longreadQuizId:o||null,type:k.QUIZ,state:{intro:n.isGraded?MC():null,questions:r,results:n.isGraded?af():null},isLoading:s,settings:{main:{...sf((l=n==null?void 0:n.isGraded)!=null?l:!1),...n}},alignment:a};return i&&(c.designSettings=i),c},clone(e){let t=L();return{...Rt(e),key:t}},setQuizId(e,t){e.longreadQuizId=t},changeIsGraded(e,t){let o=e.settings.main.isGraded;o&&!t?(e.state.intro=null,e.state.results=null):!o&&t&&(e.state.intro=MC({visible:!1}),e.state.results=af({visible:!1})),e.settings.main=sf(t)},toQuizBlock(e){return e&&e.type===k.QUIZ?e:null},getBlockType(e){return"quiz"},getConvertableType(e){return e.settings.main.isGraded?"graded-quiz":"survey"},addQuestions(e,t){t.forEach(o=>{Ta(e.state.questions,o)})}};var Vie=le.create();function qD(e,t){let o={};for(let r of e){o[r]={colsMap:{}};let i=o[r].colsMap;for(let a of t)i[a]=he.createCell()}return o}function RC(e,t,o){let r=L();e.rowsOrder.splice(t,0,r);let n={};for(let i of e.colsOrder){let a=o&&o(i),s=ae(a==null?void 0:a.content);n[i]=he.createCell({horizontalTextAlign:s==null?void 0:s.textAlign,verticalTextAlign:a==null?void 0:a.verticalTextAlign,meta:a==null?void 0:a.meta})}return e.rowsMap[r]={colsMap:n},r}function GD(e,t,o){if(t.length!==e.rowsOrder.length)throw new Error("new rows count must be equal to original table rows count");let r={};for(let n=0;n<e.rowsOrder.length;n++){let i=t[n],a=e.rowsOrder[n];r[i]={colsMap:DC(e,a,o)}}return r}function DC(e,t,o){if(o.length!==e.colsOrder.length)throw new Error("new cols count must be equal to original table cols count");let r={};for(let n=0;n<e.colsOrder.length;n++){let i=o[n],a=e.colsOrder[n],s=e.rowsMap[t].colsMap[a];r[i]=he.cloneCell(s)}return r}function IC(e,t,o){let r=L();e.colsOrder.splice(t,0,r);for(let n of e.rowsOrder){let i=o&&o(n),a=ae(i==null?void 0:i.content),s=e.rowsMap[n];s.colsMap[r]=he.createCell({horizontalTextAlign:a==null?void 0:a.textAlign,verticalTextAlign:i==null?void 0:i.verticalTextAlign,meta:i==null?void 0:i.meta})}return r}function cf(e,t){return e.colsOrder[0]===t}function jD(e,t,o){for(let r of t){let{colsMap:n}=e[r];for(let i of o)if(!n[i])throw new Error(`rowsMap is invalid: ${JSON.stringify(e)}`)}return e}var he={create(e={}){let t=e.rowsOrder||[L(),L(),L()],o=e.colsOrder||[L(),L(),L()];if(!o.length||!t.length)throw new Error("try to create table with 0 length of rowsCount or colsCount");return{type:k.TABLE,key:e.key||L(),alignment:e.alignment||"inner",rowsOrder:t,colsOrder:o,rowsMap:e.rowsMap?jD(e.rowsMap,t,o):qD(t,o),meta:e.meta||[],designSettings:e.designSettings}},addColumnBefore(e,t){cf(e,t)&&he.removeTableMeta(e,"isHeaderColumnPinned");let o=e.colsOrder.indexOf(t);return IC(e,o,r=>this.getCell(e,r,t))},addColumnAfter(e,t){let o=e.colsOrder.indexOf(t)+1;return IC(e,o,r=>this.getCell(e,r,t))},addLastColumn(e){let t=e.colsOrder[e.colsOrder.length-1];return this.addColumnAfter(e,t)},addRowBefore(e,t){let o=e.rowsOrder.indexOf(t);return RC(e,o,r=>this.getCell(e,t,r))},addRowAfter(e,t){let o=e.rowsOrder.indexOf(t)+1;return RC(e,o,r=>this.getCell(e,t,r))},addLastRow(e){let t=e.rowsOrder[e.rowsOrder.length-1];return this.addRowAfter(e,t)},duplicateRow(e,t){let o=e.rowsOrder.indexOf(t)+1,r=L();return e.rowsMap[r]={colsMap:DC(e,t,e.colsOrder)},e.rowsOrder.splice(o,0,r),r},moveColumnLeft(e,t){e.colsOrder.length>=2&&e.colsOrder[1]===t&&he.removeTableMeta(e,"isHeaderColumnPinned");let o=e.colsOrder.indexOf(t);if(o<=0)return;let r=o-1,n=e.colsOrder;[n[o],n[r]]=[n[r],n[o]]},moveColumnRight(e,t){cf(e,t)&&he.removeTableMeta(e,"isHeaderColumnPinned");let o=e.colsOrder.indexOf(t);if(o>=e.colsOrder.length-1)return;let r=o+1,n=e.colsOrder;[n[o],n[r]]=[n[r],n[o]]},removeColumn(e,t){cf(e,t)&&he.removeTableMeta(e,"isHeaderColumnPinned"),e.colsOrder=e.colsOrder.filter(o=>o!==t),e.rowsOrder.forEach(o=>{delete e.rowsMap[o].colsMap[t]})},moveRowUp(e,t){let o=e.rowsOrder.indexOf(t);if(o<=0)return;let r=o-1,n=e.rowsOrder;[n[o],n[r]]=[n[r],n[o]]},moveRowDown(e,t){let o=e.rowsOrder.indexOf(t);if(o>=e.rowsOrder.length-1)return;let r=o+1,n=e.rowsOrder;[n[o],n[r]]=[n[r],n[o]]},duplicateColumn(e,t){let o=e.colsOrder.indexOf(t)+1,r=L();for(let n of e.rowsOrder){let i=e.rowsMap[n],a=i.colsMap[t];i.colsMap[r]=he.cloneCell(a)}return e.colsOrder.splice(o,0,r),r},removeRow(e,t){e.rowsOrder=e.rowsOrder.filter(o=>o!==t),delete e.rowsMap[t]},createCell(e={}){return{key:e.key||L(),content:e.paragraph||K.create({textAlign:e.horizontalTextAlign}),verticalTextAlign:e.verticalTextAlign||"top",meta:e.meta||[]}},toTableBlock(e){return e&&e.type===k.TABLE?e:null},getBlockType(e){return"table"},getCell(e,t,o){var r;return(r=e.rowsMap[t])==null?void 0:r.colsMap[o]},cloneTable(e){let t=L(),o=[];for(let i=0;i<e.rowsOrder.length;i++)o.push(L());let r=[];for(let i=0;i<e.colsOrder.length;i++)r.push(L());let n=GD(e,o,r);return{type:k.TABLE,key:t,alignment:e.alignment,rowsOrder:o,colsOrder:r,rowsMap:n,meta:e.meta,designSettings:e.designSettings&&Ft(e.designSettings)}},cloneCell(e){return{key:L(),content:{...e.content,key:L()},verticalTextAlign:e.verticalTextAlign,meta:e.meta}},addCellMeta(e,t){e.meta=So(e.meta,t)},addTableMeta(e,t){e.meta=So(e.meta,t)},removeTableMeta(e,t){e.meta=tl(e.meta,[t])},setCellVerticalAlign(e,t){e.verticalTextAlign=t},setCellHorizontalAlign(e,t){let o=ae(e.content);o&&(o.textAlign=t)}};var Yt=class e{static createCellSelection(t){return{type:"cell",cellKey:t.cellKey,rowKey:t.rowKey,colKey:t.colKey}}static createRowSelection(t){return{type:"row",rowKey:t.rowKey}}static createColumnSelection(t){return{type:"column",colKey:t.columnKey}}static createTableSelection(){return{type:"table"}}static isCellSelected(t){return t.customSelection&&t.customSelection.type==="cell"}static isColumnSelected(t){return t.customSelection&&t.customSelection.type==="column"}static isRowSelected(t){return t.customSelection&&t.customSelection.type==="row"}static isTableSelected(t){return t.customSelection&&t.customSelection.type==="table"}static isPartOfTableSelected(t){return e.isRowSelected(t)||e.isColumnSelected(t)||e.isCellSelected(t)}};var ul=class{static create(t){return{captionSelected:t}}static isBlockSelection(t){return t.customSelection&&t.customSelection.captionSelected===!1}static isTextSelection(t){return t.customSelection&&!!t.customSelection.captionSelected}};var I={isTextSelection(e){return(e==null?void 0:e.type)==="text"},isBlockSelection(e){return e.type==="block"},isCollapsed(e){return I.isTextSelection(e)?e.startKey===e.endKey&&e.startOffset===e.endOffset:e.startKey===e.endKey},isOneBlocKOrTextSelected(e){return e.startKey===e.endKey},isOneBlockSelected(e){return I.isBlockSelection(e)&&I.isOneBlocKOrTextSelected(e)},isOneTextBlockSelected(e){return I.isTextSelection(e)&&I.isOneBlocKOrTextSelected(e)},isEqual(e,t){return e===t?!0:!e||!t?!1:JSON.stringify(e)===JSON.stringify(t)},isContextBlockSelected(e){var t;return!I.hasContext(e)||!I.isCollapsed(e)?!1:e.startKey===((t=e.context)==null?void 0:t.blockKey)},hasContext(e){return!!e&&!!e.context},hasContextKey(e){return I.hasContext(e)&&!!(e!=null&&e.context)},createContext(e,t){return{blockKey:e,colKey:t}},getBlockFromContext(e,t){let o=Q.toLayoutBlock(e);if(o&&t&&t.context&&t.context.colKey){let{colKey:r}=t.context;return Q.getBlock(o,r,t.startKey)}return null},getContextContentState(e,t){if(!t||!t.context)return null;let{blockKey:o,colKey:r}=t.context,n=e.blockMap.blocks[o],i=Q.toLayoutBlock(n);return i&&t.context&&r?Q.getColumn(i,r):null},getSelectionContextFromEditorState(e){let t=e.selection();return t&&t.context||void 0},fromBlockToText(e,t){return!!(e!=null&&e.customSelection)&&(t==null?void 0:t.customSelection)===null||(e==null?void 0:e.type)==="block"&&(t==null?void 0:t.type)==="text"},fromTextToBlock(e,t){return!(e!=null&&e.customSelection)&&!!(t!=null&&t.customSelection)||(e==null?void 0:e.type)==="text"&&(t==null?void 0:t.type)==="block"},fromBlockToBlock(e,t){return(e==null?void 0:e.startKey)!==(t==null?void 0:t.startKey)&&!!(e!=null&&e.customSelection)&&!!(t!=null&&t.customSelection)},isChangeContext(e,t){var o,r;return((o=e==null?void 0:e.context)==null?void 0:o.blockKey)!==((r=t==null?void 0:t.context)==null?void 0:r.blockKey)},createTextSelection(e={}){return{type:"text",startKey:e.startKey||"",startOffset:e.startOffset||0,endKey:e.endKey||"",endOffset:e.endOffset||0,isBackward:e.isBackward||!1,customSelection:e.customSelection||null,context:e.context||void 0}},createCollapsed({key:e,offset:t,customSelection:o,context:r}){return I.createTextSelection({startKey:e,startOffset:t,endKey:e,endOffset:t,customSelection:o,context:r})},createBlockSelection(e){return{type:"block",startKey:e.startKey||"",endKey:e.endKey||"",customSelection:e.customSelection||null,context:e.context||void 0}},createCollapsedTextSelection({key:e,offset:t,customSelection:o}){return I.createTextSelection({startKey:e,startOffset:t,endKey:e,endOffset:t,customSelection:o})},createCollapsedTextSelectionNoContext(e={}){return I.createTextSelection({...e,context:void 0})},createCollapsedBlockSelection({key:e,customSelection:t,context:o}){return I.createBlockSelection({startKey:e,endKey:e,customSelection:t,context:o})},createAttachmentBlockSelection(e,t=void 0){return I.createCollapsedBlockSelection({key:e,context:t})},createQuizBlockSelection(e){return I.createCollapsedBlockSelection({key:e})},createParagraphBlockSelection(e,t=void 0){return I.createCollapsedBlockSelection({key:e,customSelection:il.create({blockSelected:!0}),context:t})},createMediaBlockSelection(e,t=void 0){return I.createCollapsedBlockSelection({key:e,customSelection:{captionSelected:!1},context:t})},createCollageBlockSelection(e,t=void 0){return I.createCollapsedBlockSelection({key:e,customSelection:ol.create({}),context:t})},createNoteBlockSelection(e,t=void 0){return I.createCollapsedBlockSelection({key:e,customSelection:nl.create(),context:t})},createTableBlockSelection(e){return I.createCollapsedBlockSelection({key:e,customSelection:Yt.createTableSelection()})},createTableRowSelection(e,t){return I.createCollapsedBlockSelection({key:e,customSelection:Yt.createRowSelection({rowKey:t})})},createTableColumnSelection(e,t){return I.createCollapsedBlockSelection({key:e,customSelection:Yt.createColumnSelection({columnKey:t})})},createFlipCardsBlockSelection(e){return I.createCollapsedBlockSelection({key:e,customSelection:ar.createBlockSelection()})},createDividerBlockSelection(e,t=void 0){return I.createCollapsedBlockSelection({key:e,customSelection:Tn.create(!1),context:t})},createContinueBlockSelection(e){return I.createCollapsedBlockSelection({key:e,customSelection:bn.create(!1)})},createCodeBlockSelection(e,t=void 0){return I.createCollapsedBlockSelection({key:e,customSelection:vn.create(!1),context:t})},createVideoBlockSelection(e,t=void 0){return I.createCollapsedBlockSelection({key:e,customSelection:ul.create(!1),context:t})},createSnippetBlockSelection(e,t){return I.createCollapsedBlockSelection({key:e,context:t})},createListItemBlockSelection(e,t){return I.createCollapsedBlockSelection({key:e,context:t,customSelection:rl.create({listItemBlockSelected:!0})})},createLayoutBlockSelection(e,t=void 0){return I.createBlockSelection({startKey:e,endKey:e,context:t?{blockKey:e,colKey:t}:void 0})},createSelectionFromBlockData(e,t){return he.toTableBlock(e)?I.createTableBlockSelection(e.key):oe.toFlipCardsBlock(e)?I.createFlipCardsBlockSelection(e.key):Be.toDividerBlock(e)?I.createDividerBlockSelection(e.key,t):we.toContinueBlock(e)?I.createContinueBlockSelection(e.key):Y.toCollageBlock(e)?I.createCollageBlockSelection(e.key,t):nt.toMediaBlock(e)?I.createMediaBlockSelection(e.key,t):jt.toVideoBlock(e)?I.createVideoBlockSelection(e.key,t):Kt.toNoteBlock(e)?I.createNoteBlockSelection(e.key,t):Bn.toAttachmentBlock(e)?I.createAttachmentBlockSelection(e.key):mt.toQuizBlock(e)?I.createQuizBlockSelection(e.key):I.createCollapsed({key:e.key,offset:0,context:t})}};var dl=class e{static _getAllFlipCardsBlocksFromSelection(t,o){return Zo(F.getAllBlocksFromSelection(t,o).map(r=>oe.toFlipCardsBlock(r)))}static _getFlipCardsBlock(t,o){let r=t.blockMap.blocks[o];return r?oe.toFlipCardsBlock(r):null}static _getFlipCardsActiveSide(t,o){return o(t)||"front"}static getFirstCard(t){return T(ot(t.cardsBlockMap))}static changeSideContentType(t,o,r,n){return e._getAllFlipCardsBlocksFromSelection(t,o).forEach(i=>{ue(i.cardsBlockMap,a=>{oe.changeFlipCardContentType(a,e._getFlipCardsActiveSide(i.key,n),r)})}),{selection:o}}static changeRowMaxCardsCount(t,o,r){return e._getAllFlipCardsBlocksFromSelection(t,o).forEach(n=>{oe.changeRowMaxCardsCount(n,r)}),{selection:o}}static changeBlockLayout(t,o,r){let n=e._getFlipCardsBlock(t,o);return n?(oe.changeLayout(n,r),{selection:I.createFlipCardsBlockSelection(o)}):{selection:I.createTextSelection()}}static addCard(t,o){let r=e._getFlipCardsBlock(t,o);return r?(oe.addFlipCard(r),{selection:I.createFlipCardsBlockSelection(o)}):{selection:I.createTextSelection()}}static changeSideVerticalAlignment(t,o,r,n){return e._getAllFlipCardsBlocksFromSelection(t,o).forEach(i=>{i.cardsBlockMap.order.forEach(a=>oe.changeCardSideVerticalAlignment(i,a,e._getFlipCardsActiveSide(i.key,n),r))}),{selection:o}}static changeCardTextVerticalAlignment(t,o,r){let{startKey:n}=o,{cardKey:i,cardSide:a}=o.customSelection,s=e._getFlipCardsBlock(t,n);return s?(oe.changeCardSideVerticalAlignment(s,i,a,r),{selection:o}):{selection:I.createTextSelection()}}static removeCard(t,o,r){let n=e._getFlipCardsBlock(t,o);return n?(oe.removeFlipCard(n,r),oe.getFlipCardsCount(n)?{selection:I.createFlipCardsBlockSelection(o)}:(mi(t.blockMap,o),{selection:null})):{selection:I.createTextSelection()}}static duplicateCard(t,o,r){let n=e._getFlipCardsBlock(t,o);return n?(oe.duplicateCard(n,r),{selection:I.createFlipCardsBlockSelection(o)}):{selection:I.createTextSelection()}}static moveCard({contentState:t,blockKey:o,cardKey:r,toCardKey:n,insertBefore:i}){let a=e._getFlipCardsBlock(t,o);return a?(oe.moveFlipCard({flipCardsBlock:a,cardKey:r,toCardKey:n,insertBefore:i}),{selection:I.createFlipCardsBlockSelection(o)}):{selection:I.createTextSelection()}}static changeCardImage(t,o,r,n){let i=e._getFlipCardsBlock(t,o);return i?(oe.changeFlipCardBackgroundImage({block:i,cardKey:r.key,sideType:r.sideType,image:n}),{selection:I.createFlipCardsBlockSelection(o)}):{selection:I.createTextSelection()}}static changeCardsSideBackground(t,o,r,n){return e._getAllFlipCardsBlocksFromSelection(t,o).forEach(i=>{ue(i.cardsBlockMap,a=>{oe.changeFlipCardBackgroundColor(i,a.key,e._getFlipCardsActiveSide(i.key,n),r)})}),{selection:o}}static changeCardBackgroundImage(t,o,r,n){let i=e._getFlipCardsBlock(t,o);return i?(oe.changeFlipCardBackgroundImage({block:i,cardKey:r.key,sideType:r.sideType,image:n}),{selection:I.createFlipCardsBlockSelection(o)}):{selection:I.createTextSelection()}}static changeCardsSideBackgroundImage(t,o,r,n){return e._getAllFlipCardsBlocksFromSelection(t,o).forEach(i=>{ue(i.cardsBlockMap,a=>{oe.changeFlipCardBackgroundImage({block:i,cardKey:a.key,sideType:e._getFlipCardsActiveSide(i.key,n),image:r})})}),{selection:o}}static changeCardBackgroundColor(t,o,r,n){let i=e._getFlipCardsBlock(t,o);return i?(oe.changeFlipCardBackgroundColor(i,r.key,r.sideType,n),{selection:I.createFlipCardsBlockSelection(o)}):{selection:I.createTextSelection()}}static changeCardBackgroundImageOverlay(t,o,r,n){let i=e._getFlipCardsBlock(t,o);return i?(oe.changeCardImageOverlay({block:i,cardKey:r.key,sideType:r.sideType,overlay:n}),{selection:I.createFlipCardsBlockSelection(o)}):{selection:I.createTextSelection()}}static changeCardsSideBackgroundImageOverlay(t,o,r,n){return e._getAllFlipCardsBlocksFromSelection(t,o).forEach(i=>{ue(i.cardsBlockMap,a=>{oe.changeCardImageOverlay({block:i,cardKey:a.key,sideType:e._getFlipCardsActiveSide(i.key,n),overlay:r})})}),{selection:o}}static changeCardImageOverlay(t,o,r,n){let i=e._getFlipCardsBlock(t,o);return i?(oe.changeFlipCardBackgroundImageOverlay({block:i,cardKey:r.key,sideType:r.sideType,overlay:n}),{selection:I.createFlipCardsBlockSelection(o)}):{selection:I.createTextSelection()}}static cropCardImage(t,o,{key:r,sideType:n,crop:i,clip:a,editedSrc:s}){let c=e._getFlipCardsBlock(t,o);return c?(oe.cropFlipCardImage({block:c,cardKey:r,sideType:n,crop:i,clip:a,editedSrc:s}),{selection:I.createFlipCardsBlockSelection(o)}):{selection:I.createTextSelection()}}static cropCardBackgroundImage(t,o,{key:r,sideType:n,crop:i,clip:a,editedSrc:s}){let c=e._getFlipCardsBlock(t,o);return c?(oe.cropFlipCardBackgroundImage({block:c,cardKey:r,sideType:n,crop:i,clip:a,editedSrc:s}),{selection:I.createFlipCardsBlockSelection(o)}):{selection:I.createTextSelection()}}};var Fa={defaultMaxCardsInRow:3,defaultCardsLayout:"outer",defaultActiveSide:"front",maxCardsInRowInnerLayout:3,maxCardsInRowOuterLayout:4,maxCardsInRowFullLayout:5},Ka={text:{frontSide:{getBackgroundColor:_n,opacity:1},backSide:{getBackgroundColor:()=>pt.blackDefault,opacity:.1},defaultOverlayColor:{color:Va,opacity:.3}},imageWithText:{frontSide:{getBackgroundColor:_n,opacity:1},backSide:{getBackgroundColor:()=>pt.blackDefault,opacity:.1},defaultOverlayColor:{color:co,opacity:.3}},image:{defaultOverlayColor:{color:Va,opacity:.3}}},mf={front:le.create({style:Ie.create([{name:"fontColor",color:pt.whiteDefault},{name:"fontSize",size:"auto"},{name:"bold"}])}),back:le.create({style:Ie.create([{name:"fontColor",color:pt.darkDefault},{name:"fontSize",size:"auto"}])})};function uf(e={}){return{type:"image",image:e.image?Jd(e.image):null}}function $C(e){if(!e)return;let t=lt(e,"charactersMeta");if(t&&t.name==="charactersMeta")return t.data}function NC(e,t){return[{name:"charactersMeta",data:t||mf[e]}]}function $a(e){let t=e.characterMeta||$C(e.meta),o=J(e.sideType,{front:HC(t),back:QC(t)});return{type:"text",background:e.background||zC(e.sideType),text:K.create({key:e.paragraphKey,textAlign:e.textAlign||"center",characters:e.characters||o}),verticalTextAlign:e.verticalTextAlign||"middle",meta:e.meta||NC(e.sideType,t)}}function df(e){let t=J(e.sideType,{front:Ka.imageWithText.frontSide,back:Ka.imageWithText.backSide}),o=e.characterMeta||$C(e.meta),r=J(e.sideType,{front:HC(o),back:QC(o)});return{type:"imageWithText",background:e.background||{type:"color",color:t.getBackgroundColor(),opacity:t.opacity},image:e.image?Jd(e.image):null,text:K.create({key:e.paragraphKey,textAlign:e.textAlign||"center",characters:e.characters||r}),verticalTextAlign:e.verticalTextAlign||"middle",meta:e.meta||NC("front",o)}}function zC(e){let t=J(e,{front:Ka.text.frontSide,back:Ka.text.backSide});return{type:"color",color:t.getBackgroundColor(),opacity:t.opacity}}function HC(e){let t=e||mf.front;return K.createCharacters(B("Roll.Editor.FlipCardsBlock.DefaultText.FrontTextSide"),t)}function QC(e){let t=e||mf.back;return K.createCharacters(B("Roll.Editor.FlipCardsBlock.DefaultText.BackTextSide"),t)}function lf(e){let{contentType:t}=e;switch(t){case"image":return uf(e);case"text":return $a(e);case"imageWithText":return df(e);default:throw Qe(t),new Error(`Unknown card content type: ${t}`)}}function YD(e,t){return e.cardsBlockMap.blocks[t]||null}function fl(e,t,o){let r=YD(e,t);if(!r)return null;switch(o){case"front":return r.frontSide;case"back":return r.backSide;default:throw Qe(o),Error()}}function Pi(e,t,o){switch(t){case"front":e.frontSide=o;break;case"back":e.backSide=o;break}}function ZD({cardData:e,sideData:t,sideType:o,contentType:r}){r==="image"&&Pi(e,o,uf({image:t.image})),r==="text"&&Pi(e,o,$a({verticalTextAlign:t.verticalTextAlign,characters:t.text.characters,textAlign:t.text.textAlign,background:t.background,meta:t.meta,sideType:o}))}function XD({cardData:e,sideData:t,sideType:o,contentType:r}){r==="imageWithText"&&Pi(e,o,df({image:t.image,sideType:o})),r==="text"&&Pi(e,o,$a({sideType:o}))}function JD({cardData:e,sideData:t,sideType:o,contentType:r}){r==="image"&&Pi(e,o,uf()),r==="imageWithText"&&Pi(e,o,df({verticalTextAlign:t.verticalTextAlign,characters:t.text.characters,textAlign:t.text.textAlign,background:t.background&&t.background.type==="color"?t.background:null,meta:t.meta,sideType:o}))}function AC({block:e,cardKey:t,sideType:o,overlay:r}){let n=fl(e,t,o);n&&((n.type==="image"||n.type==="imageWithText")&&n.image&&(n.image.overlay=r),n.type==="text"&&n.background.type==="image"&&(n.background.overlay=r))}function VC({block:e,cardKey:t,sideType:o,image:r}){var i;let n=fl(e,t,o);n&&((n.type==="image"||n.type==="imageWithText")&&(n.image=r?{...r,overlay:(i=n.image)==null?void 0:i.overlay}:null),n.type==="text"&&(n.background.type==="image"&&!r&&(n.background=zC(o)),n.background.type==="image"&&r&&(n.background.image=r),n.background.type==="color"&&r&&(n.background={type:"image",image:r,overlay:Ka.text.defaultOverlayColor})))}function LC({block:e,cardKey:t,sideType:o,crop:r,clip:n,editedSrc:i}){let a=fl(e,t,o);a&&(a.type!=="text"?a.image&&(a.image.crop=r,a.image.clip=n,a.image.editedSrc=i!=null?i:void 0):a.background.type==="image"&&(a.background.image.crop=r,a.background.image.clip=n,a.background.image.editedSrc=i!=null?i:void 0))}function pf(){return{key:L(),frontSide:$a({sideType:"front"}),backSide:$a({sideType:"back"})}}function eA(){return Ve([pf(),pf(),pf()],e=>e.key)}function OC(e){let t=Rt(e);switch(e.type){case"image":return t;case"imageWithText":case"text":return{...t,text:{...e.text,key:L()}}}}function UC(e){return{key:L(),frontSide:OC(e.frontSide),backSide:OC(e.backSide)}}function tA(e){let t={blocks:{},order:[]};return ue(e.cardsBlockMap,o=>{let r=UC(o);Pd(t,r)}),t}function FC(e){switch(e.contentType){case"image":return lf({contentType:"image"});case"text":return lf({contentType:"text",sideType:e.sideType,meta:e.meta,verticalTextAlign:e.verticalTextAlign,textAlign:e.horizontalTextAlign,background:e.background,characterMeta:e.characterMeta});case"imageWithText":return lf({contentType:"imageWithText",sideType:e.sideType,meta:e.meta,verticalTextAlign:e.verticalTextAlign,textAlign:e.horizontalTextAlign,background:e.background.type==="color"?e.background:void 0,characterMeta:e.characterMeta})}}function KC(e,t){let{frontSideType:o,backSideType:r}=oe.getFlipCardsSideTypes(e),n=J(t,{front:o,back:r});if(n==="image")return FC({contentType:n});let i=T(oe.getFlipCardsStyles(e,t));return FC({contentType:n,sideType:t,horizontalTextAlign:i.horizontalTextAlign,verticalTextAlign:i.verticalTextAlign,background:i.background,meta:i.meta,characterMeta:le.create({style:i.styles})})}var oe={create(e={}){return{type:k.FLIP_CARDS,key:e.key||L(),cardsBlockMap:e.cardsBlockMap||eA(),maxCardsInRow:e.maxCardsInRow||Fa.defaultMaxCardsInRow,cardsLayout:e.cardsLayout||Fa.defaultCardsLayout,designSettings:e.designSettings}},clone(e){return{type:k.FLIP_CARDS,key:L(),cardsLayout:e.cardsLayout,maxCardsInRow:e.maxCardsInRow,cardsBlockMap:tA(e),designSettings:e.designSettings&&Ft(e.designSettings)}},getCardParagraph(e,t,o){let r=oe.getFlipCardSideData(e,t,o);return r.type!=="image"?r.text:null},getCardData(e,t){return e.cardsBlockMap.blocks[t]||null},changeCardSideVerticalAlignment(e,t,o,r){let n=oe.getFlipCardSideData(e,t,o);n.type!=="image"&&(n.verticalTextAlign=r)},addFlipCard(e){let t=KC(e,"front"),o=KC(e,"back"),r={key:L(),frontSide:t,backSide:o};Pd(e.cardsBlockMap,r)},duplicateCard(e,t){let o=e.cardsBlockMap.blocks[t],r=UC(o);cx(e.cardsBlockMap,t,r)},removeFlipCard(e,t){mi(e.cardsBlockMap,t);let o=Rr(e.cardsBlockMap);o<e.maxCardsInRow&&oe.changeRowMaxCardsCount(e,o)},moveFlipCard({cardKey:e,insertBefore:t,flipCardsBlock:o,toCardKey:r}){let n=o.cardsBlockMap.order;if(e===r)return;let i=n.indexOf(e);n.splice(i,1);let a=n.indexOf(r),s=t?a:a+1;n.splice(s,0,e)},changeFlipCardImage(e){VC(e)},changeFlipCardBackgroundImage(e){VC(e)},cropFlipCardImage(e){LC(e)},cropFlipCardBackgroundImage(e){LC(e)},getFlipCardSideData(e,t,o){let r=oe.getCardData(e,t);return J(o,{front:r.frontSide,back:r.backSide})},getFlipCardsSideTypes(e){let t=e.cardsBlockMap.order[0],o=e.cardsBlockMap.blocks[t];return{frontSideType:o.frontSide.type,backSideType:o.backSide.type}},getFlipCardsSideType(e,t){let o=oe.getFlipCardsSideTypes(e);return J(t,{front:o.frontSideType,back:o.backSideType})},getBlockType(e){return"flip-cards"},toFlipCardsBlock(e){return e&&e.type===k.FLIP_CARDS?e:null},changeFlipCardBackgroundColor(e,t,o,{color:r,opacity:n}){let i=fl(e,t,o);i&&(i.type==="text"||i.type==="imageWithText")&&(i.background={type:"color",color:r,opacity:n})},changeFlipCardBackgroundImageOverlay(e){AC(e)},changeCardImageOverlay(e){AC(e)},changeFlipCardContentType(e,t,o){let r=J(t,{front:e.frontSide,back:e.backSide});r.type==="image"&&XD({cardData:e,sideData:r,sideType:t,contentType:o}),r.type==="imageWithText"&&ZD({cardData:e,sideData:r,sideType:t,contentType:o}),r.type==="text"&&JD({cardData:e,sideData:r,sideType:t,contentType:o})},changeRowMaxCardsCount(e,t){e.maxCardsInRow=t},changeLayout(e,t){e.cardsLayout=t;let o=J(t,{inner:Fa.maxCardsInRowInnerLayout,outer:Fa.maxCardsInRowOuterLayout,"full-width":Fa.maxCardsInRowFullLayout}),r=Rr(e.cardsBlockMap),n=Math.min(r,o);n<e.maxCardsInRow&&oe.changeRowMaxCardsCount(e,n)},getFlipCardsCount(e){return Rr(e.cardsBlockMap)},addFlipCardSideMeta(e,t){e.type!=="image"&&(e.meta=So(e.meta,t))},getFlipCardsStyles(e,t){var a;let o=dl.getFirstCard(e),r=J(t,{front:o.frontSide,back:o.backSide});if(r.type==="image")return null;let n,i=r.text.characters;return i.length===0?n=((a=hC(r))==null?void 0:a.style)||[]:n=i[0].meta.style,{styles:n,verticalTextAlign:r.verticalTextAlign,horizontalTextAlign:r.text.textAlign,background:r.background,meta:r.meta}},hasImageCard(e){let t=r=>r.type==="imageWithText"||r.type==="image"||r.type==="text"&&r.background.type==="image",o=!1;return ue(e.cardsBlockMap,r=>{(t(r.frontSide)||t(r.backSide))&&(o=!0)}),o}};function gl(e){let t=Be.toDividerBlock(e);if(t&&Be.toDividerWithLineBlock(t))return t.alignment;let o=he.toTableBlock(e);if(o)return o.alignment;let r=oe.toFlipCardsBlock(e);if(r)return r.cardsLayout==="full-width"?"full":r.cardsLayout;let n=Y.toCollageBlock(e);if(n)return n.alignment;let i=jt.toVideoBlock(e);if(i)return i.alignment;let a=nt.toMediaBlock(e);if(a)return a.alignment;let s=Q.toLayoutBlock(e);if(s)return s.alignment;let c=mt.toQuizBlock(e);return c?c.alignment:null}var WC=0,qC={x:50,y:50},GC={color:"#000000",opacity:.3};function oA(e){return!!e&&e.indent!==void 0}function yl(e){let t=Q.toLayoutBlock(e);return!!(t&&Q.isBackgroundLayoutBlock(t))}function rA(e){return yl(e)}function jC(e){return oA(e.designSettings)}function hl(e){var t,o;return(o=(t=e.designSettings)==null?void 0:t.background)==null?void 0:o.mediaResource}function YC(e){let t=hl(e);return t==null?void 0:t.position}function nA(e){var t,o;return(o=(t=e.designSettings)==null?void 0:t.size)==null?void 0:o.minHeight}function ZC(e){if(!rA(e))return"";let t=nA(e);return t?`${t}vh`:""}function Co(e){var o,r;let t=(r=(o=e.designSettings)==null?void 0:o.indent)!=null?r:WC;switch(t){case 0:case 1:case 2:return t;default:O.error(`invalid indentation: ${t}`)}return WC}function xl(e,t){e.designSettings||(e.designSettings={}),e.designSettings.indent=t}var iA=[k.LAYOUT,k.CONTINUE,k.FLIP_CARDS,k.EXERCISE,k.QUIZ];function XC(e){let t=gl(e),o=!t||t==="inner";return!iA.includes(e.type)&&o}function JC(e,t){let o={...e.designSettings};return XC(t)||(o.indent=void 0),o}var ff=le.create({style:Ie.create([{name:"fontColor",color:pt.whiteDefault}])});function gf(e){let t=K.createCharacters(e||B("Roll.Editor.Continue.DefaultText"),ff);return K.create({characters:t,textAlign:"center"})}function ek(){return{color:_n(),opacity:1}}var we={create(e={}){let t=e.key||L();return{type:k.CONTINUE,key:t,paragraph:e.paragraph||gf(),continueColor:e.continueColor||ek(),meta:e.meta||[{name:"charactersMeta",data:ff}],designSettings:e.designSettings}},createFromDivider(e){let t=e.dividerType==="line-with-text"?e.meta.filter(i=>i.name==="charactersMeta"):void 0,o=e.dividerType==="line-with-text"?Ke.getCharactersText(e.paragraph):void 0,r=gf(o),n=we.create({...e,meta:t,paragraph:r});return e.designSettings&&(n.designSettings=JC(e,n)),n},clone(e){return we.create({...e,key:L(),paragraph:{...e.paragraph,key:L()},designSettings:e.designSettings&&Ft(e.designSettings)})},toContinueBlock(e){return e&&e.type===k.CONTINUE?e:null},getBlockType(e){return"continue"},getCharactersMeta(e){let t=lt(e.meta,"charactersMeta");return(t==null?void 0:t.data)||null},addMeta(e,t){e.meta=So(e.meta,t)},changeContinueColor(e,t){e.continueColor=t}};function tk(e){var r;let t=e.key||L(),o=e.characters||[];return typeof o=="string"&&(o=K.createCharacters(o,le.create())),{type:k.LIST_ITEM,key:t,characters:o,listViewType:e.viewType,designSettings:e.designSettings,defaultCharactersMeta:(r=e.defaultCharactersMeta)!=null?r:void 0}}var xe={create(e){if(e.listType==="ol")return xe.createOrderedListItemBlock(e);if(e.listType==="ul")return xe.createUnorderedListItemBlock(e);throw new Error(`Unknown listType: ${e.listType}`)},createOrderedListItemBlock(e){var t;return{...tk(e),listType:"ol",counterReset:(t=e.counterReset)!=null?t:null}},createUnorderedListItemBlock(e){return{...tk(e),listType:"ul"}},toListItemBlock(e){return e&&e.type===k.LIST_ITEM?e:null},toOrderedListItemBlock(e){let t=xe.toListItemBlock(e);return t&&t.listType==="ol"?t:null},toUnorderedListItemBlock(e){let t=xe.toListItemBlock(e);return t&&t.listType==="ul"?t:null},toDefaultListItemBlock(e){let t=xe.toListItemBlock(e);return t&&t.listViewType==="default"?e:null},toCustomListItemBlock(e){let t=xe.toListItemBlock(e);return t&&t.listViewType==="custom"?e:null},isEmptyListItem(e){let t=xe.toListItemBlock(e);return!!t&&Ke.isEmpty(t)},clone(e,t={}){return{...Rt(e),key:L(),...t}},getBlockType(e){return`${e.listViewType}-${e.listType}-item`}};var zr={create(e={}){let t=e.key||L();return{type:k.SNIPPET,key:t,url:e.url||"",title:e.title||"",imageSrc:e.imageSrc||null,iconSrc:e.iconSrc||null,description:e.description||null,designSettings:e.designSettings}},clone(e){return zr.create({...e,key:L()})},toSnippetBlock(e){return e&&e.type===k.SNIPPET?e:null},getBlockType(e){return"snippet"},removeAttachments(e){return this.create({...e,imageSrc:null,iconSrc:null})}};var ok={coverPosition:"over",coloredTextEnabled:!0};function rk(e){return!!ae(e)||!!xe.toListItemBlock(e)||!!Kt.toNoteBlock(e)||!!bt.toCodeBlock(e)||!!Be.toDividerBlock(e)||!!we.toContinueBlock(e)||!!Q.toLayoutBlock(e)||!!mt.toQuizBlock(e)}var aA=/^\s*https?:\/\/\S+\s*$/;function nk(e){return aA.test(e)}function Sl(e,t,o,r){return Ec(e.blockMap,t,o),{selection:I.createSelectionFromBlockData(o,r)}}var ik={create(e){return{...K.create({key:e.key,characters:e.characters,viewType:e.viewType,textAlign:e.textAlign}),codeBlockKey:e.codeBlockKey}},toCodeParagraph(e){return e&&e.type===k.PARAGRAPH&&e.codeBlockKey?e:null}};function yf(e,t,o){let{insertionKey:r,insertBefore:n}=o,i=e.blockMap,a=i.order.findIndex(c=>c===r);n||(a+=1);let s=t.map(c=>c.key);return i.order.splice(a,0,...s),t.forEach(c=>{i.blocks[c.key]=c}),{selection:I.createCollapsed({key:tc(t,-1).key,offset:0})}}function ak(e,t,o){return yf(e,[t],o)}function sk(e,t){jC(e)&&t!=="inner"&&xl(e,0)}var Na=class e{static _getLayoutBlock(t,o){let r=t.blockMap.blocks[o];return r?Q.toLayoutBlock(r):null}static changeAlignment(t,o,r){let n=e._getLayoutBlock(t,o);return n?(Q.changeAlignment(n,r),{selection:I.createLayoutBlockSelection(o)}):{selection:I.createTextSelection()}}static changeVerticalAlign(t,o,r){let n=e._getLayoutBlock(t,o);return n?(Q.changeVerticalAlign(n,r),{selection:I.createLayoutBlockSelection(o)}):{selection:I.createTextSelection()}}static changeHorizontalAlign(t,o,r){let n=e._getLayoutBlock(t,o);return n?(Q.changeHorizontalAlign(n,r),{selection:I.createLayoutBlockSelection(o)}):{selection:I.createTextSelection()}}static changeColumnCount(t,o,r){let n=e._getLayoutBlock(t,o);if(!n)return{selection:I.createTextSelection()};if(r>n.colsOrder.length)Q.addColumns(n,r);else if(r<n.colsOrder.length){let i=Q.reduceColumnsCount(n,r);F.insertBlocksAfter(t,n,i)}return{selection:I.createLayoutBlockSelection(o)}}static changeColumnsSizes(t,o,r){let n=e._getLayoutBlock(t,o);return n?(Q.validateColumnsNewSizes(n,r)&&Q.transformColumnsSizes(n,r),{selection:I.createLayoutBlockSelection(o)}):{selection:I.createTextSelection()}}static insertBlocksInNewColumn(t,o,{targetBlockKey:r,position:n,blocks:i}){let a=t.blockMap.blocks[r],s=Q.toLayoutBlock(a);if(!s&&!Q.isLayoutColumnBlock(a))return O.warn("Can not convert block to layout"),{selection:o};let c=s||Q.createFromBlock(a);return n==="start"?Q.addColumnToStart(c,i):Q.addColumnToEnd(c,i),t.blockMap.blocks[r]=c,{selection:I.createLayoutBlockSelection(c.key)}}static deleteColumn(t,o,r){let n=e._getLayoutBlock(t,o);if(!n)return{selection:I.createTextSelection()};if(Q.deleteColumn(n,r),n.colsOrder.length<Q.getMinColumns(n)){let i=n.colsOrder.length?Q.getColumnBlocks(n,n.colsOrder[0]):[K.create()];return yf(t,i,{insertionKey:o,insertBefore:!1}),F.deleteBlocks(t,[o]),{selection:I.createCollapsedBlockSelection({key:i[0].key})}}return{selection:I.createLayoutBlockSelection(o)}}};function ck({contentState:e,targetBlockKey:t,insertBefore:o,blocks:r}){let n=cA({contentState:e,targetBlockKey:t,insertBefore:o}),i=e.blockMap.blocks[n];sA(i,r)}function sA(e,t){if(!xe.toListItemBlock(e))return;let r=Co(e);t.forEach(n=>{xl(n,r)})}function cA({contentState:e,targetBlockKey:t,insertBefore:o}){let r=e.blockMap.order,n=r.findIndex(a=>a===t);return o&&n>0?r[n-1]:t}var Cl=class e{static _getContextCollageBlock(t,o){let r=F.getBlockContextContentState(t,o.context),n=Y.toCollageBlock(r.blockMap.blocks[o.collageKey]),i=o.context?{blockKey:o.context.contextKey,colKey:o.context.richtextKey}:void 0;return{block:n,context:i}}static _createNewCollageBlock(t,o){let r=Y.create({images:[o],designSettings:t.designSettings});return r.alignment=Y.supportAlignment(r,t.alignment)?t.alignment:gC,r}static _deleteMovedImage(t,o,r){let n=F.getBlockContextContentState(t,r.context);Y.isOneImageCollage(o)?(mi(n.blockMap,o.key),r.context&&r.context.richtextKey&&n.blockMap.order.length===0&&Na.deleteColumn(t,r.context.contextKey,r.context.richtextKey)):e.deleteImage(n,o.key,r.imageKey)}static _getImageInsertPosition(t,o,r){let n=t.images.findIndex(i=>i.key===o);return r||(n+=1),n}static _inheritImageProperties(t,o){let r=je.isEnabled(t.caption),n=mo.isEnabled(t.zoom),i=Kr.getRadius(t.rounding),a=Fr.getFrameType(t.frame);je.setState(o.caption,r),mo.setState(o.zoom,n),Kr.setRadius(o.rounding,i),Fr.setFrame(o.frame,a),n&&po.setState(o.link,!1)}static deleteImage(t,o,r){let n=Y.toCollageBlock(t.blockMap.blocks[o]);if(!n||!n.images.map(a=>a.key).includes(r))return O.warn("Block must exist in contentState and must have collaged image with id:"+r),{selection:I.createTextSelection()};if(n.images.length<=1)return Sl(t,o,K.create({key:o}));let i=Y.getCollagedImageIndex(n,r);return i>-1&&(n.images.splice(i,1),Y.isOneImageCollage(n)&&n.images[0].width<=960&&(n.alignment="inner")),{selection:I.createCollageBlockSelection(o)}}static addImage(t,o,r,n){let i=o.startKey,a=Y.toCollageBlock(t.blockMap.blocks[i]);if(!a||!I.isCollapsed(o)||!Y.isCollageBlock(a))return O.warn("Selection must be collapsed and block must be an collage"),{selection:o};let s=a.images[0];e._inheritImageProperties(s,r);let c=n||n===0?n:a.images.length;return a.images.splice(c,0,r),a.images[c].parentCollageKey=i,{selection:I.createCollageBlockSelection(i)}}static replaceImageInCollage({collageKey:t,contentState:o,imageBlock:r,oldImageKey:n,context:i}){let a=Y.toCollageBlock(o.blockMap.blocks[t]);if(!a||!a.images.map(c=>c.key).includes(n))return O.warn("Block must exist in contentState and must have collaged image with id:"+n),{selection:I.createTextSelection()};let s=Y.getCollagedImageIndex(a,n);return s>-1&&(r.caption=a.images[s].caption,r.link=a.images[s].link,r.rounding=a.images[s].rounding,r.frame=a.images[s].frame,a.images[s]=r,a.images[s].parentCollageKey=t),{selection:I.createCollageBlockSelection(t,i)}}static editImage(t,o,{collageKey:r,imageKey:n,crop:i,clip:a,isSingleImage:s,editedSrc:c}){let l=Y.toCollageBlock(t.blockMap.blocks[r]);if(!l)return O.warn(`Block collage ${r} not exist!`),{selection:I.createTextSelection()};let p=Y.getCollagedImageIndex(l,n);return p>-1&&(l.images[p].crop=i,l.images[p].clip=a,l.images[p].editedSrc=c,St(l.images[p]).width<=960&&s&&l.alignment!=="float-left"&&(l.alignment="inner")),{selection:I.createCollageBlockSelection(r,o==null?void 0:o.context)}}static moveImageInCollage(t,o,{imageKey:r,toImageKey:n,beforeImage:i}){let a=Y.toCollageBlock(t.blockMap.blocks[o]);if(!a)return O.warn(`Block collage ${o} not exist!`),{selection:I.createTextSelection()};let s=Y.getCollagedImage(a,r);if(!s)return{selection:I.createCollageBlockSelection(o)};let c=a.images.findIndex(p=>p.key===r);a.images.splice(c,1);let l=e._getImageInsertPosition(a,n,i);return a.images.splice(l,0,s),{selection:I.createCollageBlockSelection(o)}}static moveCollagedImageToCollage(t,o,r){let n=F.getBlockContextContentState(t,o.context),i=Y.toCollageBlock(n.blockMap.blocks[o.collageKey]),a=Y.toCollageBlock(t.blockMap.blocks[r.collageKey]),s=o.context?{blockKey:o.context.contextKey,colKey:o.context.richtextKey}:void 0;if(!i||!a)return{selection:I.createCollageBlockSelection(o.collageKey,s)};let c=A(Y.getCollagedImage(i,o.imageKey)),l=Y.cloneImage(c),p=I.createCollageBlockSelection(r.collageKey),m=e._getImageInsertPosition(a,r.imageKey,r.insertBefore);return e.addImage(t,p,l,m),e._deleteMovedImage(t,i,o),{selection:p}}static moveCollagedImageToRichtext(t,o,r){let{block:n,context:i}=e._getContextCollageBlock(t,o);if(!n)return{selection:I.createCollageBlockSelection(o.collageKey,i)};let a=A(Y.getCollagedImage(n,o.imageKey)),s=Y.cloneImage(a),c=e._createNewCollageBlock(n,s),l=F.getBlockContextContentState(t,r.context);ck({contentState:l,targetBlockKey:r.blockKey,insertBefore:r.insertBefore,blocks:[c]});let p=r.context?{blockKey:r.context.contextKey,colKey:r.context.richtextKey}:void 0,{selection:m}=ak(l,c,{insertionKey:r.blockKey,insertBefore:r.insertBefore});return e._deleteMovedImage(t,n,o),{selection:{...A(m),context:p}}}static moveCollagedImageToNewColumn(t,o,r){let{block:n,context:i}=e._getContextCollageBlock(t,o);if(!n||Y.isOneImageCollage(n)&&r.blockKey===n.key)return{selection:I.createCollageBlockSelection(o.collageKey,i)};let a=A(Y.getCollagedImage(n,o.imageKey)),s=Y.cloneImage(a),c=e._createNewCollageBlock(n,s),{selection:l}=Na.insertBlocksInNewColumn(t,I.createBlockSelection({}),{targetBlockKey:r.blockKey,position:r.side,blocks:[c]});return e._deleteMovedImage(t,n,o),{selection:l}}static changeAlignment(t,o,r){let n=A(Y.toCollageBlock(t.blockMap.blocks[o]));return sk(n,r),n.alignment=r,{selection:I.createCollageBlockSelection(o)}}};var lk={create(e){return{...K.create({key:e.key,characters:e.characters,viewType:e.viewType,textAlign:e.textAlign}),continueBlockKey:e.continueBlockKey}},toContinueParagraph(e){return e&&e.type===k.PARAGRAPH&&e.continueBlockKey?e:null}};function Ei(e){return{...e,characters:je.getText(e.caption)}}var kl={create(e){return{...K.create({key:e.key,characters:e.characters,viewType:e.viewType,textAlign:e.textAlign}),tableKey:e.tableKey,rowKey:e.rowKey,colKey:e.colKey,cellKey:e.cellKey,meta:e.meta||[]}},toCellParagraph(e){if(e&&e.type===k.PARAGRAPH){let t=e;if(t.tableKey&&t.rowKey&&t.colKey&&t.cellKey&&t.meta)return e}return null}};function lA(e,t){let o=T(t.customSelection),r=Y.getCollagedImage(e,o.collageSelectedItemKey);return r||null}function pA(e,t){let o=t.customSelection,r=he.getCell(e,o.rowKey,o.colKey),n=ae(r.content);return n?kl.create({...n,tableKey:e.key,colKey:o.colKey,rowKey:o.rowKey,cellKey:r.key}):null}function mA(e,t){let o=t.customSelection,r=oe.getCardParagraph(e,o.cardKey,o.cardSide);return r||null}function $t(e,t){let o=ae(e);if(o)return o;let r=xe.toListItemBlock(e);if(r)return r;let n=nt.toMediaBlock(e);if(n)return Ei(n);let i=Kt.toNoteBlock(e);if(i)return i;let a=Be.toDividerBlock(e);if(a&&a.dividerType==="line-with-text"&&t&&Tn.isTextSelection(t))return a.paragraph;let s=we.toContinueBlock(e);if(s&&t&&bn.isTextSelection(t))return s.paragraph;let c=bt.toCodeBlock(e);if(c&&t&&vn.isTextSelection(t))return c.paragraph;let l=Y.toCollageBlock(e);if(l&&t&&t.customSelection&&t.customSelection.collageItemCaptionSelected){let d=lA(l,t);if(d)return Ei(d)}let p=he.toTableBlock(e);if(p&&t&&Yt.isCellSelected(t))return pA(p,t);let m=oe.toFlipCardsBlock(e);return m&&t&&ar.isCardTextSelection(t)?mA(m,t):null}function pk(e){let{contentState:t,selection:o}=e,n=t.blockMap.blocks[o.startKey];return!!ae(n)||xe.toListItemBlock(n)||kA(e)?$t(n,o):null}function _l(e){return dA(e)||fA(e)}function uA(e){let{contentState:t,selection:{startKey:o,customSelection:r}}=e;return!!Kt.toNoteBlock(t.blockMap.blocks[o])&&!!r&&r.noteTextSelected}function dA({contentState:e,selection:t}){let{startKey:o,customSelection:r}=t;return!!nt.toMediaBlock(e.blockMap.blocks[o])&&!!r&&r.captionSelected}function fA({contentState:e,selection:t}){let{startKey:o,customSelection:r}=t;return!!Y.toCollageBlock(e.blockMap.blocks[o])&&!!r&&r.collageItemCaptionSelected}function gA({contentState:e,selection:t}){let{startKey:o}=t;return!!oe.toFlipCardsBlock(e.blockMap.blocks[o])&&!!ar.isCardTextSelection(t)}function yA({contentState:e,selection:t}){let{startKey:o}=t;return!!he.toTableBlock(e.blockMap.blocks[o])&&!!Yt.isCellSelected(t)}function hA({contentState:e,selection:t}){let{startKey:o}=t;return!!Be.toDividerBlock(e.blockMap.blocks[o])&&!!Tn.isTextSelection(t)}function xA({contentState:e,selection:t}){let{startKey:o}=t;return!!we.toContinueBlock(e.blockMap.blocks[o])&&!!bn.isTextSelection(t)}function SA({contentState:e,selection:t}){let{startKey:o}=t;return!!bt.toCodeBlock(e.blockMap.blocks[o])&&!!vn.isTextSelection(t)}function CA({contentState:e,selection:t}){if(I.isTextSelection(t))return!1;let o=t.startKey;return!!Q.toLayoutBlock(e.blockMap.blocks[o])}function kA(e){return[uA,_l,yA,gA,hA,xA,SA,CA].some(t=>t(e))}var mk={create(e){return{...K.create({key:e.key,characters:e.characters,viewType:e.viewType,textAlign:e.textAlign}),dividerBlockKey:e.dividerBlockKey,paragraphStyle:e.paragraphStyle,meta:e.meta}},toDividerParagraph(e){return e&&e.type===k.PARAGRAPH&&e.dividerBlockKey?e:null}};var uk={create(e){return{...K.create({key:e.key,characters:e.characters,viewType:e.viewType,textAlign:e.textAlign}),flipCardsBlockKey:e.flipCardsBlockKey,cardKey:e.cardKey,cardSide:e.cardSide,meta:e.meta||[]}},toFlipCardParagraph(e){if(e&&e.type===k.PARAGRAPH){let t=e;if(t.flipCardsBlockKey&&t.cardKey&&t.cardSide&&t.meta)return e}return null}};var Bl=class{static create(t){return{captionSelected:t}}};var F={createBlocks(e){let t={order:[],blocks:{}};for(let o of e)t.order.push(o.key),t.blocks[o.key]=o;return t},cloneBlock(e){let t=ae(e);if(t)return K.clone(t);let o=Y.toCollageBlock(e);if(o)return Y.clone(o);let r=he.toTableBlock(e);if(r)return he.cloneTable(r);let n=oe.toFlipCardsBlock(e);if(n)return oe.clone(n);let i=Be.toDividerBlock(e);if(i)return Be.clone(i);let a=we.toContinueBlock(e);if(a)return we.clone(a);let s=bt.toCodeBlock(e);if(s)return bt.clone(s);let c=jt.toVideoBlock(e);if(c)return jt.clone(c);let l=zr.toSnippetBlock(e);if(l)return zr.clone(l);let p=mt.toQuizBlock(e);if(p)return mt.clone({...p,isLoading:!0});let m=Q.toLayoutBlock(e);return m?Q.clone(m):{...e,designSettings:e.designSettings&&Ft(e.designSettings),key:L()}},replaceBlocksFragment(e,t,o,r=[]){let n=e.order.indexOf(t),i=e.order.indexOf(o);if(n<0||i<0){O.warn("incorrect block keys");return}let a=[...e.order],s=a.splice(n,i-n+1);for(let l of s)delete e.blocks[l];let c=[];for(let l of r)c.push(l.key),e.blocks[l.key]=l;a.splice(n,0,...c),e.order.splice(0,e.order.length,...a)},deleteBlocks(e,t){e.blockMap.order=e.blockMap.order.filter(o=>!t.includes(o)),t.forEach(o=>{delete e.blockMap.blocks[o]})},replaceBlockWithFragment(e,t,o){return F.replaceBlocksFragment(e,t,t,o)},updateBlockWithKey(e,t,o){let r=e.blockMap.blocks[t];r&&Vy(r,o)},updateCollageBlockWithKey(e,t,o){let r=Y.toCollageBlock(e.blockMap.blocks[t]);if(r){let n=Y.getCollagedImage(r,o.key);if(!n)return;for(let i of Object.keys(o))n[i]=o[i]}},removeCollagedImage(e,t,o){Cl.deleteImage(e,t,o)},getCollageImageBlock(e,t,o){let r=Y.toCollageBlock(e.blockMap.blocks[t]);return r?Y.getCollagedImage(r,o):null},removeBlocks(e,t){for(let o of t)Sl(e,o,K.create({key:o}))},insertBlocksAfter(e,t,o){let r=e.blockMap.order.indexOf(t.key)+1;e.blockMap.blocks={...e.blockMap.blocks,...o.blocks},e.blockMap.order.splice(r,0,...o.order)},isOneEmptyParagraph(e){let t=e.blockMap;if(e.blockMap.order.length===1){let o=t.blocks[t.order[0]];return K.isEmptyParagraph(o)}return!1},create(e=[K.create()]){return{blockMap:F.createBlocks(e)}},createFromBlockMap(e){return e},getDefaultSelection(e){let t=e.blockMap.order[0],o=e.blockMap.blocks[t],r=null;return nt.toMediaBlock(o)&&(r=Bl.create(!1)),I.createTextSelection({startKey:o.key,startOffset:0,endKey:o.key,endOffset:0,customSelection:r})},getAllBlocksFromSelection(e,t){let{startKey:o,endKey:r}=t,{order:n,blocks:i}=e.blockMap,a=n.indexOf(o),s=n.indexOf(r);return a<0||s<0?(O.warn("incorrect selection"),[]):n.slice(a,s+1).map(c=>i[c])},getAllTableCellsCharactersBlocks(e){let t=[];return e.rowsOrder.forEach(o=>{e.colsOrder.forEach(r=>{let n=he.getCell(e,o,r),i=n&&ae(n.content);i&&t.push({paragraph:i,location:{tableKey:e.key,colKey:r,rowKey:o,cellKey:n.key},meta:n.meta})})}),t},getAllFlipCardsCharactersBlocks(e,t){let o=[];return e.cardsBlockMap.order.forEach(r=>{let n=oe.getFlipCardSideData(e,r,t);n.type!=="image"&&o.push({paragraph:n.text,location:{flipCardsBlockKey:e.key,cardKey:r,cardSide:t},meta:n.meta})}),o},getTableRowCellsCharactersBlocks(e,t){let o=[];return e.colsOrder.forEach(r=>{let n=he.getCell(e,t,r),i=n&&ae(n.content);i&&o.push({paragraph:i,location:{tableKey:e.key,colKey:r,rowKey:t,cellKey:n.key},meta:n.meta})}),o},getTableColumnCellsCharactersBlocks(e,t){let o=[];return e.rowsOrder.forEach(r=>{let n=he.getCell(e,r,t),i=n&&ae(n.content);i&&o.push({paragraph:i,location:{tableKey:e.key,colKey:t,rowKey:r,cellKey:n.key},meta:n.meta})}),o},getSelectedTableCharactersBlocks(e,t){if(Yt.isCellSelected(t)){let o=t.customSelection,r=he.getCell(e,o.rowKey,o.colKey);return[{paragraph:T(ae(r.content)),location:{tableKey:e.key,colKey:o.colKey,rowKey:o.rowKey,cellKey:r.key},meta:r.meta}]}if(Yt.isRowSelected(t)){let{rowKey:o}=t.customSelection;return F.getTableRowCellsCharactersBlocks(e,o)}if(Yt.isColumnSelected(t)){let{colKey:o}=t.customSelection;return F.getTableColumnCellsCharactersBlocks(e,o)}return F.getAllTableCellsCharactersBlocks(e)},getSelectedFlipCardsParagraphBlocks(e,t,o){if(ar.isCardTextSelection(t)){let n=t.customSelection,i=oe.getFlipCardSideData(e,n.cardKey,n.cardSide);if(i.type!=="image")return[{paragraph:i.text,location:{flipCardsBlockKey:e.key,cardKey:n.cardKey,cardSide:n.cardSide},meta:i.meta}]}let r=o&&o(e.key)||"front";return r?F.getAllFlipCardsCharactersBlocks(e,r):[]},getSelectedLayoutCharactersBlocks(e){return F._getBlocksFromLayoutFilter(e,t=>this.convertLayoutBlockToCharactersBlock(t,!0))},getSelectedLayoutParagraphBlocks(e){return F._getBlocksFromLayoutFilter(e,t=>this.convertLayoutBlockToCharactersBlock(t,!1))},_getBlocksFromLayoutFilter(e,t){return Q.getAllBlocks(e).map(t).reduce((o,r)=>r?[...o,...r]:o,[])},convertLayoutBlockToCharactersBlock(e,t){let o=ae(e);if(o)return[o];let r=xe.toListItemBlock(e);if(r)return[r];let n=nt.toMediaBlock(e);if(n&&t)return[Ei(n)];let i=Kt.toNoteBlock(e);if(i)return[i];let a=Be.toDividerBlock(e);if(a&&a.dividerType==="line-with-text")return[a.paragraph];let s=Y.toCollageBlock(e);return s&&t?Y.getCaptionParagraphs(s).map(l=>Ei(l)):null},getContextContentState(e,t){if(t&&t.context){let o=I.getContextContentState(e,t);if(o)return o}return e},getBlockContextContentState(e,t){let o=I.createBlockSelection({context:t?{blockKey:t.contextKey,colKey:t.richtextKey}:void 0});return F.getContextContentState(e,o)},getCharactersBlockFromSelection(e,t,o){let r=F.getAllBlocksFromSelection(e,t).filter(i=>!!$t(i,t)||!!Y.toCollageBlock(i)||!!he.toTableBlock(i)||!!oe.toFlipCardsBlock(i)||!!Be.toDividerBlock(i)||!!Q.toLayoutBlock(i)||!!bt.toCodeBlock(i)||!!we.toContinueBlock(i)),n=[];for(let i=0;i<r.length;i++){let a=Y.toCollageBlock(r[i]);if(a&&_l({contentState:e,selection:t})){let C,S=t.customSelection.collageSelectedItemKey,_=Y.getCollagedImage(a,S);_&&(C=$t(_)),n.push(C||r[i]);continue}if(a&&!_l({contentState:e,selection:t})){a.images.forEach(C=>{let S=T($t(C));n.push(S)});continue}let s=nt.toMediaBlock(r[i]);if(s){let C=T($t(s));n.push(C);continue}let c=Kt.toNoteBlock(r[i]);if(c){let C=T($t(c));n.push(C);continue}let l=xe.toListItemBlock(r[i]);if(l){let C=T($t(l));n.push(C);continue}let p=Be.toDividerBlock(r[i]);if(p){p.dividerType==="line-with-text"&&n.push(mk.create({...p.paragraph,dividerBlockKey:p.key,paragraphStyle:p.paragraphStyle,meta:p.meta}));continue}let m=we.toContinueBlock(r[i]);if(m){n.push(lk.create({...m.paragraph,continueBlockKey:m.key}));continue}let d=bt.toCodeBlock(r[i]);if(d){n.push(ik.create({...d.paragraph,codeBlockKey:d.key}));continue}let y=he.toTableBlock(r[i]);if(y){let S=this.getSelectedTableCharactersBlocks(y,t).map(_=>kl.create({..._.paragraph,..._.location,meta:_.meta}));n.push(...S);continue}let g=Q.toLayoutBlock(r[i]);if(g){let C=this.getSelectedLayoutCharactersBlocks(g);C.length&&n.push(...C);continue}let h=oe.toFlipCardsBlock(r[i]);if(h){let S=this.getSelectedFlipCardsParagraphBlocks(h,t,o).map(_=>uk.create({..._.paragraph,..._.location,meta:_.meta}));n.push(...S);continue}n.push(r[i])}return n},getFlatBlocksFromSelection(e,t,o){let r=F.getAllBlocksFromSelection(e,t),n=[],i=r.reduce((a,s)=>{let c=Y.toCollageBlock(s);return c?c.images.forEach(l=>a.push(o(l))):a.push(o(s)),a},n);return Zo(i)},getParagraphBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!ae(o))},getMediaBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!nt.toMediaBlock(o))},getEmbedBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!wi.toEmbedBlock(o))},getCollageBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!Y.toCollageBlock(o))},getTableBlockFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!he.toTableBlock(o))},getAttachmentBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!Bn.toAttachmentBlock(o))},getNoteBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!Kt.toNoteBlock(o))},getTableBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!he.toTableBlock(o))},getFlipCardsBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!oe.toFlipCardsBlock(o))},getDividerBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!Be.toDividerBlock(o))},getContinueBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!we.toContinueBlock(o))},getVideoBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!jt.toVideoBlock(o))},getSnippetBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!zr.toSnippetBlock(o))},getCodeBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!bt.toCodeBlock(o))},getListItemBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!xe.toListItemBlock(o))},getLayoutBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>!!Q.toLayoutBlock(o))},getTextBlockTypeFromSelection(e,t){let o=F.getAllBlocksFromSelection(e,t),r="text",n=ae(o[0]);n&&(r=n.viewType);let i=xe.toListItemBlock(o[0]);return i&&(r=xe.getBlockType(i)),r},getParagraphsFromSelection(e,t,o){let r=F.getAllBlocksFromSelection(e,t),n=[];return r.forEach(i=>{let a=ae(i);if(a){n.push({paragraph:a,parentBlockType:"none"});return}let s=he.toTableBlock(i);if(s){let p=this.getSelectedTableCharactersBlocks(s,t).map(m=>({paragraph:m.paragraph,parentBlockType:"table"}));n.push(...p)}let c=oe.toFlipCardsBlock(i);if(c){let p=this.getSelectedFlipCardsParagraphBlocks(c,t,o).map(m=>({paragraph:m.paragraph,parentBlockType:"flip-card"}));n.push(...p)}let l=Q.toLayoutBlock(i);if(l){let p=this.getSelectedLayoutParagraphBlocks(l).map(m=>({paragraph:m,parentBlockType:"layout"}));n.push(...p)}}),n},getConvertableBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(o=>rk(o))},getBlockBefore(e,t,o=void 0){let r=o&&o.colKey?{contextKey:o.blockKey,richtextKey:o.colKey}:null,{order:n,blocks:i}=r?F.getBlockContextContentState(e,r).blockMap:e.blockMap,a=n.indexOf(t);if(a===0&&o)return F.getBlockInBeforeContext(e,o);if(a<0)return O.warn("incorrect key"),{blockBefore:null};if(a===0)return{blockBefore:null};let s=n[a-1];return{blockBefore:i[s],newContext:o}},getBlockAfter(e,t,o=void 0){let r=o&&o.colKey?{contextKey:o.blockKey,richtextKey:o.colKey}:null,{order:n,blocks:i}=r?F.getBlockContextContentState(e,r).blockMap:e.blockMap,a=n.indexOf(t);if(a===n.length-1&&o)return F.getBlockInAfterContext(e,o);if(a<0)return O.warn("incorrect key"),{blockAfter:null};if(a===n.length-1)return{blockAfter:null};let s=n[a+1];return{blockAfter:i[s],newContext:o}},getBlockInBeforeContext(e,t){if(!t.colKey)return{blockBefore:null};let o=e.blockMap.blocks[t.blockKey],r=Q.toLayoutBlock(o);if(r){let n=Q.getBeforeColumnBlock(r,t.colKey);return n?{blockBefore:n.block,newContext:{...t,colKey:n.colKey}}:F.getBlockBefore(e,t.blockKey)}return{blockBefore:null}},getBlockInAfterContext(e,t){if(!t.colKey)return{blockAfter:null};let o=e.blockMap.blocks[t.blockKey],r=Q.toLayoutBlock(o);if(r){let n=Q.getAfterColumnBlock(r,t.colKey);return n?{blockAfter:n.block,newContext:{...t,colKey:n.colKey}}:F.getBlockAfter(e,t.blockKey)}return{blockAfter:null}},getQuizBlocksFromSelection(e,t){return F.getAllBlocksFromSelection(e,t).filter(n=>!!mt.toQuizBlock(n))},atLeastOneNotEmptyCharactersBlockSelected(e,t,o){return F.getCharactersBlockFromSelection(e,t,o).some(r=>r.characters.length>0)},convertBrowserToModelSelection(e,t){let o=e.blockMap.blocks,r=$t(o[t.startKey],t),n=r?Ke.convertBrowserToModelOffset(r,t.startOffset):t.startOffset,i=$t(e.blockMap.blocks[t.endKey],t),a=i?Ke.convertBrowserToModelOffset(i,t.endOffset):t.endOffset;return{...t,startOffset:n,endOffset:a}},convertModelToBrowserSelection(e,t){if(I.isBlockSelection(t))return I.createTextSelection({startKey:t.startKey,endKey:t.endKey,customSelection:t.customSelection});let o=$t(e.blockMap.blocks[t.startKey],t),r=o?Ke.convertModelToBrowserOffset(o,t.startOffset):t.startOffset,n=$t(e.blockMap.blocks[t.endKey],t),i=n?Ke.convertModelToBrowserOffset(n,t.endOffset):t.endOffset;return{...t,startOffset:r,endOffset:i}},isValidSelection(e,t){return[t.startKey,t.endKey].every(o=>Te.hasBlock(e.blockMap,o))},getSelectedBlockKeys(e,t){let o=e.blockMap.order,r=o.findIndex(i=>i===t.startKey),n=o.findIndex(i=>i===t.endKey);return o.slice(r,n+1)},getSelectedBlockKeysWithContext(e,t){if(!I.hasContext(t))return this.getSelectedBlockKeys(e,t);if(I.isContextBlockSelected(t))return[t.startKey];let o=I.getContextContentState(e,t);return o?this.getSelectedBlockKeys(o,t):(O.warn("Invalid context in selection"),[])},isUrlSelected(e,t){if(t.startKey!==t.endKey)return!1;let o=e.blockMap.blocks[t.startKey],r=ae(o);if(!r)return!1;let n=Ke.getCharactersText(r);return I.isTextSelection(t)&&(n=n.slice(t.startOffset,t.endOffset)),nk(n)},getCharactersBeforeCursor(e,t){let o=pk({contentState:e,selection:t});if(!o||t.type==="block")return null;let{startOffset:r}=t;return o.characters.slice(0,r)}};function Hr(e){e.inlineStyleRanges&&e.inlineStyleRanges.forEach(t=>{t.style={name:t.style}}),e.urls&&e.urls.forEach(t=>{let o={start:t.start,end:t.end,style:{name:"underline"}};e.inlineStyleRanges?e.inlineStyleRanges.push(o):e.inlineStyleRanges=[o]})}function _A(e){Hr(e),e.textAlign=e.viewType==="pullquote"?"center":"left"}function hf(e){let t=null;return e.forEach(o=>{if(o.type===k.PARAGRAPH){_A(o);let r=o;r.viewType==="ol"&&(!t||t!=="ol")&&(r.isOrderedListFirstItem=!0),t=r.viewType}else if(o.type===k.IMAGE)Hr(o),t=null;else if(o.type===k.EMBED)Hr(o),t=null;else if(o.type===k.EXERCISE){let r=o;r.questions&&r.questions.forEach(n=>{Hr(n.description),(n.type==="mc"||n.type==="mr")&&n.content.choices&&n.content.choices.forEach(i=>Hr(i.text)),Hr(n.feedback.answered),Hr(n.feedback.correct),Hr(n.feedback.incorrect)}),t=null}else t=null}),e}function dk(e){switch(e){case"header":return"h1";case"subheader":return"h2";default:return e}}function Mi({text:e,inlineStyleRanges:t,urls:o}){let r=le.create(),n=[...e].map(i=>({text:i,meta:r}));return t&&t.forEach(i=>{for(let a=i.start;a<i.end;++a){if(a>=n.length){O.warn("incorrect style ranges");break}n[a].meta=le.applyStyle(n[a].meta,[i.style])}}),o&&o.forEach(i=>{for(let a=i.start;a<i.end;++a){if(a>=n.length){O.warn("incorrect url ranges");break}n[a].meta=le.setUrl(n[a].meta,i.url)}}),n}var fk={create({type:e,width:t,height:o,src:r,crop:n,title:i,previewSrc:a}){let s={type:e,width:t,height:o,src:r};return n&&(s={...s,crop:n}),i&&(s={...s,title:i}),a&&(s={...s,previewSrc:a}),s}};function vl(e){let t=ae(ot(e.blockMap));return t?Ke.getCharactersText(t):(O.error("first block is not text pararaph"),"")}var Ri={create(e={}){let{key:t=L(),correct:o=!1,text:r=[]}=e;return{key:t,correct:o,content:F.create([K.create({characters:r})])}},getChoiceText(e){return A(vl(e.content))}};var bl={create(e={}){let{choices:t=[Ri.create({correct:!0,text:Je(`${B("Roll.Exercise.Question.Content.PossibleAnswer")} 1`)}),Ri.create({text:Je(`${B("Roll.Exercise.Question.Content.PossibleAnswer")} 2`)}),Ri.create({text:Je(`${B("Roll.Exercise.Question.Content.PossibleAnswer")} 3`)})]}=e;return{choices:t}}};var Tl={create(e={}){let{key:t=L(),text:o=""}=e;return{key:t,text:o}}};var wl={create(e={}){let{caseSensitive:t=!1,answers:o=[Tl.create({text:`${B("Roll.Exercise.TypeIn.Answer")} 1`})]}=e;return{caseSensitive:t,answers:o}}};var gk={ANSWERED:"answered",CORRECT_INCORRECT:"correctIncorrect"};var Pl={create(e={}){let{type:t=gk.CORRECT_INCORRECT,answered:o=[],correct:r=[],incorrect:n=[]}=e;return{type:t,answered:F.create([K.create({characters:o})]),correct:F.create([K.create({characters:r})]),incorrect:F.create([K.create({characters:n})])}}};function BA(e){switch(e){case"mc":case"mr":return bl.create();case"ti":return wl.create();default:throw N(e),new Error(`Unknown question type: ${e}`)}}var El={create(e){let{key:t=L(),type:o,attachment:r=null,description:n="",content:i=BA(e.type),feedback:a=Pl.create()}=e;return{key:t,type:o,attachment:r,description:F.create([K.create({characters:n})]),content:i,feedback:a}},getDescriptionText(e){return vl(e.description)}};var Ml={create(e={}){let{includeInProgress:t=!1,shuffleAnswers:o=!1,showCorrectAnswers:r=!0}=e;return{includeInProgress:t,shuffleAnswers:o,showCorrectAnswers:r}}};var yk={create(e={}){let{key:t=L(),settings:o=Ml.create(),questions:r=[El.create({type:"mc"})]}=e;return{key:t,type:k.EXERCISE,settings:o,questions:r}},toExerciseBlock(e){return e&&e.type===k.EXERCISE?e:null}};function hk(e){switch(e){case"right":return"left";case"left":return"right";case"center":case"bottom":return e;default:throw N(e),new Error}}var za=220,wn="cubic-bezier(.24,.84,.26,.99)",vA=40,Sk=480,bA=360;function xf(e){return e<=Sk?bA:440}function Sf(e){return e<=Sk?280:320}function Ck(e,t){return J(e,{center:{appearDuration:za,hideDuration:za,hideTranslate:[0,vA],appearTranslate:[0,0],fade:!0,easing:wn},right:{appearDuration:xf(t.getBoundingClientRect().width),hideDuration:Sf(t.getBoundingClientRect().width),hideTranslate:[t.getBoundingClientRect().width,0],appearTranslate:[0,0],fade:!1,easing:wn},bottom:{appearDuration:xf(t.getBoundingClientRect().height),hideDuration:Sf(t.getBoundingClientRect().height),hideTranslate:[0,t.getBoundingClientRect().height],appearTranslate:[0,0],fade:!1,easing:wn},left:{appearDuration:xf(t.getBoundingClientRect().height),hideDuration:Sf(t.getBoundingClientRect().height),hideTranslate:[-t.getBoundingClientRect().width,0],appearTranslate:[0,0],fade:!1,easing:wn}})}function xk([e,t]){return`translate(${e}px, ${t}px)`}function kk({element:e,transformStart:t,transformEnd:o,opacity:r,duration:n,easing:i}){return new KeyframeEffect(e,[{transform:xk(t),...r?{opacity:r[0]}:{}},{transform:xk(o),...r?{opacity:r[1]}:{}}],{duration:n,easing:i,fill:"forwards"})}function _k(e,t){let{hideTranslate:o,appearTranslate:r,fade:n,appearDuration:i,easing:a}=Ck(e,t);return kk({element:t,duration:i,transformStart:o,transformEnd:r,opacity:n?[0,1]:void 0,easing:a})}function Bk(e,t,o){let{hideTranslate:r,fade:n,appearTranslate:i,easing:a,hideDuration:s}=Ck(e,t);return kk({element:t,easing:a,duration:s,transformStart:i,transformEnd:r,opacity:n?[1,0]:void 0})}var TA={layer:"_0joSwY",layer_type_default:"_wfe9jd",layer_type_dark:"_nOT7G6",layer_type_light:"_2hhqc9"},vk=TA;var wA=u(vk);function bk(e,{type:t,onClick:o}){return e`
<div
	class=${wA.layer.withMods({type:t})}
	onclick=${o}
>
</div>`}var PA=e=>new KeyframeEffect(e,[{opacity:0},{opacity:1}],{duration:za,easing:wn,fill:"forwards"}),EA=e=>new KeyframeEffect(e,[{opacity:1},{opacity:0}],{duration:za,easing:wn,fill:"forwards"}),Tk=MA();function wk({html:e,layer:t,props:o}){let r=e.renderIf(bk,()=>o),{element:n}=Bi({element:r,getAppearKeyframes:PA,getHideKeyframes:EA});vi({layer:t,element:n}),ee(()=>{if(r)return t.style.pointerEvents="auto",Tk.increment(t),()=>{Tk.decrement(t)===0&&(t.style.pointerEvents="")}},[r,t])}function MA(){let e=new Map;function t(r){var i;let n=(i=e.get(r))!=null?i:0;return e.set(r,++n),n}function o(r){var i;let n=(i=e.get(r))!=null?i:0;return e.set(r,--n),n}return{increment:t,decrement:o}}function RA(e,t,o){switch(e){case"center":return{left:Math.round((t.offsetWidth-o.clientWidth)*.5),top:Math.round((t.offsetHeight-o.clientHeight)*.5)};case"right":return{top:0,bottom:0,right:0};case"bottom":return{bottom:0,left:0,right:0};case"left":return{top:0,bottom:0,left:0};default:throw Qe(e),new Error}}function Rl(e,t,o){let{left:r,top:n,bottom:i,right:a}=RA(e,t,o),s=c=>ie(c)?q(c):"";o.style.top=s(n),o.style.right=s(a),o.style.bottom=s(i),o.style.left=s(r)}var Cf=new Map;function Pk({type:e,element:t,onModalOverlayClick:o}){let r=P(null),n=br(),i=te(o),a=D(()=>(Cf.has(e)||Cf.set(e,[]),A(Cf.get(e))),[e]);t&&r.current===null&&(r.current=a.push({idRef:r,redraw:n,onModalOverlayClick:()=>i.current&&i.current()})-1,r.current&&r.current>=1&&a[r.current-1].redraw()),!t&&r.current===a.length-1&&(r.current&&r.current>=1&&a[r.current-1].redraw(),a.pop(),r.current=null),ee(()=>()=>{r.current!==null&&(a.splice(r.current),r.current=null)},[a]);let s=E(()=>{if(a.length){let c=a[a.length-1];c.onModalOverlayClick&&c.onModalOverlayClick()}},[a]);return{isFirst:r.current===0,activeElement:r.current===a.length-1?t:null,onModalOverlayClick:s}}function Ek(e,t){M(()=>{if(t){let o=e.style.overflow;return e.style.overflow="hidden",()=>{e.style.overflow=o}}},[t,e])}function Mk(e){Ek(window.document.body,e)}function Ii({html:e,side:t,createModal:o,close:r,beforeUnmount:n,modalOverlayType:i="default",layer:a=wo("popup")}){let s=e(o()),c=fi()?hk(t):t,{isFirst:l,activeElement:p,onModalOverlayClick:m}=Pk({type:c==="center"?"popup":"sidePanel",element:s,onModalOverlayClick:r});Mk(l),wk({html:e,layer:a,props:l?{type:i,onClick:m}:null});let{element:d}=Bi({element:p,getAppearKeyframes:y=>_k(c,y),getHideKeyframes:y=>Bk(c,y)});vi({layer:a,element:d,onAppend:y=>Rl(c,a,y),beforeUnmount:n}),Ze({target:document.body,onResize:()=>s&&Rl(c,a,s)}),Ze({target:s,onResize:()=>s&&Rl(c,a,s)})}function Rk(e){let t=te(e);return E((...o)=>t.current(...o),[t])}function Ik(e){let t=e?-5:5;return Oc({opacity:Fc(0,1),translate:Kc([0,t],[0,0]),duration:150})}var Il=8;function Dk({popover:e,position:t}){let o=window.pageYOffset+window.innerHeight,r=window.pageYOffset,i=t.y+e.offsetHeight>o,a=t.y<r+Il;if(a||i){let s;a?(s=e.offsetHeight-Math.abs(t.y-r-Il),t.y=r+Il):s=o-t.y-Il,e.style.width=q(e.offsetWidth),e.style.maxHeight=q(s),e.style.overflowY="auto"}e.style.left=q(t.x),e.style.top=q(t.y)}var Qr=[];function Ak(e){let t=Qr.pop();for(;t&&e(t,Qr.length);)t.closePopover(),t=Qr.pop();t&&Qr.push(t),Qr.length||Vk().clearHandler()}function IA(e){let t=Qr.indexOf(e);if(~t)Ak((o,r)=>r>=t);else throw new Error("PopoverStackItem must be in popover stack")}function DA(e){return Qr.length||Vk().registerHandler(),Qr.push(e),e}var Vk=Ty(()=>{function e(t){let o=t.target;Ak(({relatedRef:r,popover:n})=>!r.current.contains(o)&&!n.contains(o))}return{registerHandler:()=>window.addEventListener("mousedown",e),clearHandler:()=>window.removeEventListener("mousedown",e)}});function Dl({relatedRef:e,popoverRef:t,onClose:o}){let r=P(null);M(()=>{let n=t.current;n&&r.current===null&&(r.current=DA({popover:n,relatedRef:e,closePopover:()=>{r.current=null,o()}})),!n&&r.current!==null&&IA(r.current)})}var AA=8,VA=Ne(null);function LA(){let e=P([]);return{register:t=>{e.current.push(t)},clean:()=>{e.current.forEach(t=>t()),e.current=[]}}}function OA({elementRef:e,beforeShow:t,afterShow:o,onHide:r}){return{appearAnimation:n=>{t(n);let i=n.getBoundingClientRect().top>e.current.getBoundingClientRect().top;return Ik(i).play(n).then(()=>o(n))},hideAnimation:n=>Promise.resolve().then(()=>r(n))}}function Lk({html:e,elementRef:t,createPopover:o,opened:r,setOpened:n,prepareList:i,offset:a,suppressOpenOnElementClick:s,keepOpenedOnAnchorMove:c,side:l="bottom",align:p="start"}){let m=LA(),d=Rk(n),y=re(VA),g=C=>Dk({popover:C,position:Hc({element:t.current,popover:C,side:l,align:p,isTopLayer:!0,getOffset:()=>({x:a&&a.x||0,y:a&&a.y||AA}),autoInvert:!0,rootElement:y&&y.current})}),h=zc({html:e,createBinding:o,show:r,layer:wo("popover"),...OA({elementRef:t,beforeShow:C=>{i&&i(C),g(C),c?m.register(yi(t.current,()=>g(C))):m.register(yi(t.current,()=>d(!1))),m.register(jd(C))},afterShow:C=>{let S=new ResizeObserver(()=>g(C));S.observe(C),m.register(()=>S.disconnect())},onHide:m.clean})});Dl({relatedRef:t,popoverRef:h,onClose:()=>d(!1)}),G(t,"click",s?null:()=>d(!r))}function Ok(e){let t=$t(e);return t?t.characters.length:0}function Fk(e){let t=lt(e.meta,"charactersMeta");return t&&t.name==="charactersMeta"?t.data:null}function FA(e,t){return lt(e.meta,t)}function Kk(e){let t=FA(e,"isHeaderColumnPinned");return!!t&&t.name==="isHeaderColumnPinned"}function $k(e){return e`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="m4 6 4 4 4-4" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/></svg>
`}function Nk(e){return e`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 10 8 6l-4 4" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/></svg>
`}function zk(e,{createControl:t,createPopover:o,opened:r,setOpened:n,useControlWidth:i=!1,offset:a,suppressOpenOnElementClick:s,keepOpenedOnAnchorMove:c,side:l,align:p}){let m=R();return Lk({html:e,elementRef:m,createPopover:o,opened:r,setOpened:n,prepareList:d=>{if(i){let y=q(m.current.clientWidth);d.style.minWidth=y,d.style.maxWidth=y,d.style.width=y}},offset:a,suppressOpenOnElementClick:s,keepOpenedOnAnchorMove:c,side:l,align:p}),pe(e,t(),m)}function Qk(e,t){let o=t.state=="pressed";return zk(e,{...t,createControl:()=>f(Le,{...t.chevron?KA(t,o):t,onClick:()=>{t.onClick&&t.onClick(),t.setState(o?"default":"pressed")}}),createPopover:t.createPopover,opened:o,setOpened:r=>t.setState(r?"pressed":"default"),suppressOpenOnElementClick:!0})}function KA(e,t){switch(e.structure){case"icon":case"iconAndTextAndIcon":case"textAndIcon":return e;case"iconAndText":return{...e,structure:"iconAndTextAndIcon",iconLeft:e.icon,iconRight:Hk(t)};case"text":return{...e,structure:"textAndIcon",icon:Hk(t)};default:throw N(e),new Error}}function Hk(e){return e?f(Nk):f($k)}var $A={group:"_x5s7KX"},Uk=$A;var NA=u(Uk);function Wk(e,{buttons:t,size:o,spacing:r}){return e`
<div class=${NA.group}>
	${e.renderAll(t,n=>n.withPopover?se(n.id,Qk,{...n,size:o,spacing:r}):se(n.id,Le,{...n,size:o,spacing:r}))}
</div>`}var zA={list:"_OUJlSO"},qk=zA;var HA={divider:"_LqFI7Z",divider_mobile:"_V1FWA3"},Gk=HA;var QA=u(Gk);function jk(e,{mobile:t}){return e`
<div class=${QA.divider.withMods({mobile:!!t})}></div>
`}function Yk({items:e,mapItem:t}){let o=te(t);return D(()=>UA({items:e,mapItem:o.current}),[e,o])}function UA({items:e,mapItem:t}){let o=new Map,r=e&&e.map((n,i)=>{let a=t&&n?t(n,i):n;return a&&n&&o.set(a.id,n),a});return{itemsMap:o,listItems:r}}function Al({ref:e,onIntersect:t,onLeave:o,disabled:r=!1,threshold:n}){let i=te(t),a=te(o);M(()=>{if(r)return;let s=new IntersectionObserver(c=>{let l=a.current,p=i.current;c.some(m=>m.isIntersecting)?p&&p():l&&l()},{threshold:n});return s.observe(e.current),()=>s.disconnect()},[a,i,e,r,n])}function Zk(e,t){let o=R();return Al({ref:o,onIntersect:t.onPreloaderReached}),pe(e,f(_i,t),o)}var WA={wrapper:"__HD0P2",list:"_HzkpmM",content:"_2Ybgmr",preloader:"_5muwQb"},Xk=WA;var Vl=u(Xk),kf=-1,qA=200;function Jk(e,{items:t,getItemBinding:o,scrollToItemId:r,batchSize:n,batchResetDependency:i,autotestData:a}){let s=t?f(GA,{items:t,getItemBinding:o,scrollToItemId:r,batchSize:n,batchResetDependency:i,autotestData:a}):f(_i,{});return e`
<div class=${Vl.wrapper}>
	${e(s,Vl.content)}
</div>
`}function GA(e,{items:t,getItemBinding:o,scrollToItemId:r,batchSize:n,batchResetDependency:i,autotestData:a}){let s=R(),c=YA(s),{visibleItems:l,showPreloader:p,revealNextBatch:m}=jA({items:t,batchSize:n,batchResetDependency:i});return e`
<div
	save-ref=${s}
	class=${Vl.list}
	data-at=${j(a)}
>
	${e.renderAll(l,(d,y)=>{let g=o(d,y);return g.id===r&&c(y),g})}
	${e.renderIf(Zk,()=>p&&{onPreloaderReached:m},Vl.preloader)}
</div>
`}function jA({items:e,batchSize:t,batchDelay:o=qA,batchResetDependency:r}){let n=t||Number.MAX_SAFE_INTEGER,[i,a]=z(n),s=te(i),c=D(()=>e&&t?e.slice(0,i):e,[e,t,i]);ee(()=>{r!==void 0&&s.current!==n&&a(n)},[s,r,n]);let l=E(()=>t&&setTimeout(()=>a(p=>p+t),o),[t,o]);return{visibleItems:c,showPreloader:!!t&&i<e.length,revealNextBatch:l}}function YA(e){let t=P(kf);return t.current=kf,M(()=>{let o=t.current;if(o!==kf){let r=e.current.children.item(o),n=e.current.parentElement;if(n&&r&&r instanceof HTMLElement){let i=window.getComputedStyle(n),a=parseInt(i.paddingTop,10);n.scrollTop=r.offsetTop-(isNaN(a)?0:a)}}},[e,t]),E(o=>{t.current=o},[])}function e0(e){return e`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm-.582-9.257a.85.85 0 0 0-.138.457.68.68 0 0 1-1.36 0c0-.286.067-.79.388-1.243.35-.494.939-.837 1.792-.837.853 0 1.443.343 1.793.837.32.453.387.957.387 1.243 0 .765-.474 1.45-1.19 1.718l-.051.019a.553.553 0 0 0-.359.517V8.6a.68.68 0 0 1-1.36 0v-.146c0-.797.495-1.51 1.241-1.79l.051-.02A.474.474 0 0 0 8.92 6.2a.85.85 0 0 0-.137-.457c-.076-.106-.236-.263-.683-.263-.447 0-.607.157-.682.263zM9 10.8a1 1 0 1 1-2 0 1 1 0 0 1 2 0z" fill="currentColor"/></svg>
`}function t0(e){return e`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1zm.783 4.743a.85.85 0 0 1 .137.457.68.68 0 0 0 1.36 0c0-.286-.067-.79-.388-1.243-.35-.494-.939-.837-1.792-.837-.853 0-1.443.343-1.792.837-.321.453-.388.957-.388 1.243 0 .765.474 1.45 1.19 1.718l.051.019c.216.08.359.287.359.517V8.6a.68.68 0 1 0 1.36 0v-.146c0-.797-.495-1.51-1.241-1.79l-.051-.02A.474.474 0 0 1 7.28 6.2a.85.85 0 0 1 .137-.457c.076-.106.236-.263.683-.263.447 0 .607.157.683.263zM7.2 10.8a1 1 0 1 0 2 0 1 1 0 0 0-2 0z" fill="currentColor"/></svg>
`}function ZA({overlayRef:e,anchorRef:t,enabled:o,stayOnHover:r,onInstantlyShow:n,onDeferredShow:i,onInstantlyHide:a,onDeferredHide:s}){let c=te(n),l=te(s);G(t,"mouseenter",o?i:null),G(t,"mouseleave",o?r?s:a:null),ee(()=>{if(!o)return;let p=e.current,m=c.current,d=l.current;if(!(!r||!p||!m||!d))return p.addEventListener("mouseenter",m),p.addEventListener("mouseleave",d),()=>{p.removeEventListener("mouseenter",m),p.removeEventListener("mouseleave",d)}},[e.current,r])}function XA({hideDelay:e,appearDelay:t}){let[o,r]=ci(!1),n=E(()=>r(!1,0),[r]),i=E(()=>r(!1,e),[e,r]),a=E(()=>r(!0,0),[r]),s=E(()=>r(!0,t),[t,r]);return{opened:o,deferredShow:s,showInstantly:a,hideInstantly:n,deferredHide:i}}function Ll({overlayRef:e,anchorRef:t,stayOnHover:o,appearDelay:r,hideDelay:n}){let{opened:i,deferredShow:a,showInstantly:s,hideInstantly:c,deferredHide:l}=XA({appearDelay:r,hideDelay:n});return ZA({overlayRef:e,anchorRef:t,enabled:!0,stayOnHover:o,onInstantlyShow:s,onDeferredShow:a,onInstantlyHide:c,onDeferredHide:l}),{opened:i,hideInstantly:c,deferredHide:l}}var JA=500,e3=500;function Di({html:e,anchorRef:t,tooltipProps:o,side:r,align:n,offset:i,stayOnHover:a=!1,show:s=!0,appearDelay:c=JA,hideDelay:l=e3,disablePointer:p}){let m=P(),{opened:d,hideInstantly:y}=Ll({overlayRef:m,anchorRef:t,stayOnHover:a,appearDelay:c,hideDelay:a?l:0});return m.current=nC({html:e,anchorRef:t,tooltipProps:d&&s?o:null,side:r,align:n,offset:i,onClose:y,disablePointer:p}),$c(d&&s?t.current:null,y),m.current}var t3={container:"_ONGXu5",content:"_CNxPyZ",iconContainer:"_sBCYxS",iconContainer_size_small:"_bPB1H4",iconContainer_size_medium:"_60rCK-",icon:"_TtlNAj"},o0=t3;var Ol=u(o0);function r0(e,t){return e`
<div class=${Ol.container}>
	${e(t.content,Ol.content)}
	${e(o3,t)}
</div>`}function o3(e,t){var o;return e`
<div class=${Ol.iconContainer.withMods({size:(o=t.size)!=null?o:"medium"})}>
	${e.renderIf(r3,()=>!!t.hint&&t)}
</div>`}function r3(e,t){let o=P();return Di({html:e,anchorRef:o,tooltipProps:t.hintType==="custom"?{contentType:"rich",content:t.hint}:{contentType:"text",text:A(t.hint)},stayOnHover:!0}),pe(e,f(t.direction==="rtl"?t0:e0,{},Ol.icon),o)}var n3={item:"_uwkI79",item_mobile:"_haZsZE",item_hideBorder:"_K8mBR7",item_padding_default:"_72haEC",item_padding_large:"_L-XX7o",item_draggable:"_hqfz8Q"},n0=n3;var i3={block:"_Ik-put",text:"_pqPpGU",hint:"_1cvzhQ",block_style_default:"_gHjqM_",block_style_destructive:"_u01m8w",block_disabled:"_S6urwg"},i0=i3;var _f=u(i0);function a0(e,{text:t,hint:o,highlight:r,style:n="default",disableTooltip:i,disabled:a=!1}){function s(c){return r?r(c):c}return e`
<div class=${_f.block.withMods({style:n,disabled:a})}>
	${e(vt,{text:s(t),disableTooltip:i},_f.text)}
	${e.renderIf(vt,()=>!!o&&{text:s(o),disableTooltip:i},_f.hint)}
</div>
`}var a3={item:"_a1MHko",item_disabledHover:"_WLSTms",item_hovered:"_DTURbu",prefix:"_02Dbcx",postfix:"_grWsMR",helper:"_TbhM_D",item_style_default:"_8AIQTx",item_style_destructive:"_-UJ9qm"},s0=a3;var s3=u(n0),Fl=u(s0);function c0(e,{id:t,prefix:o,postfix:r,text:n,hint:i,helper:a,disabled:s,autotestData:c,prefixType:l,onItemClickRef:p,style:m="default",direction:d,disableTooltip:y,hovered:g,disabledHover:h}){let C=s?void 0:x=>{!s&&!x.defaultPrevented&&(x.preventDefault(),p.current(t))},S=f(a0,{text:n,hint:i,style:m,disabled:s,disableTooltip:y}),_=Pe(s3.item.withMods({padding:o||i?"large":"default",draggable:!1,mobile:!1,hideBorder:!1}),Fl.item.withMods({style:m,hovered:!!g,disabledHover:!!h}));return e`
<button
	class=${_}
	disabled=${!!s}
	onmousedown=${C}
	data-at=${j(c)}
>
	${e(l&&o,Fl.prefix)}
	${e.switch(()=>a?f(r0,{content:S,hint:a,direction:d}):S,Fl.helper)}
	${e(r,Fl.postfix)}
</button>
`}var c3=u(qk);function l0(e,{prefixType:t,items:o,mapItem:r,onItemClick:n,scrollToItemId:i,batchSize:a,autotestData:s,direction:c}){let{listItems:l,itemsMap:p}=Yk({items:o,mapItem:r}),m=te(g=>{let h=p.get(g);h&&n(g,h)}),d=E(g=>{if(pn(g))return se({},jk,{});let h=f(c0,{...g,prefixType:t,onItemClickRef:m,direction:c});return{id:g.id,binding:ie(g.wrap)?g.wrap(h):h}},[c,m,t]),y=f(Jk,{items:l,getItemBinding:d,scrollToItemId:i,batchSize:a,batchResetDependency:l,autotestData:s},c3.list);return pe(e,y)}function p0(e,t){let o=P(t);if(!Object.is(t,o.current))throw new Error(`Props ${e} should be constant`)}var l3={container:"_c8_tHJ",draggedItem:"_9Lpaa6"},m0=l3;function u0({items:e,listRef:t,deps:o=[]}){let r=P(new Map);return M(()=>{let n=new ResizeObserver(()=>{let i=t.current.children;for(let a=0;a<i.length;++a){let s=i[a];if(s instanceof HTMLElement){let c=window.getComputedStyle(s),l=parseInt(c.marginTop,10)||0,p=parseInt(c.marginBottom,10)||0,m=l+s.offsetHeight+p;r.current.set(e[a],m)}}});return Array.from(t.current.children).forEach(i=>{n.observe(i)}),()=>{n.disconnect()}},[r,e,t,...o]),r}var d0=15,f0={current:window};function p3({items:e,item:t,heightsMapRef:o,gap:r}){var i;let n=0;for(let a of e){if(a===t)break;n+=((i=o.current.get(a))!=null?i:0)+r}return n}function m3(e,t,o){let r=e[t],n=e.slice();return t<o?(n.splice(o+1,0,r),n.splice(t,1)):(n.splice(t,1),n.splice(o,0,r)),n}function g0({scrollController:e,listRef:t,draggedItemRef:o,items:r,getItemId:n,onItemsChange:i,gap:a=0,deps:s=[]}){let c=u0({items:r,listRef:t,deps:s}),[l,p]=z(()=>null),m=P(!1),d=P(0),y=E(C=>e.getDomObject()instanceof Window?C:C+e.getScrollTop(),[e]),g=te(n),h=E((C,S,_)=>{S.preventDefault();let x=r.findIndex(Ce=>g.current(Ce)===C);if(x===-1)throw new Error("invalid dragged item id");let b=r[x],w=t.current,V=A(window.getComputedStyle(w)),$=parseInt(V.paddingTop,10)||0,W=parseInt(V.paddingBottom,10)||0,ne=$+p3({items:r,item:b,heightsMapRef:c,gap:a});p({item:b,startIndex:x,startOffset:ne,startMouseY:y(S.pageY),listOffset:e.getRelativeElementOffset(w).y,listPaddingTop:$,listPaddingBottom:W,currItems:r,currIndex:x,onDragEnd:_}),m.current=!0},[r,t,c,a,y,e,g]);return G(f0,"pointermove",l?C=>{var W;if(!m.current)return;C.preventDefault();let S=t.current,_=o.current,x=y(C.pageY)-l.startMouseY,b=(W=c.current.get(l.item))!=null?W:0,w=Bt(l.startOffset+x,l.listPaddingTop,S.offsetHeight-l.listPaddingBottom-b);_.style.top=q(w);let V=l.listOffset+w;V<e.getScrollTop()&&d.current>w?e.scrollBy(0,-d0):V+b>e.getScrollTop()+e.getClientHeight()&&d.current<w&&e.scrollBy(0,+d0),d.current=w;let $=bh(l.startIndex,w-l.startOffset,r.length,ne=>{var Ce;return((Ce=c.current.get(r[ne]))!=null?Ce:0)+a});$!==l.currIndex&&p(ne=>({...A(ne),currItems:m3(l.currItems,l.currIndex,$),currIndex:$}))}:null),G(f0,"pointerup",l?()=>{let C=l.currIndex===l.startIndex?null:l.currItems;C&&i(C,l.item),p(null),m.current=!1,l.onDragEnd&&l.onDragEnd()}:null),{renderItems:l?l.currItems:r,renderIndex:l&&l.currIndex,startIndex:l&&l.startIndex,startOffset:l&&l.startOffset,startDrag:h,isDragging:!!l}}var Bf=Ne({});function Kl(){return re(Bf)}var y0=u(m0);function $l(e,{items:t,getItemId:o,onItemsChange:r,getItemBinding:n,scrollController:i,gap:a,autotestData:s}){let c=R(),l=R(),{renderItems:p,renderIndex:m,startIndex:d,startOffset:y,startDrag:g,isDragging:h}=g0({scrollController:i,listRef:c,draggedItemRef:l,items:t,getItemId:o,onItemsChange:r,gap:a});return e.setContext(Bf,g),e`
<div
	save-ref=${c}
	class=${y0.container}
	data-at=${j(s)}
>
	${e.renderAll(p,(C,S)=>n(C,S,m===S?"hidden":"normal",h))}
	${e.renderIf(u3,()=>m!==null&&y!==null&&d!==null&&{ref:l,binding:n(t[d],m,"dragged",h).binding,startOffset:y})}
</div>
`}function u3(e,{ref:t,binding:o,startOffset:r}){return ee(()=>{t.current.style.top=q(r)},[t,r]),e`
<div
	save-ref=${t}
	class=${y0.draggedItem}
>
	${e(o)}
</div>`}function Ai(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6 4a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0zm0 6a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0zm1.5 7.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM11 4a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0zm0 6a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0zm1.5 7.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z" fill="currentColor"/></svg>
`}function h0(e){return e`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="m3 9 3 3 7-8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
`}var d3={wrapper:"_uoFg9C",wrapper_size_small:"_vz3v5c",wrapper_size_medium:"_ZapB2N",wrapper_size_large:"_cQu8Xs",wrapper_disabled:"_BCAI2S",checkbox:"_LxIIhZ",input:"_S5ABLX",checkbox_size_small:"_Qv2IYG",checkbox_size_medium:"_Ha_wFj",checkbox_size_large:"_ubPzPP",checkbox_indeterminate:"_SRdae6",wrapper_hovered:"_xnXIUD",checkIcon:"_np905z",indeterminate:"_gQNCQE"},x0=d3;var Ha=u(x0);function f3(e){return e`
<div class=${Ha.indeterminate}></div>`}function S0(e,{id:t,checked:o,size:r,onCheckedRequest:n,disabled:i=!1,hovered:a=!1,onFocusedChange:s,autotestData:c}){let l=R(),p=vr(),m=E(y=>{y.preventDefault(),n(!o,y)},[o,n]);ee(()=>{p.current.checked=!!o},[p,o]),G(p,"click",y=>{y.defaultPrevented||m(y)}),G(l,"click",y=>{!i&&!y.defaultPrevented&&m(y)}),Po(p,{onFocusedChange:s});let d=o===null;return e`
<div
	class=${Ha.wrapper.withMods({disabled:i,size:r,hovered:a})}
	save-ref=${l}
>
	<div
		class=${Ha.checkbox.withMods({size:r,indeterminate:d})}
	>
		<input
			id=${t}
			save-ref=${p}
			type="checkbox"
			class=${Ha.input}
			disabled=${i}
			data-at=${j(c)}
		>
		${e.switch(()=>o?f(h0,{},Ha.checkIcon):d?f(f3,{}):null)}
	</div>
</div>`}var g3={popover:"_LJ3kv_",popover_width_undefined:"_sRvZvt",popover_width_adaptive:"_GQPefe",popover_width_small:"_KWpQiY",popover_width_medium:"_V80MxN",popover_height_undefined:"_AWNUtj",popover_height_adaptive:"_unQi7n",popover_height_fixed:"_T1n0F5"},C0=g3;var y3=u(C0);function k0(e,{content:t,width:o="adaptive",height:r="adaptive",autotestId:n}){let i=typeof o=="number",a=typeof r=="number";return e`
<div
	style=${{width:i?o:void 0,height:a?r:void 0}}
	class=${y3.popover.withMods({width:i?"undefined":o,height:a?"undefined":r})}
	data-at=${j(n)}
>
	${e(t)}
</div>`}function _0(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2 10a2 2 0 1 0 4 0 2 2 0 0 0-4 0zm6 0a2 2 0 1 0 4 0 2 2 0 0 0-4 0zm8 2a2 2 0 1 1 0-4 2 2 0 0 1 0 4z" fill="currentColor"/></svg>
`}function B0(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#System20dpEyeClosed__a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M18.731 7.704c-.259.273-.53.529-.808.772-.172.153-.352.293-.531.435-.076.059-.148.125-.225.183l.819 1.031a1.04 1.04 0 0 1-.116 1.411.916.916 0 0 1-1.338-.123l-1.013-1.274a11.718 11.718 0 0 1-4.566 1.331v1.537c0 .554-.425 1.003-.949 1.003-.525 0-.949-.449-.949-1.003V11.47a11.728 11.728 0 0 1-4.567-1.331l-1.012 1.274a.915.915 0 0 1-1.337.123 1.038 1.038 0 0 1-.117-1.411l.819-1.031c-.077-.058-.149-.123-.224-.183-.179-.142-.36-.282-.532-.435a11.96 11.96 0 0 1-.807-.772 1.04 1.04 0 0 1 0-1.417.913.913 0 0 1 1.342 0c1.973 2.081 4.594 3.228 7.384 3.228 2.789 0 5.411-1.147 7.384-3.228a.914.914 0 0 1 1.343 0c.37.391.37 1.026 0 1.417z" fill="currentColor"/></g><defs><clipPath id="System20dpEyeClosed__a"><path fill="#fff" transform="translate(1 6)" d="M0 0h18v8H0z"/></clipPath></defs></svg>
`}function v0(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M18.68 7.797a1 1 0 0 1-1.36 1.466c-3.283-3.05-6.345-3.568-8.832-3.125-2.55.453-4.625 1.942-5.78 3.099a1 1 0 0 1-1.415-1.414C2.637 6.48 5.063 4.716 8.137 4.17c3.138-.558 6.826.174 10.544 3.628zM8 11.03a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm2-4a4 4 0 1 0 0 8 4 4 0 0 0 0-8z" fill="currentColor"/></svg>
`}var h3={counter:"_Arke_u"},b0=h3;var x3=u(b0);function T0(e,{maxCount:t,count:o}){return e`
<div class=${x3.counter}>
	${`${o}/${t}`}
</div>`}function vf(e,{component:t,tooltipText:o,size:r,stayOnHover:n,show:i,side:a,align:s,isPreventDefaultClick:c}){let l=P();return Ot({html:e,elementRef:l,text:o,size:r,stayOnHover:n,show:i,side:a,align:s,isPreventDefaultClick:c}),pe(e,t,l)}function w0(e){switch(e){case"bash":return"Bash";case"c":return"C";case"cpp":return"C++\u200E";case"csharp":return"C#\u200E";case"css":return"CSS";case"dart":return"Dart";case"delphi":return"Delphi";case"diff":return"Diff";case"go":return"Go";case"groovy":return"Groovy";case"html":return"HTML";case"ini":return"Ini";case"java":return"Java";case"javascript":return"Javascript";case"json":return"Json";case"kotlin":return"Kotlin";case"latex":return"Latex";case"less":return"Less";case"lua":return"Lua";case"makefile":return"Makefile";case"markdown":return"Markdown";case"matlab":return"Matlab";case"objectivec":return"Objective C";case"pascal":return"Pascal";case"perl":return"Perl";case"php":return"Php";case"php-template":return"Php Template";case"plaintext":return"PlainText";case"python":return"Python";case"python-repl":return"Python repl";case"r":return"R";case"ruby":return"Ruby";case"rust":return"Rust";case"scss":return"SCSS";case"shell":return"Shell";case"sql":return"Sql";case"swift":return"Swift";case"typescript":return"Typescript";case"vbnet":return"VBNet";case"xml":return"XML";case"yaml":return"YAML";default:return N(e,`unknown code language: "${e}"`),""}}var Qa="#",Ro={[Qa]:Qa},P0=1,E0=2,M0=4,R0=8,I0=16,Mo={FONT_SIZE:2,FONT_COLOR:3,TEXT_HIGHLIGHT_COLOR:4,TEXT_HIGHLIGHT_OPACITY:5,ALIGNMENT:6},D0="#";function sr(e){return e===D0}function Nl(e){let t=e;if(t&&t.style&&t.url!==void 0){let o=[...t.style],r=t.url,n=[],i=null,a=null,s=null,c=null,l=null;if(o.length){let p=0;for(let m of o)switch(m.name){case"bold":p|=P0;break;case"italic":p|=E0;break;case"underline":p|=M0;break;case"strikethrough":p|=R0;break;case"code":p|=I0;break;case"alignment":l=m.type;break;case"fontSize":i=m.size;break;case"fontColor":a=m.color;break;case"textHighlightColor":s=m.color;break;case"textHighlightOpacity":c=m.opacity;break}n.push(p)}r&&n.push(r),i&&(n[Mo.FONT_SIZE]=i),a&&(n[Mo.FONT_COLOR]=a),s&&(n[Mo.TEXT_HIGHLIGHT_COLOR]=s),c&&(n[Mo.TEXT_HIGHLIGHT_OPACITY]=c),l&&(n[Mo.ALIGNMENT]=l);for(let p=0;p<n.length;p++)n[p]==null&&(n[p]=D0);return{[Qa]:n}}}function Vi(e){if(typeof e=="object"&&e&&e.hasOwnProperty(Qa)){let t=e[Qa],o=[],r=t.length&&!sr(t[0])&&typeof t[0]=="number"&&!isNaN(t[0])?t[0]:void 0,n=t.length&&!sr(t[0])&&Qt(t[0])?t[0]:t.length>1&&!sr(t[1])&&Qt(t[1])?t[1]:void 0,i=t[Mo.FONT_SIZE],a=t[Mo.FONT_COLOR],s=t[Mo.TEXT_HIGHLIGHT_COLOR],c=t[Mo.TEXT_HIGHLIGHT_OPACITY],l=t[Mo.ALIGNMENT];return!sr(r)&&typeof r=="number"&&!isNaN(r)&&(r&P0&&o.push({name:"bold"}),r&E0&&o.push({name:"italic"}),r&M0&&o.push({name:"underline"}),r&R0&&o.push({name:"strikethrough"}),r&I0&&o.push({name:"code"})),!sr(i)&&(typeof i=="number"||i==="auto")&&o.push({name:"fontSize",size:i}),!sr(a)&&Qt(a)&&o.push({name:"fontColor",color:a}),!sr(s)&&Qt(s)&&o.push({name:"textHighlightColor",color:s}),!sr(c)&&typeof c=="number"&&!isNaN(c)&&o.push({name:"textHighlightOpacity",opacity:c}),!sr(l)&&(l==="superscript"||l==="subscript")&&o.push({name:"alignment",type:l}),le.create({style:Ie.create(o),url:n})}}var Nt={crop:{_:"cp",top:"tp",left:"lf",right:"rt",bottom:"bm"}};var Io={src:"s",editedSrc:"eS",width:"w",height:"h",...Nt,clip:"cl"};var Ua={color:"c",opacity:"o"},zl={src:"s",width:"w",height:"h",overlay:{_:"o",...Ua},...Nt},bf={...zl,...Io},Hl={type:"t",image:{_:"i",...zl},overlay:{_:"O",...Ua},...Ua},Tf={...Hl,image:{_:"i",...bf}};var A0={_:"ds",background:{_:"b",color:"c",opacity:"o"},paddingTop:"pt",paddingBottom:"pb"},wf={_:"ds",background:{_:"bg",color:{_:"cl",color:"c",opacity:"o"},mediaResource:{_:"mr",type:"t",resource:{_:"rs",src:"s",width:"w",height:"h",...Nt},position:{_:"p",x:"x",y:"y"},overlay:{_:"k",...Ua}}},padding:{_:"p",bottom:"pb",top:"pt"},size:{_:"s",minHeight:"mh"}},Wa={...wf,indent:"it"},V0={...Wa,background:{...Wa.background,mediaResource:{...Wa.background.mediaResource,resource:{_:"rs",...Io}}}};var it={key:"k",type:"t"},ge={key:"k",type:"t",designSettings:{...A0}},ve={key:"k",type:"t",designSettings:{...wf}},Se={key:"k",type:"t",designSettings:{...Wa}},_e={key:"k",type:"t",designSettings:{...V0}};var Me={...it,src:"s",fileName:"fn",fileExtension:"fe",fileSize:"fs",isLoading:"iL"},uo={...Me,...ge},Pn={...Me,...ve},qa={...Pn,...Se},L0={...qa,..._e};var zt={text:"t",meta:{_:"m",...Ro},length:"l"};var O0={defaultCharactersMeta:{_:"dCM",textStyles:{_:"tS",bold:"b",italic:"i",underline:"u",strikethrough:"s",alignment:"a",fontSize:"fs",fontColor:"fc",textHighlightColor:"thc",textHighlightOpacity:"tho"}}},Li={defaultCharactersMeta:{_:"dCM",textStyles:{_:"tS",bold:"b",italic:"i",underline:"u",strikethrough:"s",code:"c",alignment:"a",fontSize:"fs",fontColor:"fc",textHighlightColor:"thc",textHighlightOpacity:"tho"}}};var ye={...it,viewType:"v",textAlign:"tA",characters:{_:"c",...zt},isOrderedListFirstItem:"iO"},Ue={...ye,...ge},ut={...Ue,...O0},We={...ut,...Li},$e={...We,...ve},Ye={...Se,...Li,viewType:"v",textAlign:"tA",characters:{_:"c",...zt}},Ct={...Ye,..._e};var Oi={...ge,paragraph:{_:"p",...We},language:"l",fontSize:"fz"},Do={...ve,paragraph:{_:"p",...$e},language:"l",fontSize:"fz"},Ur={...Do,...Se,paragraph:{_:"p",...Ye}},Ql={...Ur,..._e,paragraph:{_:"p",...Ct}};var F0={enabled:"e"};function Fi(e){return e?{...F0,value:{_:"v",...e}}:F0}var Ki={...Fi(zt)};var K0={type:"t"};var $0={...Fi({})};var N0={radius:"rd"};var z0={...Fi()};var Wr={...it,src:"s",width:"w",height:"h",alignment:"a",characters:{_:"c",...zt},isBlob:"iB"},$i={...Wr,...ge},H0={...Wr,...ve},Pf={src:"s",width:"w",height:"h",alignment:"a",isBlob:"iB",caption:{_:"ca",...Ki},zoom:{_:"z",...z0},link:{_:"l",...$0},...Nt,...ve},Q0={...Pf,...Io,..._e,rounding:{_:"rn",...N0},frame:{_:"fr",...K0}};var S3={...Wr,parentCollageKey:"cK"},U0={...$i,parentCollageKey:"cK"},C3={parentCollageKey:"cK",...Pf},k3={parentCollageKey:"cK",...Q0},Ul={...it,alignment:"a",images:{_:"is",...S3,length:"l"}},Oe={...Ul,images:{...Ul.images,...Nt}},kt={...Oe,...ge,images:{...Oe.images,...U0}},Ao={...Oe,...ve,images:{...Oe.images,...U0}},Ga={...Ao,...Se},ja={...Ga,...Se,images:{_:"is",...C3,length:"l"}},Wl={...ja,..._e,images:{_:"is",...k3,length:"l"}};var En={...ge,paragraph:{_:"p",...Ue},continueColor:{_:"cC",color:"c",opacity:"o"},meta:{_:"m",name:"n",data:{_:"md",...Ro}}},Ef={...En,paragraph:{_:"p",...ut}},Ya={...Ef,paragraph:{_:"p",...We}},Mn={...Ya,...ve,paragraph:{_:"p",...$e}},Za={...Mn,...Se,paragraph:{_:"p",...Ye}},W0={...Za,..._e,paragraph:{_:"p",...Ct}};var _3="data-key",q0="data-wrapper-key";var Ege=[er.P,er.H1,er.H2,er.H3,er.BLOCKQUOTE,er.PRE];function G0(e,t=_3){for(;e.parentElement;){if(e.hasAttribute(t))return e;e=e.parentElement}return null}var Mf=null,j0=null;function Y0(e){Mf=e}function He(e){if(!e.length||e.startsWith("data:")||e.startsWith("blob:"))return e;let t=e;return Mf&&(t=`${Mf}${e}`),j0&&(t=j0(t)),t}var ql={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...ye})}},Rf={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...Ue})}},Gl={blockMap:{...Rf.blockMap,blocks:v({_:"B",...ut})}},dt={blockMap:{...Gl.blockMap,blocks:v({_:"B",...We})}},Z0={blockMap:{...Gl.blockMap,blocks:v({_:"B",...$e})}};var jl={src:"s",type:"t",width:"w",height:"h",title:"T",previewSrc:"p"},Yl={...jl,...Nt},If={...Yl,...Io};var X0={type:"t",answered:{_:"a",...dt},correct:{_:"c",...dt},incorrect:{_:"i",...dt}};var J0={shuffleAnswers:"s"};var Zl={title:{_:"t",...dt},message:{_:"m",...dt},visibility:"v"};var B3={id:"i",text:{_:"t",...dt},correct:"c"},Df={caseSensitive:"cs",answers:{_:"a",id:"i",text:"t",length:"l"}},Af={id:"i",type:"t",description:{_:"d",...dt},length:"l",attachment:{_:"a",...jl},settings:{_:"s",...J0},content:{_:"c",order:{_:"o",length:"l"},blocks:v({_:"B",...B3}),...Df},feedback:{_:"f",...X0}},Ni={intro:{_:"i",title:{_:"t",...dt},attachment:{_:"a",...jl},description:{_:"d",...dt}},questions:{_:"q",order:{_:"o",length:"l"},blocks:v({_:"B",...Af})},results:{_:"r",displayType:"d",passed:{_:"p",...Zl},failed:{_:"f",...Zl},completed:{_:"c",...Zl}}},e1={main:{_:"m",attempts:"a",passingScore:"ps",timeLimit:"tl",timeLimitEnabled:"tle",shuffleAnswersEnabled:"sae",shuffleQuestionsEnabled:"sqe",showCorrectAnswersEnabled:"scae"},design:{_:"d",accentColor:"ac",headerFont:"hf",contentFont:"cf"}};var Vf={...Af,attachment:{_:"a",...Yl}},t1={...Ni,intro:{...Ni.intro,attachment:{_:"a",...Yl}},questions:{...Ni.questions,blocks:v({_:"B",...Vf})}},o1=e1;var r1=Vf,n1=t1,i1={...o1,advanced:{_:"a",direction:"d"}};var a1=r1,Xl=n1,Lf=i1;var Jl=a1,Xa={...Xl,intro:{...Xl.intro,visible:"v"},results:{...Xl.results,visible:"v"}},Ja={...Lf,main:{...Lf.main,isGraded:"ig"}};var v3={...Df,answers:{_:"a",blocks:v({_:"b",id:"i",text:"t"}),order:{_:"o",length:"l"}}},b3={id:"i",text:{_:"t",...dt}},Of={id:"i",text:{_:"t",...dt}},T3={matches:{_:"ms",blocks:v({_:"b",id:"i",left:{_:"l",...Of},right:{_:"r",...Of}}),order:{_:"o",length:"l"}},distractors:{_:"ds",blocks:v({_:"b",...Of}),order:{_:"o",length:"l"}}},Ff={...Jl,content:{...Jl.content,blocks:v({...Jl.content.blocks.keys,...b3}),...v3,...T3}},es={...Xa,questions:{...Xa.questions,blocks:v({_:"B",...Ff})}},ep={...Ja,main:{...Ja.main,showFeedbackEnabled:"sfe"}};var w3={...Ff,attachment:{_:"a",...If}},s1={...es,intro:{...es.intro,attachment:{_:"a",...If}},questions:{...Ni.questions,blocks:v({_:"B",...w3})}},gye={...ep};function Vo(e,t){return wr([e],(o,r)=>{let n=r.getState(c1);t(o,n,r)})}var l1=["h1","h2","h3"],p1=["blockquote","pullquote"];var Kf={...ge,longreadQuizId:"lqI",alignment:"a",isLoading:"iL",state:{_:"dt",...Xa},settings:{_:"ss",main:Ja.main}},$f={...Kf,...ve},ts={...$f,state:{_:"dt",...es},settings:{_:"ss",main:ep.main}},os={...ts,...Se},m1={...os,..._e,state:{_:"dt",...s1}};var u1={...it,src:"s",width:"w",height:"h",alignment:"a",isLoading:"iL",posterSrc:"pSc",paragraph:{_:"p",...ye}},cr={...ge,src:"s",width:"w",height:"h",alignment:"a",isLoading:"iL",posterSrc:"pSc",paragraph:{_:"p",...Ue}},rs={...cr,paragraph:{_:"p",...ut}},Rn={...rs,paragraph:{_:"p",...We}},Lo={...Rn,...ve,paragraph:{_:"p",...$e}},tp={...Lo,...Se,paragraph:{_:"p",...Ye}},ns={...Se,src:"s",width:"w",height:"h",alignment:"a",isLoading:"iL",posterSrc:"pSc",caption:{_:"ca",...Ki}},op={...ns,..._e,paragraph:{_:"p",...Ct}};var lr={...it,alignment:"a",dividerType:"dT",dividerColor:{_:"dC",color:"c",opacity:"o"},style:"st",paragraph:{_:"p",...ye},paragraphStyle:"pS",meta:{_:"m",name:"n",data:{_:"md",...Ro}}},pr={...lr,...ge,paragraph:{_:"p",...Ue}},is={...pr,paragraph:{_:"p",...ut}},In={...is,paragraph:{_:"p",...We}},Oo={...In,...ve,paragraph:{_:"p",...$e}},qr={...Oo,...Se,paragraph:{_:"p",...Ye}},rp={...qr,..._e,paragraph:{_:"p",...Ct}};var Re={...it,src:"s",width:"w",height:"h",alignment:"a",characters:{_:"c",...zt}},_t={...Re,...ge},Fo={...Re,...ve},np={...Fo,...Se},as={...Se,src:"s",width:"w",height:"h",alignment:"a",caption:{_:"ca",...Ki}},ip={...as,..._e};var Nf={type:"t",image:{_:"i",...zl},text:{_:"rt",...ye},verticalTextAlign:"vta",background:{_:"b",...Hl}},zf={...Nf,meta:{_:"m",name:"n",data:{_:"md",...Ro}}},Hf={...zf,text:{_:"rt",...Ue}},Qf={...Hf,text:{_:"rt",...ut}},Uf={...Qf,text:{_:"rt",...We}},Wf={...Uf,text:{_:"rt",...$e}},qf={...Wf,text:{_:"rt",...Ye}},d1={...qf,image:{_:"i",...bf},background:{_:"b",...Tf},text:{_:"rt",...Ct}},jr={key:"k",frontSide:{_:"fs",...Nf},backSide:{_:"bs",...Nf}},E3={...jr,frontSide:{_:"fs",...zf},backSide:{_:"bs",...zf}},M3={...jr,frontSide:{_:"fs",...Hf},backSide:{_:"bs",...Hf}},R3={...jr,frontSide:{_:"fs",...Qf},backSide:{_:"bs",...Qf}},I3={...jr,frontSide:{_:"fs",...Uf},backSide:{_:"bs",...Uf}},D3={...jr,frontSide:{_:"fs",...Wf},backSide:{_:"bs",...Wf}},A3={...jr,frontSide:{_:"fs",...qf},backSide:{_:"bs",...qf}},V3={...jr,frontSide:{_:"fs",...d1},backSide:{_:"bs",...d1}},ap={key:"k",type:"t",cardsBlockMap:{_:"cbm",order:{_:"o",length:"l"},blocks:v({_:"B",...jr})},maxCardsInRow:"mcir",cardsLayout:"cl",background:{_:"b",...Hl}},fo={...ap,cardsBlockMap:{...ap.cardsBlockMap,blocks:v({_:"B",...E3})}},Gr={...fo,...ge,cardsBlockMap:{...fo.cardsBlockMap,blocks:v({_:"B",...M3})}},ss={...Gr,cardsBlockMap:{...Gr.cardsBlockMap,blocks:v({_:"B",...R3})}},cs={...ss,cardsBlockMap:{...ss.cardsBlockMap,blocks:v({_:"B",...I3})}},Ko={...cs,...ve,cardsBlockMap:{...ss.cardsBlockMap,blocks:v({_:"B",...D3})}},sp={...Ko,...Se,cardsBlockMap:{...Ko.cardsBlockMap,blocks:v({_:"B",...A3})}},f1={...Ko,..._e,cardsBlockMap:{...Ko.cardsBlockMap,blocks:v({_:"B",...V3})},background:{_:"b",...Tf}};var Dn={characters:{_:"c",...zt},listType:"lT",listViewType:"lVT",counterReset:"cR",...Li,...Se},cp={characters:{_:"c",...zt},listType:"lT",listViewType:"lVT",counterReset:"cR",...Li,..._e};var Zt={key:"k",type:"t",characters:{_:"c",...zt},noteType:"nT"},ls={...Zt,customIconColor:{_:"cIC",color:"c",opacity:"o"},customBackgroundColor:{_:"cBC",color:"c",opacity:"o"}},ft={...ls,...ge},$o={...ft,...ve},Yr={...$o,...Se},lp={...Yr,..._e};var Tt={url:"u",title:"tl",description:"dsc",iconSrc:"icS",imageSrc:"imS",...ge},No={...Tt,...ve},zo={...No,...Se},g1={...zo,..._e};var y1={name:"n",color:"c",opacity:"o"},L3={...y1,data:{_:"md",...Ro}},h1={key:"k",content:{_:"C",...ye,...Wr},meta:{_:"m",...y1}},x1={...h1,verticalTextAlign:"vta",meta:{_:"m",...L3}},S1={...x1,content:{_:"C",...Ue,...$i}},Gf={...S1,content:{_:"C",...ut,...$i}},O3={...Gf,content:{_:"C",...We,...$i}},C1={...Gf,content:{_:"C",...$e,...H0}},k1={...C1,content:{_:"C",...Ye}},F3={...k1,content:{_:"C",...Ct}},K3={colsMap:v({_:"cM",...h1})},$3={colsMap:v({_:"cM",...x1})},N3={colsMap:v({_:"cM",...S1})},z3={colsMap:v({_:"cM",...Gf})},H3={colsMap:v({_:"cM",...O3})},Q3={colsMap:v({_:"cM",...C1})},U3={colsMap:v({_:"cM",...k1})},W3={colsMap:v({_:"cM",...F3})},ps={...it,alignment:"a",colsOrder:"cO",rowsOrder:"rO",rowsMap:v({_:"rM",...K3}),meta:{_:"m",name:"n"}},ko={...ps,rowsMap:v({_:"rM",...$3})},An={...ko,...ge,rowsMap:v({_:"rM",...N3})},jf={...An,rowsMap:v({_:"rM",...z3})},ms={...jf,rowsMap:v({_:"rM",...H3})},Vn={...ms,...ve,rowsMap:v({_:"rM",...Q3})},us={...Vn,...Se,rowsMap:v({_:"rM",...U3})},_1={...us,..._e,rowsMap:v({_:"rM",...W3})};var Yf=0,B1=1024,v1=B1*1024,q3=v1*1024;function b1(e){return Math.round(e*10)/10}function G3(e){return Math.max(Yf,Math.round(e/B1))}function j3(e){return Math.max(Yf,b1(e/v1))}function Y3(e){return Math.max(Yf,b1(e/q3))}function T1(e){let t=Y3(e);if(t>1)return B("Common.FileSize.ToGb",{volume:t});let o=j3(e);return o>1?B("Common.FileSize.ToMb",{volume:o}):B("Common.FileSize.ToKb",{volume:G3(e)})}var Zf={...ge,alignment:"a",horizontalTextAlign:"hta",verticalBlockAlign:"vba",colsOrder:{_:"cO",length:"l"},colsMap:v({_:"cM",blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...Ue,..._t,...ft,...pr,...cr,...kt,...Tt})}})},Xf={...Zf,colsMap:v({_:"cM",blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...ut,..._t,...ft,...is,...rs,...kt,...Tt})}})},ds={...Xf,colsMap:v({_:"cM",blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...We,..._t,...ft,...In,...Rn,...kt,...Tt,...Oi})}})},fs={...ds,...ve,layoutType:"lt",colsMap:v({_:"cM",blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...$e,...Fo,...$o,...Oo,...Lo,...Ao,...No,...Do})}})},Jf={...fs,colsMap:v({_:"cM",width:"wh",blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...$e,...Fo,...$o,...Oo,...Lo,...Ao,...No,...Do})}})},eg={...Jf,...Se,layoutType:"lt",colsMap:v({_:"cM",width:"wh",blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...Ye,...np,...Yr,...qr,...tp,...Ga,...zo,...Ur,...Dn})}})},tg={...eg,colsMap:v({_:"cM",width:"wh",blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...Ye,...as,...Yr,...qr,...ns,...ja,...zo,...Ur,...Dn})}})},w1={...tg,..._e,colsMap:v({_:"cM",width:"wh",blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...Ct,...ip,...lp,...rp,...op,...Wl,...g1,...Ql,...cp})}})};var[P3,_he]=Ed("operationHandlerAtom",{}),[c1,Bhe]=Ed("articleOperationHandlerAtom",{});function P1({styles:e,ignoreInlineStyles:t}){return t?le.create({url:e.url}):e}function E1({characters:e,ignoreInlineStyles:t=!1}){if(e.length==0)return[];let o=[{text:e[0].text,styles:P1({styles:e[0].meta,ignoreInlineStyles:t})}];for(let r=1;r<e.length;++r){let n=e[r],i=P1({styles:n.meta,ignoreInlineStyles:t}),a=o.length-1,s=o[a].styles;le.compare(i,s)?o[a].text+=n.text:o.push({text:n.text,styles:i})}return o}var zi=class{constructor(){this._ids={}}generate(t){return ie(this._ids[t])?`${t}_${++this._ids[t]}`:(this._ids[t]=0,t)}};var Ho=class e{constructor(t,o=null){this._block=t,this._element=o}className(){return this._element?`${this._block}__${this._element}`:this._block}getModifierClassName(t){return`${this.className()}_${t}`}getModifierWithValueClassName(t,o){return`${this.getModifierClassName(t)}_${o}`}createChildElementBemInfo(t){return A(!this._element),new e(this._block,t)}};function M1(e,t={}){let o=e.map(n=>n instanceof Ho?n:new Ho(n)),r=o.map(n=>n.className());for(let n of Object.keys(t)){let i=t[n];for(let a of o)i==null?r.push(a.getModifierClassName(n)):r.push(a.getModifierWithValueClassName(n,i))}return r.join(" ")}function pp(e){let t=kr();return e<=15?"1.72":e<=21||e<=23&&!t?"1.68":e<=31&&t?"1.48":e<=31&&!t?"1.52":"normal"}var Qo=class{constructor({paragraph:t,bemInfo:o,blockBeforeType:r,blockAfterType:n,placeholder:i="",prompt:a="",paragraphIndex:s,direction:c,disableStyles:l=!1}){this._paragraph=t,this._direction=c,this._disableStyles=l,this.blockBeforeType=r||"",this.blockAfterType=n||"",this.paragraphIndex=s,this._isPrompt=!!a,this._className=this._getClassName(o),this.invertBold=l1.includes(this.type()),this.invertItalic=p1.includes(this.type()),this.renderId=t.key+t.viewType,this.placeholder=a||i}_getClassName(t){let o=t||new Ho("paragraph"),r=`${o.className()}`;if(this._disableStyles||(r+=` ${o.getModifierClassName("with-styles")}`,r+=` ${o.getModifierWithValueClassName("type",this.type())}`),r+=` ${o.getModifierWithValueClassName("align",this.textAlign())}`,this._direction&&(r+=` ${o.getModifierWithValueClassName("dir",this._direction)}`),this._paragraph.characters.length===0){let n=this._isPrompt?"prompt":"empty";r+=` ${o.getModifierClassName(n)}`}return r}paragraph(){return this._paragraph}type(){return this._paragraph.viewType}textAlign(){return this._paragraph.textAlign}className(){return this._className}getLineHeightForFontSize(t){return pp(t)}getFontSize(t){if(t==="auto")throw Error("cannot set 'auto' font-size in default paragraph");return t}};var mp={};function Z3(e){return mp[e]||(mp[e]={}),mp[e]}function X3(e){delete mp[e]}function J3(e,t,o,r,n){if(!e)return null;let i=e.style,a={},s=new Set,c="",l=1;if(i.forEach(p=>{switch(p.name){case"bold":a["font-weight"]=o?"normal":"bold";break;case"italic":a["font-style"]=t?"normal":"italic";break;case"underline":s.add("underline");break;case"strikethrough":s.add("line-through");break;case"fontSize":{let m=r(p.size);a["font-size"]=q(m);let d=n(m);a["line-height"]=`${d}`;break}case"fontColor":a.color=`${p.color}`;break;case"textHighlightColor":{c=p.color;break}case"textHighlightOpacity":l=p.opacity;break;case"alignment":case"code":break;default:N(p)}}),e.url&&s.add("underline"),s.size&&(a["text-decoration"]=[...s].join(" ")),c&&c!==co){let[p,m,d]=Ae(c);a["background-color"]=`rgba(${p}, ${m}, ${d}, ${l})`}return a}function eV(e,t,o,r){return Ut(e,`:${t}`)`
<sup style=${r}>${{text:o}}</sup>`}function tV(e,t,o,r){return Ut(e,`:${t}`)`
<sub style=${r}>${{text:o}}</sub>`}function oV({rendererKey:e,id:t,text:o,textDecoration:r,alignment:n}){let i={"text-decoration":r};return n==="superscript"?eV(e,t,o,i):tV(e,t,o,i)}function I1({rendererKey:e,id:t,text:o,alignment:r,styles:n}){let i=r?n&&{...n,"text-decoration":null}:n,a=r?oV({rendererKey:e,id:t,text:o,alignment:r,textDecoration:n?n["text-decoration"]:""}):o;return{chunkStyles:i,content:a}}function R1(e){let{rendererKey:t,id:o,attributes:r={},className:n=null}=e,{content:i,chunkStyles:a}=I1(e),s=i instanceof Element?i:{text:i};return Ut(t,`:${o}`)`
<span
	style=${a}
	class=${n}
	data-richtext-inline-code=${r.richtextInlineCode||null}
>${s}</span>`}function rV(e){let{rendererKey:t,id:o,url:r,onOverHandler:n,attributes:i={},className:a=null}=e,{content:s,chunkStyles:c}=I1(e),l=s instanceof Element?s:{text:s};return Ut(t,`:${o}`)`
<a
	href=${r}
	target=_blank
	onmouseover=${n}
	class=${a}
	data-richtext-inline-code=${i.richtextInlineCode||null}
	style=${c}
>${l}</a>`}function og(e){return!!e&&le.isInlineCodeMeta(e.styles)}function nV(e,t){let o,r,n=og(e[t-1]),i=og(e[t]),a=og(e[t+1]);return i&&(o=Pe("inline-code",i&&!n?"inline-code_start":null,i&&!a?"inline-code_end":null),r={richtextInlineCode:!0}),{className:o,attributes:r}}function Hi(e,t,o=!1,r=!1){let n=e.paragraph(),i=E1({characters:n.characters}),a=[],s=new zi,c=!1,l=Z3(e.renderId);if(i.forEach((C,S)=>{let{className:_,attributes:x}=nV(i,S),b=J3(C.styles,e.invertItalic,e.invertBold,e.getFontSize.bind(e),e.getLineHeightForFontSize.bind(e)),w=s.generate(`${e.renderId}_${C.text}`),V=C.text;S==i.length-1&&V.endsWith(`
`)&&(V+=xo.ZERO_WIDTH_SPACE);let $=Ie.getAlignment(C.styles.style),W=C.styles.url;W&&(c=!0);let ne=W?rV({rendererKey:l,id:w,styles:b,text:V,url:W,alignment:$,onOverHandler:t,attributes:x,className:_}):R1({rendererKey:l,id:w,styles:b,text:V,alignment:$,attributes:x,className:_});a.push(ne)}),a.length)c&&X3(e.renderId);else{let C=s.generate(`${e.renderId}_empty`),S=R1({rendererKey:l,id:C,styles:null,text:xo.ZERO_WIDTH_SPACE,alignment:null});a.push(S)}let p=`enter-blockquote-field-${e.paragraphIndex}`,m=`enter-paragraph-field-${e.paragraphIndex}`,d=r||o?null:e.placeholder,y=Ut(l,`:${e.renderId}`),g=e.className(),h=!r&&!o;switch(n.viewType){case"h1":return y`<h1 class=${g} data-key=${n.key} contenteditable=${h}>${a}</h1>`;case"h2":return y`<h2 class=${g} data-key=${n.key} contenteditable=${h}>${a}</h2>`;case"h3":return y`<h3 class=${g} data-key=${n.key} contenteditable=${h}>${a}</h3>`;case"blockquote":case"pullquote":return y`<blockquote class=${g} data-key=${n.key} data-at=${j(p)} contenteditable=${h}>${a}</blockquote>`}return y`
<p
	class=${g}
	data-key=${n.key}
	data-placeholder=${d}
	data-at=${j(m)}
	contenteditable=${h}
>${a}</p>`}var iV={tooltipLink:"_UjHsFF"},D1=iV;var aV=u(D1);function sV(e){let t={},o=[];return le.hasStyle(e,"bold")&&(t["font-weight"]="bold"),le.hasStyle(e,"italic")&&(t["font-style"]="italic"),le.hasStyle(e,"underline")&&o.push("underline"),le.hasStyle(e,"strikethrough")&&o.push("line-through"),o.length&&(t["text-decoration"]=o.join(" ")),t}function cV(e,{alignment:t,style:o,text:r}){return t==="superscript"?e`<sup style=${o}>${r}</sup>`:e`<sub style=${o}>${r}</sub>`}function A1(e,{style:t,text:o,alignment:r}){return r?cV(e,{alignment:r,text:o,style:t}):e`<span style=${t}>${o}</span>`}function lV(e,{style:t,text:o,url:r,urlTooltipEnabled:n,alignment:i}){let a=R();Ot({html:e,elementRef:a,text:{html:`<a href=${Id(r)} class=${aV.tooltipLink} target="_blank">${Id(r)}</a>`},size:"small",show:n,side:"bottom",stayOnHover:!0});let s=f(A1,{alignment:i,text:o,style:t});return e`<a href='${r}' save-ref=${a} target=_blank>${e(s)}</a>`}function pV(e,t,o){let r=sV(e.styles),n=Ie.getAlignment(e.styles.style),i=e.styles.url,a=e.text;e.isLast&&a.endsWith(`
`)&&(a+=xo.ZERO_WIDTH_SPACE);let s=t.generate(`chunk_${e.text}${i?"_url":"_text"}`);return i?se(s,lV,{style:r,text:a,url:i,urlTooltipEnabled:o,alignment:n}):se(s,A1,{style:r,text:a,alignment:n})}function mV(e,t,o){t.length||t.push({text:xo.ZERO_WIDTH_SPACE,styles:le.create(),isLast:!0});let r=new zi;return e.renderAll(t,n=>pV(n,r,o))}function V1(e,{paragraph:t,placeholder:o="",className:r,autotestData:n,urlTooltipEnabled:i}){let a=K.getTextRuns(t),s=a.length?"":o,c=r&&s?r.split(" ").map(l=>`${l} ${l}_empty`).join(" "):r;return e`<p
	class=${c}
	data-key=${t.key}
	data-placeholder=${s}
	data-at=${j(n)}
>${mV(e,a,i)}</p>`}var uV={content:"_89CM_B",h1:"_6szK0C",h2:"_qPfMmn",h3:"_vib89W",text:"_bUYnv-",defaultParagraph:"_P81rPv"},L1=uV;var Zr=u(L1);var mxe={content:Zr.content,h1:Zr.h1,h2:Zr.h2,h3:Zr.h3,text:Zr.text,ul:Zr.text,ol:Zr.text},O1=Zr.defaultParagraph;function gs({html:e,side:t,component:o,closeOnOverlayClick:r,modalOverlayType:n,onBeforeClose:i}){let[a,s]=z(null),c=E(()=>{i&&i(),s(null)},[i]);return Ii({html:e,side:t,createModal:()=>a&&f(o,a),close:r?()=>c():void 0,modalOverlayType:n}),D(()=>({open:s,close:()=>c()}),[c])}function F1(e,t,o=!1){let r=P({ref:e,select:t});M(()=>{let{ref:n,select:i}=r.current;if(i){n.current.focus({preventScroll:o});let a=n.current.value,s=i=="all"?0:a.length;n.current.setSelectionRange(s,a.length,"backward"),n.current.scrollLeft=0}},[o])}var dV={textField:"_jxYS9Y",textField_type_default:"_BWsbSx",textField_type_suffix:"_TfdYnw",textField_type_light:"_LC8cIt",input:"_ygqqfU",input_type_default:"_q5REqN",input_password:"_byDaUl",input_type_suffix:"_ynDEZR",input_type_light:"_yA6LfY",input_size_small:"_OMKota",input_size_medium:"_4inMJB",input_size_large:"_Y3uCXw",input_size_xLarge:"_C9_QFW",textField_error:"_a0c1HC",textField_disabled:"_dRZEKE",textField_focused:"_Equlrr",suffix:"_T4obaQ",eyeWrapper:"_ISGv98",counter:"_Xpj8XE"},K1=dV;var ys=u(K1);function fV(e,{value:t,onChange:o,onInput:r,onFocus:n,onBlur:i,onEnter:a,placeholder:s,state:c="normal",maxLength:l,selectionOnConnect:p,validation:m,type:d,inputType:y,size:g="medium",displayType:h,readOnly:C,autocomplete:S,preventScrollOnFocus:_,autotestData:x,onDisplayedValueChanged:b}){let w=vr(),V=P(!0),$=P(t),W=te(m),ne=E(()=>{if(!W.current||!W.current.onValidStateChange)return;let ke=W.current.validate(w.current.value);ke!=V.current&&(V.current=ke,W.current.onValidStateChange(ke,w.current.value))},[w,W]);ee(()=>{(w.current.value!==t||!t)&&(w.current.value=t,b(t),ne())},[w,t,ne,b]),M(()=>{m&&m.restoreOnSubmitInvalid==="value"&&!m.validate(t)&&console.error("ERROR: value is not valid")},[t,m]),G(w,"blur",()=>{if(m&&(m.onSubmitInvalid||m.restoreOnSubmitInvalid)&&!m.validate(w.current.value))switch(m.onSubmitInvalid&&m.onSubmitInvalid(w.current.value),m.restoreOnSubmitInvalid){case"value":w.current.value=$.current||"",b(w.current.value);break;case"focus":w.current.focus(),w.current.setSelectionRange(0,w.current.value.length);break}else $.current=w.current.value,o(w.current.value)}),G(w,"input",()=>{r&&r(w.current.value),m&&m.onValidStateChange&&ne(),b(w.current.value)}),G(w,"focus",()=>n&&n()),G(w,"blur",()=>i&&i()),ht(w,qe.ENTER,()=>{a&&a(),w.current.blur()}),F1(w,p,_);let Ce=ys.input.withMods({size:g,type:h,password:d==="password"});return e`
<input
	type=${y}
	class=${Ce}
	placeholder=${s}
	disabled=${c=="disabled"}
	maxlength=${l}
	readonly=${C}
	save-ref=${w}
	autocomplete=${S}
	data-at=${j(x)}
>`}function gV(e,{suffix:t}){return e`
<div class=${ys.suffix}>
	${t}
</div>
`}function yV(e,{showPassword:t,setShowPassword:o}){let r=P();G(r,"click",()=>o(!t));let n=t?f(v0,{}):f(B0,{});return e`
<div
	save-ref=${r}
	class=${ys.eyeWrapper}
>
	${e(n)}
</div>`}function $1(e,t){let{displayType:o,state:r}=t,[n,i]=z(!1),[a,s]=z(t.value.length),c=E(l=>s(l.length),[]);return e`
<div class=${ys.textField.withMods({type:o,focused:n,error:r=="error",disabled:r=="disabled"})}>
	${e(fV,{...t,onDisplayedValueChanged:c,inputType:t.type==="password"&&!t.showPassword?"password":"text",onFocus:()=>{t.onFocus&&t.onFocus(),i(!0)},onBlur:()=>{t.onBlur&&t.onBlur(),i(!1)}})}
	${e.renderIf(yV,()=>t.type==="password"&&{showPassword:t.showPassword,setShowPassword:t.setShowPassword})}
	${e.renderIf(gV,()=>t.displayType==="suffix"&&{suffix:t.suffix})}
	${e.renderIf(T0,()=>t.maxLength!==void 0&&t.displayType!=="suffix"&&{maxCount:t.maxLength,count:a},ys.counter)}
</div>`}function N1(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.5 4h-11A1.5 1.5 0 0 0 3 5.5v9A1.5 1.5 0 0 0 4.5 16h11a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 15.5 4zm-11-2A3.5 3.5 0 0 0 1 5.5v9A3.5 3.5 0 0 0 4.5 18h11a3.5 3.5 0 0 0 3.5-3.5v-9A3.5 3.5 0 0 0 15.5 2h-11zm.75 5.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0zm7.474 2.206a1 1 0 0 1 1.21.007l1.566 1.205V14.5h-11v-1.334l3.38-1.762a1 1 0 0 1 .908-.008L10 12l2.724-2.044z" fill="currentColor"/></svg>
`}function Xr(e){Di({...e,tooltipProps:{contentType:"text",text:e.text,type:e.type,size:e.size}})}function z1(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10 17a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm9-7a9 9 0 1 1-18 0 9 9 0 0 1 18 0zm-7.65-3.15a1.35 1.35 0 1 1-2.7 0 1.35 1.35 0 0 1 2.7 0zM9 9.15a.85.85 0 0 0 0 1.7h.65v1.8h-1v1.7h3.7v-1.7h-1V10a.85.85 0 0 0-.85-.85H9z" fill="currentColor"/></svg>
`}var hV={area:"_AaXBxH",button:"_QpbrqN",button_style_default:"_CSoGfp",button_style_dark:"_mDrtuB",icon:"_Ahc8pl",button_size_xSmall:"_xaQkjw",button_size_small:"_lhnBjL",button_size_medium:"_3wWxfp",button_size_large:"_dx7IHI"},H1=hV;var rg=u(H1);function Q1(e,{onClick:t,style:o="default",icon:r=f(gi),size:n="small",autotestId:i}){function a(s){s.defaultPrevented||(s.preventDefault(),t())}return e`
<div
	class=${rg.area}
	onclick=${a}
	data-at=${j({[wx]:"OverlayButton",[Pa]:i})}
>
	<button
		class=${rg.button.withMods({style:o,size:n})}
		onclick=${a}
	>
		${e(r,rg.icon)}
	</button>
</div>
`}var xV={text:"_1iI0gT",text_multiline:"_55LJmp"},U1=xV;var SV=u(U1);function up(e,{text:t,maxLines:o,disableTooltip:r,direction:n,autotestData:i,className:a}){let s=R(),[c,l]=ai(s,[t,o]);return Ot({html:e,elementRef:s,text:t,show:!r&&(c||l)}),ee(()=>{o>1&&s.current.setAttribute("style",`-webkit-line-clamp: ${o};`)},[o,s]),e`
<div
	save-ref=${s}
	class=${Xe(SV.text.withMods({multiline:o>1}),a)}
	data-at=${j(i)}
	dir=${n}
>${t}</div>`}var CV={badge:"_qnJn3c",badge_size_default:"_MBal9i",badge_size_small:"_W7v7-8"},W1=CV;var kV={badge:"_w2Ahqh",badge_size_default:"_gaHM7u",badge_size_small:"_hLvtEg",badge_type_neutral:"_MWNLY0",icon:"_dvk_pU",badge_type_info:"_Ei4sLi",badge_type_success:"_aA6GzC",badge_type_warning:"_OxeBED",badge_type_critical:"_9g0EHd",badge_type_new:"_JMH3cG",badge_type_accent:"_Z6V_sI",text:"_3beckO"},q1=kV;var _V={badge:"_X9rxOu",badge_type_neutral:"_6c5Dx7",badge_type_info:"_IS2PqX",badge_type_success:"_y5NJH8",badge_type_warning:"_LNnrgC",badge_type_critical:"_Y01hk4",badge_type_new:"_Bkj0rf",badge_type_accent:"_PtyPky",icon:"_HRg4N2",text:"_x70Oha"},G1=_V;var BV={badge:"_ferO3R",badge_type_neutral:"_lefYos",badge_type_info:"_0JCgMK",badge_type_success:"_ge2LzT",badge_type_warning:"_etIkFZ",badge_type_critical:"_UnTHVn",badge_type_new:"_YQ-WIF",badge_type_accent:"_dwngNY",icon:"_7yw4SA",text:"_EIouqR"},j1=BV;var vV=u(W1),bV=u(G1),TV=u(j1),wV=u(q1);function Y1(e,{type:t,size:o,style:r,text:n,icon:i,autotestData:a,direction:s}){let c=J(r,{primary:bV,secondary:TV,complementary:wV}),l=Pe(vV.badge.withMods({size:o}),c.badge.withMods({type:t,size:o}));return e`
<div
	class=${l}
	data-at=${j(a)}
	dir=${s}
>
	${e(i,c.icon)}
	${e(vt,{text:n},c.text)}
</div>`}var PV=8,EV=Ne(null);function MV(e,t){let{width:o}=e.getBoundingClientRect();t.style.width=q(o)}function Z1(e){return{x:e&&typeof e.x=="number"?e.x:0,y:e&&typeof e.y=="number"?e.y:PV}}function dp({html:e,anchorRef:t,opened:o,onClose:r,createPopover:n,offset:i,side:a,align:s,syncWithComponentWidth:c=!1,layer:l=wo("popover"),anchorTrackingAction:p="close"}){let m=re(EV),d=Zc({html:e,opened:o,layer:l,onClose:r,createOverlay:n,beforeMount:g=>c&&MV(t.current,g),getAppearKeyframes:g=>Xc({element:g,side:Ma({...bi({rootRef:m||void 0,relatedRef:t,overlayRef:{current:g}}),offset:Z1(i),align:s||"center",side:a||"bottom"})}),getOverlayPosition:g=>Dc({...bi({rootRef:m||void 0,relatedRef:t,overlayRef:{current:g}}),offset:Z1(i),align:s||"center",side:a||"bottom"}),anchorTracking:{anchorRef:t,action:p}}),y=te(d);return Dl({relatedRef:t,popoverRef:y,onClose:r}),d}var X1=50;function J1(e){let t=P(),{opened:o,hideInstantly:r}=Ll({overlayRef:t,anchorRef:e.anchorRef,stayOnHover:!0,appearDelay:X1,hideDelay:X1});return t.current=dp({...e,opened:e.opened||o,onClose:r}),o}function RV(e,{createControl:t,createPopover:o,opened:r,onClose:n,syncWithComponentWidth:i,offset:a,side:s,align:c,anchorTrackingAction:l}){let p=R();return dp({anchorRef:p,createPopover:o,html:e,opened:r,onClose:n,syncWithComponentWidth:i,side:s,align:c,offset:a,anchorTrackingAction:l}),pe(e,t(),p)}function IV(e,{createControl:t,createPopover:o,syncWithComponentWidth:r,offset:n,side:i,align:a,onHoverChanged:s,anchorTrackingAction:c}){let l=R(),p=te(s),m=J1({anchorRef:l,createPopover:o,html:e,syncWithComponentWidth:r,side:i,align:a,offset:n,anchorTrackingAction:c});return M(()=>{p.current&&p.current(m)},[m,p]),pe(e,t(),l)}function e_(e,t){switch(p0("controlType",t.controlType),t.controlType){case"hover":return IV(e,t);case"state":return RV(e,t);default:throw N(t),new Error}}function o_(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="m6.293 10.707 3 3a1 1 0 0 0 1.414 0l3-3a1 1 0 0 0-1.414-1.414L11 10.586V3a1 1 0 1 0-2 0v7.586L7.707 9.293a1 1 0 0 0-1.414 1.414zM5 15a1 1 0 1 0-2 0v1a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-1a1 1 0 1 0-2 0v1H5v-1z" fill="currentColor"/></svg>
`}var DV={input:"_4wlLF8"},r_=DV;var AV=u(r_);function fp(e,{browseRef:t,onChange:o,accept:r,multiple:n,autotestId:i}){let a=vr();ee(()=>{t.current=()=>a.current.click()},[t,a]);function s(){let l=a.current,p=l.files?[...l.files]:[];l.value="",o(p)}function c(l){l.stopPropagation()}return e`
<input
	save-ref=${a}
	class=${AV.input}
	type='file'
	accept=${r==null?void 0:r.join(", ")}
	multiple=${n}
	onchange=${s}
	onclick=${c}
	data-at=${j(i)}
>`}function n_(){return P(()=>{})}function VV(e,t){return k0(e,{content:f(l0,t),width:t.width,height:t.height})}function i_(e,t){return f(VV,e,t)}function gp(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.52 2.729a1 1 0 1 0-1.944-.47l-.84 3.466a1 1 0 0 0 .622 1.171L7.4 8.036a1 1 0 0 0 .701-1.873l-.85-.319A5.75 5.75 0 1 1 4.5 10.75a1 1 0 1 0-2 0 7.75 7.75 0 1 0 3.674-6.591l.346-1.43z" fill="currentColor"/></svg>
`}var LV={wrapper:"_aoEqYZ",wrapper_disabled:"_7aPqfs",wrapper_size_small:"_1WMBwL",wrapper_size_large:"_KCTsle",input:"_eT-bB8",input_size_small:"_EEEwKM",input_size_large:"_po66lb"},a_=LV;var s_=u(a_);function c_(e,{id:t,checked:o,onCheckedRequest:r,disabled:n=!1,size:i,onFocusedChange:a,autotestData:s}){let c=vr();ee(()=>{c.current.checked=o},[c,o]);function l(p){!p.defaultPrevented&&!o&&(p.preventDefault(),r())}return Po(c,{onFocusedChange:a}),e`
<div
	class=${s_.wrapper.withMods({disabled:n,size:i})}
	onclick=${n?void 0:l}
>
	<input
		save-ref=${c}
		class=${s_.input.withMods({size:i})}
		id=${t}
		type="radio"
		disabled=${n}
		onclick=${l}
		data-at=${j(s)}
	>
</div>`}function l_(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1H8zM6 4H3a1 1 0 0 0 0 2v10a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3V6a1 1 0 1 0 0-2h-3a3 3 0 0 0-3-3H9a3 3 0 0 0-3 3zm9 12V6H5v10a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1zm-7-1a1 1 0 0 1-1-1V9a1 1 0 0 1 2 0v5a1 1 0 0 1-1 1zm3-1a1 1 0 1 0 2 0V9a1 1 0 1 0-2 0v5z" fill="currentColor"/></svg>
`}function p_(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="m5 7.5 5 5 5-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
`}function m_(e,t){return e.top>t.top?"top":e.bottom<t.bottom?"bottom":"none"}function hs({setScrollValue:e,initialValue:t,delta:o,duration:r}){return o?nc({duration:r,timingFn:ic,reducer:{animate:i=>{e(t+o*i)},complete:()=>{},changedProperties:[]}}):null}function Qi({element:e,container:t,duration:o,scrollDirection:r,bounds:n,additionalOffset:i=0}){let a=e.getBoundingClientRect(),s=0;r==="top"&&n.top>a.top?s=a.top-n.top+i:r==="bottom"&&n.bottom<a.bottom&&(s=a.bottom-n.bottom+i),hs({initialValue:t.scrollTop,setScrollValue:c=>{t.scrollTop=c},delta:s,duration:o})}function u_(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.212 1 .485.875 1.37 2.474a1 1 0 1 1-1.748.97l-.228-.412a2.5 2.5 0 1 0 3.5-1.582 1 1 0 0 1 .874-1.799 4.5 4.5 0 1 1-6.317 2.905l-.315.175a1 1 0 0 1-.97-1.75l2.474-1.37.875-.486zM2 6.5A1.5 1.5 0 0 1 3.5 5H7a1 1 0 0 0 0-2H3.5A3.5 3.5 0 0 0 0 6.5v8A3.5 3.5 0 0 0 3.5 18h10a3.5 3.5 0 0 0 3.5-3.5V13a1 1 0 0 0-2 0v1.5a1.5 1.5 0 0 1-1.5 1.5h-10A1.5 1.5 0 0 1 2 14.5v-8zm10.445 3.613a1 1 0 0 0-1.307-.092L8.5 12l-1.178-.587a1 1 0 0 0-.96.037L3.5 13.166V14.5h10v-3.332l-1.055-1.055zM4.75 10.5a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5z" fill="currentColor"/></svg>
`}var OV={imageSelection:"_JJ_p_3",imageContainer_origin:"_TQwCZa",imageContainer_fill:"_z3W7IP",image:"_oiHyIp",image_decoration_none:"_XFAMOW",image_decoration_border:"_APipmX",image_decoration_shadow:"_YyUcoy",image_radius_none:"_Fnod3g",image_radius_xsmall:"_LzaU_B",image_radius_small:"_0M-1ec",image_radius_medium:"_Qxo0d1",image_radius_large:"_CwL-yh",image_radius_xlarge:"_dPxLsK",image_radius_xxlarge:"_oL5d93",image_radius_xxxlarge:"_JfIIub",image_withZoom:"_OPsiBs",image_withLink:"_f-gu5K",imageContainer_backdrop:"_ClvVSz"},d_=OV;function FV(e,t){let o=e.width/t.width,r=e.height/t.height;return o>1||r>1?Math.max(o,r):1}function yp(e,t,o){let[r,n]=z(1),i=D(()=>St(e),[e]),[a,s]=no(t);return M(()=>{if(t.current){let c=t.current,l={width:o?o.width:c.clientWidth,height:o?o.height:c.clientHeight};n(FV(i,l))}},[t,i,o,a,s]),r}var ng=u(d_);function KV(e){return e`
<img
	class=${ng.imageSelection}
	src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
	tabIndex="-1"
	aria-hidden=true
	draggable=false
/>
`}function $V(e,{image:t,onClick:o,withImageSelection:r,withSize:n,withZoom:i,withLink:a,withFullImageUrl:s,outContainerRef:c,containerLimit:l,isPlayer:p,decoration:m,radius:d}){let y=R(),g=D(()=>St(t),[t]),h=yp(t,c,l),C=n?g.width/h:void 0,S=n?g.height/h:void 0,_=uC(t),x=s?t.src:He(t.src),b=ng.image.withMods({withZoom:p&&!!i,withLink:p&&!!a,radius:typeof d=="string"?d:"none",decoration:m!=null?m:"none"}),V={...C&&S?{width:`${C}px`,height:`${S}px`}:{},background:`url(${x}) no-repeat`,"background-size":`${_.width}% ${_.height}%`,"background-position":`${_.positionX}% ${_.positionY}%`};return e`
<div
	save-ref=${y}
	class=${b}
	style=${V}
	onclick=${o}
>
	${e.renderIf(KV,()=>r)}
</div>
`}function NV(e,{image:t,withSize:o,withBackdrop:r,withImageSelection:n,withZoom:i,withLink:a,withFullImageUrl:s,outContainerRef:c,containerLimit:l,className:p="",onClick:m,isPlayer:d,radius:y,decoration:g}){let h=R(),C=Pe(ng.imageContainer.withMods({fill:!o,origin:!!o,backdrop:!!r}),p);return e`
<div class=${C} save-ref=${h}>
	${e($V,{image:t,withZoom:i,withLink:a,withSize:o,withImageSelection:n,withFullImageUrl:s,onClick:m,outContainerRef:c!=null?c:h,containerLimit:l,isPlayer:d,radius:y,decoration:g})}
</div>
`}function f_(e,{image:t,isPlayer:o=!1,...r}){let n=D(()=>{var a,s;return{...t,crop:(a=t.crop)!=null?a:kn(),clip:(s=t.clip)!=null?s:Or}},[t]),i={...r,image:n,isPlayer:o};return pe(e,f(NV,i))}function Xt(e){var t;return(t=e.editedSrc)!=null?t:e.src}function Ln(e,{component:t,tooltipText:o,size:r,stayOnHover:n,show:i,side:a,align:s,offset:c,disablePointer:l}){let p=P();return Xr({html:e,anchorRef:p,text:o,size:r,stayOnHover:n,show:i,side:a,align:s,offset:c,disablePointer:l}),pe(e,t,p)}function g_(e){Di({...e,tooltipProps:{contentType:"rich",type:e.type,content:e.content,size:e.size}})}var zV=500;function y_({itemRef:e,containerRef:t,scrollDuration:o=zV}){let r=t.current,n=e.current,i=r.getBoundingClientRect(),a=n.getBoundingClientRect(),s={top:i.top,bottom:i.bottom},c=m_(i,a);Qi({element:n,container:r,duration:o,scrollDirection:c,bounds:s})}function h_(e,t,o,r){let n=P(window),i=dc(),a=i?qe.FF_DASH:qe.DASH,s=i?qe.FF_EQUALS:qe.EQUALS;ht(n,a,t,r),ht(n,s,e,r),ht(n,qe.NUM_MINUS,t,r),ht(n,qe.NUM_PLUS,e,r),ht(n,qe.ESC,o,r)}var HV={fallbackImage:"_WUGHHd"},x_=HV;var QV=u(x_);function S_(e){return e`<div class=${QV.fallbackImage} />`}var UV={container:"_4280yd",container_decoration_none:"_q_Byxs",container_decoration_border:"_frTMo_",container_decoration_shadow:"_7YabbA",container_transparent:"_fHzlWJ",container_radius_none:"_p_e_RQ",container_radius_xsmall:"_ALV8We",container_radius_small:"_Troe0c",container_radius_medium:"_IAFl6g",container_radius_large:"_FD2URb",container_radius_xlarge:"_o4dJts",container_radius_xxlarge:"_9YTUyR",container_radius_xxxlarge:"_1jw0u3",image:"_AE0ZBf",image_loaded:"_NkXF5i",image_loading:"_jU5NS3",image_animated:"_a2ZzIp",imageFadeIn:"_uDH4Oa",tiledImage:"_Cr9lro"},C_=UV;var k_=u(C_),WV=50;var qV="loading";function __(e,{width:t,height:o,src:r,fallback:n=f(S_),decoration:i,radius:a,position:s="center",alt:c="",fit:l="none",transparentBackground:p=!1,loading:m="lazy",imageRef:d}){let[y,g]=Rh(()=>(or(r),qV),[r]),[h,C]=z(!1),S=P(),_=E(()=>{g("loaded")},[g]),x=E(()=>{g("failed")},[g]);YV({ref:S,onLoad:_,onError:x,src:r,loading:m}),M(()=>{let $=setTimeout(()=>{y==="loading"&&C(!0)},WV);return()=>clearTimeout($)},[y,C]);let b=k_.container.withMods({transparent:p,decoration:i||"none",radius:typeof a=="string"?a:"none"}),w=k_.image.withMods({loaded:y==="loaded",loading:h,animated:h&&y==="loaded"}),V={width:typeof t=="number"?q(t):t,height:typeof o=="number"?q(o):o,...ZV(a)};return e`
<div
	class=${b}
	style=${V}
	save-ref=${S}
>
	${e.switch(()=>y==="failed"?n:l==="tile"?f(jV,{width:t,height:o,src:r,containerClassName:b,imageClassName:w,fit:l,position:s,imageRef:d}):f(GV,{width:t,height:o,src:r,containerClassName:b,imageClassName:w,fit:l,position:s,alt:c,imageRef:d}))}
</div>
`}function GV(e,{width:t,height:o,src:r,imageClassName:n,fit:i,position:a,alt:s,imageRef:c}){let l={width:typeof t=="number"?q(t):t,height:typeof o=="number"?q(o):o,"object-fit":i,"object-position":a};return e`
<img
	style=${l}
	src=${r}
	alt=${s}
	class=${n}
	save-ref=${c}
/>
`}function jV(e,{width:t,height:o,src:r,imageClassName:n,fit:i,position:a,imageRef:s}){let c={width:typeof t=="number"?q(t):t,height:typeof o=="number"?q(o):o,"background-image":`url("${r}")`,"background-repeat":"repeat","object-fit":i,"object-position":a};return e`
<div
	class=${n}
	style=${c}
	save-ref=${s}
/>`}function YV({ref:e,src:t,onLoad:o,onError:r,loading:n}){let i=P(!0),a=E(s=>{va(s).then(()=>{o()}).catch(r),i.current=!1},[r,o]);Al({ref:e,onIntersect:()=>n==="lazy"&&a(t)}),M(()=>{n==="eager"&&a(t)},[a,n,t]),M(()=>{i.current||a(t)},[a,t])}function ZV(e){if(!e||typeof e=="string")return{};if(typeof e=="number")return{"border-radius":`${e}px`};let t=o=>o?typeof o=="string"?`var(--radius-${o})`:`${o}px`:null;return{"border-start-start-radius":t(e.startStart),"border-start-end-radius":t(e.startEnd),"border-end-start-radius":t(e.endStart),"border-end-end-radius":t(e.endEnd)}}function B_(e){return!e.match(/.gif$/ig)}function v_({crop:e,width:t}){return e?t-e.left-e.right:t}function b_({crop:e,height:t}){return e?t-e.top-e.bottom:t}var XV={container:"_W80Q0y",imageContainer_origin:"_e9mplc",imageContainer_fill:"_xr7exL",image:"_ONvExq",image_decoration_none:"_ROYlxI",image_decoration_border:"___rWGt",image_decoration_shadow:"_kkvFqO",image_withZoom:"_aLeAhs",image_withLink:"_9laeQ4",image_hidden:"_8pXY4s"},T_=XV;function w_(e,t){let[o,r]=z(!1),[n,i]=z(e.editedSrc),a=P(!1);return M(()=>{let s=e.crop;s&&!Xd(s)&&!e.editedSrc&&!a.current?(a.current=!0,dC({...e,crop:s,src:t?e.src:He(e.src)}).then(l=>{a.current=!1,r(!0),i(URL.createObjectURL(l))})):(i(Xt(e)),r(!1))},[e,i,t]),{cropped:o,src:n}}var ig=u(T_);function go(e,{image:t,...o}){let r=oL(t),n=fC(t)&&!t.editedSrc,i=!B_(t.src)&&n,a={...o,image:r,needRuntimeCrop:n};return e`
<div class=${ig.container}>
	${e.renderIf(f_,()=>i&&a)}
    ${e.renderIf(JV,()=>!i&&a)}
</div>`}function JV(e,{image:t,isPlayer:o=!1,withFullImageUrl:r=!1,needRuntimeCrop:n,...i}){let{src:a,cropped:s}=w_(t,r),c=D(()=>{var l;return{src:(l=a!=null?a:t.editedSrc)!=null?l:t.src,width:v_(t),height:b_(t),crop:kn(),clip:Or}},[t,a]);return pe(e,f(eL,{...i,image:c,isPlayer:o,withFullImageUrl:s,hidden:n&&!s}))}function eL(e,{className:t="",outContainerRef:o,withSize:r,...n}){let i=R(),a=Pe(ig.imageContainer.withMods({fill:!r,origin:!!r}),t);return e`
<div class=${a} save-ref=${i}>
	${e(tL,{outContainerRef:o!=null?o:i,withSize:r,...n})}
</div>
`}function tL(e,{image:t,onClick:o,outContainerRef:r,containerLimit:n,withFullImageUrl:i,withSize:a,withZoom:s,withLink:c,withBackdrop:l,isPlayer:p,radius:m,decoration:d,fit:y,position:g,imageRef:h,hidden:C}){let S=yp(t,r,n),_=a?t.width/S:Yu(100),x=a?t.height/S:Yu(100),b=Xt(t),w={width:_,height:x};return e`
<div
	class=${ig.image.withMods({withZoom:p&&!!s,withLink:p&&!!c,decoration:d!=null?d:"none",hidden:C})}
	style=${w}
	onclick=${o}
>
	${e(__,{width:_,height:x,src:i?b:He(b),transparentBackground:!l,fit:y!=null?y:"contain",position:g,imageRef:h,radius:m})}
</div>
`}function oL({src:e,editedSrc:t,height:o,width:r,crop:n,clip:i}){let a=ka(e),s=P(e);return D(()=>((a==null?void 0:a.startsWith("blob:"))&&!e.startsWith("blob:")?s.current=a:(t||e!==a)&&(s.current=e),{src:s.current,editedSrc:t,width:r,height:o,crop:n,clip:i}),[i,n,t,o,a,e,r])}function P_(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M11 3a1 1 0 1 0-2 0v6H3a1 1 0 0 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3z" fill="currentColor"/></svg>
`}function R_(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M16.293 2.293a1 1 0 1 1 1.414 1.414L14.414 7H16a1 1 0 1 1 0 2h-4a1 1 0 0 1-1-1V4a1 1 0 1 1 2 0v1.586l3.293-3.293zm-14 14a1 1 0 1 0 1.414 1.414L7 14.414V16a1 1 0 1 0 2 0v-4a1 1 0 0 0-1-1H4a1 1 0 1 0 0 2h1.586l-3.293 3.293zM18 17v-4a1 1 0 1 0-2 0v3h-3a1 1 0 1 0 0 2h4a1 1 0 0 0 1-1zM3 2a1 1 0 0 0-1 1v4a1 1 0 0 0 2 0V4h3a1 1 0 0 0 0-2H3z" fill="currentColor"/></svg>
`}function I_(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 10h14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
`}function ag(e,t,o,r){let n=Math.abs(o.width-window.innerWidth)/2/r,i=-n,a=Math.abs(o.height-window.innerHeight)/2/r,s=-a,c=Bt(e,i,n),l=Bt(t,s,a);return{fittedX:c,fittedY:l}}function hp(e,t,o,r,n){let i=o.x+(e.x-t.x)/n,a=o.y+(e.y-t.y)/n,{fittedX:s,fittedY:c}=ag(i,a,r,n);return{x:s,y:c}}function xp(e,t){let o=e.current.offsetWidth*t,r=e.current.offsetHeight*t;return{horizontalOverflow:o>window.innerWidth,verticalOverflow:r>window.innerHeight}}function Sp(e,t){let o=P({horizontalOverflow:!1,verticalOverflow:!1});return M(()=>{o.current=xp(e,t)},[e,o,t]),o}function D_(e,t){M(()=>{function o(r){r.deltaY>0?t():e()}return window.addEventListener("wheel",o),()=>{window.removeEventListener("wheel",o)}},[t,e])}function rL(e,t,o,r,n){let i=P({x:0,y:0}),a=P(r),s=te(r),c=P({width:0,height:0}),l=te(n),p=Sp(t,o);M(()=>{let m=null,d=null,y=null,g=()=>{ii([d,y])},h=S=>{let _=S,x=l.current,b=s.current,w={x:_.clientX,y:_.clientY};th(S)?(S.preventDefault(),b=hp(w,i.current,a.current,c.current,o)):g(),x({x:p.current.horizontalOverflow?b.x:s.current.x,y:p.current.verticalOverflow?b.y:s.current.y})},C=S=>{let _=S,x=t.current.getBoundingClientRect();c.current={width:x.width,height:x.height},a.current=s.current,i.current={x:_.clientX,y:_.clientY},S.preventDefault(),y=Br(window,"mouseup",g),d=Br(window,"mousemove",h)};return(p.current.horizontalOverflow||p.current.verticalOverflow)&&(m=Br(t.current,"mousedown",C)),()=>{ii([m,d,y])}},[o,s,t,l,p])}function A_(e,t,o,r,n,i,a,s){D_(i,a),h_(i,a,s),rL(e,t,o,r,n)}function nL(e){let t={x:e[0].pageX,y:e[0].pageY},o={x:e[1].pageX,y:e[1].pageY};return[t,o]}function sg(e){if(e.length===2){let[t,o]=nL(e);return Math.sqrt(Math.pow(o.x-t.x,2)+Math.pow(o.y-t.y,2))}return 0}function V_(e,t,o,r,n){let i=P({startTouchPointsDist:0,startZoomScale:1,startDragPosition:{x:0,y:0},gesture:"none"}),a=Sp(e,t),s=P(r),c=te(r),l=P(),p=te(n),m=E(_=>{i.current.gesture="pinch",i.current.startZoomScale=t,i.current.startTouchPointsDist=sg(_.touches)},[t]),d=E(_=>{let b=sg(_.touches)/i.current.startTouchPointsDist,w=t*b;o(w)},[t,o]),y=E(_=>{let x=e.current.getBoundingClientRect(),b=_.touches[0];l.current={width:x.width,height:x.height},i.current.startDragPosition={x:b.clientX,y:b.clientY},s.current=c.current,i.current.gesture="drag"},[c,e]),g=E(_=>{let x=p.current,b=c.current,w=_.touches[0],V={x:w.clientX,y:w.clientY};_.touches&&_.touches.length===1&&(b=hp(V,i.current.startDragPosition,s.current,l.current,t)),x({x:a.current.horizontalOverflow?b.x:c.current.x,y:a.current.verticalOverflow?b.y:c.current.y})},[c,t,p,a]),h=E(_=>{_.cancelable&&_.preventDefault();let x=_;x.touches&&(x.touches.length===2&&i.current.gesture==="pinch"?d(x):x.touches.length===1&&i.current.gesture==="drag"&&(a.current.horizontalOverflow||a.current.verticalOverflow)&&g(x))},[g,d,a]),C=E(()=>{i.current.gesture="none",window.removeEventListener("touchmove",h),window.removeEventListener("touchend",C)},[h]),S=E(_=>{let x=_;x.touches&&(x.touches.length===2?m(x):x.touches.length===1&&y(x),window.addEventListener("touchmove",h,{passive:!1}),window.addEventListener("touchend",C))},[y,m,C,h]);M(()=>(window.addEventListener("touchstart",S),()=>{window.removeEventListener("touchstart",S)}),[S])}var iL={preview:"_bhwUAH",imageContainer:"_e1th25",image:"_bz-HKe",zoomTransition:"_lTrJPp",image_transition:"_n0xihV",zoomToolbar:"_GLIap5",zoomToolbar_style_light:"_2f1n32",zoomToolbar_style_dark:"_I61riS",imageContainer_touchscreen:"_sawkyQ",image_touchscreen:"_JpjJ2s",centerButton:"_jeAKSd",closeCross:"_CahmAB"},L_=iL;var Kn=u(L_),lg=.5,Fn=6,On=1;function aL(){let[e,t]=z(1);return{imageScale:e,setScale:a=>{a>=Fn?t(Fn):a<=On?t(On):t(a)},increaseScale:()=>{let a=e+lg;a<=Fn?t(a):t(Fn)},decreaseScale:()=>{let a=e-lg;a>=On?t(a):t(On)},resetScale:()=>{t(On)}}}function sL(e,t){let[o,r]=z(!0);return M(()=>{o?(e.current.style.bottom=ei("--tool-bar-bottom"),t.current.style.top=ei("--close-button-top")):(e.current.style.bottom=`-${e.current.offsetHeight}px`,t.current.style.top=`-${t.current.offsetHeight}px`)},[o,r,e,t]),{isToolsVisible:o,setUiVisibility:r}}function cL(e,{style:t,onClose:o}){return Ln(e,{component:f(Q1,{style:t==="dark"?"dark":"default",onClick:o},Kn.closeCross),tooltipText:B("Common.Close"),side:"bottom",align:"start"})}function lL(e,{style:t,icon:o,onClick:r,disabled:n}){return Le(e,{style:J(t,{light:"ghost",dark:"ghostInversed"}),size:"small",onClick:r,structure:"icon",icon:o,state:n?"disabled":"default"})}function cg(e,t){return Ln(e,{component:f(lL,t),tooltipText:t.tooltipText,show:!sd()})}function pL(e,{style:t,increaseScale:o,decreaseScale:r,resetScale:n,scale:i,ref:a}){return G(a,"click",s=>s.preventDefault()),e`
<div
	save-ref=${a}
	class=${Kn.zoomToolbar.withMods({style:t})}
>
	${e(cg,{style:t,icon:f(I_),tooltipText:B("Common.ImageZoom.Tooltip.Decrease"),onClick:r,disabled:i==On})}
	${e(cg,{style:t,icon:f(R_),tooltipText:B("Common.ImageZoom.Tooltip.ResetScale"),onClick:n,disabled:i==On},Kn.centerButton)}
	${e(cg,{style:t,icon:f(P_),tooltipText:B("Common.ImageZoom.Tooltip.Increase"),onClick:o,disabled:i==Fn})}
</div>
`}function mL(e,{src:t,hasImageTransition:o,isTouchscreenDevice:r}){return e`
<img
	class=${Kn.image.withMods({transition:o,touchscreen:r})}
	src=${t}
	alt=''
/>`}function O_(e,{style:t,imageSrc:o,imageCrop:r,closeZoomFn:n}){let[i,a]=z(()=>({x:0,y:0})),[s,c]=z(!1),l=aL(),p=R(),m=R(),d=R(),y=R(),g=R(),h=sd(),{isToolsVisible:C,setUiVisibility:S}=sL(y,d),_=ke=>{let Et=xp(g,ke),{fittedX:ln,fittedY:da}=ag(i.x,i.y,{width:g.current.offsetWidth*ke,height:g.current.offsetHeight*ke},ke);a({x:Et.horizontalOverflow?ln:0,y:Et.verticalOverflow?da:0})};function x(ke){c(!1),l.setScale(ke),_(ke)}function b(){c(!0),l.increaseScale()}function w(){c(!0),l.decreaseScale(),_(l.imageScale-lg)}function V(){c(!0),l.resetScale(),a({x:0,y:0})}function $(ke){c(!1),a(ke)}function W(){h&&S(!C)}function ne(){h&&(C&&S(!1),l.imageScale>=Fn/2?V():(c(!0),l.setScale(Fn/2)))}G(y,"click",ke=>ke.preventDefault()),G(p,"click",ke=>{ke.defaultPrevented||(ke.preventDefault(),n())}),Mh(g,ne,W),V_(g,l.imageScale,x,i,$),A_(p,g,l.imageScale,i,$,b,w,n),M(()=>{let ke=xp(g,l.imageScale),Et=ke.horizontalOverflow||ke.verticalOverflow,ln=g.current.offsetWidth/2,da=g.current.offsetHeight/2;g.current.style.cursor=Et?"move":"default",g.current.style.transformOrigin=`${ln-i.x}px ${da-i.y}px`,g.current.style.transform=`translate(${i.x}px, ${i.y}px) scale(${l.imageScale})`},[g,l.imageScale,i,a]),ee(()=>{p.current.style.height=q(window.innerHeight)});let Ce={ref:g};return e`
<div
	class=${Kn.preview}
	save-ref=${p}
>
	<div
		class=${Kn.imageContainer.withMods({touchscreen:h})}
		save-ref=${m}
	>
		${e.renderIf(mL,()=>!r&&{src:o,hasImageTransition:s,isTouchscreenDevice:h},Ce)}
		${e.renderIf(go,()=>r&&{image:r,withSize:!0,outContainerRef:m,className:Kn.image.withMods({transition:s,touchscreen:h})},Ce)}
	</div>
	${e(pL,{style:t,increaseScale:b,decreaseScale:w,resetScale:V,scale:l.imageScale,ref:y})}
	${e(cL,{style:t,onClose:n},{ref:d})}
</div>`}function Cp(e,{style:t}){let o=gs({html:e,side:"center",component:O_,closeOnOverlayClick:!0,modalOverlayType:t});return E((r,n=void 0)=>o.open({imageSrc:r,imageCrop:n&&(n.crop||n.clip)?{...n,crop:n.crop||kn(),clip:n.clip||Or}:void 0,closeZoomFn:o.close,style:t}),[o,t])}function F_(e){return e`
<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="20" cy="20" r="18.75" stroke="currentColor" stroke-width="2.5"/><path d="M13 21.667 17.397 26l9.353-11" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/></svg>
`}function K_({product:e}){return J(e,{learn:"iSpring Learn",page:"iSpring Page",space:"iSpring Cloud",daily:"iSpring Port"})}var uL={watermark:"_HtuwrY",highlight:"_0HC0Gb",highlight_dir_ltr:"_NcL-W7",moveRight:"_VKz8iu",highlight_dir_rtl:"_kaXcS3",moveLeft:"_QxcHUz",container:"_sUWtt0",logo:"_5GT-k3",button:"_WffN8R",arrowIcon:"_McLJcv",arrowIcon_dir_ltr:"_QV6JUY",arrowIcon_dir_rtl:"_tdCa2B"},$_=uL;var Ui=u($_);function dL(e){return J(e,{islearn:"learn",isstudio:"page",isspace:"space",isdaily:"daily"})}function fL(e){let t=K_({product:dL(e)});return B("Watermark.Trial.Text",{product:t})}function kp(e,{subscriptionProduct:t,watermarkUrl:o}){return e`
<a
	href=${o}
	target="_blank"
	class=${Ui.watermark}
>
	<div class=${Ui.highlight.withMods({dir:io()})}></div>
	<div class=${Ui.container}>
		<div class=${Ui.logo}></div>
		<div>${fL(t)}</div>
		<div class=${Ui.button}>
			<div>${B("Common.LearnMore")}</div>
			<div class=${Ui.arrowIcon.withMods({dir:io()})}></div>
		</div>
	</div>
</a>`}function N_(e,t=!1){let o=e.questions,r=o?yL(o,t):[];return yk.create({key:t?L():e.key,settings:gL(e.settings),questions:r})}function gL(e){return Ml.create({includeInProgress:e.includeInProgress,showCorrectAnswers:e.showCorrectAnswers,shuffleAnswers:e.shuffleAnswers})}function yL(e,t){return e.map(o=>hL(o,t))}function hL(e,t){let o=e.type,r=e.attachment;return El.create({key:t?L():e.key,type:o,description:xs(e.description),attachment:r?xL(r):void 0,content:CL(o,e.content,t),feedback:SL(e.feedback)})}function xL(e){let t={crop:e.crop||void 0,title:e.title||void 0,previewSrc:e.previewSrc||void 0};return fk.create({type:e.type,width:e.width,height:e.height,src:e.src,...t})}function SL(e){return Pl.create({type:e.type,correct:xs(e.correct),incorrect:xs(e.incorrect),answered:xs(e.answered)})}function xs(e){return Mi({text:e.text,inlineStyleRanges:e.inlineStyleRanges,urls:e.urls})}function CL(e,t,o){switch(e){case"mc":case"mr":return kL(t,o);case"ti":return BL(t,o);default:throw N(e),new Error(`Unknown question type: ${e}`)}}function kL(e,t){let o=e.choices,r=o?o.map(n=>_L(n,t)):[];return bl.create({choices:r})}function _L(e,t){return Ri.create({key:t?L():e.key,text:xs(e.text),correct:e.correct})}function BL(e,t){let o=e.answers,r=o?o.map(n=>vL(n,t)):[];return wl.create({caseSensitive:e.caseSensitive,answers:r})}function vL(e,t){return Tl.create({key:t?L():e.key,text:e.text})}function bL(e){let t=e.text||"",o={key:e.key,type:k.PARAGRAPH,viewType:e.viewType,textAlign:e.textAlign,characters:Mi({text:t,inlineStyleRanges:e.inlineStyleRanges,urls:e.urls})};return e.viewType==="ol"&&(o.isOrderedListFirstItem=e.isOrderedListFirstItem||!1),o}function TL(e){let t=e.text||"";return{key:e.key,type:k.IMAGE,src:e.src,isBlob:!1,width:e.width,height:e.height,alignment:e.alignment,characters:Mi({text:t,inlineStyleRanges:e.inlineStyleRanges,urls:e.urls})}}function wL(e){let t=e.text||"";return{key:e.key,alignment:e.alignment,type:k.EMBED,width:e.width,height:e.height,src:e.src,characters:Mi({text:t,inlineStyleRanges:e.inlineStyleRanges||[],urls:e.urls})}}function PL(e){return{key:e.key,type:k.ATTACHMENT,fileName:e.fileName,fileSize:e.fileSize,fileExtension:e.fileExtension,isLoading:!1,src:e.src}}function EL(e){switch(e.type){case k.PARAGRAPH:return bL(e);case k.IMAGE:return TL(e);case k.EMBED:return wL(e);case k.EXERCISE:return N_(e);case k.ATTACHMENT:return PL(e)}return O.error(`unknown block type ${e.type}`),null}function z_(e){let t=[];return e.forEach(o=>{let r=EL(o);r&&t.push(r)}),t}var H_={type:"t",width:"w",height:"h",src:"s"},Q_={...H_,...Nt},Ss={...Q_,title:"tl",previewSrc:"pws"},ML={caseSensitive:"cs",answers:{_:"a",key:"k",text:"t",length:"l"}},RL=e=>({choices:{_:"ch",key:"k",content:{_:"c",...e},correct:"cr",length:"l"}}),IL=e=>({type:"t",correct:{_:"c",...e},incorrect:{_:"i",...e},answered:{_:"a",...e}}),$n=(e,t)=>({_:"q",key:"k",type:"t",description:{_:"d",...e},attachment:{_:"a",...t},content:{_:"c",...RL(e),...ML},feedback:{_:"f",...IL(e)}}),Cs={...it,settings:{_:"ss",includeInProgress:"iip",shuffleAnswers:"sa",showCorrectAnswers:"sca"},questions:$n(ql,H_)},pg={...Cs,questions:$n(ql,Q_)},et={...pg,questions:$n(ql,Ss)},Nn={...et,questions:$n(Rf,Ss),...ge},_p={...Nn,questions:$n(Gl,Ss),...ge},U_={..._p,questions:$n(dt,Ss),...ge},H1e={..._p,questions:$n(Z0,Ss),...ge};function DL(e){let t=e.state;return{type:"mc",selectedChoiceId:t?t.selectedChoiceId:null}}function AL(e){let t=e.state;return t?{type:"mr",choices:t.choices.map(o=>({id:o.id,selected:o.selected}))}:{type:"mr",choices:e.data.content.map(o=>({id:o.id,selected:!1}))}}function VL(e){let t=e.state;return{type:"ti",answer:t?t.answer:""}}function LL(e){return{type:"sq",sequence:A(e.state).order}}function OL(e){return{type:"mt",matches:A(e.state).matchedPairs}}function mg(e){let t,o=e.type;switch(o){case"mc":t=DL(e);break;case"mr":t=AL(e);break;case"ti":t=VL(e);break;case"sq":t=LL(e);break;case"mt":t=OL(e);break;default:throw N(o,`unknown question type ${o}`),Error()}return JSON.stringify(t)}var W_=1;function FL(e){let t=A(e.evaluation),o=Sa(t.maxScore/e.questions.length,W_);return e.questions.map(r=>{let n=r.state;return n?{questionId:r.id,correct:n.correct,score:n.correct?o:0,maxScore:o,data:mg(r)}:{questionId:r.id,correct:!1,score:0,maxScore:o,data:mg(r)}})}function q_(e,t){let o=A(e.evaluation),r={version:1,attemptDate:Date.now(),timeSpent:e.timeSpent,evaluation:{passingScore:t.passingScore,maxScore:o.maxScore,quizPassed:o.quizPassed,score:Sa(o.score,W_)},answers:FL(e)};return JSON.stringify(r)}function G_(e){let t=Vt(),o=i=>{i.onCompleted.add(()=>{let a=A(e.session);t.dispatch({result:q_(a,e.settings),duration:a.quizDuration})})},r=()=>{let i=e.onSessionChanged.add(()=>{let a=e.session;a&&o(a),i()})},n=e.session;return n?o(n):r(),t}function Bp(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.654 5.02a6 6 0 0 1 8.6 2.08l-.432-.173a1 1 0 0 0-.744 1.857l2.625 1.052a1 1 0 0 0 1.3-.556l1.052-2.626A1 1 0 0 0 17.2 5.91l-.134.335a8 8 0 0 0-14.533.889 1 1 0 1 0 1.867.716 6 6 0 0 1 2.255-2.83zm6.693 10.07a6 6 0 0 1-8.583-2.05l.335.162a1 1 0 0 0 .873-1.8l-2.545-1.235a1 1 0 0 0-1.336.463L.856 13.175a1 1 0 1 0 1.8.873l.181-.375a8 8 0 0 0 14.632-.696 1 1 0 1 0-1.868-.717 6 6 0 0 1-2.255 2.83z" fill="currentColor"/></svg>
`}function j_(e,t,o,r){t&&o&&r&&e.appendChild(gn(kp)({subscriptionProduct:o,watermarkUrl:r}))}var Jr={};qu(Jr,{OverlayButton:()=>ks});var KL={button:"_HJscPf",button_state_default:"_GduJQ-",button_circleRadius:"_6Ky0E8",button_size_medium:"_hmTq-C",button_type_icon:"_8zlllI",button_type_iconText:"_KfC6k_",button_size_small:"_cR4R_h",button_size_xSmall:"_7TM7sw",background:"_qP2JiQ",icon:"_3EZJxH",text:"_f3-2uW",button_scale:"_NI0bKr",button_state_hovered:"_gSM6d5",button_state_pressed:"_EvRTmk"},Y_=KL;var $L={button:"_LTCGNy",button_state_default:"_-uat-8",background:"_Wfpedw",icon:"_kzvt7J",text:"_nPaL2Z",button_state_hovered:"_s3IkzO",button_state_pressed:"_NGwiV2"},Z_=$L;var NL={button:"_m104hw",button_state_default:"_BmWoxd",button_state_pressed:"_hfJByX",button_state_hovered:"_rdmY83",background:"_Rs5ElP",icon:"_GfmhOU",text:"_YHeyfS"},X_=NL;var zL={button:"_c_9SZA",button_state_default:"_E2sHO7",button_state_hovered:"_d3VPRB",button_state_pressed:"_8CHOrx",background:"_z6kgNt",icon:"_NVlnOs",text:"_amgHdm"},J_=zL;var vp=u(Y_),HL=u(Z_),QL=u(X_),UL=u(J_);function ks(e,t){let{style:o,state:r="default",type:n,size:i="medium",scale:a=!1,circleRadius:s=!1,autotestId:c,onClick:l,onMouseDown:p}=t,m=J(o,{ghost:HL,primary:QL,secondary:UL});function d(S){S.defaultPrevented||(S.preventDefault(),l&&l())}let y=Pe(vp.button.withMods({state:to(r),size:to(i),type:to(n),circleRadius:s,scale:a}),m.button.withMods({state:r})),g=Pe(vp.icon,m.icon),h=Pe(vp.text,m.text),C=Pe(vp.background,m.background);return e`
<button
	class=${y}
	onclick=${d}
	onmousedown=${p}
	data-at=${j(c)}
>
	<div class=${C}></div>
	${e(WL,{className:g,icon:t.icon})}
	${e.renderIf(qL,()=>t.type==="icon-text"&&{className:h,text:t.text})}
</button>`}function WL(e,{icon:t,className:o}){return e`
<div class=${o}>
	${e(t)}
</div>
`}function qL(e,{text:t,className:o}){return e`
<div class=${o}>
	${e(vt,{text:t})}
</div>
`}var en={};qu(en,{PlayerButton:()=>_o});var GL={button:"_TDvbGk",button_editable:"_MuthHp",button_state_disabled:"_dtRJE6",button_size_medium:"_EMVeDr",button_narrow:"_qGCljl",button_size_large:"_5lUk1z",icon:"_lfmug4",button_style_primary:"_k5L6e2",button_style_secondary:"_pO6VAm",text:"_zC6HFf",button_state_default:"_3Xnz_A",button_state_pressed:"_YTl2ew",button_state_hovered:"_Vj1fZE"},eB=GL;var ug=u(eB);function dg(e,t=0,o=0,r=0){let[n,i,a]=cc(e.color),s=(n+t).toFixed(2),c=(i*100+o).toFixed(2),l=(a*100+r).toFixed(2);return`hsl(${s}, ${c}%, ${l}%, ${e.opacity})`}function jL(e){return{"--color-default":dg(e),"--color-hovered":dg(e,0,0,-4),"--color-pressed":dg(e,0,0,-8)}}function YL(e,{text:t}){return e`
<div>${t}</div>
`}function _o(e,t){let o=R(),{style:r,size:n,state:i="default",autotestData:a,leftIcon:s,backgroundColor:c,isNarrow:l=!1,isEditable:p=!1,focusBlockKey:m}=t,d=i==="disabled";function y(C){!d&&!C.defaultPrevented&&(C.preventDefault(),t.onClick&&t.onClick())}Po(o,{});let g=typeof t.content=="string"?f(YL,{text:t.content}):t.content,h=D(()=>c?jL(c):void 0,[c]);return e`
<button
	class=${ug.button.withMods({style:r,size:n,state:i,narrow:l,editable:p})}
	style=${h}
	disabled=${d}
	onclick=${y}
	save-ref=${o}
	data-at=${j(a)}
	data-focus-block-key=${m}
>
	${e(s,ug.icon)}
	${e(g,ug.text)}
</button>
`}function tB(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.375 10a1.625 1.625 0 1 0 3.25 0 1.625 1.625 0 0 0-3.25 0zm6 0a1.625 1.625 0 1 0 3.25 0 1.625 1.625 0 0 0-3.25 0zM16 11.625a1.625 1.625 0 1 1 0-3.25 1.625 1.625 0 0 1 0 3.25z" fill="currentColor"/></svg>
`}function oB(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.407 15.941h-.348v-.348a4.635 4.635 0 0 1 1.366-3.298l.003-.003 6.085-6.09 2.285 2.285-6.09 6.085-.003.003a4.634 4.634 0 0 1-3.298 1.366zm10.452-8.515.824-.823a1.616 1.616 0 0 0-2.285-2.286l-.824.824 2.285 2.285zm1.885-4.17a3.116 3.116 0 0 0-4.407 0l-7.97 7.976a6.135 6.135 0 0 0-1.808 4.365v1.158c0 .38.307.686.686.686h1.158a6.135 6.135 0 0 0 4.365-1.808l7.976-7.97a3.116 3.116 0 0 0 0-4.407z" fill="currentColor"/></svg>
`}function rB(e){return e`
<svg width="160" height="160" viewBox="0 0 160 160" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="39" cy="55" r="6" fill="currentColor"/><path d="M13 82h5v15h3v-7h3v10h-6v11h-5V96H7V84h3v9h3V82z" fill="#fff"/><path d="M13 82h5v15h3v-7h3v10h-6v11h-5V96H7V84h3v9h3V82z" fill="currentColor" fill-opacity=".6"/><path d="m95 61 42 50H53l42-50z" fill="#fff"/><path d="m95 61 42 50H53l42-50z" fill="currentColor" fill-opacity=".68"/><path d="m57 75 30 36H27l30-36z" fill="#fff"/><path d="m57 75 30 36H27l30-36z" fill="currentColor" fill-opacity=".24"/><path fill-rule="evenodd" clip-rule="evenodd" d="M34.419 111.001h-2.577c6.816-2.376 11.236-8.42 15.233-14.827.6-.962 1.192-1.933 1.78-2.899 1.785-2.93 3.545-5.82 5.452-8.29 1.842-2.386 3.853-4.424 6.21-5.762l.652.781c-2.259 1.242-4.222 3.198-6.07 5.592-1.87 2.422-3.589 5.243-5.366 8.16v.001c-.594.975-1.194 1.961-1.81 2.947-3.559 5.704-7.585 11.363-13.504 14.297zm11.531 0h-1.586c1.146-.872 2.199-1.881 3.184-2.988 2.575-2.896 4.66-6.433 6.707-9.908l.064-.107c2.054-3.487 4.084-6.918 6.524-9.438 1.396-1.441 2.937-2.596 4.704-3.301l.678.812c-1.742.628-3.262 1.738-4.663 3.185-2.341 2.417-4.312 5.736-6.382 9.25l-.087.148c-2.03 3.445-4.157 7.054-6.798 10.023a24.943 24.943 0 0 1-2.345 2.324zm10.222 0h-1.44a17.107 17.107 0 0 0 1.818-1.933c1.554-1.902 3.014-4.285 4.55-6.792l.599-.974c1.749-2.842 3.614-5.77 5.806-8.176a21.594 21.594 0 0 1 2.576-2.427l.64.768c-.87.684-1.692 1.47-2.477 2.332-2.12 2.328-3.943 5.181-5.694 8.027l-.592.965-.001.002-.004.006c-1.53 2.497-3.028 4.943-4.629 6.902-.375.458-.758.894-1.152 1.3zm8.87 0h-1.586c2.453-1.905 4.676-4.281 6.515-6.795 1.852-2.531 3.297-5.178 4.185-7.581.09-.247.176-.49.255-.73l.748.897-.065.18c-.925 2.502-2.418 5.23-4.316 7.824-1.632 2.231-3.576 4.379-5.735 6.205zm9.686 0h-1.21l.116-.171c1.739-2.56 3.703-5.166 6.777-7.735l.64.768c-2.834 2.369-4.692 4.767-6.323 7.138zm7.01 0h-1.614a46.061 46.061 0 0 1 4.3-3.09l.646.775a47.918 47.918 0 0 0-3.332 2.315z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M34.419 111.001h-2.577c6.816-2.376 11.236-8.42 15.233-14.827.6-.962 1.192-1.933 1.78-2.899 1.785-2.93 3.545-5.82 5.452-8.29 1.842-2.386 3.853-4.424 6.21-5.762l.652.781c-2.259 1.242-4.222 3.198-6.07 5.592-1.87 2.422-3.589 5.243-5.366 8.16v.001c-.594.975-1.194 1.961-1.81 2.947-3.559 5.704-7.585 11.363-13.504 14.297zm11.531 0h-1.586c1.146-.872 2.199-1.881 3.184-2.988 2.575-2.896 4.66-6.433 6.707-9.908l.064-.107c2.054-3.487 4.084-6.918 6.524-9.438 1.396-1.441 2.937-2.596 4.704-3.301l.678.812c-1.742.628-3.262 1.738-4.663 3.185-2.341 2.417-4.312 5.736-6.382 9.25l-.087.148c-2.03 3.445-4.157 7.054-6.798 10.023a24.943 24.943 0 0 1-2.345 2.324zm10.222 0h-1.44a17.107 17.107 0 0 0 1.818-1.933c1.554-1.902 3.014-4.285 4.55-6.792l.599-.974c1.749-2.842 3.614-5.77 5.806-8.176a21.594 21.594 0 0 1 2.576-2.427l.64.768c-.87.684-1.692 1.47-2.477 2.332-2.12 2.328-3.943 5.181-5.694 8.027l-.592.965-.001.002-.004.006c-1.53 2.497-3.028 4.943-4.629 6.902-.375.458-.758.894-1.152 1.3zm8.87 0h-1.586c2.453-1.905 4.676-4.281 6.515-6.795 1.852-2.531 3.297-5.178 4.185-7.581.09-.247.176-.49.255-.73l.748.897-.065.18c-.925 2.502-2.418 5.23-4.316 7.824-1.632 2.231-3.576 4.379-5.735 6.205zm9.686 0h-1.21l.116-.171c1.739-2.56 3.703-5.166 6.777-7.735l.64.768c-2.834 2.369-4.692 4.767-6.323 7.138zm7.01 0h-1.614a46.061 46.061 0 0 1 4.3-3.09l.646.775a47.918 47.918 0 0 0-3.332 2.315z" fill="currentColor" fill-opacity=".5"/><path d="M145 87h4v13h2v-6.5h3v9.5h-5v8h-4V99h-5V89h3v7h2v-9z" fill="#fff"/><path d="M145 87h4v13h2v-6.5h3v9.5h-5v8h-4V99h-5V89h3v7h2v-9z" fill="currentColor" fill-opacity=".6"/></svg>
`}function nB(e){return e`
<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M39 45.375H9A2.375 2.375 0 0 1 6.625 43V5A2.375 2.375 0 0 1 9 2.625h21.28c.647 0 1.267.264 1.715.731l8.72 9.093c.423.442.66 1.031.66 1.644V43A2.375 2.375 0 0 1 39 45.375z" fill="#fff" stroke="#D0D0D1" stroke-width="1.25"/><path d="M30.841 31.182V19.068h1.803c.61 0 1.106.495 1.106 1.106v9.902c0 .61-.495 1.106-1.106 1.106H30.84zM14.25 17.68v15.166L28.773 34.5V15.75L14.25 17.68z" fill="#4169B4"/><path d="m23.61 27.043 1.118-6.117h1.705l-1.842 8.597H22.87l-1.352-5.751-1.351 5.75h-1.723l-1.842-8.596h1.705l1.124 6.105 1.369-6.105h1.448l1.363 6.117z" fill="#fff"/></svg>
`}function iB(e){return e`
<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M39 45.375H9A2.375 2.375 0 0 1 6.625 43V5A2.375 2.375 0 0 1 9 2.625h21.28c.647 0 1.267.264 1.715.731l8.72 9.093c.423.442.66 1.031.66 1.644V43A2.375 2.375 0 0 1 39 45.375z" fill="#fff" stroke="#D0D0D1" stroke-width="1.25"/><path d="M14.658 26.355v2.895h-2.056v-8.531h3.404c.652 0 1.228.12 1.728.363.504.238.893.58 1.166 1.025.278.442.416.944.416 1.506 0 .832-.299 1.498-.896 1.998-.594.496-1.41.744-2.45.744h-1.312zm0-1.587h1.348c.398 0 .701-.1.908-.3.21-.198.316-.48.316-.843 0-.398-.107-.717-.322-.955-.215-.238-.508-.36-.879-.363h-1.37v2.46zM21.018 29.25v-8.531h2.748c.754 0 1.432.172 2.033.515a3.56 3.56 0 0 1 1.406 1.448c.34.62.512 1.318.516 2.091v.393c0 .781-.166 1.482-.498 2.104a3.619 3.619 0 0 1-1.395 1.453 3.956 3.956 0 0 1-2.003.527h-2.807zm2.056-6.943v5.361h.715c.59 0 1.043-.209 1.36-.627.316-.422.474-1.047.474-1.875v-.37c0-.823-.158-1.444-.474-1.862-.317-.418-.778-.627-1.383-.627h-.691zM34.749 25.852h-3.317v3.398h-2.056v-8.531h5.707v1.588h-3.65v1.963h3.316v1.582z" fill="#E05D36"/></svg>
`}function aB(e){return e`
<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M39 45.375H9A2.375 2.375 0 0 1 6.625 43V5A2.375 2.375 0 0 1 9 2.625h21.28c.647 0 1.267.264 1.715.731l8.72 9.093c.423.442.66 1.031.66 1.644V43A2.375 2.375 0 0 1 39 45.375z" fill="#fff" stroke="#D0D0D1" stroke-width="1.25"/><path d="M30.5 31.25V19h1.75a1.5 1.5 0 0 1 1.5 1.5v9.25a1.5 1.5 0 0 1-1.5 1.5H30.5zM14.25 17.68v15.166L28.875 34.5V15.75L14.25 17.68z" fill="#D1684D"/><path d="M20.49 26.523v3.102h-1.746V20.82h3.305c.636 0 1.194.12 1.675.363a2.6 2.6 0 0 1 1.118 1.034c.26.443.39.95.39 1.518 0 .862-.286 1.544-.856 2.044-.566.496-1.352.744-2.357.744h-1.53zm0-1.47h1.559c.461 0 .812-.113 1.053-.339.244-.226.366-.548.366-.967 0-.432-.122-.78-.366-1.046-.245-.267-.582-.404-1.013-.412h-1.6v2.764z" fill="#fff"/></svg>
`}function sB(e){return e`
<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M39 45.375H9A2.375 2.375 0 0 1 6.625 43V5A2.375 2.375 0 0 1 9 2.625h21.28c.647 0 1.267.264 1.715.731l8.72 9.093c.423.442.66 1.031.66 1.644V43A2.375 2.375 0 0 1 39 45.375z" fill="#fff" stroke="#D0D0D1" stroke-width="1.25"/></svg>
`}function cB(e){return e`
<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M39 45.375H9A2.375 2.375 0 0 1 6.625 43V5A2.375 2.375 0 0 1 9 2.625h21.28c.647 0 1.267.264 1.715.731l8.72 9.093c.423.442.66 1.031.66 1.644V43A2.375 2.375 0 0 1 39 45.375z" fill="#fff" stroke="#D0D0D1" stroke-width="1.25"/><path d="M30.5 31.25V19h1.75a1.5 1.5 0 0 1 1.5 1.5v9.25a1.5 1.5 0 0 1-1.5 1.5H30.5zM14.25 17.68v15.166L28.875 34.5V15.75L14.25 17.68z" fill="#468B5B"/><path d="m21.563 23.855 1.588-3.035h2.007l-2.467 4.366 2.531 4.439h-2.03l-1.63-3.084-1.629 3.084h-2.03l2.53-4.439-2.466-4.366h2.007l1.588 3.035z" fill="#fff"/></svg>
`}function lB(e){return e`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 1a7.7 7.7 0 0 1 7.7 7.7c0 2.527-1.466 4.578-2.91 6.598-.406.566-.81 1.13-1.178 1.702H8.388c-.369-.572-.772-1.136-1.177-1.702C5.766 13.278 4.3 11.227 4.3 8.7A7.7 7.7 0 0 1 12 1zm3.3 19.8V19H8.7v1.8a2.2 2.2 0 0 0 2.2 2.2h2.2a2.2 2.2 0 0 0 2.2-2.2zM12.725 3.044a1 1 0 0 0-.242 1.985 4 4 0 0 1 3.45 3.242 1 1 0 0 0 1.966-.365 6 6 0 0 0-5.174-4.862z" fill="currentColor"/></svg>
`}function pB(e){return e`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M23 12c0 6.075-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1s11 4.925 11 11zm-9.68-4.98a1.62 1.62 0 1 1-3.24 0 1.62 1.62 0 0 1 3.24 0zM9.5 10.8a1 1 0 0 1 1-1h1.8a1 1 0 0 1 1 1v5h1.2v2h-4.4v-2h1.2v-4h-.8a1 1 0 0 1-1-1z" fill="currentColor"/></svg>
`}function mB(e){return e`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M23 12c0 6.075-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1s11 4.925 11 11zM7 11a1 1 0 1 0 0 2h10a1 1 0 1 0 0-2H7z" fill="currentColor"/></svg>
`}function uB(e){return e`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M23 12c0 6.075-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1s11 4.925 11 11zM13 7a1 1 0 1 0-2 0v4H7a1 1 0 1 0 0 2h4v4a1 1 0 1 0 2 0v-4h4a1 1 0 1 0 0-2h-4V7z" fill="currentColor"/></svg>
`}function dB(e){return e`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M23 12c0 6.075-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1s11 4.925 11 11zM9.998 8.834v-.009a1 1 0 0 1-2-.007c0-.351.117-.726.266-1.048.158-.344.394-.714.713-1.057.649-.7 1.654-1.295 3.021-1.295 2.64 0 4 1.876 4 3.4V9.563a3.24 3.24 0 0 1-2.604 3.176.493.493 0 0 0-.396.483v.576a1 1 0 1 1-2 0v-.576c0-1.188.839-2.211 2.004-2.444a1.24 1.24 0 0 0 .996-1.215V8.818c0-.392-.437-1.4-2-1.4-.734 0-1.23.304-1.555.655a2.104 2.104 0 0 0-.364.537c-.055.119-.073.193-.079.216a.033.033 0 0 1-.002.008zM12 16.02a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5z" fill="currentColor"/></svg>
`}function fB(e){return e`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M23 12c0 6.075-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1s11 4.925 11 11zm-5.74-2.35a1 1 0 0 0-1.52-1.3l-5.296 6.18-2.737-2.737a1 1 0 0 0-1.414 1.414l3.5 3.5a1 1 0 0 0 1.466-.056l6-7z" fill="currentColor" opacity=".9"/></svg>
`}function gB(e){return e`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.25 5.32A2.4 2.4 0 0 0 1 7.425v9.151a2.4 2.4 0 0 0 1.25 2.107l8.6 4.69a2.4 2.4 0 0 0 2.299 0l8.6-4.69a2.4 2.4 0 0 0 1.25-2.107v-9.15a2.4 2.4 0 0 0-1.25-2.108l-8.6-4.69a2.4 2.4 0 0 0-2.299 0l-8.6 4.69zm6.857 2.372a1 1 0 0 0-1.414 1.414L10.586 12l-2.893 2.893a1 1 0 1 0 1.414 1.414L12 13.413l2.893 2.893a1 1 0 0 0 1.414-1.414L13.414 12l2.893-2.893a1 1 0 1 0-1.414-1.414L12 10.585 9.107 7.692z" fill="currentColor"/></svg>
`}function yB(e){return e`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.612 4.62c-1.149-2.031-4.075-2.031-5.224 0L1.53 18.525C.4 20.524 1.844 23 4.142 23h15.716c2.297 0 3.742-2.476 2.612-4.476L14.612 4.62zM12 8.5a1 1 0 0 1 1 1v5a1 1 0 0 1-2 0v-5a1 1 0 0 1 1-1zm1.5 9.8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z" fill="currentColor"/></svg>
`}function hB(e){return e`
<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="20" cy="20" r="18.75" stroke="currentColor" stroke-width="2.5"/><path d="m15 15 10 10m-10 0 10-10" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/></svg>
`}function xB(e){return e`
<svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M36.878 13.465a3 3 0 0 1 4.243 0l1.414 1.414a3 3 0 0 1 0 4.243L33.657 28l8.878 8.878a3 3 0 0 1 0 4.243l-1.414 1.414a3 3 0 0 1-4.243 0L28 33.657l-8.88 8.88a3 3 0 0 1-4.242 0l-1.414-1.415a3 3 0 0 1 0-4.243l8.879-8.878-8.879-8.88a3 3 0 0 1 0-4.242l1.414-1.414a3 3 0 0 1 4.243 0L28 22.344l8.878-8.879z" fill="currentColor"/></svg>
`}function SB(e){return e`
<svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M49.015 12.845a3 3 0 0 1 .041 4.242L24.301 42.328a6 6 0 0 1-8.616-.05L4.92 31.047a3 3 0 0 1 .09-4.242l1.445-1.383a3 3 0 0 1 4.241.09l9.338 9.743 23.31-23.768a3 3 0 0 1 4.243-.042l1.428 1.4z" fill="currentColor"/></svg>
`}function CB(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M16 0a1 1 0 0 1 1 1v2h2a1 1 0 1 1 0 2h-2v2a1 1 0 1 1-2 0V5h-2a1 1 0 1 1 0-2h2V1a1 1 0 0 1 1-1zM3.5 5A1.5 1.5 0 0 0 2 6.5v8A1.5 1.5 0 0 0 3.5 16h10a1.5 1.5 0 0 0 1.5-1.5V11a1 1 0 1 1 2 0v3.5a3.5 3.5 0 0 1-3.5 3.5h-10A3.5 3.5 0 0 1 0 14.5v-8A3.5 3.5 0 0 1 3.5 3H9a1 1 0 1 1 0 2H3.5zm0 4.25a1.25 1.25 0 1 0 2.5 0 1.25 1.25 0 0 0-2.5 0zm8.945.863a1 1 0 0 0-1.307-.092L8.5 12l-1.178-.587a1 1 0 0 0-.96.037L3.5 13.166V14.5h10v-3.332l-1.055-1.055z" fill="currentColor"/></svg>
`}function kB(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0zM7.636 6.364a.9.9 0 0 0-1.272 1.272L8.727 10l-2.363 2.364a.9.9 0 0 0 1.272 1.272L10 11.273l2.364 2.363a.9.9 0 1 0 1.272-1.272L11.273 10l2.363-2.364a.9.9 0 1 0-1.272-1.272L10 8.727 7.636 6.364z" fill="currentColor"/></svg>
`}function _B(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10 19a9 9 0 1 1 0-18 9 9 0 0 1 0 18zm3.636-10.364a.9.9 0 1 0-1.272-1.272L9 10.727 7.636 9.364a.9.9 0 0 0-1.272 1.272l2 2a.9.9 0 0 0 1.272 0l4-4z" fill="currentColor"/></svg>
`}function BB(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6 2a1 1 0 0 0-2 0v2H2a1 1 0 0 0 0 2h2v8a2 2 0 0 0 2 2h8v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H6V2zm3 2a1 1 0 0 0 0 2h5v5a1 1 0 1 0 2 0V6a2 2 0 0 0-2-2H9z" fill="currentColor"/></svg>
`}function vB(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="6" y="6" width="8" height="8" rx="4" fill="currentColor"/></svg>
`}function bB(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.667 9.167V2m0 7.167L3 7.5m1.667 1.667L6.334 7.5M4.667 2 3 3.667M4.667 2l1.666 1.667" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M15.962 17.917H9.504a.833.833 0 0 1-.58-.235l-3.822-3.698c-.569-.551-.488-1.488.216-1.851.487-.252 1.003-.466 1.349-.466.828 0 1.657.549 2.121.92.145.115.379.012.379-.173V4.667a1.667 1.667 0 1 1 3.333 0V8l3.543 1.288a2.5 2.5 0 0 1 1.611 2.765l-.87 5.169a.833.833 0 0 1-.822.695z" stroke="currentColor" stroke-width="2"/></svg>
`}function bp(e){return e`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.536 5.264a.9.9 0 0 0-1.272 1.272L10.727 12l-5.463 5.463a.9.9 0 1 0 1.272 1.273L12 13.273l5.464 5.463a.9.9 0 0 0 1.272-1.272L13.273 12l5.463-5.464a.9.9 0 1 0-1.272-1.272L12 10.727 6.536 5.264z" fill="currentColor"/></svg>
`}function TB(e){return e`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21 11H3a1 1 0 1 0 0 2h18a1 1 0 1 0 0-2zm0-6H3a1 1 0 0 0 0 2h18a1 1 0 1 0 0-2zM3 19h18a1 1 0 1 0 0-2H3a1 1 0 1 0 0 2z" fill="currentColor"/></svg>
`}function Tp(e){return e`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.296 12.924 8.9 9.014a.787.787 0 0 0-1.094-.092.908.908 0 0 0-.214 1.151l2.586 4.553a1.293 1.293 0 0 0 1.927.374l.05-.041a1.442 1.442 0 0 0 .143-2.035zM22.691 4.51l-.023-.023a2.4 2.4 0 0 0-3.38 0l-.777.771a11.439 11.439 0 0 1 2.899 3.916l1.28-1.27.016-.015a2.39 2.39 0 0 0-.015-3.38zM15.13 2.4a2.4 2.4 0 0 0-2.4-2.4H9.055a2.4 2.4 0 0 0-2.4 2.4v.799a11.565 11.565 0 0 1 4.238-.799c1.497 0 2.927.283 4.24.799L15.13 2.4zM19 14a8 8 0 1 1-16 0 8 8 0 0 1 16 0zm2 0c0 5.523-4.477 10-10 10S1 19.523 1 14 5.477 4 11 4s10 4.477 10 10z" fill="currentColor"/></svg>
`}function wB(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M17.5 10a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0zm1.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0zm-5.97-3.03a.75.75 0 0 1 0 1.06L11.06 10l1.97 1.97a.75.75 0 1 1-1.06 1.06L10 11.06l-1.97 1.97a.75.75 0 0 1-1.06-1.06L8.94 10 6.97 8.03a.75.75 0 0 1 1.06-1.06L10 8.94l1.97-1.97a.75.75 0 0 1 1.06 0z" fill="currentColor"/></svg>
`}function wp(e){return e`
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M17.5 5.25a.752.752 0 0 0-.744-.75H3.244a.745.745 0 0 0-.744.75c0 .414.341.75.744.75h13.512c.411 0 .744-.333.744-.75zm0 5a.752.752 0 0 0-.744-.75H3.244a.745.745 0 0 0-.744.75c0 .414.341.75.744.75h13.512c.411 0 .744-.333.744-.75zm-15 5c0 .414.337.75.755.75h8.99a.75.75 0 1 0 0-1.5h-8.99a.75.75 0 0 0-.755.75z" fill="currentColor"/></svg>
`}function PB(e){return e`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12zm6.207-14.793a1 1 0 0 0-1.414-1.414L10 14.586l-2.793-2.793a1 1 0 0 0-1.414 1.414l3.5 3.5a1 1 0 0 0 1.414 0l7.5-7.5z" fill="currentColor"/></svg>
`}function EB(e){return e`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 0c6.627 0 12 5.373 12 12s-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0zm4.736 7.264a.9.9 0 0 0-1.272 0L12 10.727 8.536 7.264l-.092-.081a.9.9 0 0 0-1.18.08l-.081.093a.9.9 0 0 0 .08 1.18L10.728 12l-3.463 3.464a.9.9 0 0 0 1.272 1.272L12 13.273l3.464 3.463.092.08a.9.9 0 0 0 1.18-.08l.08-.092a.9.9 0 0 0-.08-1.18L13.273 12l3.463-3.464a.9.9 0 0 0 0-1.272z" fill="currentColor"/></svg>
`}function ZL(){return Ve([Nr(B("Quiz.Editor.Choices.DefaultAnswer",{index:1}),!0),Nr(B("Quiz.Editor.Choices.DefaultAnswer",{index:2}),!1),Nr(B("Quiz.Editor.Choices.DefaultAnswer",{index:3}),!1)],e=>e.id)}function MB(e){return Rr(e.questions)?{...e,questions:fe(e.questions,t=>t.type==="ti"?{...t,content:{...t.content,answers:Ve(t.content.answers,o=>o.id)}}:t)}:{...e,questions:Ve([{id:ct(),description:F.create(),attachment:null,feedback:al(),type:"mc",content:ZL()}],t=>t.id)}}function Wi(e,{text:t,onClick:o,disabled:r=!1}){return e(_o,{style:"primary",content:t,onClick:o,size:"medium",state:r?"disabled":"default"})}var XL={button:"_VXaM-b",continueButton:"_I3pWC7",fadeIn:"_3RTPs1",fadeOut:"_w_Qebg"},tn=XL;var JL={question:"_Tjy-gt",description:"_MAVynP",attachment:"_XSn8jY",content:"_h6keea",footer:"_VXIEoI"},RB=JL;var eO={description:"_hvQx_S",label:"_IviMVh",text:"_TCGNtN"},IB=eO;var tO={container:"_F42Phy",img:"_ErbPmZ"},DB=tO;var oO={content_withAnswers:"_c5a6hS"},AB=oO;var rO={choice:"_SpWA2Z",choice_submitted:"_IVMgG1",choice_size_default:"_pPhKs8",choice_size_small:"_6ApHAU",choice_focused:"_Ddz8oC",choice_selected:"_ljXMyN",control:"_HcKJnV",text:"__cp7b-"},VB=rO;function Pp(e){return{type:e.type,correct:!1,submitted:!1,choices:e.content.order.reduce((t,o)=>(t[o]=!1,t),{})}}function Ep(){return{type:"ti",correct:!1,submitted:!1,answer:""}}var LB={type:"t",answer:"a",correct:"c",submitted:"s"},OB={correct:"c",submitted:"s",type:"t",choices:v({_:"cs"})},FB={type:"t",questionId:"qi"},qi={sessionState:{_:"ss"},attempts:{_:"a"},timerStartTime:{_:"tst"},timerStopTime:{_:"te"},questionsViewOrder:{_:"qvo"},timeSpent:{_:"ts"},choicesViewOrderMap:v({_:"cvo"}),typeInQuestionsState:v({_:"tqi",...LB}),choicesQuestionsState:v({_:"cqs",...OB}),currentSlide:{_:"cs",...FB},bestAttempt:"ba"};function Mp(e,t){let o=[],r=[];ue(e.content.matches,s=>{o.push(s.left.id),r.push(s.right.id)}),t&&Yo(o);let n=e.content.distractors.order,i=[...r,...n];Yo(i);let a=o.reduce((s,c)=>(s[c]=null,s),{});return{type:e.type,correct:!1,submitted:!1,leftPartsOrder:o,rightPartsOrder:i,matchedPairs:a}}function Rp(e){let t=(0,At.produce)(e.content.order,o=>Yo(o));return{type:e.type,correct:ho(e.content.order,t),submitted:!1,order:t}}var nO={correct:"c",submitted:"s",type:"t",order:"o"},iO={correct:"c",submitted:"s",type:"t",leftPartsOrder:"lo",rightPartsOrder:"ro",matchedPairs:v({_:"mp"})};var Gi={...qi,sequenceQuestionsState:v({_:"sqs",...nO}),matchingQuestionsState:v({_:"mqs",...iO})};var KB=Gi,$B=1,Ip=2;function NB(e){return{sessionState:e.states.sessionState.get(),attempts:e.states.usedAttempts.get(),timerStartTime:e.states.evaluationStartTime.get(),timerStopTime:e.states.evaluationStopTime.get(),questionsViewOrder:e.states.questionsViewOrder.get(),choicesViewOrderMap:e.states.choicesViewOrderMap.get(),typeInQuestionsState:e.states.typeInQuestionsState.get(),sequenceQuestionsState:e.states.sequenceQuestionsState.get(),choicesQuestionsState:e.states.choicesQuestionsState.get(),matchingQuestionsState:e.states.matchingQuestionsState.get(),currentSlide:e.states.currentSlide.get(),timeSpent:e.states.timeSpent.get(),bestAttempt:e.states.bestAttempt.get()}}function aO(e){switch(e){case 1:return qi;case 2:return Gi;default:throw Error(`cannot decode PersistedState with version ${e}`)}}function Dp(e){return{version:Ip,state:bo(e,KB,[])}}function Ap(e){let t="version"in e&&typeof e.version=="number"?e.version:1,o=aO(t),r=t>1&&"state"in e?e.state:e;return{state:Wt(r,o,[]),version:t}}function Bo(e){let[t]=Te.getBlocksArray(e.blockMap),o=ae(t);if(!o)throw new Error("Richtext must consist only paragraph block");return Ke.getCharactersText(o)}function sO(e){let t=Vt();function o(){t.dispatch()}let r=rc(o).call;return requestAnimationFrame(()=>{e.states.usedAttempts.subscribe(r),e.states.session.subscribe(r)}),t}function cO(e){let t=Vt();return e.states.currentSlide.subscribe(()=>t.dispatch()),t}function lO(e){let t=Vt();return e.states.quizClosed.subscribe(()=>t.dispatch()),t}function pO(e){let t=Vt();return e.states.sessionState.subscribe(o=>{o==="completed"&&t.dispatch()}),t}function mO(e){let t=Vt();return e.states.sessionState.subscribe(o=>{o==="inProgress"&&t.dispatch()}),t}function _s(e,t){let o=Vt(),r=t.states.questionsState.subscribe(n=>{let i=n[e];i&&i.submitted&&(o.dispatch(),r())});return o}function uO(e,t){return e==="completed"?{get quizPassed(){return t.states.quizPassed.get()},get score(){return t.states.score.get()},get maxScore(){return 100}}:null}function Vp(e){return{description:Bo(e.description),attachment:e.attachment,feedback:{type:e.feedback.type,correct:Bo(e.feedback.correct),incorrect:Bo(e.feedback.incorrect),answered:Bo(e.feedback.answered)}}}function dO(e,t){return{id:e.id,type:"ti",data:{...Vp(e),content:{...e.content,answers:ze(e.content.answers)}},get state(){let r=t.states.typeInQuestionsState.get()[e.id];return r?{correct:r.correct,answer:r.answer}:null},onSubmitted:_s(e.id,t)}}function fO(e){return{...Vp(e),content:e.content.order.map(t=>{let o=e.content.blocks[t];return{...o,text:Bo(o.text)}})}}function gO(e,t){return{id:e.id,type:"sq",data:fO(e),get state(){let r=t.states.sequenceQuestionsState.get()[e.id];return r?{correct:r.correct,order:r.order}:null},onSubmitted:_s(e.id,t)}}function zB(e){return{...Vp(e),content:e.content.order.map(t=>{let o=e.content.blocks[t];return{...o,text:Bo(o.text)}})}}function yO(e,t){return{id:e.id,type:"mc",data:zB(e),get state(){let r=t.states.choicesQuestionsState.get()[e.id];if(!r)return null;let n=r.choices,i=Object.keys(n).find(a=>n[a])||null;return{correct:r.correct,selectedChoiceId:i}},onSubmitted:_s(e.id,t)}}function hO(e){let t=e.content.matches.order.map(r=>{let n=e.content.matches.blocks[r];return{id:n.id,left:{id:n.left.id,text:Bo(n.left.text)},right:{id:n.right.id,text:Bo(n.right.text)}}}),o=e.content.distractors.order.map(r=>{let n=e.content.distractors.blocks[r];return{id:n.id,text:Bo(n.text)}});return{...Vp(e),content:{matches:t,distractors:o}}}function xO(e,t){return{id:e.id,type:"mt",data:hO(e),get state(){let r=t.states.matchingQuestionsState.get()[e.id];return r?{correct:r.correct,leftPartsOrder:r.leftPartsOrder,rightPartsOrder:r.rightPartsOrder,matchedPairs:r.matchedPairs}:null},onSubmitted:_s(e.id,t)}}function SO(e,t){return{id:e.id,type:"mr",data:zB(e),get state(){let r=t.states.choicesQuestionsState.get()[e.id];if(!r)return null;let n=r.choices,a=t.states.choicesViewOrderMap.get()[e.id];return{correct:r.correct,choices:a.map(s=>({id:s,selected:n[s]}))}},onSubmitted:_s(e.id,t)}}function CO(e,t){let{questions:o}=t.states.quiz.get(),r=o.blocks[e];if(!r)throw new Error(`Unknown question with id=${e}`);switch(r.type){case"sq":return gO(r,t);case"ti":return dO(r,t);case"mc":return yO(r,t);case"mr":return SO(r,t);case"mt":return xO(r,t);default:N(r)}throw new Error("Unknown question type")}function kO(e){return e.states.questionsViewOrder.get().map(o=>CO(o,e))}function _O(e){let{intro:t}=e.states.quiz.get();return t?{title:Bo(t.title),description:Bo(t.description),attachment:t.attachment}:null}function BO(e){let t=e.states.sessionState.get();return t==="notStarted"?null:{get questions(){return kO(e)},get quizDuration(){return e.states.timerDuration.get()},get timeSpent(){return e.states.timeSpent.get()},get evaluation(){return uO(t,e)},onCompleted:pO(e)}}function vO(e){return{passingScore:e.states.playerSettings.get().passingScore}}function HB({title:e,model:t}){return{get title(){return e},get intro(){return _O(t)},get session(){return BO(t)},get sessionState(){return t.states.sessionState.get()},get settings(){return vO(t)},get currentSlideId(){let o=t.states.currentSlide.get();return o.type==="question"?o.questionId:o.type},get persistedState(){return JSON.stringify(Dp(NB(t)))},onPersistedStateChanged:sO(t),onSlideChanged:cO(t),onSessionChanged:mO(t),onCloseQuiz:lO(t)}}function on(){return{sessionState:"notStarted",currentSlide:{type:"intro"},typeInQuestionsState:{},choicesQuestionsState:{},sequenceQuestionsState:{},matchingQuestionsState:{},evaluationStartTime:null,evaluationStopTime:null,timeSpentBeforeSession:0,sessionStartTime:null,bestAttempt:null}}function QB(e,t){let o=[];ue(e.content,i=>{i.correct&&o.push(i.id)}),o=o.sort();let r=t.choices,n=Object.keys(r).filter(i=>r[i]).sort();return ho(o,n)}function UB(e,t){return ho(e.content.order,t.order)}function fg(e){return e.replace(/\s\s+/g," ").trim()}function Lp(e,t){return ze(e.answers).some(({text:o})=>{let r=fg(o),n=fg(t);return e.caseSensitive?r===n:r.toUpperCase()===n.toUpperCase()})}function WB(e,t){return e.content.matches.order.every(o=>{let r=e.content.matches.blocks[o],n=t.matchedPairs[r.left.id];return r.right.id===n})}function ji(e,t){let o={};return ue(e.questions,r=>{switch(r.type){case"mc":case"mr":{let n=r.content.order;t.shuffleAnswersEnabled&&(n=(0,At.produce)(n,i=>Yo(i))),o[r.id]=n;break}case"ti":case"sq":case"mt":break;default:N(r)}}),o}function Yi(e,t){let o=e.questions.order;return t.shuffleQuestionsEnabled&&(o=(0,At.produce)(o,r=>Yo(r))),o}function qB(e,{decodedPersistedState:t,quiz:o,playerSettings:r}){let n=on(),i=e.def("QuizPlayer.States.QuestionsState.TypeInQuestionsState",t?t.typeInQuestionsState:n.typeInQuestionsState),a=e.def("QuizPlayer.States.QuestionsState.ChoicesQuestionsState",t?t.choicesQuestionsState:n.choicesQuestionsState),s=e.def("QuizPlayer.States.QuestionsState.SequenceQuestionsState",t?t.sequenceQuestionsState:n.sequenceQuestionsState),c=e.def("QuizPlayer.States.QuestionsState.MatchingQuestionsState",t?t.matchingQuestionsState:n.matchingQuestionsState),l=e.map("QuizPlayer.States.QuestionsState",{typeInQuestionsState:i,choicesQuestionsState:a,sequenceQuestionsState:s,matchingQuestionsState:c},d=>({...d.typeInQuestionsState,...d.choicesQuestionsState,...d.sequenceQuestionsState,...d.matchingQuestionsState})),p=e.def("QuizPlayer.States.QuestionsState.\u0421hoicesViewOrderMap",t?t.choicesViewOrderMap:ji(o.get(),r.get())),m=e.def("QuizPlayer.States.QuestionsState.QuestionsViewOrder",t?t.questionsViewOrder:Yi(o.get(),r.get()));return{typeInQuestionsState:i,choicesQuestionsState:a,sequenceQuestionsState:s,matchingQuestionsState:c,questionsState:l,choicesViewOrderMap:p,questionsViewOrder:m}}function GB(e,t){function o(x){e.typeInQuestionsState.mutate(b=>{b[x]=Ep()})}function r({id:x,answer:b}){e.typeInQuestionsState.mutate(w=>{let V=w[x];V.type==="ti"?V.answer=b:O.error('"setTypeInAnswer" action available only for type in question')})}function n(x){e.typeInQuestionsState.mutate(b=>{let w=b[x.id];if(w){let V=x.content;w.correct=Lp(V,w.answer),w.submitted=!0}else O.error(`TypeIn question with id=${x.id} state not initialized`)})}function i(x){e.choicesQuestionsState.mutate(b=>{b[x.id]=Pp(x)})}function a({questionId:x,choiceId:b}){e.choicesQuestionsState.mutate(w=>{let V=w[x],$=V.choices;if(V.type==="mr")$[b]=!$[b];else if(V.type==="mc"){if($[b])return;for(let W of Object.keys($))$[W]=W===b}else O.error('"toggleChoiceSelection" action available only for choices in questions')})}function s(x){e.choicesQuestionsState.mutate(b=>{let w=b[x.id];w?(w.correct=QB(x,w),w.submitted=!0):O.error(`Choices question with id=${x.id} state not initialized`)})}function c(x){e.sequenceQuestionsState.mutate(b=>{b[x.id]=Rp(x)})}function l({newOrder:x,questionId:b}){e.sequenceQuestionsState.mutate(w=>{let V=w[b];V?V.order=x:O.error(`Selections question with id=${b} state not initialized`)})}function p(x){e.sequenceQuestionsState.mutate(b=>{let w=b[x.id];w?(w.correct=UB(x,w),w.submitted=!0):O.error(`Selections question with id=${x.id} state not initialized`)})}function m(x){e.matchingQuestionsState.mutate(b=>{b[x.id]=Mp(x,t.shuffleAnswersEnabled)})}function d({questionId:x,matchToConnect:b}){e.matchingQuestionsState.mutate(w=>{let V=w[x];if(V.type==="mt"){let{leftPartsOrder:$,rightPartsOrder:W,matchedPairs:ne}=V,Ce=$.findIndex(Et=>Et===b.leftId),ke=W.findIndex(Et=>Et===b.rightId);Py(W,Ce,ke),ne[b.leftId]=b.rightId}else O.error('"connectMatch" action available only for matches in questions')})}function y({questionId:x,leftIdToDisconnect:b}){e.matchingQuestionsState.mutate(w=>{let V=w[x];V.type==="mt"?V.matchedPairs[b]=null:O.error('"disconnectMatch" action available only for matches in questions')})}function g(x){e.matchingQuestionsState.mutate(b=>{let w=b[x.id];w?(w.correct=WB(x,w),w.submitted=!0):O.error(`Matching question with id=${x.id} state not initialized`)})}function h(x){switch(x.type){case"ti":o(x.id);break;case"mc":case"mr":i(x);break;case"sq":c(x);break;case"mt":m(x);break;default:N(x)}}function C(x){switch(x.type){case"ti":n(x);break;case"mc":case"mr":s(x);break;case"sq":p(x);break;case"mt":g(x);break;default:N(x)}}function S(x){e.choicesViewOrderMap.set(x)}function _(x){e.questionsViewOrder.set(x)}return{setTypeInAnswer:r,toggleChoiceSelection:a,changeSequenceOrder:l,connectMatch:d,disconnectMatch:y,initQuestionState:h,answerQuestion:C,setChoicesViewOrderMap:S,setQuestionsViewOrder:_}}function jB(e,{decodedPersistedState:t,questionsState:o,quiz:r,playerSettings:n}){let i=on(),a=e.def("QuizPlayer.States.Session.SessionState",t?t.sessionState:i.sessionState),s=e.def("QuizPlayer.States.Session.UsedAttempts",t?t.attempts:0),c=t?t.currentSlide:i.currentSlide,l=e.def("QuizPlayer.States.CurrentSlide",c),p=e.def("QuizPlayer.States.QuizClosed",!1),m=e.def("QuizPlayer.States.Session.BestAttempt",t?t.bestAttempt:i.bestAttempt),d=e.map("QuizPlayer.States.QuizScore",{questionsState:o,quiz:r},h=>{let C=0;for(let _ of Object.keys(h.questionsState)){let x=h.questionsState[_];x.submitted&&x.correct&&C++}let S=h.quiz.questions.order.length;return S?Math.round(C/S*100):0}),y=e.map("QuizPlayer.States.QuizCompleted",{questionsState:o,quiz:r},h=>{let C=Object.keys(h.questionsState);return C.length!==h.quiz.questions.order.length?!1:C.every(S=>h.questionsState[S].submitted)}),g=e.map("QuizPlayer.States.QuizPassed",{score:d,playerSettings:n},h=>h.score>=h.playerSettings.passingScore);return{sessionState:a,usedAttempts:s,currentSlide:l,bestAttempt:m,quizCompleted:y,quizPassed:g,score:d,quizClosed:p}}function YB(e){function t(i){e.sessionState.set(i)}function o(){e.usedAttempts.set(e.usedAttempts.get()+1)}function r(i){e.currentSlide.set(i)}function n(i){e.bestAttempt.set(i)}return{setSessionState:t,incrementAttempt:o,setCurrentSlide:r,setBestAttempt:n}}function Op(e){var t;return{...e,bestAttempt:(t=e.bestAttempt)!=null?t:null,sequenceQuestionsState:{},matchingQuestionsState:{}}}function Fp({state:e,version:t}){return To({document:e,initialVersion:$B,versionFrom:t,versionTo:Ip,upgraders:[{targetVersion:2,upgradeFn:Op}]}).upgradedDocument}function ZB(e,{timeLimitEnabled:t,timerLeftTime:o,evaluationStartTime:r,currentSlide:n}){let i=e.map("QuizPlayer.States.Popups.QuizEndTimePopupOpened",{timeLimitEnabled:t,timerLeftTime:o,currentSlide:n},s=>s.timeLimitEnabled&&s.timerLeftTime===0&&s.currentSlide.type==="question"),a=e.map("QuizPlayer.States.Popups.QuizStartInfoMessageOpened",{timeLimitEnabled:t,evaluationStartTime:r,currentSlide:n},s=>s.timeLimitEnabled&&s.evaluationStartTime==null&&s.currentSlide.type==="question");return{quizEndTimePopupOpened:i,quizStartInfoMessageOpened:a}}function XB(e,{decodedPersistedState:t,playerSettings:o,quizCompleted:r}){let n=on(),i=e.def("QuizPlayer.States.Timer.EvaluationStartTime",t?t.timerStartTime:n.evaluationStartTime),a=e.def("QuizPlayer.States.Timer.EvaluationStopTime",t?t.timerStopTime:n.evaluationStopTime),s=e.def("QuizPlayer.States.Timer.TimeSpentBeforeSession",t?t.timeSpent:n.timeSpentBeforeSession),c=e.def("QuizPlayer.States.Timer.CurrentTime",Date.now()),l=e.def("QuizPlayer.States.Timer.SessionStartTime",n.sessionStartTime),p=e.map("QuizPlayer.States.QuizTimeLimitEnabled",{playerSettings:o},h=>h.playerSettings.timeLimitEnabled),m=e.map("QuizPlayer.States.Timer.TimeSpent",{sessionStartTime:l,timeSpentBeforeSession:s,currentTime:c},h=>{if(!h.sessionStartTime)return 0;let C=Math.max(h.currentTime-h.sessionStartTime,0);return h.timeSpentBeforeSession+C}),d=e.map("QuizPlayer.States.Timer.TimerDuration",{currentTime:c,evaluationStartTime:i,evaluationStopTime:a},h=>h.evaluationStartTime?h.evaluationStopTime?h.evaluationStopTime-h.evaluationStartTime:h.currentTime-h.evaluationStartTime:0),y=e.map("QuizPlayer.States.Timer.TimerLeftTime",{timerDuration:d,playerSettings:o},h=>h.playerSettings.timeLimitEnabled?Math.max(h.playerSettings.timeLimit-h.timerDuration,0):0),g=e.map("QuizPlayer.States.Timer.CanContinueTimer",{timeLimitEnabled:p,timerLeftTime:y,quizCompleted:r},h=>h.timeLimitEnabled?!h.quizCompleted&&h.timerLeftTime>0:!h.quizCompleted);return{timerLeftTime:y,timeLimitEnabled:p,evaluationStopTime:a,evaluationStartTime:i,currentTime:c,sessionStartTime:l,timeSpentBeforeSession:s,timeSpent:m,timerDuration:d,canContinueTimer:g}}function JB(e,t){let o=e.def("QuizPlayer.States.SubscriptionProduct",t.subscriptionProduct),r=e.def("QuizPlayer.States.WatermarkUrl",t.watermarkUrl),n=e.def("QuizPlayer.States.ShowWatermark",t.showWatermark),i=e.def("QuizPlayer.States.Quiz",t.quiz),a=e.def("QuizPlayer.States.QuizPlayerSettings",t.settings),s=e.def("QuizPlayer.States.InsertType",t.insertType),c=e.def("QuizPlayer.States.Direction",t.direction),l=t.persistedState?Fp(Ap(t.persistedState)):null,p=qB(e,{decodedPersistedState:l,quiz:i,playerSettings:a}),m=jB(e,{decodedPersistedState:l,quiz:i,questionsState:p.questionsState,playerSettings:a}),d=XB(e,{decodedPersistedState:l,playerSettings:a,quizCompleted:m.quizCompleted}),y=ZB(e,{timeLimitEnabled:d.timeLimitEnabled,timerLeftTime:d.timerLeftTime,evaluationStartTime:d.evaluationStartTime,currentSlide:m.currentSlide}),g=e.map("QuizPlayer.States.Session",{sessionState:m.sessionState,currentSlide:m.currentSlide,typeInQuestionsState:p.typeInQuestionsState,sequenceQuestionsState:p.sequenceQuestionsState,matchingQuestionsState:p.matchingQuestionsState,choicesQuestionsState:p.choicesQuestionsState,questionsViewOrder:p.questionsViewOrder,choicesViewOrderMap:p.choicesViewOrderMap,evaluationStartTime:d.evaluationStartTime,evaluationStopTime:d.evaluationStopTime,timeSpentBeforeSession:d.timeSpentBeforeSession,sessionStartTime:d.sessionStartTime,bestAttempt:m.bestAttempt},C=>C),h=e.map("QuizPlayer.States.Player",{attempts:m.usedAttempts,quiz:i,playerSettings:a,session:g,subscriptionProduct:o,direction:c,watermarkUrl:r,showWatermark:n},C=>C);return{quiz:i,playerSettings:a,subscriptionProduct:o,direction:c,watermarkUrl:r,showWatermark:n,insertType:s,...d,...m,...p,...y,session:g,player:h}}var bO=500;function ev(e){function t(r){e.sessionStartTime.set(r);let n=e.evaluationStartTime.get()||r;e.evaluationStartTime.set(n),e.currentTime.set(n)}function o(){let r=setInterval(()=>{let n=e.canContinueTimer.get(),i=Date.now();e.currentTime.set(i),n||(clearInterval(r),e.evaluationStopTime.set(i))},bO)}return{setSessionStartTime:t,startTimer:o}}function tv(e){let t=YB(e),o=GB(e,e.playerSettings.get()),r=ev(e);function n(x){e.quiz.set(x),c()}function i(x){if(x.type==="question"){let b=x.questionId;if(!e.questionsState.get()[b]){let $=e.quiz.get().questions.blocks[b];if(!$){O.error(`Unknown question id=${b}`);return}o.initQuestionState($)}}t.setCurrentSlide(x)}function a(){e.quizClosed.set(!0)}function s(){let x=e.currentSlide.get();if(x.type!=="question"){O.error('"submitQuestion" action available only for questions');return}let{showCorrectAnswersEnabled:b,showFeedbackEnabled:w}=e.playerSettings.get(),V=x.questionId,W=e.questionsState.get()[V],{questions:ne}=e.quiz.get(),Ce=ne.blocks[V];if(W.submitted){O.error(`Question with id=${V} already submitted`);return}o.answerQuestion(Ce),!b&&!w&&p()}function c(){Kh(()=>{let x=e.quiz.get(),b=e.playerSettings.get(),w=Yi(x,b),V=ji(x,b),$=on();e.sessionState.set($.sessionState),e.currentSlide.set($.currentSlide),e.typeInQuestionsState.set($.typeInQuestionsState),e.choicesQuestionsState.set($.choicesQuestionsState),e.sequenceQuestionsState.set($.sequenceQuestionsState),e.matchingQuestionsState.set($.matchingQuestionsState),e.questionsViewOrder.set(w),e.choicesViewOrderMap.set(V),e.evaluationStartTime.set($.evaluationStartTime),e.evaluationStopTime.set($.evaluationStopTime),e.timeSpentBeforeSession.set($.timeSpentBeforeSession),e.sessionStartTime.set($.sessionStartTime)}),d()}function l(){let x=e.currentSlide.get();if(x.type==="question"){let $=e.questionsState.get()[x.questionId];if(!$)throw new Error("Current question must have state");$.submitted||s()}t.setSessionState("completed");let b=e.score.get(),w=e.bestAttempt.get();(w===null||b>w)&&t.setBestAttempt(b)}function p(){var w;let x=e.currentSlide.get(),b=e.questionsViewOrder.get();switch(x.type){case"intro":{let[V]=b;V&&i({type:"question",questionId:V})}break;case"results":O.error('"gotoNextSlide" action not available in results slide');break;case"question":{let V=x.questionId,$=b.findIndex(W=>W===V);if($>=0&&$<b.length-1){let W=b[$+1];i({type:"question",questionId:W})}else(w=e.quiz.get().results)!=null&&w.visible&&i({type:"results"})}break;default:N(x)}}function m(){let x=e.currentSlide.get(),{showCorrectAnswersEnabled:b,showFeedbackEnabled:w}=e.playerSettings.get();if(x.type==="question"){let $=e.questionsState.get()[x.questionId].submitted;!b&&!w&&$&&p()}}function d(){var w,V;let x=e.currentSlide.get().type,b=e.quiz.get();x==="intro"&&!((w=b.intro)!=null&&w.visible)&&_(),x==="results"&&!((V=b.results)!=null&&V.visible)&&a()}function y(x){e.timeLimitEnabled.get()&&x===0&&l()}function g(){d(),m();let x=e.timerLeftTime.get();y(x)}function h(){e.timeLimitEnabled.get()||(r.setSessionStartTime(Date.now()),r.startTimer())}function C(){e.timeLimitEnabled.get()&&(r.setSessionStartTime(Date.now()),r.startTimer())}function S(){if(e.sessionState.get()!=="inProgress")return;e.canContinueTimer.get()&&(r.setSessionStartTime(Date.now()),r.startTimer())}function _(){e.quiz.get().questions.order.length&&(h(),t.incrementAttempt(),t.setSessionState("inProgress"),p())}return{initQuizPlayer:g,resetQuiz:n,startQuiz:_,closeQuiz:a,restartQuiz:c,gotoSlide:i,gotoNextSlide:p,submitQuestion:s,...t,...o,...r,resumeEvaluation:S,startEvaluation:h,startEvaluationWithLimit:C,checkTimeIsUp:y}}function ov(e,t,o){e.effect("onTimerLeftTime",{timerLeftTime:t.timerLeftTime},r=>{o.checkTimeIsUp(r.timerLeftTime)}),e.effect("onQuizCompleted",{quizCompleted:t.quizCompleted,score:t.score,bestAttempt:t.bestAttempt},r=>{r.quizCompleted&&(o.setSessionState("completed"),(r.bestAttempt===null||r.score>r.bestAttempt)&&o.setBestAttempt(r.score))})}var rv=Ne({});function nv(e,t){let o=Hh({name:"QuizPlayer.Model",getStates:n=>JB(n,t),getActions:tv,defEffects:ov}),r=D(()=>HB({title:t.title,model:o}),[o,t.title]);return e.setContext(rv,o),t.initApi(r),M(()=>{let n=()=>{};return t.initApi(r),o.actions.initQuizPlayer(),t.persistedState&&o.actions.resumeEvaluation(),n},[r,r.persistedState,o.actions,o.states.player,o.states.quiz,t,t.persistedState]),o}function X(){return re(rv)}function zn(e){return e==="standalone"}var TO={quizPlayer:"_qeoqtC",quizPlayer_type_standalone:"_nN9wIT",quizPlayer_type_builtIn:"_JqGZ9A"},iv=TO;var wO=600,av=20,PO=56,Hn=Ne({});function sv(e,t,o){if(!e)return;let r=e.scrollTop,n=!1,i=new oo;return nc({duration:wO,timingFn:ic,reducer:{animate:a=>{e.scrollTop=r+t*a},complete:()=>{o&&o(),n=!0},changedProperties:[]},abortSignal:i}),()=>{n||i.dispatch()}}function cv(e,t){let{states:o}=X(),r=H(o.currentSlide),n=H(o.insertType);M(()=>{let i=e.current,a=t.current,s=i.getBoundingClientRect(),c=a.getBoundingClientRect();if(c.top<s.top){let l=zn(n)?c.top-s.top:c.top-av-PO;return sv(i,l)}},[e,t,r,n])}function lv(e,t,o){let r=re(Hn),{states:n}=X(),i=H(n.insertType);M(()=>{let a=r.current,c=e.current.getBoundingClientRect();if(c.bottom>window.innerHeight&&t){let l=c.bottom-window.innerHeight,p=zn(i)?l:l+av;return sv(a,p,o)}},[r,e,t,o,i])}var Zi=Ne({current:null});var EO={popup:"_BoBsAH",icon:"_ds3MFa",description:"_YeSb3g"},pv=EO;var gg=u(pv);function mv(e){let{states:t,actions:o}=X(),r=H(t.playerSettings),n=H(t.quiz),i=H(t.usedAttempts);return e`
<div class=${gg.popup}>
	${e(Tp,{},gg.icon)}
	<p class=${gg.description}>
		${B("Quiz.Player.QuizEndTimePopup.Description")}
	</p>
	${e.switch(()=>{var a;return(a=n.results)!=null&&a.visible?f(_o,{content:B("Quiz.Player.QuizEndTimePopup.ResultsButtonLabel"),onClick:()=>o.gotoSlide({type:"results"}),style:"primary",size:"medium"}):ml(i,r.attempts)?f(_o,{content:B("Quiz.Player.Results.RestartQuiz"),leftIcon:f(gp),onClick:o.restartQuiz,style:"secondary",size:"medium"}):null})}
</div>`}function uv(e){let{states:t}=X(),o=H(t.quizEndTimePopupOpened),r=re(Zi);Ii({html:e,side:"center",createModal:()=>o?f(mv,{}):null,layer:r.current||void 0,modalOverlayType:"light"})}var MO={container:"_eB7li7",icon:"_o6_UTt",text:"_gL59MO"},dv=MO;var yg=u(dv);function fv(e,{text:t,icon:o}){return e`
<div class=${yg.container}>
	${e(o,yg.icon)}
	<span class=${yg.text}>${t}</span>
</div>`}var RO=3e3;function gv({html:e,show:t,text:o,icon:r,onHide:n,layer:i}){M(()=>{if(t){let a=setTimeout(n,RO);return()=>clearTimeout(a)}},[t,n]),Ii({html:e,side:"center",createModal:()=>t?f(fv,{text:o,icon:r}):null,modalOverlayType:"light",layer:i})}function yv(e){let t=Math.floor(e/6e4),o=Math.floor(e%6e4/1e3);return o===60&&(o=0,t+=1),{minutes:t,seconds:o}}function IO(e,t){let o="minutesAndSeconds";return e==0&&(o="seconds"),t==0&&(o="minutes"),o}function Kp(e,t){let{minutes:o,seconds:r}=yv(e),n="",i=IO(o,r);switch(i){case"minutesAndSeconds":n=B(t.minutesAndSeconds,{minutes:o,seconds:r});break;case"minutes":n=B(t.minutes,{minutes:o});break;case"seconds":n=B(t.seconds,{seconds:r});break;default:N(i,`Unknown format type: ${i}`)}return n}function hv(e){let{states:t,actions:o}=X(),{timeLimit:r}=H(t.playerSettings),n=H(t.quizStartInfoMessageOpened),i=o.startEvaluationWithLimit,a=re(Zi),s=Kp(r,{minutes:Sr("Quiz.Player.QuizStartInfoMessage.Description.WithoutSeconds"),seconds:Sr("Quiz.Player.QuizStartInfoMessage.Description.WithoutMinutes"),minutesAndSeconds:Sr("Quiz.Player.QuizStartInfoMessage.Description")});gv({html:e,show:n,text:s,icon:f(Tp),onHide:()=>i(),layer:a.current||void 0})}var DO={embed:"_2euAQ6"},xv=DO;var AO=u(xv),VO=560,LO=315,OO=320;function FO(e){let t=new RegExp(/^http(?:s?):\/\/(?:www\.)?youtube\.[a-z]{2,3}\/embed\/[\w\-_]*$/i);return!!e.match(t)}function Sv(e,t){let o=R();return M(()=>{let r=t.width?q(t.width):"100%",n=t.height?q(t.height):"100%";FO(t.src)&&(r=q(VO),n=q(LO)),De(o.current,{"--width":r,"--height":n});let i=o.current.getBoundingClientRect(),a=OO/i.width;De(o.current,{"--mobile-width":q(i.width*a),"--mobile-height":q(i.height*a)})},[o,t.width,t.height,t.src]),e`
<iframe
	save-ref=${o}
	class=${AO.embed}
	src=${t.src}
	allowfullscreen
>
</iframe>`}var Cv=u(DB),KO=300;function kv(e,t){let o=R(),r=Cp(e,{style:"light"}),n=Xt(t),[i]=no(o);return e`
<div
	save-ref=${o}
	class=${Cv.container}
>
	${e(go,{image:t,withSize:!0,withZoom:!0,onClick:()=>r(He(n),t),outContainerRef:o,containerLimit:i?{width:i,height:KO}:void 0,className:Cv.img})}
</div>`}function $p(e){return e?e.type==="i"?f(kv,e):f(Sv,e):null}function Ee(e,t){return V1(e,{...t,className:O1,urlTooltipEnabled:!1})}var $O={intro:"_G-385p",intro_type_builtIn:"_NR1l28",intro_indent:"_wrujZQ",intro_attach:"__GfbNl",intro_type_standalone:"_4joImr",title:"_mr5QH7",description:"_H3F3vq",button:"_8heXsr",attachment:"_RiDuQ2"},_v=$O;var Bs=u(_v);function Bv(e,{showTopPanel:t}){let{states:o,actions:r}=X(),n=r.startQuiz,{intro:i}=H(o.quiz),a=H(o.insertType);if(!i)throw Error("'intro' is not defined");let s=i.attachment,[c]=Te.getBlocksArray(i.title.blockMap),[l]=Te.getBlocksArray(i.description.blockMap),p=c,m=l;return e`
<div
	class=${Bs.intro.withMods({attach:!!s,type:a,indent:!t})}
>
	${e($p(s),{className:Bs.attachment})}
	${e.renderIf(Ee,()=>!!p.characters.length&&{paragraph:p},Bs.title)}
	${e.renderIf(Ee,()=>!!m.characters.length&&{paragraph:m},Bs.description)}
	${e(_o,{content:B("Quiz.Player.Intro.StartQuiz"),onClick:n,style:"primary",size:"medium"},Bs.button)}
</div>`}var NO=u(tn);function vv(e,{disabled:t,onClick:o}){let{actions:r}=X(),n=r.gotoNextSlide;return e`
<div class=${NO.continueButton}>
	${e(Wi,{text:B("Quiz.Player.Question.Continue"),onClick:()=>{n(),o()},disabled:t})}
</div>`}var zO={buttons:"_a3wFwN"},bv=zO;var HO=u(bv);function Np(e){let{states:t,actions:o}=X(),{attempts:r}=H(t.playerSettings),n=H(t.usedAttempts),i=H(t.insertType),a=o.closeQuiz,s=o.restartQuiz;return e`
<div class=${HO.buttons}>
	${e.renderIf(_o,()=>zn(i)&&{content:B("Quiz.Player.Results.FinishQuiz"),onClick:a,style:"primary",size:"medium"})}
	${e.renderIf(_o,()=>ml(n,r)&&{content:B("Quiz.Player.Results.RestartQuiz"),leftIcon:f(gp),onClick:s,style:"secondary",size:"medium"})}
</div>`}var QO=u(tn);function Tv(e){return e`
<div class=${QO.continueButton}>
	${e(Np,{})}
</div>`}var UO=u(tn);function wv(e){let{actions:t}=X(),o=t.gotoNextSlide;return e`
<div class=${UO.continueButton}>
	${e(Wi,{text:B("Quiz.Player.Question.GoToResults"),onClick:o})}
</div>`}var WO=u(tn);function Pv(e,{disabled:t,onClick:o}){let{actions:r}=X(),n=r.submitQuestion;return e`
<div class=${WO.button}>
	${e(Wi,{text:B("Quiz.Player.Question.Submit"),onClick:()=>{n(),o&&o()},disabled:t})}
</div>`}var hg=u(IB);function qO(e,t){let o=t.indexOf(e),r=t.length;return B("Quiz.Player.Question.Number.Label",{current:o+1,total:r})}function Ev(e,{question:t,questionsViewOrder:o}){let[r]=Te.getBlocksArray(t.description.blockMap),n=r;return e`
<div class=${hg.description}>
	<p class=${hg.label}>${qO(t.id,o)}</p>
	${e.renderIf(Ee,()=>!!n.characters.length&&{paragraph:n},hg.text)}
</div>`}function Mv(e,t){return J(e.type,{correctIncorrect:t?Te.getBlocksArray(e.correct.blockMap):Te.getBlocksArray(e.incorrect.blockMap),answered:Te.getBlocksArray(e.answered.blockMap)})}var GO={feedback:"_Q2LVFw",fadeIn:"_I2pjpF",feedback_withSeparator:"_ROMM-M",feedback_type_correct:"_-rvo-a",icon:"_jUBXp1",feedback_type_incorrect:"_85xc81",title:"_8wJpoz",text:"_fg3gCj",fadeOut:"_Gx8EwW"},Rv=GO;var zp=u(Rv);function Iv(e,{question:t,correct:o}){let r=o?f(F_):f(hB),n=o?B("Quiz.Player.Question.Feedback.Correct"):B("Quiz.Player.Question.Feedback.Incorrect"),[i]=Mv(t.feedback,o);return e`
<div class=${zp.feedback.withMods({withSeparator:t.type!=="ti",type:o?"correct":"incorrect"})}>
	<div class=${zp.icon}>${e(r)}</div>
	<div class=${zp.title}>${n}</div>
	${e(Ee,{paragraph:i},zp.text)}
</div>`}function Uo({containerRef:e,mobileWidth:t=Dv,callback:o}){let[r,n]=z(!1);return Ze({target:e,onResize:({width:i})=>{let a=i<=t;a!==r&&n(a),o==null||o(a)}}),r}var jO={icon:"_lU0q4C",icon_position_absolute:"_BsbEl8",icon_dir_ltr:"_L8jX6g",icon_dir_rtl:"_PLEW5a",icon_position_fixed:"_f-LOQy",icon_type_correct:"_XuNnvI",icon_type_incorrect:"__vloL8"},Av=jO;var YO=u(Av);function Wo(e,{correct:t,position:o="absolute"}){let{states:r}=X(),n=H(r.direction),i=t?f(PB):f(EB);return e`
<div
	class=${YO.icon.withMods({dir:n,type:t?"correct":"incorrect",position:o})}
>
	${e(i)}
</div>
`}var xg=u(VB);function Vv(e,{type:t,choice:o,size:r,selected:n,questionId:i,submitted:a,showCorrectAnswers:s}){let{actions:c}=X(),l=c.toggleChoiceSelection,[p,m]=z(!1),d=t==="mc"?f(c_,{size:"large",checked:n,disabled:a,onCheckedRequest:()=>!a&&l({questionId:i,choiceId:o.id}),onFocusedChange:m}):f(S0,{size:"large",checked:n,disabled:a,onCheckedRequest:()=>!a&&l({questionId:i,choiceId:o.id}),onFocusedChange:m}),[y]=Te.getBlocksArray(o.text.blockMap);function g(h){!h.defaultPrevented&&!a&&l({questionId:i,choiceId:o.id})}return e`
<div
	class=${xg.choice.withMods({selected:n,submitted:a,size:r,focused:p})}
	onclick=${g}
>
	${e(d,xg.control)}
	${e(Ee,{paragraph:y},xg.text)}
	${e.renderIf(Wo,()=>s&&(n||o.correct)&&{correct:o.correct})}
</div>`}var ZO=u(AB);function Lv(e,{question:t,questionState:o,choicesViewOrder:r,showCorrectAnswers:n,containerRef:i}){let a=Uo({containerRef:i});return e`
<div
	class=${ZO.content.withMods({withAnswers:n})}
>
	${e.renderAll(r,s=>{let c=t.content.blocks[s];return se(s,Vv,{type:t.type,choice:c,size:a?"small":"default",selected:o.choices[s],questionId:t.id,submitted:o.submitted,showCorrectAnswers:n})})}
</div>`}function ur(e){let t=fe(e.content.distractors,o=>o);return ue(e.content.matches,o=>Ta(t,o.right)),t}function Hp(e,t){return Object.keys(e).find(o=>e[o]===t)||null}function vs(e,t){return Object.values(e.content.matches.blocks).find(o=>o.left.id===t)||null}var XO={content:"_IsXWme",resultsContainer:"_5kjULs",partsContainer:"_2eyQ2Q",itemWrapper:"_BWND_F",itemWrapper_dir_ltr:"_qUtBRQ",itemWrapper_side_left:"_wwl0DV",itemWrapper_connected:"_0tmPYN",itemWrapper_dir_rtl:"_9CCQjZ",itemWrapper_side_right:"_4VCvr5",draggedItem:"_j1ZVfu",resultIcon:"_VJF_73"},Ov=XO;var Xi=Ne({leftPartsRefs:{current:{}}});function JO(e,t){return`M 0 10
c 0 0 0 -10 10 -10
h ${e}
c 0 0 10 0 10 10
v ${t}
c 0 0 0 2 -2 2
h -4.8
a 6 11 0 1 0 0 10
h 4.8
c 0 0 2 0 2 2
v ${t}
c 0 0 0 10 -10 10
h -${e}
c 0 0 -10 0 -10 -10
z`.replace(/\n/g,"")}function e6(e,t){return`M 1 ${9+1}
c 0 0 0 -9 9 -9
h ${e}
c 0 0 9 0 9 9
v ${t}
c 0 0 0 2 -2 2
h -3
a 7 12 0 1 0 0 12
h 3
c 0 0 2 0 2 2
v ${t}
c 0 0 0 9 -9 9
h -${e}
c 0 0 -9 0 -9 -9
z`.replace(/\n/g,"")}function t6(e){return`
<svg xmlns="http://www.w3.org/2000/svg" fill="none">
	<path
        stroke="black"
        stroke-width="2"
        stroke-dasharray="5"
        stroke-dashoffset="3"
        stroke-linecap="square"
        d="${e}" />
</svg>`.replace(/\n/g,"")}function o6(e,t,o){return`
M 18 10
c 0 0 0 -10 10 -10
h ${e}
c 0 0 10 0 10 10
v ${t}
c 0 0 0 10 -10 10
h -${e}
c 0 0 -10 0 -10 -10
v -${o}
c 0 0 0 -2 -2 -2
h -3
a 7 12 0 1 1 0 -12
h 3
c 0 0 2 0 2 -2
v -${o}
z`.replace(/\n/g,"")}function r6(e,t,o){return`
M 19 ${9+1}
c 0 0 0 -9 9 -9
h ${e}
c 0 0 9 0 9 9
v ${t}
c 0 0 0 9 -9 9
h -${e}
c 0 0 -9 0 -9 -9
v -${o}
c 0 0 0 -2 -2 -2
h -4.8
a 6 11 0 1 1 0 -10
h 4.8
c 0 0 2 0 2 -2
v -${o}
z`.replace(/\n/g,"")}function Fv(e,t){let o=t-20,r=(o-16)/2;return{verticalLine:o,verticalLineToUnion:r}}function Kv(e,t){let o=e-20,{verticalLineToUnion:r}=Fv(e,t),n=JO(o,r+1),i=e6(o,r),a=`path("${n}")`,s=`path(evenodd, "${n} ${i}")`,c=t6(n);return{premiseFillPath:a,premiseOutlinePath:s,premiseOutlineIntersectedSvg:c}}function $v(e,t){let o=e-18-20,{verticalLine:r,verticalLineToUnion:n}=Fv(e,t),i=o6(o,r,n),a=r6(o,r,n+1);return{responseFillPath:`path("${i}")`,responseOutlinePath:`path(evenodd, "${i} ${a}")`}}var n6={container:"_78vym0",container_dir_ltr:"_Id1YxP",background:"_By8gnW",container_dir_rtl:"_ZNEVQx",fill:"_oRhK_U",outline:"_9Nt9GJ",container_intersected:"_kh6Ipd",container_submitted:"_YnhbBi",container_incorrect:"_pO_zJ0",content:"_0or780",text:"_yNiaqx"},Nv=n6;var i6={positionNumber:"_OrLPyw"},zv=i6;var a6=u(zv);function Qp(e,{positionNumber:t}){let o=t===null?"x":t+1;return e`
<div class=${a6.positionNumber}>
	${o}.
</div>
`}var Sg=Ne({});function Hv(e,t){let[o,r]=z(()=>({})),n=E((s,c)=>{r(l=>({...l,[s]:c}))},[]),i=E(s=>{r(c=>{let l={...c};return delete l[s],l})},[]),a=D(()=>({setPartHeight:n,removePartHeight:i}),[i,n]);e.setContext(Sg,a),M(()=>{let s=Object.values(o).reduce((c,l)=>Math.max(c,l),0);Dt(t.current,"--matching-items-height",q(s))},[t,o])}function Up(e,t,o=!1){let{setPartHeight:r,removePartHeight:n}=re(Sg),i=E(()=>{if(o)return;let a=t.current.offsetHeight;r(e,a)},[o,e,t,r]);Ze({target:t,onResize:i}),M(()=>{if(!o)return i(),()=>n(e)},[o,e,i,n])}var Ji=u(Nv);function Qv(e,{index:t,matchingPartLeft:o,submitted:r,correct:n,intersected:i,showCorrectAnswers:a}){let s=R(),c=R(),{leftPartsRefs:l}=re(Xi),{states:p}=X(),m=H(p.direction),d=A(ot(o.text.blockMap)),y=t;return s6(s),Up(o.id,c),M(()=>{l.current[o.id]=s},[l,o.id,s]),e`
<div
	class=${Ji.container.withMods({intersected:i,submitted:r,incorrect:!(n&&a),dir:m})}
	save-ref=${s}
>
	<div class=${Ji.background}>
		<div class=${Ji.fill}></div>
		<div class=${Ji.outline}></div>
	</div>
	<div class=${Ji.content} save-ref=${c}>
		${e.renderIf(Qp,()=>a&&{positionNumber:y})}
		${e(Ee,{paragraph:d},Ji.text)}
	</div>
</div>`}function s6(e){let t=E(()=>{let o=e.current.getBoundingClientRect(),{premiseFillPath:r,premiseOutlinePath:n,premiseOutlineIntersectedSvg:i}=Kv(o.width,o.height);De(e.current,{"--clip-premise-fill":r,"--clip-premise-outline":n,"--mask-premise-outline-intersected":mc(i)})},[e]);Ze({target:e,onResize:t}),M(()=>{t()},[t])}var c6={container:"_ftCSXM",container_submitted:"_VFaOfx",container_state_dragged:"_XK-kVn",background:"_aEAl7e",container_dir_rtl:"_fQlB1U",fill:"_SgswtB",outline:"_ntD1om",content:"_E3-362",text:"_da9lsy",container_state_normal:"_0tl48Z",container_state_hidden:"_R2CGCG",container_incorrect:"_33s_fv",container_connected:"_gVeNLi",container_dir_ltr:"_goHe8V",rotateLtrAnimation:"_WicIoH",rotateBackgroundRtlAnimation:"_9i5vPp",rotateContentRtlAnimation:"_TEAAuR",dragIcon:"_xYOjII"},Uv=c6;var Qn=u(Uv);function Cg(e,{index:t,matchingPartRight:o,submitted:r,state:n,correctIndex:i,connected:a,startDrag:s,showCorrectAnswers:c}){let l=R(),p=R(),m=t===i,{states:d}=X(),y=H(d.direction);G(l,"pointerdown",C=>{C.button===yc.left&&n!=="dragged"&&!r&&s(o.id,C,l)});let g=r?i:t,h=A(ot(o.text.blockMap));return p6(l),Up(o.id,p,n==="dragged"),e`
<div
	class=${Qn.container.withMods({state:n,submitted:r,incorrect:!(m&&c),connected:a,dir:y})}
	save-ref=${l}
>
	<div class=${Qn.background}>
		<div class=${Qn.fill}></div>
		<div class=${Qn.outline}></div>
	</div>
	<div class=${Qn.content} save-ref=${p}>
		${e.renderIf(Qp,()=>c&&{positionNumber:g})}
		${e(Ee,{paragraph:h},Qn.text)}
		${e(l6,{})}
	</div>
</div>
`}function l6(e){return e`
<div class=${Qn.dragIcon}>
	${e(Ai,{})}
</div>`}function p6(e){let t=E(()=>{let o=e.current.getBoundingClientRect(),{responseFillPath:r,responseOutlinePath:n}=$v(o.width,o.height);De(e.current,{"--clip-response-fill":r,"--clip-response-outline":n})},[e]);Ze({target:e,onResize:t}),M(()=>{t()},[t])}var Wv=15;function Gv({draggedItemRef:e,listRef:t,onBeforeDragEnd:o,boundingContainerRef:r,scrollController:n}){let{leftPartsRefs:i}=re(Xi),a=P(window),[s,c]=z(()=>null),l=P(!1),p=P(0);return G(a,"pointermove",s?g=>{if(!l.current||!s)return;let C=t.current.getBoundingClientRect(),S=e.current,_=S.getBoundingClientRect(),x=r.current.getBoundingClientRect(),b=g.clientX-s.itemRelativeXOffset,w=Bt(g.clientY-s.itemRelativeYOffset,x.top,x.bottom-_.height),V=b-C.left,$=w-C.top;S.style.top=q($),S.style.left=q(V);let W=qv(i.current,_),ne=s.listOffset+$;ne<n.getScrollTop()&&p.current>$?n.scrollBy(0,-Wv):ne+_.height>n.getScrollTop()+n.getClientHeight()&&p.current<$&&n.scrollBy(0,+Wv),p.current=$,c(Ce=>({...A(Ce),intersectedLeftPartId:W}))}:null),G(a,"pointerup",s?()=>{o(),c(null),l.current=!1}:null),{startDrag:E((g,h,C)=>{h.preventDefault();let _=C.current.getBoundingClientRect(),x=t.current,b=x.getBoundingClientRect(),w=h.clientX-_.x,V=h.clientY-_.y,$=_.x-b.x,W=_.y-b.y,ne=qv(i.current,_);c({draggedRightPartId:g,intersectedLeftPartId:ne,itemRelativeXOffset:w,itemRelativeYOffset:V,startOffsetX:$,startOffsetY:W,listOffset:n.getRelativeElementOffset(x).y}),l.current=!0},[i,t,n]),intersectedLeftPartId:s?s.intersectedLeftPartId:null,draggedRightPartId:s?s.draggedRightPartId:null,startOffsetX:s?s.startOffsetX:null,startOffsetY:s?s.startOffsetY:null}}function qv(e,t){let o=null,r=0;return Object.keys(e).forEach(n=>{let i=e[n];if(!i)return;let a=i.current.getBoundingClientRect(),s=px(t,a);!s||s<r||(r=s,o=n)}),o}var Un=u(Ov);function Yv(e,t){return g6({html:e,question:t.question}),e`
<div>
	${e(m6,t)}
</div>`}function m6(e,{question:t,questionState:o,showCorrectAnswers:r}){let n=P(),i=P(),a=P(),{leftPartsOrder:s,rightPartsOrder:c,matchedPairs:l}=o,{actions:p}=X(),m=p.connectMatch,d=p.disconnectMatch,y=D(()=>ur(t),[t]),g=W=>y.blocks[W]||null,h=D(()=>f6(t,s),[s,t]),C=W=>!!Object.values(l).find(ne=>ne===W);Hv(e,i);let S=re(Hn),_=Mr(S),{draggedRightPartId:x,intersectedLeftPartId:b,startDrag:w,startOffsetX:V,startOffsetY:$}=Gv({draggedItemRef:n,listRef:a,boundingContainerRef:i,scrollController:_,onBeforeDragEnd:()=>{if(!x)return;let W=Hp(o.matchedPairs,x);W&&d({questionId:t.id,leftIdToDisconnect:W}),b&&m({questionId:t.id,matchToConnect:{leftId:b,rightId:x}})}});return e`
<div class=${Un.content} save-ref=${i}>
	<div class=${Un.partsContainer}>
		${e.renderAll(s,(W,ne)=>{let Ce=T(vs(t,W)),ke=l[Ce.left.id],Et=!!ke&&h[ke]===ne;return se(W,jv,{binding:f(Qv,{index:ne,matchingPartLeft:Ce.left,submitted:o.submitted,correct:Et,intersected:b===W,showCorrectAnswers:r}),connected:!!l[W],side:"left"})})}
	</div>
	<div class=${Un.partsContainer} save-ref=${a}>
		${e.renderAll(c,(W,ne)=>{let Ce=C(W);return se(W,jv,{binding:f(Cg,{index:ne,matchingPartRight:T(g(W)),submitted:o.submitted,state:W===x?"hidden":"normal",correctIndex:h[W],connected:Ce,startDrag:w,showCorrectAnswers:r}),connected:Ce,side:"right"})})}
		${e.renderIf(d6,()=>!!x&&!!eo(V)&&!!eo($)&&{itemRef:n,binding:f(Cg,{index:0,correctIndex:0,submitted:!1,connected:!1,state:"dragged",matchingPartRight:T(g(x)),startDrag:w,showCorrectAnswers:r}),startOffsetX:V,startOffsetY:$})}
	</div>
	${e.renderIf(u6,()=>r&&{question:t,questionState:o,rightPartsCorrectIndexesMap:h})}
</div>`}function u6(e,{question:t,questionState:o,rightPartsCorrectIndexesMap:r}){return e`
<div class=${Un.resultsContainer}>
	${e.renderAll(o.leftPartsOrder,(n,i)=>{let a=T(vs(t,n)),s=o.matchedPairs[a.left.id],c=!!s&&r[s]===i;return se(n,Wo,{correct:c,position:"fixed"},Un.resultIcon)})}
</div>`}function jv(e,{binding:t,side:o,connected:r}){let{states:n}=X(),i=H(n.direction);return e`
<div class=${Un.itemWrapper.withMods({connected:r,side:o,dir:i})}>
	${e(t)}
</div>`}function d6(e,{itemRef:t,binding:o,startOffsetX:r,startOffsetY:n}){return ee(()=>{t.current.style.left=q(r),t.current.style.top=q(n)},[t,r,n]),e`
<div
	class=${Un.draggedItem}
	save-ref=${t}
>
	${e(o)}
</div>`}function f6(e,t){let o={};ur(e).order.forEach(i=>{o[i]=null});let n={};return ue(e.content.matches,i=>{n[i.left.id]=i}),t.forEach((i,a)=>{let s=n[i];o[s.right.id]=a}),o}function g6({question:e,html:t}){let o=P(y6(e)),r=D(()=>({leftPartsRefs:o}),[]);t.setContext(Xi,r)}function y6(e){let t={};return ue(e.content.matches,o=>{t[o.left.id]=null}),t}var h6={container:"_wKIrTy",matching:"_AvpE7o",matching_state_default:"_D6aCXW",matching_state_selected:"_JbGruD",matching_state_incorrect:"_sNvkiw",matching_state_answered:"_vK9e7T",header:"_RfAdpJ",responseContainer:"_avYHIM",divider:"_a12hGe",placeholder:"_s5vh0T",icon:"_v7zJU9",matching_state_correct:"_5V9NCr",text:"_19OLz3"},Zv=h6;var x6={footer:"_mXTZVJ",extra:"_VLFCGt",buttons:"_EilzBm",gap:"_csA_R0"},Xv=x6;var Wp=u(Xv);function Jv(e,{buttons:t,extra:o}){return e`
<div class=${Wp.footer}>
	${e(o,Wp.extra)}
	<div class=${Wp.gap}></div>
	${e(Wk,{buttons:t},Wp.buttons)}
</div>`}var S6={header:"_la81rP",titleContainer:"_G_7z6H",title:"_Vahk0D",close:"_B9B-XH"},e2=S6;var qp=u(e2);function t2(e,{title:t,onClose:o}){return e`
<div class=${qp.header}>
	<div class=${qp.titleContainer}>
        ${e.switch(()=>typeof t=="string"?f(vt,{text:t},qp.title):t)}
	</div>
	${e(Le,{style:"secondary",structure:"icon",icon:f(gi),size:"medium",onClick:o,autotestData:"close-bottom-sheet",radius:"circle"},qp.close)}
</div>
`}var C6={container:"_BGNmz4",content:"_Kyn00s"},o2=C6;var r2=u(o2);function Gp(e,t){let{content:o,header:r,footer:n}=t;return e`
<div class=${r2.container}>
	${e.renderIf(t2,()=>r)}
	${e(o,r2.content)}
	${e.renderIf(Jv,()=>n)}
</div>`}var k6={header:"_3J986J",text:"_K03AzZ",content:"_P-8CUh",answerBlock:"__nkcy9",title:"_MwXfLg",title_correct:"_sokLVJ"},n2=k6;var bs=u(n2);function a2(e,{matchId:t,questionId:o,onClose:r}){let{states:n}=X(),i=H(n.quiz),s=H(n.matchingQuestionsState)[o],c=i.questions.blocks[o],l=c.content.matches.blocks[t],p=ot(l.left.text.blockMap),m=ot(l.right.text.blockMap),d=D(()=>{let y=ur(c),g=A(s.matchedPairs[l.left.id]);return ot(y.blocks[g].text.blockMap)},[l.left.id,c,s.matchedPairs]);return Gp(e,{header:{onClose:r,title:f(Ee,{paragraph:p},bs.header)},content:f(_6,{userAnswer:d,correctAnswer:m})})}function _6(e,{correctAnswer:t,userAnswer:o}){return e`
<div class=${bs.content}>
	${e(i2,{title:B("Quiz.Player.Question.YourAnswer"),correct:!1,answer:o})}
	${e(i2,{title:B("Quiz.Player.Question.CorrectAnswer"),correct:!0,answer:t})}
</div>`}function i2(e,{answer:t,correct:o,title:r}){return e`
<div class=${bs.answerBlock}>
	<span
		class=${bs.title.withMods({correct:o})}
	>
		${r}
	</span>
	${e(Ee,{paragraph:t},bs.text)}
</div>`}var B6={header:"_bQMc7b",text:"_D8MFee",list:"__XjXEZ",listItem:"_TiBAZj",indicator:"_bXQN3m"},s2=B6;var Ts=u(s2);function c2(e,{onClose:t,matchId:o,questionId:r}){let{states:n}=X(),s=H(n.quiz).questions.blocks[r].content.matches.blocks[o],c=A(ot(s.left.text.blockMap));return Gp(e,{header:{onClose:t,title:f(Ee,{paragraph:c},Ts.header)},content:f(v6,{onClose:t,questionId:r,match:s})})}function v6(e,{onClose:t,questionId:o,match:r}){let{actions:n,states:i}=X(),a=H(i.quiz),s=H(i.matchingQuestionsState),c=n.connectMatch,l=n.disconnectMatch,p=a.questions.blocks[o],m=s[o],d=new Set(Object.values(m.matchedPairs)),y=D(()=>ur(p),[p]),g=E(h=>{t();let C=Hp(m.matchedPairs,h);C&&l({questionId:o,leftIdToDisconnect:C}),c({questionId:o,matchToConnect:{leftId:r.left.id,rightId:h}})},[c,l,r.left.id,t,o,m.matchedPairs]);return e`
<div class=${Ts.list}>
	${e.renderAll(m.rightPartsOrder,h=>{let C=d.has(h),S=y.blocks[h],_=A(ot(S.text.blockMap));return se(h,b6,{paragraph:_,selected:C,onClick:()=>g(h)})})}
</div>`}function b6(e,{paragraph:t,onClick:o,selected:r}){return e`
<div class=${Ts.listItem} onclick=${o}>
	${e(Ee,{paragraph:t},Ts.text)}
	${e.renderIf(vB,()=>r,Ts.indicator)}
</div>`}var dr=u(Zv);function T6(e){return e`
<svg class=${dr.divider} xmlns="http://www.w3.org/2000/svg">
	<line x1="0" y1="1" x2="100%" y2="0" stroke="currentColor" stroke-width=${1} stroke-dasharray="6 3" stroke-linecap="square"/>
</svg>
`}function w6({selected:e,responseSelected:t,submitted:o,correct:r,showCorrectAnswers:n}){return o?n?r?"correct":"incorrect":"answered":e||t?"selected":"default"}function P6(e){return e`
<span class=${dr.placeholder}>
	${B("Quiz.Player.Question.Matching.ChooseYourAnswer")}
</span>`}function E6(e){return e?A(ot(e.text.blockMap)):null}function l2(e,{questionId:t,matchData:o,rightPartData:r,submitted:n,showCorrectAnswers:i}){let[a,s]=z(!1),c=A(ot(o.left.text.blockMap)),l=E6(r),p=!!n&&!!r&&o.right.id===r.id,m=E(()=>s(!1),[]),{close:d,open:y}=gs({html:e,side:"bottom",component:a2,closeOnOverlayClick:!0}),{close:g,open:h}=gs({html:e,side:"bottom",component:c2,onBeforeClose:m,closeOnOverlayClick:!0}),C=E(()=>{if(n){!p&&i&&y({matchId:o.id,questionId:t,onClose:d});return}s(!0),h({onClose:g,matchId:o.id,questionId:t})},[d,g,p,o.id,y,h,t,i,n]),S=w6({selected:a,responseSelected:!!l,submitted:n,correct:p,showCorrectAnswers:i});return e`
<div class=${dr.container}>
	<div
		class=${dr.matching.withMods({state:S})}
		onclick=${C}
	>
		<div class=${dr.header}>
			${e(Ee,{paragraph:c},dr.text)}
		</div>
		<div class=${dr.responseContainer}>
			${e(T6,{})}
			${e.switch(()=>l?f(Ee,{paragraph:l},dr.text):f(P6))}
			<div class=${dr.icon}>
				${e.switch(()=>i&&S==="incorrect"?f(z1):n?null:f(p_))}
			</div>
		</div>
	</div>
	${e.renderIf(Wo,()=>i&&{correct:p,position:"fixed"})}
</div>`}var M6={content:"_5g0c0t"},p2=M6;var R6=u(p2);function m2(e,{question:t,questionState:o,showCorrectAnswers:r}){let n=o.submitted,i=D(()=>ur(t),[t]),a=E(s=>{let c=t.content.matches.blocks[s],l=o.matchedPairs[c.left.id];return l&&i.blocks[l]||null},[i,t.content.matches.blocks,o.matchedPairs]);return e`
<div class="${R6.content}">
	${e.renderAll(o.leftPartsOrder,s=>{let c=A(vs(t,s));return se(c.id,l2,{questionId:t.id,matchData:c,rightPartData:a(c.id),submitted:n,showCorrectAnswers:r})})}

</div>`}var I6=600;function u2(e,{question:t,questionState:o,showCorrectAnswers:r,containerRef:n}){let i=Uo({containerRef:n,mobileWidth:I6});return e`
<div>
	${e.switch(()=>i?f(m2,{question:t,questionState:o,showCorrectAnswers:r}):f(Yv,{question:t,questionState:o,showCorrectAnswers:r}))}
</div>`}var D6={container:"_Pd7k8g",container_submitted:"_PC8u0Q",item:"_Nd0Q4k",item_size_small:"_6sO_Vp",item_size_default:"_vX0FwB",item_submitted:"_epLcCY",item_withBackground:"_kmSbwl",text:"_4bY4LF",index:"_GSu1iK",index_size_small:"_sDDZHr",index_size_default:"_w_CarC",item_dragged:"_llYo6Y",index_dragged:"_1MulB4",item_dragging:"_wQNuoW",container_dir_ltr:"_cSspmP",rotateLtrAnimation:"_rTnOEn",container_dir_rtl:"_aK8Kp1",rotateRtlAnimation:"_8QnyCJ",dragIcon:"_AfOnfi",dragIcon_dragged:"_5ywyTJ",dragIcon_disabled:"_BNmaH9"},d2=D6;var ws=u(d2);function A6({color:e,dasharray:t,borderRadius:o}){return`
<svg xmlns="http://www.w3.org/2000/svg" fill="none">
	<rect
		width="100%"
		height="100%"
		fill="none"
		rx="${o}"
		ry="${o}"
		stroke="${e}"
		stroke-width="2"
		stroke-dasharray="${t.join(" ")}"
		stroke-linecap="square"
	></rect>
</svg>
`}function f2(e,{index:t,sequence:o,correctIndex:r,state:n,submitted:i,showCorrectAnswers:a,size:s}){let{states:c}=X(),l=H(c.direction),p=t===r,m=Kl(),d=R(),y=R();G(d,"pointerdown",_=>{let x=_.pointerType==="mouse",b=_.composedPath().includes(y.current);!x&&!b||_.button===yc.left&&n!=="dragged"&&!i&&m(o.id,_)});let[g]=Te.getBlocksArray(o.text.blockMap),h=a?r+1:t+1,C=n==="dragged",S=n==="hidden";return M(()=>{if(C)d.current.style.backgroundImage="";else{let _=Cn(S?"border-accent-default":"border-default"),x=S?[5]:[];d.current.style.backgroundImage=mc(A6({color:_,dasharray:x,borderRadius:10}))}},[C,S,d]),e`
<div
	class=${ws.container.withMods({submitted:i,dir:l})}
>
	<div class=${ws.index.withMods({dragged:C,size:s})}>${h}.</div>
	<div
		class=${ws.item.withMods({dragged:C,dragging:S,submitted:i,withBackground:a?!p:i,size:s})}
		save-ref=${d}
	>
		${e(Ee,{paragraph:g},ws.text)}
		${e.renderIf(Wo,()=>a&&{correct:p})}
		<div
			save-ref=${y}
			class=${ws.dragIcon.withMods({dragged:n==="dragged",disabled:i})}
		>
			${e(f(Ai))}
		</div>
	</div>
</div>`}var V6={content:"_2Dq8oR",answersList:"_h34Ont",content_withAnswers:"_-jtiyh",hint:"_LUVEiw",hintIcon:"_k_169u",hintText:"___xAyO"},g2=V6;var y2=10,Ps=u(g2);function h2(e,{question:t,questionState:o,showCorrectAnswers:r,containerRef:n}){let i=R(),a=Uo({containerRef:n}),{actions:s}=X(),c=s.changeSequenceOrder;ee(()=>{Dt(i.current,"--gap",q(y2))},[i]);let l=re(Hn),p=Mr(l);return e`
<div
	save-ref=${i}
	class=${Ps.content.withMods({withAnswers:r})}
>
	<div class=${Ps.hint}>
		${e(bB,{},Ps.hintIcon)}
		<p class=${Ps.hintText}>${B("Quiz.Player.Sequence.Hint")}</p>
	</div>
	${e($l,{items:o.order,getItemId:m=>m,getItemBinding:(m,d,y)=>se(m,f2,{index:d,sequence:t.content.blocks[m],correctIndex:t.content.order.indexOf(m),state:y,submitted:o.submitted,showCorrectAnswers:r,size:a?"small":"default"}),onItemsChange:m=>{c({newOrder:m,questionId:t.id})},scrollController:p,gap:y2},Ps.answersList)}
</div>`}function x2(e,t){return $1(e,{...t,displayType:"light"})}var L6={typeIn:"_2JaffP",field:"_n5a2YE",field_withAnswers:"_fC6Wn-",textField:"_oDtxe9",typeIn_size_default:"_yo9eXe",typeIn_size_small:"_brCS5K",correct:"_Oy_coY",fadeIn:"_ubOPwD",answers:"_pTnWW0",fadeOut:"_gZKqQH"},S2=L6;var Es=u(S2);function O6(e,{question:t}){let o=ze(t.content.answers).map(r=>r.text).join(", ");return e`
<div class=${Es.correct}>
	${Xy(B("Quiz.Player.TypeIn.CorrectAnswers"))}
	<span class=${Es.answers}>${o}</span>
</div>`}function C2(e,{question:t,questionState:o,showCorrectAnswers:r,containerRef:n}){let{actions:i}=X(),a=i.setTypeInAnswer,s=o.submitted?"disabled":"normal",c=Uo({containerRef:n});return e`
<div
	class=${Es.typeIn.withMods({size:c?"small":"default"})}
>
	<div class=${Es.field.withMods({withAnswers:r})}>
		${e(x2,{type:"text",size:"xLarge",value:o.answer,onInput:l=>a({id:t.id,answer:l}),onChange:()=>{},selectionOnConnect:Cr()?void 0:"end",state:s,preventScrollOnFocus:!0},Es.textField)}
		${e.renderIf(Wo,()=>r&&{correct:o.correct})}
	</div>
	${e.renderIf(O6,()=>r&&{question:t})}
</div>`}function k2({question:e,showCorrectAnswers:t,choicesQuestionsState:o,choicesViewOrderMap:r,typeInQuestionsState:n,sequenceQuestionsState:i,matchingQuestionsState:a,containerRef:s}){switch(e.type){case"ti":return f(C2,{question:e,questionState:n[e.id],showCorrectAnswers:t,containerRef:s});case"sq":return f(h2,{question:e,questionState:i[e.id],showCorrectAnswers:t,containerRef:s});case"mc":case"mr":return f(Lv,{question:e,questionState:o[e.id],choicesViewOrder:r[e.id],showCorrectAnswers:t,containerRef:s});case"mt":return f(u2,{question:e,questionState:a[e.id],showCorrectAnswers:t,containerRef:s});default:N(e)}return null}var Ms=u(RB);function F6(e){switch(e.type){case"ti":return!!e.answer;case"mc":case"mr":return Object.values(e.choices).some(t=>t);case"sq":return!0;case"mt":return e.leftPartsOrder.every(t=>e.matchedPairs[t]!==null);default:N(e)}return!1}function _2(e,{question:t,questionState:o,isResultsVisible:r,containerRef:n}){let{states:i}=X(),{showCorrectAnswersEnabled:a,showFeedbackEnabled:s}=H(i.playerSettings),c=H(i.sessionState),l=H(i.quizCompleted),p=H(i.typeInQuestionsState),m=H(i.choicesQuestionsState),d=H(i.sequenceQuestionsState),y=H(i.matchingQuestionsState),g=H(i.choicesViewOrderMap),h=H(i.questionsViewOrder),C=a&&o.submitted,S=s&&o.submitted,_=c==="inProgress",x=R(),[b,w]=ci(!1),V=E(()=>w(!0,100),[w]),$=E(()=>w(!1,0),[w]);return lv(x,b,$),e`
<div class=${Ms.question}>
	${e(Ev,{question:t,questionsViewOrder:h},Ms.description)}
	${e($p(t.attachment),{className:Ms.attachment})}
	${e(k2({question:t,showCorrectAnswers:C,choicesQuestionsState:m,choicesViewOrderMap:g,typeInQuestionsState:p,sequenceQuestionsState:d,matchingQuestionsState:y,containerRef:n}),Ms.content)}
	<div
		class=${Ms.footer}
		save-ref=${x}
	>
		${e.renderIf(Iv,()=>S&&{question:t,correct:o.correct})}
		${e.switch(()=>l?r?f(wv):f(Tv):C||S?f(vv,{disabled:!_,onClick:$}):f(Pv,{disabled:!(F6(o)&&_),onClick:a||s?V:void 0}))}
	</div>
</div>`}var K6={graph:"_3v_wGF"},B2=K6;var v2=Math.acos(.6666666666666667)*2,Wn=2*Math.PI*120-v2*120,kg=7,_g={x:124,y:124},jp=100;function b2(e){return{strokeDashArray:Wn,strokeDashOffset:Wn*(1+e/jp)}}function T2(e){return{strokeDashArray:Wn,strokeDashOffset:Wn*(1+e/jp)-kg}}function w2(e){return{strokeDashArray:Wn,strokeDashOffset:Wn*(e/jp)+kg}}var $6=u(B2);function P2(e,{passingScore:t,quizPassed:o,score:r}){let n=Cn(o?"action-primary-default":"icon-subdued"),i=Cn("background-blue"),a=b2(r),s=T2(t),c=w2(t);return e`
<svg
	fill="none"
	xmlns="http://www.w3.org/2000/svg"
	class=${$6.graph}
>
	<circle
		fill="white"
		r="119"
		cx="${_g.x}"
		cy="${_g.y}"
	></circle>
	<path
		d="M213.318 203.792C232.395 182.582 244 154.54 244 123.791C244 57.6322 190.274 4 124 4C57.7258 4 4 57.6322 4 123.791C4 154.64 15.6814 182.766 34.8694 204"
		stroke=${i} stroke-width="10" stroke-linecap="round" stroke-linejoin="round"
		stroke-dasharray="${s.strokeDashArray}"
		stroke-dashoffset="${s.strokeDashOffset}"
	/>
	<path
		d="M213.318 203.792C232.395 182.582 244 154.54 244 123.791C244 57.6322 190.274 4 124 4C57.7258 4 4 57.6322 4 123.791C4 154.64 15.6814 182.766 34.8694 204"
		stroke=${i} stroke-width="10" stroke-linecap="round" stroke-linejoin="round"
		stroke-dasharray="${c.strokeDashArray}"
		stroke-dashoffset="${c.strokeDashOffset}"
	/>
	<path
		style=${`display: ${r>0?"initial":"none"}`}
		d="M213.318 203.792C232.395 182.582 244 154.54 244 123.791C244 57.6322 190.274 4 124 4C57.7258 4 4 57.6322 4 123.791C4 154.64 15.6814 182.766 34.8694 204"
		stroke=${n} stroke-width="10" stroke-linecap="round" stroke-linejoin="round"
		stroke-dasharray="${a.strokeDashArray}"
		stroke-dashoffset="${a.strokeDashOffset}"
	/>
</svg>`}var N6={passingScoreContainer:"_nRAeVH",scoreDescription:"_8X94K6",scoreLabel:"_9S5i-E"},E2=N6;var Bg=u(E2);function M2(e,{passingScore:t}){return e`
<div class=${Bg.passingScoreContainer}>
	<div class=${Bg.scoreDescription}>
		${B("Quiz.Player.Results.Graph.PassingScoreDescription")}
	</div>
	<div class=${Bg.scoreLabel}>
		${t}%
	</div>
</div>`}var z6={container:"_NVzCzZ",container_mobile:"_RxEM3r",container_topOffset_normal:"_paaEI-",container_topOffset_large:"_AmsYt5"},R2=z6;var H6={textInfo:"_6w441x",textInfo_dir_ltr:"_pBqRaW",textInfo_dir_rtl:"_-9yMNi",icon:"_z3Awuu",textInfo_result_success:"_uNeUyR",textInfo_result_failed:"_X84qWb",score:"_cTq1J6"},I2=H6;var vg=u(I2);function D2(e,{quizPassed:t,score:o}){let{states:r}=X(),n=H(r.direction),i=t?f(SB):f(xB);return e`
<div class=${vg.textInfo.withMods({dir:n,result:t?"success":"failed"})}>
	${e(i,vg.icon)}
	<span class=${vg.score}>
		${o}%
	</span>
</div>`}var Q6=u(R2);function A2(e){let{states:t}=X(),{passingScore:o}=H(t.playerSettings),r=H(t.score),n=H(t.quizPassed);return e`
<div class=${Q6.container.withMods({topOffset:o>40&&o<60?"large":"normal",mobile:Cr()})}>
	${e(P2,{passingScore:o,quizPassed:n,score:r})}
	${e(D2,{quizPassed:n,score:r})}
	${e(M2,{passingScore:o})}
</div>`}var U6={results:"_pZkH1v",results_diagram:"_P1BdWy",titleContainer:"_E0-15-",titleContainer_withGraph:"_tfQOFk",title:"_wuKron",messageContainer:"_zbz0k_",messageContainer_withGraph:"_fN-k2e",message:"_xmYDa2"},V2=U6;var Rs=u(V2);function W6(e,t){return e.displayType==="hideResults"?e.completed:t?e.passed:e.failed}function L2(e){let{states:t}=X(),{results:o}=H(t.quiz);if(!o)throw Error("'results' is not defined");let r=H(t.quizPassed),n=W6(o,r),i=n.visibility==="titleAndMessage"||n.visibility==="titleOnly"?Te.getBlocksArray(n.title.blockMap)[0]:null,a=n.visibility==="titleAndMessage"||n.visibility==="messageOnly"?Te.getBlocksArray(n.message.blockMap)[0]:null,s=o.displayType==="showResults";return e`
<div
	class=${Rs.results.withMods({diagram:s})}
>
	${e.renderIf(A2,()=>s)}
	<div class=${Rs.titleContainer.withMods({withGraph:s})}>
		${e.renderIf(Ee,()=>i&&{paragraph:i},Rs.title)}
	</div>
	<div class=${Rs.messageContainer.withMods({withGraph:s})}>
		${e.renderIf(Ee,()=>a&&{paragraph:a},Rs.message)}
	</div>
	${e(Np,{})}
</div>`}function O2(e,{showTopPanel:t}){let{states:o}=X(),r=H(o.quiz),n=H(o.currentSlide),i=H(o.typeInQuestionsState),a=H(o.choicesQuestionsState),s=H(o.sequenceQuestionsState),c=H(o.matchingQuestionsState),l={...i,...a,...s,...c},p=R();return e`
<div
	save-ref=${p}
>
	${e((()=>{var d;switch(n.type){case"intro":return r.intro?f(Bv,{showTopPanel:t}):null;case"results":return r.results?f(L2):null;case"question":{let y=n.questionId,g=r.questions.blocks[y];return g?f(_2,{question:g,questionState:l[y],isResultsVisible:!!((d=r.results)!=null&&d.visible),containerRef:p}):(O.error(`Unknown current slide ${n}`),null)}default:N(n)}})())}
</div>`}var q6={content:"_rwBQjd",content_withWatermark:"_VI6fKb"},F2=q6;var G6=u(F2);function K2(e,{showWatermark:t,showTopPanel:o,contentRef:r}){return hv(e),uv(e),e`
<div class=${G6.content.withMods({withWatermark:t})}>
	${e(O2,{showTopPanel:o},{ref:r})}
</div>`}function $2(e){let t=R();return Xr({html:e,anchorRef:t,text:B("Learn.ProctoringBadge.Tooltip"),side:"bottom"}),pe(e,f(Y1,{style:"primary",type:"neutral",size:"default",text:B("Learn.ProctoringBadge.Label"),autotestData:"proctoring-badge"}),t)}var j6={timer:"_Rt5EYo"},N2=j6;var Y6=u(N2);function z2(e){let{states:t}=X(),o=H(t.timerLeftTime),r=Kp(o,{minutes:Sr("Quiz.Player.Timer.WithoutSeconds"),seconds:Sr("Quiz.Player.Timer.WithoutMinutes"),minutesAndSeconds:Sr("Quiz.Player.Timer")});return e`
<div class=${Y6.timer}>
	${r}
</div>`}var Z6={topPanel:"_cj3z2D",title:"_9Al6QJ",timer:"_TOZAs2",topPanel_dir_ltr:"_To-aaG",topPanel_dir_rtl:"_J1BKlG",closeButton:"_8XigzH",watermark:"_idWSdS",proctoring:"_weqGC5",topPanel_type_standalone:"_WfpJfY",topPanel_type_builtIn:"_RmKgHw"},H2=Z6;var Is=u(H2);function Q2(e,{previewMode:t,title:o,timeLimitEnabled:r,proctoringInProgress:n}){let{actions:i,states:a}=X(),s=H(a.insertType),c=H(a.direction),l=R(),p=si(l);return Ot({html:e,elementRef:l,text:o,show:p}),e`
<div class=${Is.topPanel.withMods({dir:c,type:s})}>
	${e(vt,{text:o},{className:Is.title,ref:l})}
	${e.renderIf($2,()=>n,Is.proctoring)}
	${e.renderIf(z2,()=>r,Is.timer)}
	${e.renderIf(ks,()=>!t&&{type:"icon",style:"ghost",size:"medium",circleRadius:!0,scale:!0,icon:f(bp),onClick:i.closeQuiz},Is.closeButton)}
</div>`}var U2={"--text-content-title":"700 44px/110% var(--header-font-family, Inter)","--text-content-subtitle":"400 24px/125% var(--header-font-family, Inter)","--text-content-h1":"700 32px/131.25% var(--header-font-family, Inter)","--text-content-h2":"700 26px/142% var(--header-font-family, Inter)","--text-content-h3":"700 20px/150% var(--header-font-family, Inter)","--text-content-quote-large":"italic 400 26px/152% var(--content-font-family, Inter)","--text-content-quote-small":"italic 400 18px/166% var(--content-font-family, Inter)","--text-content-paragraph":"400 18px/166% var(--content-font-family, Inter)","--text-content-question":"400 22px/32px var(--header-font-family, Inter)","--text-content-code":"400 16px/150% var(--code-font-family, Inter)","--text-content-description":"400 15px/150% var(--content-font-family, Inter)","--text-content-tag":"500 15px/115% var(--content-font-family, Inter)","--text-content-label":"700 16px/125% var(--header-font-family, Inter)"},W2={"--text-content-title":"700 32px/125% var(--header-font-family, Inter)","--text-content-subtitle":"400 22px/140% var(--header-font-family, Inter)","--text-content-h1":"700 28px/131.25% var(--header-font-family, Inter)","--text-content-h2":"700 24px/142% var(--header-font-family, Inter)","--text-content-h3":"700 18px/150% var(--header-font-family, Inter)","--text-content-quote-large":"italic 400 26px/152% var(--content-font-family, Inter)","--text-content-quote-small":"italic 400 16px/168% var(--content-font-family, Inter)","--text-content-paragraph":"400 16px/168% var(--content-font-family, Inter)","--text-content-question":"400 18px/150% var(--header-font-family, Inter)","--text-content-code":"400 14px/24px var(--code-font-family, Inter)","--text-content-description":"400 14px/150% var(--content-font-family, Inter)","--text-content-tag":"500 15px/115% var(--content-font-family, Inter)","--text-content-label":"700 16px/125% var(--header-font-family, Inter)"};function q2(e){Uo({containerRef:e,callback:t=>{let o=t?W2:U2;De(e.current,o)}})}var X6=u(iv),Dv=1064;function G2(e,t){return nv(e,{subscriptionProduct:t.subscriptionProduct,watermarkUrl:t.watermarkUrl,showWatermark:t.showWatermark,quiz:t.quiz,settings:t.settings,direction:t.direction,persistedState:t.persistedState,initApi:t.initApi,title:t.title,insertType:t.insertType||"standalone"}),e`
<div>
	${e(J6,t)}
</div>`}function J6(e,{title:t,previewMode:o,proctoringInProgress:r,scrollableContainerRef:n}){let{states:i}=X(),a=H(i.subscriptionProduct),s=H(i.watermarkUrl),c=H(i.showWatermark),l=H(i.timeLimitEnabled),p=H(i.insertType),m=zn(p),d=c&&!!a&&!!s,y=l||m,g=R(),h=R(),C=R(),S=n!=null?n:h,_=!m&&y?g:C;return e.setContext(Hn,S),cv(S,_),q2(g),e`
<div
	save-ref=${g}
	class=${X6.quizPlayer.withMods({type:p})}
>
	${e.renderIf(kp,()=>d&&{subscriptionProduct:a,watermarkUrl:s})}
	${e.renderIf(Q2,()=>y&&{previewMode:o,title:t,proctoringInProgress:r,timeLimitEnabled:l})}
	${e(K2,{showWatermark:d,showTopPanel:y,contentRef:C},{ref:h})}
</div>`}var j2={text:{text:[16,16],none:[16,16],h1:[16,16],h2:[16,16],h3:[16,16],media:[16,16],"media-float-left":[16,16],"media-inner":[16,16],"media-outer":[16,16],"media-full":[16,16],quiz:[16,16],attachment:[16,16],collage:[16,16],video:[16,16],note:[16,16],table:[16,16],"layout-column":[16,16],"layout-column-background":[32,32],"flip-cards":[16,16],"divider-line":[16,16],"divider-line-with-text":[16,16],"divider-arrow":[16,16],"divider-quotes":[16,16],"divider-diamonds":[16,16],continue:[16,16],snippet:[16,16],code:[16,16],ol:[16,16],ul:[16,16],blockquote:[16,16],pullquote:[16,16],"default-ul-item":[16,16],"default-ol-item":[16,16],"custom-ul-item":[16,16],"custom-ol-item":[16,16]},h1:{text:[56,4],none:[16,4],h1:[56,4],h2:[56,4],h3:[56,4],media:[56,4],"media-float-left":[56,4],"media-inner":[56,4],"media-outer":[56,4],"media-full":[56,4],quiz:[56,4],attachment:[56,4],collage:[56,4],video:[56,4],note:[56,4],table:[56,4],"layout-column":[56,4],"layout-column-background":[32,32],"flip-cards":[56,4],"divider-line":[56,4],"divider-line-with-text":[56,4],"divider-arrow":[56,4],"divider-quotes":[56,4],"divider-diamonds":[56,4],continue:[56,4],snippet:[56,4],code:[56,0],ol:[56,4],ul:[56,4],blockquote:[56,4],pullquote:[56,4],"default-ul-item":[56,4],"default-ol-item":[56,4],"custom-ul-item":[56,4],"custom-ol-item":[56,4]},h2:{text:[40,0],none:[16,0],h1:[40,0],h2:[40,0],h3:[40,0],media:[40,0],"media-float-left":[40,0],"media-inner":[40,0],"media-outer":[40,0],"media-full":[40,0],quiz:[40,0],attachment:[40,0],collage:[40,0],video:[40,0],note:[40,0],table:[40,0],"layout-column":[40,0],"layout-column-background":[32,32],"flip-cards":[40,0],"divider-line":[40,0],"divider-line-with-text":[40,0],"divider-arrow":[40,0],"divider-quotes":[40,0],"divider-diamonds":[40,0],continue:[40,0],snippet:[40,0],code:[40,0],ol:[40,0],ul:[40,0],blockquote:[40,0],pullquote:[40,0],"default-ul-item":[40,0],"default-ol-item":[40,0],"custom-ul-item":[40,0],"custom-ol-item":[40,0]},h3:{text:[24,0],none:[16,0],h1:[24,0],h2:[24,0],h3:[24,0],media:[24,0],"media-float-left":[24,0],"media-inner":[24,0],"media-outer":[24,0],"media-full":[24,0],quiz:[24,0],attachment:[24,0],collage:[24,0],video:[24,0],note:[24,0],table:[24,0],"layout-column":[24,0],"layout-column-background":[32,32],"flip-cards":[24,0],"divider-line":[24,0],"divider-line-with-text":[24,0],"divider-arrow":[24,0],"divider-quotes":[24,0],"divider-diamonds":[24,0],continue:[24,0],snippet:[24,0],code:[24,0],ol:[24,0],ul:[24,0],blockquote:[24,0],pullquote:[24,0],"default-ul-item":[24,0],"default-ol-item":[24,0],"custom-ul-item":[24,0],"custom-ol-item":[24,0]},quiz:{text:[40,40],none:[40,40],h1:[40,40],h2:[40,40],h3:[40,40],media:[40,40],"media-float-left":[40,40],"media-inner":[40,40],"media-outer":[40,40],"media-full":[40,40],quiz:[40,40],attachment:[40,40],collage:[40,40],video:[40,40],note:[40,40],table:[40,40],"layout-column":[40,40],"layout-column-background":[32,32],"flip-cards":[40,40],"divider-line":[40,40],"divider-line-with-text":[40,40],"divider-arrow":[40,40],"divider-quotes":[40,40],"divider-diamonds":[40,40],continue:[40,40],snippet:[40,40],code:[40,40],ol:[40,40],ul:[40,40],blockquote:[40,40],pullquote:[40,40],"default-ul-item":[40,40],"default-ol-item":[40,40],"custom-ul-item":[40,40],"custom-ol-item":[40,40]},attachment:{text:[40,40],none:[16,40],h1:[40,40],h2:[40,40],h3:[40,40],media:[40,40],"media-float-left":[40,40],"media-inner":[40,40],"media-outer":[40,40],"media-full":[40,40],quiz:[40,40],attachment:[8,8],collage:[40,40],video:[40,40],note:[40,40],table:[40,40],"layout-column":[40,40],"layout-column-background":[32,32],"flip-cards":[40,40],"divider-line":[40,40],"divider-line-with-text":[40,40],"divider-arrow":[40,40],"divider-quotes":[40,40],"divider-diamonds":[40,40],continue:[40,40],snippet:[40,40],code:[40,40],ol:[40,40],ul:[40,40],blockquote:[40,40],pullquote:[40,40],"default-ul-item":[40,40],"default-ol-item":[40,40],"custom-ul-item":[40,40],"custom-ol-item":[40,40]},snippet:{text:[40,40],none:[16,40],h1:[40,40],h2:[40,40],h3:[40,40],media:[40,40],"media-float-left":[40,40],"media-inner":[40,40],"media-outer":[40,40],"media-full":[40,40],quiz:[40,40],attachment:[40,40],collage:[40,40],video:[40,40],note:[40,40],table:[40,40],"layout-column":[40,40],"layout-column-background":[32,32],"flip-cards":[40,40],"divider-line":[40,40],"divider-line-with-text":[40,40],"divider-arrow":[40,40],"divider-quotes":[40,40],"divider-diamonds":[40,40],continue:[40,40],snippet:[8,8],code:[40,40],ol:[40,40],ul:[40,40],blockquote:[40,40],pullquote:[40,40],"ul-item":[40,40],"ol-item":[40,40],"default-ul-item":[40,40],"default-ol-item":[40,40],"custom-ul-item":[40,40],"custom-ol-item":[40,40]},code:{text:[16,16],none:[16,16],h1:[16,16],h2:[16,16],h3:[16,16],media:[16,16],"media-float-left":[16,16],"media-inner":[16,16],"media-outer":[16,16],"media-full":[16,16],quiz:[16,16],attachment:[16,16],collage:[16,16],video:[16,16],note:[16,16],table:[16,16],"layout-column":[16,16],"layout-column-background":[32,32],"flip-cards":[16,16],"divider-line":[16,16],"divider-line-with-text":[16,16],"divider-arrow":[16,16],"divider-quotes":[16,16],"divider-diamonds":[16,16],continue:[16,16],snippet:[16,16],code:[16,16],ol:[16,16],ul:[16,16],blockquote:[16,16],pullquote:[16,16],"default-ul-item":[16,16],"default-ol-item":[16,16],"custom-ul-item":[16,16],"custom-ol-item":[16,16]},collage:{text:[40,40],none:[16,40],h1:[40,40],h2:[40,40],h3:[40,40],media:[40,40],"media-float-left":[40,40],"media-inner":[40,40],"media-outer":[40,40],"media-full":[40,40],quiz:[40,40],attachment:[40,40],collage:[16,16],video:[40,40],note:[40,40],table:[40,40],"layout-column":[40,40],"layout-column-background":[32,32],"flip-cards":[40,40],"divider-line":[40,40],"divider-line-with-text":[40,40],"divider-arrow":[40,40],"divider-quotes":[40,40],"divider-diamonds":[40,40],continue:[40,40],snippet:[40,40],code:[40,40],ol:[40,40],ul:[40,40],blockquote:[40,40],pullquote:[40,40],"default-ul-item":[16,16],"default-ol-item":[16,16],"custom-ul-item":[40,40],"custom-ol-item":[40,40]},video:{text:[40,40],none:[16,40],h1:[40,40],h2:[40,40],h3:[40,40],media:[40,40],"media-float-left":[40,40],"media-inner":[40,40],"media-outer":[40,40],"media-full":[40,40],quiz:[40,40],attachment:[40,40],collage:[40,40],video:[16,16],note:[40,40],table:[40,40],"layout-column":[40,40],"layout-column-background":[32,32],"flip-cards":[40,40],"divider-line":[40,40],"divider-line-with-text":[40,40],"divider-arrow":[40,40],"divider-quotes":[40,40],"divider-diamonds":[40,40],continue:[40,40],snippet:[40,40],code:[40,40],ol:[40,40],ul:[40,40],blockquote:[40,40],pullquote:[40,40],"default-ul-item":[40,40],"default-ol-item":[40,40],"custom-ul-item":[40,40],"custom-ol-item":[40,40]},"media-float-left":{text:[40,40],none:[16,40],h1:[40,40],h2:[40,40],h3:[40,40],media:[40,40],"media-float-left":[40,40],"media-inner":[40,40],"media-outer":[40,40],"media-full":[40,40],quiz:[40,40],attachment:[40,40],collage:[40,40],video:[40,40],note:[40,40],table:[40,40],"layout-column":[40,40],"layout-column-background":[32,32],"flip-cards":[40,40],"divider-line":[40,40],"divider-line-with-text":[40,40],"divider-arrow":[40,40],"divider-quotes":[40,40],"divider-diamonds":[40,40],continue:[40,40],snippet:[40,40],code:[40,40],ol:[40,40],ul:[40,40],blockquote:[40,40],pullquote:[40,40],"default-ul-item":[40,40],"default-ol-item":[40,40],"custom-ul-item":[40,40],"custom-ol-item":[40,40]},"media-inner":{text:[40,40],none:[16,40],h1:[40,40],h2:[40,40],h3:[40,40],media:[40,40],"media-float-left":[40,40],"media-inner":[16,16],"media-outer":[16,16],"media-full":[16,16],quiz:[40,40],attachment:[40,40],collage:[40,40],video:[40,40],note:[40,40],table:[40,40],"layout-column":[40,40],"layout-column-background":[32,32],"flip-cards":[40,40],"divider-line":[40,40],"divider-line-with-text":[40,40],"divider-arrow":[40,40],"divider-quotes":[40,40],"divider-diamonds":[40,40],continue:[40,40],snippet:[40,40],code:[40,40],ol:[40,40],ul:[40,40],blockquote:[40,40],pullquote:[40,40],"default-ul-item":[40,40],"default-ol-item":[40,40],"custom-ul-item":[40,40],"custom-ol-item":[40,40]},"media-outer":{text:[40,40],none:[16,40],h1:[40,40],h2:[40,40],h3:[40,40],media:[40,40],"media-float-left":[40,40],"media-inner":[16,16],"media-outer":[16,16],"media-full":[16,16],quiz:[40,40],attachment:[40,40],collage:[40,40],video:[40,40],note:[40,40],table:[40,40],"layout-column":[40,40],"layout-column-background":[32,32],"flip-cards":[40,40],"divider-line":[40,40],"divider-line-with-text":[40,40],"divider-arrow":[40,40],"divider-quotes":[40,40],"divider-diamonds":[40,40],continue:[40,40],snippet:[40,40],code:[40,40],ol:[40,40],ul:[40,40],blockquote:[40,40],pullquote:[40,40],"default-ul-item":[40,40],"default-ol-item":[40,40],"custom-ul-item":[40,40],"custom-ol-item":[40,40]},"media-full":{text:[40,40],none:[16,40],h1:[40,40],h2:[40,40],h3:[40,40],media:[40,40],"media-float-left":[40,40],"media-inner":[16,16],"media-outer":[16,16],"media-full":[16,16],quiz:[40,40],attachment:[40,40],collage:[40,40],video:[40,40],note:[40,40],table:[40,40],"layout-column":[40,40],"layout-column-background":[32,32],"flip-cards":[40,40],"divider-line":[40,40],"divider-line-with-text":[40,40],"divider-arrow":[40,40],"divider-quotes":[40,40],"divider-diamonds":[40,40],continue:[40,40],snippet:[40,40],code:[40,40],ol:[40,40],ul:[40,40],blockquote:[40,40],pullquote:[40,40],"default-ul-item":[40,40],"default-ol-item":[40,40],"custom-ul-item":[40,40],"custom-ol-item":[40,40]},"flip-cards":{text:[40,40],none:[40,40],h1:[40,40],h2:[40,40],h3:[40,40],media:[40,40],"media-float-left":[40,40],"media-inner":[40,40],"media-outer":[40,40],"media-full":[40,40],quiz:[40,40],attachment:[40,40],collage:[40,40],video:[40,40],note:[40,40],table:[40,40],"layout-column":[40,40],"layout-column-background":[32,32],"flip-cards":[40,40],"divider-line":[40,40],"divider-line-with-text":[40,40],"divider-arrow":[40,40],"divider-quotes":[40,40],"divider-diamonds":[40,40],continue:[40,40],snippet:[40,40],code:[40,40],ol:[40,40],ul:[40,40],blockquote:[40,40],pullquote:[40,40],"default-ul-item":[40,40],"default-ol-item":[40,40],"custom-ul-item":[40,40],"custom-ol-item":[40,40]},table:{text:[32,32],none:[16,32],h1:[32,32],h2:[32,32],h3:[32,32],media:[32,32],"media-float-left":[32,32],"media-inner":[32,32],"media-outer":[32,32],"media-full":[32,32],quiz:[32,32],attachment:[32,32],collage:[32,32],video:[32,32],note:[32,32],table:[32,32],"layout-column":[32,32],"layout-column-background":[32,32],"flip-cards":[32,32],"divider-line":[32,32],"divider-line-with-text":[32,32],"divider-arrow":[32,32],"divider-quotes":[32,32],"divider-diamonds":[32,32],continue:[32,32],snippet:[32,32],code:[32,32],ol:[32,32],ul:[32,32],blockquote:[32,32],pullquote:[32,32],"default-ul-item":[32,32],"default-ol-item":[32,32],"custom-ul-item":[32,32],"custom-ol-item":[32,32]},"layout-column":{text:[32,32],none:[32,32],h1:[32,32],h2:[32,32],h3:[32,32],media:[32,32],"media-float-left":[32,32],"media-inner":[32,32],"media-outer":[32,32],"media-full":[32,32],quiz:[32,32],attachment:[32,32],collage:[32,32],video:[32,32],note:[32,32],table:[32,32],"layout-column":[32,32],"layout-column-background":[32,32],"flip-cards":[32,32],"divider-line":[32,32],"divider-line-with-text":[32,32],"divider-arrow":[32,32],"divider-quotes":[32,32],"divider-diamonds":[32,32],continue:[32,32],snippet:[32,32],code:[32,32],ol:[32,32],ul:[32,32],blockquote:[32,32],pullquote:[32,32],"default-ul-item":[32,32],"default-ol-item":[32,32],"custom-ul-item":[32,32],"custom-ol-item":[32,32]},"layout-column-background":{text:[64,64],none:[64,64],h1:[64,64],h2:[64,64],h3:[64,64],media:[64,64],"media-float-left":[64,64],"media-inner":[64,64],"media-outer":[64,64],"media-full":[64,64],quiz:[64,64],attachment:[64,64],collage:[64,64],video:[64,64],note:[64,64],table:[64,64],"layout-column":[64,64],"layout-column-background":[64,64],"flip-cards":[64,64],"divider-line":[64,64],"divider-line-with-text":[64,64],"divider-arrow":[64,64],"divider-quotes":[64,64],"divider-diamonds":[64,64],continue:[64,64],snippet:[64,64],code:[64,64],ol:[64,64],ul:[64,64],blockquote:[64,64],pullquote:[64,64],"default-ul-item":[64,64],"default-ol-item":[64,64],"custom-ul-item":[64,64],"custom-ol-item":[64,64]},note:{text:[32,32],none:[16,32],h1:[32,32],h2:[32,32],h3:[32,32],media:[32,32],"media-float-left":[32,32],"media-inner":[32,32],"media-outer":[32,32],"media-full":[32,32],quiz:[32,32],attachment:[32,32],collage:[32,32],video:[32,32],note:[32,32],table:[32,32],"layout-column":[32,32],"layout-column-background":[32,32],"flip-cards":[32,32],"divider-line":[32,32],"divider-line-with-text":[32,32],"divider-arrow":[32,32],"divider-quotes":[32,32],"divider-diamonds":[32,32],continue:[32,32],snippet:[32,32],code:[32,32],ol:[32,32],ul:[32,32],blockquote:[32,32],pullquote:[32,32],"default-ul-item":[32,32],"default-ol-item":[32,32],"custom-ul-item":[32,32],"custom-ol-item":[32,32]},blockquote:{text:[24,24],none:[16,24],h1:[24,24],h2:[24,24],h3:[24,24],media:[24,24],"media-float-left":[24,24],"media-inner":[24,24],"media-outer":[24,24],"media-full":[24,24],quiz:[24,24],attachment:[24,24],collage:[24,24],video:[24,24],note:[24,24],table:[24,24],"layout-column":[24,24],"layout-column-background":[32,32],"flip-cards":[24,24],"divider-line":[24,24],"divider-line-with-text":[24,24],"divider-arrow":[24,24],"divider-quotes":[24,24],"divider-diamonds":[24,24],continue:[24,24],snippet:[24,24],code:[24,24],ol:[24,24],ul:[24,24],blockquote:[24,24],pullquote:[24,24],"default-ul-item":[24,24],"default-ol-item":[24,24],"custom-ul-item":[24,24],"custom-ol-item":[24,24]},pullquote:{text:[56,56],none:[24,56],h1:[56,56],h2:[56,56],h3:[56,56],media:[56,56],"media-float-left":[56,56],"media-inner":[56,56],"media-outer":[56,56],"media-full":[56,56],quiz:[56,56],attachment:[56,56],collage:[56,56],video:[56,56],note:[56,56],table:[56,56],"layout-column":[56,56],"layout-column-background":[32,32],"flip-cards":[56,56],"divider-line":[56,56],"divider-line-with-text":[56,56],"divider-arrow":[56,56],"divider-quotes":[56,56],"divider-diamonds":[56,56],continue:[56,56],snippet:[56,56],code:[56,56],ol:[56,56],ul:[56,56],blockquote:[56,56],pullquote:[56,56],"default-ul-item":[56,56],"default-ol-item":[56,56],"custom-ul-item":[56,56],"custom-ol-item":[56,56]},"divider-line":{text:[0,0],none:[0,0],h1:[0,0],h2:[0,0],h3:[0,0],media:[0,0],"media-float-left":[0,0],"media-inner":[0,0],"media-outer":[0,0],"media-full":[0,0],quiz:[0,0],attachment:[0,0],collage:[0,0],video:[0,0],note:[0,0],table:[0,0],"layout-column":[0,0],"layout-column-background":[32,32],"flip-cards":[0,0],"divider-line":[0,0],"divider-line-with-text":[0,0],"divider-arrow":[0,0],"divider-quotes":[0,0],"divider-diamonds":[0,0],continue:[0,0],snippet:[0,0],code:[0,0],ol:[0,0],ul:[0,0],blockquote:[0,0],pullquote:[0,0],"default-ul-item":[0,0],"default-ol-item":[0,0],"custom-ul-item":[0,0],"custom-ol-item":[0,0]},"divider-line-with-text":{text:[24,24],none:[16,24],h1:[24,24],h2:[24,24],h3:[24,24],media:[24,24],"media-float-left":[24,24],"media-inner":[24,24],"media-outer":[24,24],"media-full":[24,24],quiz:[24,24],attachment:[24,24],collage:[24,24],video:[24,24],note:[24,24],table:[24,24],"layout-column":[24,24],"layout-column-background":[32,32],"flip-cards":[24,24],"divider-line":[24,24],"divider-line-with-text":[24,24],"divider-arrow":[24,24],"divider-quotes":[24,24],"divider-diamonds":[24,24],continue:[24,24],snippet:[24,24],code:[24,24],ol:[24,24],ul:[24,24],blockquote:[24,24],pullquote:[24,24],"default-ul-item":[24,24],"default-ol-item":[24,24],"custom-ul-item":[24,24],"custom-ol-item":[24,24]},"divider-arrow":{text:[24,24],none:[24,24],h1:[24,24],h2:[24,24],h3:[24,24],media:[24,24],"media-float-left":[24,24],"media-inner":[24,24],"media-outer":[24,24],"media-full":[24,24],quiz:[24,24],attachment:[24,24],collage:[24,24],video:[24,24],note:[24,24],table:[24,24],"layout-column":[24,24],"layout-column-background":[32,32],"flip-cards":[24,24],"divider-line":[24,24],"divider-line-with-text":[24,24],"divider-arrow":[24,24],"divider-quotes":[24,24],"divider-diamonds":[24,24],continue:[24,24],snippet:[24,24],code:[24,24],ol:[24,24],ul:[24,24],blockquote:[24,24],pullquote:[24,24],"default-ul-item":[24,24],"default-ol-item":[24,24],"custom-ul-item":[24,24],"custom-ol-item":[24,24]},"divider-quotes":{text:[32,0],none:[24,0],h1:[32,0],h2:[32,0],h3:[32,0],media:[32,0],"media-float-left":[32,0],"media-inner":[32,0],"media-outer":[32,0],"media-full":[32,0],quiz:[32,0],attachment:[32,0],collage:[32,0],video:[32,0],note:[32,0],table:[32,0],"layout-column":[32,0],"layout-column-background":[32,32],"flip-cards":[32,0],"divider-line":[32,0],"divider-line-with-text":[32,0],"divider-arrow":[32,0],"divider-quotes":[32,0],"divider-diamonds":[32,0],continue:[32,0],snippet:[32,0],code:[32,0],ol:[32,0],ul:[32,0],blockquote:[32,0],pullquote:[32,0],"default-ul-item":[32,0],"default-ol-item":[32,0],"custom-ul-item":[32,0],"custom-ol-item":[32,0]},"divider-diamonds":{text:[24,24],none:[24,24],h1:[24,24],h2:[24,24],h3:[24,24],media:[24,24],"media-float-left":[24,24],"media-inner":[24,24],"media-outer":[24,24],"media-full":[24,24],quiz:[24,24],attachment:[24,24],collage:[24,24],video:[24,24],note:[24,24],table:[24,24],"layout-column":[24,24],"layout-column-background":[32,32],"flip-cards":[24,24],"divider-line":[24,24],"divider-line-with-text":[24,24],"divider-arrow":[24,24],"divider-quotes":[24,24],"divider-diamonds":[24,24],continue:[24,24],snippet:[24,24],code:[24,24],ol:[24,24],ul:[24,24],blockquote:[24,24],pullquote:[24,24],"default-ul-item":[24,24],"default-ol-item":[24,24],"custom-ul-item":[24,24],"custom-ol-item":[24,24]},continue:{text:[64,40],none:[64,40],h1:[64,40],h2:[64,40],h3:[64,40],media:[64,40],"media-float-left":[64,40],"media-inner":[64,40],"media-outer":[64,40],"media-full":[64,40],quiz:[64,40],attachment:[64,40],collage:[64,40],video:[64,40],note:[64,40],table:[64,40],"layout-column":[64,40],"layout-column-background":[32,32],"flip-cards":[64,40],"divider-line":[64,40],"divider-line-with-text":[64,40],"divider-arrow":[64,40],"divider-quotes":[64,40],"divider-diamonds":[64,40],continue:[64,40],snippet:[64,40],code:[64,40],ol:[64,40],ul:[64,40],blockquote:[64,40],pullquote:[64,40],"default-ul-item":[64,40],"default-ol-item":[64,40],"custom-ul-item":[64,40],"custom-ol-item":[64,40]},ol:{text:[32,32],none:[16,32],h1:[32,32],h2:[32,32],h3:[32,32],media:[32,32],"media-float-left":[32,32],"media-inner":[32,32],"media-outer":[32,32],"media-full":[32,32],quiz:[32,32],attachment:[32,32],collage:[32,32],video:[32,32],note:[32,32],table:[32,32],"layout-column":[32,32],"layout-column-background":[32,32],"flip-cards":[32,32],"divider-line":[32,32],"divider-line-with-text":[32,32],"divider-arrow":[32,32],"divider-quotes":[32,32],"divider-diamonds":[32,32],continue:[32,32],snippet:[32,32],code:[32,32],ol:[16,16],ul:[16,16],blockquote:[32,32],pullquote:[32,32],"default-ul-item":[16,16],"default-ol-item":[16,16],"custom-ul-item":[16,16],"custom-ol-item":[16,16]},ul:{text:[24,24],none:[16,24],h1:[24,24],h2:[24,24],h3:[24,24],media:[24,24],"media-float-left":[24,24],"media-inner":[24,24],"media-outer":[24,24],"media-full":[24,24],quiz:[24,24],attachment:[24,24],collage:[24,24],video:[24,24],note:[24,24],table:[24,24],"layout-column":[24,24],"layout-column-background":[32,32],"flip-cards":[24,24],"divider-line":[24,24],"divider-line-with-text":[24,24],"divider-arrow":[24,24],"divider-quotes":[24,24],"divider-diamonds":[24,24],continue:[24,24],snippet:[24,24],code:[24,24],ol:[8,8],ul:[8,8],blockquote:[24,24],pullquote:[24,24],"default-ul-item":[8,8],"default-ol-item":[8,8],"custom-ul-item":[8,8],"custom-ol-item":[8,8]},"default-ul-item":{text:[16,16],none:[16,16],h1:[16,16],h2:[16,16],h3:[16,16],media:[16,16],"media-float-left":[16,16],"media-inner":[16,16],"media-outer":[16,16],"media-full":[16,16],quiz:[16,16],attachment:[16,16],collage:[16,16],video:[16,16],note:[16,16],table:[16,16],"layout-column":[16,16],"layout-column-background":[16,16],"flip-cards":[16,16],"divider-line":[16,16],"divider-line-with-text":[16,16],"divider-arrow":[16,16],"divider-quotes":[16,16],"divider-diamonds":[16,16],continue:[16,16],snippet:[16,16],code:[16,16],ol:[16,16],ul:[16,16],blockquote:[16,16],pullquote:[16,16],"default-ul-item":[8,8],"default-ol-item":[8,8],"custom-ul-item":[8,8],"custom-ol-item":[8,8]},"default-ol-item":{text:[16,16],none:[16,16],h1:[16,16],h2:[16,16],h3:[16,16],media:[16,16],"media-float-left":[16,16],"media-inner":[16,16],"media-outer":[16,16],"media-full":[16,16],quiz:[16,16],attachment:[16,16],collage:[16,16],video:[16,16],note:[16,16],table:[16,16],"layout-column":[16,16],"layout-column-background":[16,16],"flip-cards":[16,16],"divider-line":[16,16],"divider-line-with-text":[16,16],"divider-arrow":[16,16],"divider-quotes":[16,16],"divider-diamonds":[16,16],continue:[16,16],snippet:[16,16],code:[16,16],ol:[16,16],ul:[16,16],blockquote:[16,16],pullquote:[16,16],"default-ul-item":[8,8],"default-ol-item":[8,8],"custom-ul-item":[8,8],"custom-ol-item":[8,8]},"custom-ul-item":{text:[32,32],none:[16,32],h1:[32,32],h2:[32,32],h3:[32,32],media:[32,32],"media-float-left":[32,32],"media-inner":[32,32],"media-outer":[32,32],"media-full":[32,32],quiz:[32,32],attachment:[32,32],collage:[32,32],video:[32,32],note:[32,32],table:[32,32],"layout-column":[32,32],"layout-column-background":[32,32],"flip-cards":[32,32],"divider-line":[32,32],"divider-line-with-text":[32,32],"divider-arrow":[32,32],"divider-quotes":[32,32],"divider-diamonds":[32,32],continue:[32,32],snippet:[32,32],code:[32,32],ol:[16,16],ul:[16,16],blockquote:[32,32],pullquote:[32,32],"default-ul-item":[8,8],"default-ol-item":[8,8],"custom-ul-item":[8,8],"custom-ol-item":[8,8]},"custom-ol-item":{text:[32,32],none:[16,32],h1:[32,32],h2:[32,32],h3:[32,32],media:[32,32],"media-float-left":[32,32],"media-inner":[32,32],"media-outer":[32,32],"media-full":[32,32],quiz:[32,32],attachment:[32,32],collage:[32,32],video:[32,32],note:[32,32],table:[32,32],"layout-column":[32,32],"layout-column-background":[32,32],"flip-cards":[32,32],"divider-line":[32,32],"divider-line-with-text":[32,32],"divider-arrow":[32,32],"divider-quotes":[32,32],"divider-diamonds":[32,32],continue:[32,32],snippet:[32,32],code:[32,32],ol:[16,16],ul:[16,16],blockquote:[32,32],pullquote:[32,32],"default-ul-item":[16,16],"default-ol-item":[16,16],"custom-ul-item":[16,16],"custom-ol-item":[16,16]}};function Yp(e,t){return j2[e][t][0]}function Y2(e,t){return j2[e][t][1]}function Z2({currentBlockType:e,prevBlockType:t,defaultTopPadding:o}){return t==="none"&&eo(o)?o:Yp(e,t)}function X2(e,t,o){G(e,t,o)}function Zp(e,t,o=window){let r=new CustomEvent(e,{detail:t});o.dispatchEvent(r)}var e5={overlay:"_RfNCDP",background:"_BhInaU",background_column:"_V-t7lf",background_loading:"_S3-ywH",image:"_6vX7bu",image_loading:"_hDey21"},J2=e5;var eb=u(J2);function tb(e,{color:t,opacity:o,isLoading:r,position:n="over",...i}){let a=R(),s=P(window),c={"background-color":ki({color:t,opacity:o})},l=br();M(()=>{a.current&&(a.current.style.display="")}),X2(s,"change-page",()=>{a.current&&(a.current.style.display="none",l())});let p=n==="above"?{endStart:"xlarge",endEnd:"xlarge"}:void 0;return e`
<div
	class=${eb.background.withMods({loading:r,column:n==="above"})}
	save-ref=${a}
	contenteditable="false"
>
	${e(go,{image:i,outContainerRef:a,fit:"cover",radius:p})}
	<div
		class=${eb.overlay}
		style=${c}
	/>
</div>`}var t5=72,o5=40;function Xp(e,t){return e.designSettings.coverInfoState?t==="over"?t5:o5:null}var ob={...ok,showKicker:!0};function Jp(e){let t=[];return ue(e,o=>{let r=Q.toLayoutBlock(o);r?t.push(r,...Q.getAllBlocks(r)):t.push(o)}),t}var r5=1;function rb(e){let t=[];return e.forEach(o=>{let{hiddenHeaders:r}=o.navigationData,n={key:o.key,title:o.header.title||B("Roll.Common.ChapterDefaultTitle"),childHeaders:[],hiddenContent:null};t.push(n);let{continueButtonKey:i}=o,a=[],s=a5(a,n),c=s5(a,n),l=Jp(o.contentState.blockMap),{remappedBlocks:p,nextContinueButton:m}=n5(l,i);m&&(n.hiddenContent={type:"continue",blockKey:m}),p.forEach(d=>i5({block:d,hiddenHeaders:r,headersQueue:a,pageProps:n,addHeaderBiggerThenLast:c,addHeaderSameWithLast:s})),nb(n)}),t}function n5(e,t){if(!ie(t))return{remappedBlocks:e,nextContinueButton:null};let o=[],r=!t;for(let n of e){let i=we.toContinueBlock(n);if(i){if(i.key===t)r=!0;else if(r)return o.push(n),{remappedBlocks:o,nextContinueButton:i.key}}o.push(n)}return{remappedBlocks:o,nextContinueButton:null}}function i5({block:e,hiddenHeaders:t,headersQueue:o,pageProps:r,addHeaderSameWithLast:n,addHeaderBiggerThenLast:i}){let a=ae(e);if(!a||a.viewType!=="h1"&&a.viewType!=="h2"&&a.viewType!=="h3"||t.includes(a.key))return;let s=a,c=s.viewType,l=o.length?Tg(o):null;if(!l){em(tm(s,Ds(c)),o,r.childHeaders);return}let p=l.headerType,m=bg(c,p);m>0?em(tm(s,m),o,l.childHeaders):m===0?n(s):m<0&&i(s)}function em(e,t,o){o.push(e),t.push(e)}function tm(e,t){return{key:e.key,title:Ke.getCharactersText(e),offset:t,headerType:e.viewType,childHeaders:[]}}function a5(e,t){return o=>{e.pop();let r=Tg(e),n=r?bg(o.viewType,r.headerType):Ds(o.viewType),i=(r==null?void 0:r.childHeaders)||t.childHeaders;em(tm(o,n),e,i)}}function s5(e,t){return o=>{let r=o.viewType;e.pop();let n=null,i=0;for(;!n;){if(!e.length){n=t,i=Ds(r);continue}let a=Tg(e),s=a.headerType,c=bg(r,s);c<=0?e.pop():(n=a,i=c)}em(tm(o,i),e,n.childHeaders)}}function nb(e){let t=e.childHeaders.map(r=>r.offset),o=Math.min(...t);e.childHeaders.forEach(r=>{r.offset=r.offset-o+r5,nb(r)})}function bg(e,t){return Ds(e)-Ds(t)}function Ds(e){return J(e,{h1:1,h2:2,h3:3})}function Tg(e){return tc(e,-1)}var wt=Ne({isReadonly:!1,isPagesDraggable:!1,onHiddenContentClick:()=>{},getEmptyStateText:()=>null,gotoPageHandler:()=>{},gotoHeaderHandler:()=>{},setPagesOrderHandler:()=>{},isPageDisabled:()=>!1,getPageTooltip:()=>null,getHiddenContentIndicatorText:()=>null,renderPagePrefix:()=>null,renderPageControls:()=>null});function ib(e,t){let o=re(wt),r=D(()=>({...o,...t}),[t,o]);e.setContext(wt,r)}function om(e,t,o=50){let r=e.getBoundingClientRect(),n=t.getBoundingClientRect();return t.scrollTop+(r.top-n.top)-o}function ab(e,t){let o=Array.from(e.querySelectorAll("h1[data-key],h2[data-key],h3[data-key]")).filter(i=>{let a=i.getAttribute("data-key");return a&&t.includes(a)}),r=null,n=e.offsetHeight;for(let i of o){let a=om(i,e,n*.75);if(Math.floor(e.scrollTop)>=Math.floor(a))r=i.getAttribute("data-key");else break}return r}function sb(e){let{hiddenHeaders:t}=e.navigationData,o=[];return Jp(e.contentState.blockMap).forEach(r=>{let n=ae(r);n&&["h1","h2","h3"].includes(n.viewType)&&!t.includes(r.key)&&o.push(r.key)}),o}var c5=400;function cb(e,t=()=>{}){let o=hs({initialValue:e.scrollTop,setScrollValue:r=>{e.scrollTop=r},delta:e.scrollTop*-1,duration:c5});o&&o.add(()=>t())}var l5=400;function lb({contentElement:e,onBeforeStartScroll:t,onCompleteScroll:o,checkNeedToScroll:r}){let n=te(r),i=te(o);return E((a,s)=>{if(!n.current(a))return;let c=A(e.querySelector(`[data-key="${s}"]`)),l=e.scrollTop,p=e.offsetHeight,d=om(c,e,p*.75)-l;if(Math.floor(d)===0)return;t&&t(s);let y=hs({initialValue:e.scrollTop,setScrollValue:g=>{e.scrollTop=g},delta:d,duration:l5});y&&y.addCallOnce(()=>i.current&&i.current(s))},[e,n,t,i])}var As={};qu(As,{PageHeader:()=>u5});var p5={header:"_nTButh",header_offset_medium:"_54a37p",header_offset_large:"_Vl5GPf",header_withBackground:"_VNoNJl",header_column:"_6AyfOx",content:"_h0QU8C",content_lock:"_KMD67k",content_withBackground:"_rB3zI_",kicker:"__CsoUv",meta:"_phzg9D",title:"_Ic_U-E",subtitle:"_eWRs0L"},pb=p5;var m5={tag:"_bMD7OD",content:"_kK84tn"},mb=m5;var ub=u(mb);function db(e,t){let o=R(),r=si(o);return Xr({html:e,anchorRef:o,text:t,show:r,offset:{x:0,y:-12}}),o}function fb(e,{content:t,textColor:o,hasBackground:r}){let[n,i,a]=Ae(o),s=r?`rgba(${n}, ${i}, ${a}, 0.1)`:Cn("surface-subdued");return e`
<div
	class=${ub.tag}
	style=${{backgroundColor:s}}
>
	${e(t,ub.content)}
</div>`}var ea=u(pb);function u5(e,{background:t,content:o,autotestData:r,coverPosition:n}){let{textColor:i,isLocked:a,meta:s=null,kicker:c,title:l,subtitle:p,buttonGroup:m=null,collaborators:d=null}=o,y=R();return ee(()=>{De(y.current,{"--roll-page-header-text-color":i,"--roll-page-header-meta-color":t?i:so("text-subdued")})},[t,y,i]),e`
<div
	class=${ea.header.withMods({withBackground:!!t,offset:s?"medium":"large",column:n==="above"})}
    data-at=${j(r)}
>
	${e.renderIf(tb,()=>!!t&&{src:t.src,editedSrc:t.editedSrc,width:t.width,height:t.height,color:t.color,opacity:t.opacity,isLoading:t.isLoading,crop:t.crop,position:n})}
	<div
		save-ref=${y}
		class=${ea.content.withMods({lock:a,withBackground:a&&!t})}
	>
		${e(m)}
		${e(s,ea.meta)}
		${e.renderIf(fb,()=>!!c&&{content:c,textColor:i,hasBackground:!!t&&n==="over"},ea.kicker)}
		${e(l,ea.title)}
		${e(p,ea.subtitle)}
		${e(d)}
	</div>
</div>`}var gb="intro";var d5=[yt.CLICK],oa=new Map,wg=new Map,ta=!1,Pg=!1,f5=()=>null;function hb(){xb(),ro(hb)}ro(hb);function xb(){if(oa.size&&!Pg){ta=!0;for(let e of oa.keys())e._redraw();ta=!1,oa.clear()}}function g5(e){oa.set(e,!0)}function yb(e){oa.delete(e)}function y5(e){return oa.has(e)}var rm=class extends xr{constructor({bemInfo:t,blockName:o,block:r=o,relatedData:n,direction:i="ltr"}){super(),this._bemInfoArray=[],(t||r)&&this._addBemInfo(A(t||r)),this._childElements=null,this._childElementsRef=null,this._relatedData=n||this,this._modifiers={},this._browserEventSignals=null,this._domElement=null,this._onDidRedraw=null,this._onDomElementReCreatedCallback=null,this._childContext=new Map,this._direction=i}setDirection(t){this._direction=t}_setContext(t,o){hc(this._childContext,t,o)}static renderInProgress(){return ta}static suspend(t){Pg=t,t||xb()}domElement(){if(y5(this)&&!Pg){let t=ta;ta=!0,this._redraw(),ta=t}return this._domElement?this._domElement:(this._redraw(),this.domElement())}onDidRedraw(){return this._onDidRedraw||(this._onDidRedraw=this._createSignal()),this._onDidRedraw}updateModifier(t,o){o?typeof o=="string"?this._modifiers[t]=o:o&&(this._modifiers[t]=null):delete this._modifiers[t],this._sheduleRender()}hasModifier(t){return Object.keys(this._modifiers).includes(t)}handleEvent(t){if(t.defaultPrevented&&d5.includes(t.type))return;let o=this._getBrowserEventSignalIfExists(t.type);o&&o.dispatch(t)}createChildBemInfo(t){return A(this._bemInfoArray[0]).createChildElementBemInfo(t)}addBemInfo(t,o){this._addBemInfo(t,o),this._sheduleRender()}setOnDomElementReCreatedCallback(t){this._onDomElementReCreatedCallback=t}clearCache(){this._relatedData={},this._sheduleRender()}_sheduleRender(){g5(this)}_redraw(){yb(this);let t=this._render();if(t!=this._domElement){let o=this._domElement;this._domElement=t,o&&(this._onDomElementReCreatedCallback?this._onDomElementReCreatedCallback():O.error(`[${this.constructor.name}] component element was changed`))}this._onDidRedraw&&document.body.contains(this._domElement)&&this._onDidRedraw.dispatch()}_getBrowserEventSignalIfExists(t){return this._browserEventSignals&&this._browserEventSignals[t]||null}_getBrowserEventSignal(t){return this._browserEventSignals||(this._browserEventSignals={}),this._browserEventSignals[t]||(this._browserEventSignals[t]=this._createSignal(),this._sheduleRender()),this._browserEventSignals[t]}_activeListenerExists(t){let o=this._getBrowserEventSignalIfExists(t);return!!o&&o.handlersCount()>0}_getHandler(t){return this._activeListenerExists(t)?this:null}_addBemInfo(t,o){t instanceof Ho||(t=new Ho(t,o)),this._bemInfoArray.push(t)}_getCssClasses(){return this._bemInfoArray?M1(this._bemInfoArray,this._modifiers):""}_wasRendered(){return!!this._domElement}_html(t,...o){return this._generateElement("",t,...o)}_renderFunctionEx(t){return this._childElementsRef||(this._childElementsRef={}),this._childElementsRef[t]||(this._childElementsRef[t]={}),fn(this._relatedData,t,this._childContext,this._childElementsRef[t])}_childHtml(t){wg.has(this)||wg.set(this,{});let o=wg.get(this);return o[t]||(o[t]=(r,...n)=>typeof r=="string"?this._childHtml(t+r):this._generateElement(t,r,...n),o[t].optional=(r,n)=>n?o[t](r):f5),o[t]}_getChildClass(t){return this.createChildBemInfo(t).className()}_getChildElement(t){if(this._childElementsRef&&this._childElementsRef[t])return A(this._childElementsRef[t].current);this.domElement();let o=this._childElements;return o&&o[t]||null}_generateElement(t,o,...r){let n=s=>s.map((c,l)=>{if(c instanceof Ho)c=c.className();else if(c instanceof oo)c=c.dispatch.bind(c);else if(typeof c=="function")c=c.bind(this);else{if(c==this)return c.handleEvent.bind(this);if(c&&c!=this&&typeof c.domElement=="function")return typeof c.setOnDomElementReCreatedCallback=="function"&&c.setOnDomElementReCreatedCallback(()=>this._redraw()),this._addDisposable(c),c.domElement();if(Array.isArray(c))return n(c)}if(o[l]&&o[l].endsWith("passive-events="))for(let p of Object.keys(c))typeof c[p]=="function"&&(c[p]=c[p].bind(this));return c});r=n(r);let i=t&&`:${t}`,a=Ut(this._relatedData,i)(o,...r);return t&&(this._childElements=this._childElements||{},this._childElements[t]=a),a}_render(){}_destruct(){yb(this),super._destruct()}};function nm(e){return e.replace(/^\s|\s$/,xo.NBSP)}var Sb={create(e){let t=[],o=t.length>0?0:-1;return{key:e.key,type:k.QUIZ,exercise:e,questionsState:t,selectedQuestionIndex:o}},toExerciseState(e){return e.type!==k.EXERCISE?null:e}};var Pt={create(e){let t={},o={},r={},n={};return ue(e.state.questions,i=>{switch(i.type){case"ti":o[i.id]=Ep();break;case"mc":case"mr":t[i.id]=Pp(i);break;case"sq":r[i.id]=Rp(i);break;case"mt":n[i.id]=Mp(i,e.settings.main.shuffleAnswersEnabled);break;default:N(i)}}),{key:e.key,type:k.QUIZ,quizData:e,attempts:0,timeSpent:0,timerStartTime:null,timerStopTime:null,sessionState:"notStarted",currentSlide:{type:"intro"},typeInQuestionsState:o,choicesQuestionsState:t,sequenceQuestionsState:r,matchingQuestionsState:n,questionsViewOrder:Yi(e.state,e.settings.main),choicesViewOrderMap:ji(e.state,e.settings.main),bestAttempt:null}},toQuizState(e){return e.type!==k.QUIZ?null:e}};function h5(e){let t=[];for(let o of e){let r=mt.toQuizBlock(o);r&&t.push(Pt.create(r))}return t}var Cb={create(e=[]){return{blockMap:F.createBlocks(e),blocksState:h5(e)}}};var kb=Mt(M_());var x5=.76;function _b(e,t,o){let r=[...Ae(e),t],n=Ae(pt.whiteDefault),i=ti(n,r),[,,a]=ad(i[0],i[1],i[2]);return a<=o?"light":"dark"}function S5({setStyle:e,background:t,lightnessLimitValue:o}){let r=new kb.default,n=He(t.imageSrc);r.getColorAsync(n).then(i=>{i.error||e(_b(i.hexa,1,o))}),r.destroy()}function im({background:e,lightnessLimitValue:t=x5,setStyle:o}){if(!e){o("dark");return}e.type==="color"?o(_b(e.color,e.opacity,t)):e.type==="image"&&S5({background:e,lightnessLimitValue:t,setStyle:o})}var C5={imageTemp:"_GFJvfC"},Bb=C5;var vb=u(Bb);function am(e,{image:t,isTemporary:o}){let r=R();return M(()=>{o?r.current.classList.add(vb.imageTemp):r.current.classList.remove(vb.imageTemp)},[r,o]),pe(e,f(go,{image:t,fit:"cover"}),r)}var k5={dndIcon:"_3Yj6Qa"},bb=k5;var _5=u(bb);function Tb(e,{onClick:t,className:o,autotestData:r}){return e`
<div
	class=${Pe(_5.dndIcon,o)}
	draggable="true"
	contenteditable="false"
	data-at=${j(r)}
>
	${e(B5,{onClick:t})}
</div>`}function B5(e,{state:t,onClick:o}){return ks(e,{type:"icon",style:"ghost",size:"xSmall",state:t,icon:f(Ai),onClick:o!=null?o:()=>{}})}function v5({onUpload:e,accept:t,type:o}){let r=n_();return{multiple:o==="multi",browseRef:r,accept:t,onChange:n=>{n.length&&e(o==="multi"?n:n[0])}}}function sm(e){let t=fx(Dh());return v5({onUpload:e,accept:t,type:"single"})}var rn=(e,t,o=!0)=>r=>{r.target===e.current&&(o&&r.preventDefault(),t(r))};var b5=Vo("addNewPage",(e,t)=>t.addNewPage()),T5=Vo("gotoPage",(e,t)=>t.gotoPage(e)),w5=Vo("duplicatePage",(e,t)=>t.duplicatePage(e)),P5=Vo("moveUpPage",(e,t)=>t.moveUpPage(e)),E5=Vo("moveDownPage",(e,t)=>t.moveDownPage(e)),M5=Vo("removePage",(e,t)=>t.removePage(e)),R5=Vo("setPagesOrder",(e,t)=>t.setPagesOrder({newOrder:e})),I5=Vo("showPageHeader",({pageKey:e,headerKey:t},o)=>o.showPageHeader(e,t)),D5=Vo("hidePageHeaderAction",({pageKey:e,headerKey:t},o)=>o.hidePageHeader(e,t)),wb={addNewPageAction:b5,gotoPageAction:T5,duplicatePageAction:w5,moveUpPageAction:P5,moveDownPageAction:E5,removePageAction:M5,setPagesOrderAction:R5,showPageHeaderAction:I5,hidePageHeaderAction:D5};function Pb(){let e=A(getComputedStyle(document.body));return{top:parseFloat(e.getPropertyValue("--top-bar-height"))||0,bottom:window.innerHeight}}function nn(e){let t=ae(e);if(t)return t.viewType;let o=mt.toQuizBlock(e);if(o)return mt.getBlockType(o);let r=Bn.toAttachmentBlock(e);if(r)return Bn.getBlockType(r);let n=Y.toCollageBlock(e);if(n)return Y.getBlockType(n);let i=Kt.toNoteBlock(e);if(i)return Kt.getBlockType(i);let a=he.toTableBlock(e);if(a)return he.getBlockType(a);let s=Q.toLayoutBlock(e);if(s)return Q.getBlockType(s);let c=oe.toFlipCardsBlock(e);if(c)return oe.getBlockType(c);let l=Be.toDividerBlock(e);if(l)return Be.getBlockType(l);let p=we.toContinueBlock(e);if(p)return we.getBlockType(p);let m=jt.toVideoBlock(e);if(m)return jt.getBlockType(m);let d=wi.toEmbedBlock(e);if(d)return $r.getBlockType(d);let y=zr.toSnippetBlock(e);if(y)return zr.getBlockType(y);let g=bt.toCodeBlock(e);if(g)return bt.getBlockType(g);let h=xe.toListItemBlock(e);return h?xe.getBlockType(h):""}var Eb="data-1.bin",Mb="data-1.json";var Rb={create({title:e="",subtitle:t="",kicker:o="",designSettings:r={textColor:so("text-default"),coverInfoState:null}}){return{title:e,subtitle:t,kicker:o,designSettings:r}}};var Ib={create(e){return{key:e.key,header:e.header,contentState:e.contentState,index:e.index||0,progress:e.progress||0,continueButtonKey:"",navigationData:{hiddenHeaders:e.hiddenHeaders||[]}}}};function A5(e,t){let o=t+1;return e[o]||null}var be={sections(e){return[...e.pages]},nextSection(e){return A5(e.pages,e.selectedSectionIndex)},getSectionByKey(e,t){return e.pages.find(o=>o.key===t)||null},selectedSection(e){let t=e.selectedSectionIndex;return e.pages[t]},getContinueButtons(e){let t=this.selectedSection(e),o=[];return Te.forEach(t.contentState.blockMap,r=>{let n=we.toContinueBlock(r);n&&o.push(n)}),o},getLastContinueButtonKey(e){let t=this.getContinueButtons(e);return t.length?t[t.length-1].key:null},create(e,t=!1){return{pages:e,selectedSectionIndex:0,navigationPanelShowed:t}}};function V5(e,t){return{...e,...t}}function L5(e,t){for(let o of t){let r=e.findIndex(a=>o.key===a.key),n=e[r];if(r===-1||!n)continue;let i=Pt.toQuizState(n);if(i){e[r]=V5(i,o);continue}throw new Error(`Unexpected block state type: ${n.type}`)}}function Eg(e,t){let{pages:o,selectedChapter:r}=t;o&&e.pages.forEach((n,i)=>{let a=o[i];if(a){let{progress:s,blocksState:c,continueButtonKey:l}=a;s&&(n.progress=s),l&&(n.continueButtonKey=l),c&&L5(n.contentState.blocksState,c)}}),typeof r=="number"&&r>=0&&(e.selectedSectionIndex=r)}function O5(e){let t=[];for(let o of e.blockMap.order)t.push(T(e.blockMap.blocks[o]));return Cb.create(t)}function F5(e){return e.order.map((t,o)=>{let r=T(e.blocks[t]);return Ib.create({key:r.key,index:o,header:Rb.create(r.header),contentState:O5(r.contentState),hiddenHeaders:r.navigationData.hiddenHeaders})})}function Db(e,t){let o=F5(e.pages),{isNavigationPanelCollapsedByDefault:r}=t.navigation;return be.create(o,!r)}var Ab={...qi,_:"b",key:"k",type:"t"},Vb={intro:{_:"i",progress:"p",blocksState:Ab,continueButtonKey:"c"},chapters:{_:"c",progress:"p",blocksState:Ab,continueButtonKey:"c"},selectedChapter:"s"};var Lb={...Gi,_:"b",key:"k",type:"t"},cm={intro:{_:"i",progress:"p",blocksState:Lb,continueButtonKey:"c"},chapters:{_:"c",progress:"p",blocksState:Lb,continueButtonKey:"c"},selectedChapter:"s"};var Ob={pages:{...cm.chapters,_:"ps"},selectedChapter:"s"};function Fb(e){switch(e){case 1:return Vb;case 2:return cm;case 3:return Ob;default:throw Error(`cannot decode ResumeState with version ${e}`)}}function Kb(e,t){let o=Xo(e,Nl),r=Fb(t);return bo(o,r,[])}function $b(e,t){let o=Fb(t),r=Wt(e,o,[]);return Xo(r,Vi)}function Nb(e){return e.replace(/(["'])/g,"\\$1")}function zb(e){return e.replace(/\\(["'])/g,"$1")}function Hb(e){let t=Pt.toQuizState(e);return t?{...t,...Op(t)}:e}function Qb(e){return Ys({...e,intro:e.intro&&{...e.intro,blocksState:e.intro.blocksState&&e.intro.blocksState.map(Hb)},chapters:e.chapters&&e.chapters.map(t=>({...t,blocksState:t.blocksState&&t.blocksState.map(Hb)}))})}function Ub(e){let t=K5(e);return Ys({pages:t.intro&&t.chapters?[t.intro,...t.chapters]:void 0,selectedChapter:ie(t.selectedChapter)?t.selectedChapter+1:void 0})}function K5(e){let t=e.chapters&&e.chapters.length?$5(e.chapters[0],e.chapters):[];return{...e,chapters:t}}function $5(e,t){let r=Object.keys(e).filter(n=>!isNaN(Number(n)));return r.length?r.sort((n,i)=>Number(n)-Number(i)).map((n,i)=>{var a;return{...e[n],blocksState:(a=t[i])==null?void 0:a.blocksState}}):t}function lm({resumeState:e,version:t}){return To({document:e,initialVersion:1,versionFrom:t,versionTo:3,upgraders:[{targetVersion:2,upgradeFn:Qb},{targetVersion:3,upgradeFn:Ub}]}).upgradedDocument}var{Int:N5,Bool:pm,String:ra}=xt,Wb=U({key:ra(1),selected:pm(2)}),z5=U({choicesState:me(1,Wb)}),H5=U({choicesState:me(1,Wb)}),Q5=U({answer:ra(1)}),U5=U({key:ra(1),answered:pm(2),contentState:Z(3,z5)}),W5=U({key:ra(1),answered:pm(2),contentState:Z(3,H5)}),q5=U({key:ra(1),answered:pm(2),contentState:Z(3,Q5)}),G5=Lt({mc:U5,mr:W5,ti:q5}),qb=U({key:ra(1),selectedQuestionIndex:N5(2),questionsState:me(3,G5)});var{Float:Gb,Int:j5,String:jb}=xt,Yb=Lt({[k.EXERCISE]:qb}),Y5=U({intro:Z(1,{progress:de(1,Gb),blocksState:me(2,Yb),continueButtonKey:de(3,jb)}),chapters:me(2,{progress:de(1,Gb),blocksState:me(2,Yb),continueButtonKey:de(3,jb)}),selectedChapter:de(3,j5)}),Zb=new Pr(Y5);function Z5({questionState:e,questionData:t,choicesQuestionsState:o,choicesViewOrderMap:r}){if(e.type!=="mr"&&e.type!=="mc")return;let i=e.contentState.choicesState;if(!i)return;let a=ze(t.content).filter(m=>m.correct),s=[],c={},l=[];i.forEach(m=>{s.push(m.key),c[m.key]=m.selected,m.selected&&l.push(m.key)});let p=e.answered&&a.length===l.length&&a.every(m=>c[m.id]);o[e.key]={type:e.type,correct:p,submitted:e.answered,choices:c},r[e.key]=s}function X5({questionState:e,questionData:t,typeInQuestionsState:o}){let r=e.contentState,n=Lp(t.content,r.answer);o[e.key]={type:"ti",correct:n,submitted:e.answered,answer:r.answer}}function J5(e,t){let{questionsState:o,selectedQuestionIndex:r,key:n}=e,i=[],a={},s={},c={};return o.forEach(l=>{i.push(l.key);let p=t.state.questions.blocks[l.key];p&&((l.type==="mr"||l.type==="mc")&&(p.type==="mr"||p.type==="mc")?Z5({questionState:l,questionData:p,choicesQuestionsState:s,choicesViewOrderMap:c}):p.type==="ti"&&X5({questionState:l,questionData:p,typeInQuestionsState:a}))}),{key:n,type:k.QUIZ,attempts:0,timeSpent:0,timerStartTime:null,timerStopTime:null,sessionState:"inProgress",currentSlide:{type:"question",questionId:T(o[r]).key},typeInQuestionsState:a,choicesQuestionsState:s,questionsViewOrder:i,choicesViewOrderMap:c,bestAttempt:null}}function Xb(e,t){return e.map(o=>{let r=Sb.toExerciseState(o),n=mt.toQuizBlock(T(t.blocks[o.key]));return r&&n?J5(o,n):o})}function Jb(e,t){let[o,...r]=t.pages;return{...e,intro:e.intro?{...e.intro,blocksState:e.intro.blocksState&&Xb(e.intro.blocksState,T(o).contentState.blockMap)}:void 0,chapters:e.chapters?e.chapters.map((n,i)=>{let a=r[i];return{...n,blocksState:n.blocksState&&Xb(n.blocksState,T(a).contentState.blockMap)}}):void 0}}function eT(e,t){let o=tx(e,()=>Zb),r=Jb(o,t);return lm({resumeState:r,version:1})}function Rg(e,t){let o=Db(e.content,e.settings);if(t)try{let{version:r,state:n}=JSON.parse(zb(t)),i=$b(n,r),a=lm({resumeState:i,version:r});return Eg(o,a),o}catch{eF(o,t)}return o}function eF(e,t){try{let o=eT(t,e);Eg(e,o)}catch(o){O.warn(o)}}function tF(e){return{key:e.key,type:k.QUIZ,sessionState:e.sessionState,attempts:e.attempts,currentSlide:e.currentSlide,typeInQuestionsState:e.typeInQuestionsState,choicesQuestionsState:e.choicesQuestionsState,sequenceQuestionsState:e.sequenceQuestionsState,matchingQuestionsState:e.matchingQuestionsState,questionsViewOrder:e.questionsViewOrder,choicesViewOrderMap:e.choicesViewOrderMap,timeSpent:e.timeSpent,timerStartTime:e.timerStartTime,timerStopTime:e.timerStopTime,bestAttempt:e.bestAttempt}}function oF(e){return e.map(t=>{let o=Pt.toQuizState(t);if(o)return tF(o);throw new Error(`Unexpected block state type: ${t.type}`)})}function tT(e){return{pages:e.pages.map(t=>({progress:t.progress,blocksState:oF(t.contentState.blocksState),continueButtonKey:t.continueButtonKey})),selectedChapter:e.selectedSectionIndex}}var oT={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...ye,...Re,...Me,...Oe,...et,...Zt,...ps})}},rF={header:{_:"h",kicker:"k",title:"t",coverInfoState:{_:"c",src:"s",width:"w",height:"h",color:"c",opacity:"o",isBlob:"i"}},contentState:{_:"cs",...oT}},nF={key:"k",header:{_:"h",title:"t"},contentState:{_:"cs",...oT}},mm={intro:{_:"i",...rF},chapters:{_:"c",order:{_:"o",length:"l"},blocks:v({_:"B",...nF})}};var rT=mm;var nT={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...ye,...Re,...Me,...Oe,...et,...Zt,...ps,...ap})}},iF={header:{_:"h",kicker:"k",title:"t",coverInfoState:{_:"c",src:"s",width:"w",height:"h",color:"c",opacity:"o",isBlob:"i"}},contentState:{_:"cs",...nT}},aF={key:"k",header:{_:"h",title:"t"},contentState:{_:"cs",...nT}},iT={intro:{_:"i",...iF},chapters:{_:"c",order:{_:"o",length:"l"},blocks:v({_:"B",...aF})}};var aT={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...ye,...Re,...Me,...Oe,...et,...Zt,...ko,...fo})}},sF={header:{_:"h",kicker:"k",title:"t",coverInfoState:{_:"c",src:"s",width:"w",height:"h",color:"c",opacity:"o",isBlob:"i"}},contentState:{_:"cs",...aT}},cF={key:"k",header:{_:"h",title:"t"},contentState:{_:"cs",...aT}},um={intro:{_:"i",...sF},chapters:{_:"c",order:{_:"o",length:"l"},blocks:v({_:"B",...cF})}};var dm=um;var sT=dm;var cT={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...ye,...Re,...Me,...Oe,...et,...Zt,...ko,...fo,...lr})}},lF={header:{_:"h",kicker:"k",title:"t",coverInfoState:{_:"c",src:"s",width:"w",height:"h",color:"c",opacity:"o",isBlob:"i"}},contentState:{_:"cs",...cT}},pF={key:"k",header:{_:"h",title:"t"},contentState:{_:"cs",...cT}},fm={intro:{_:"i",...lF},chapters:{_:"c",order:{_:"o",length:"l"},blocks:v({_:"B",...pF})}};var mF={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...ye,...Re,...Me,...Oe,...et,...Zt,...ko,...fo,...lr})}},uF={key:"k",header:{_:"h",title:"t",subtitle:"s"},contentState:{_:"cs",...mF}},lT={...fm,chapters:{_:"c",order:{_:"o",length:"l"},blocks:v({_:"B",...uF})}};var pT={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...ye,...Re,...Me,...Oe,...et,...ls,...ko,...fo,...lr})}},dF={header:{_:"h",kicker:"k",title:"t",coverInfoState:{_:"c",src:"s",width:"w",height:"h",color:"c",opacity:"o",isBlob:"i"}},contentState:{_:"cs",...pT}},fF={key:"k",header:{_:"h",title:"t",subtitle:"s"},contentState:{_:"cs",...pT}},mT={intro:{_:"i",...dF},chapters:{_:"c",order:{_:"o",length:"l"},blocks:v({_:"B",...fF})}};var uT={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...ye,...Re,...Me,...Oe,...et,...ls,...ko,...fo,...lr,...u1})}},gF={header:{_:"h",kicker:"k",title:"t",coverInfoState:{_:"c",src:"s",width:"w",height:"h",color:"c",opacity:"o",isBlob:"i"}},contentState:{_:"cs",...uT}},yF={key:"k",header:{_:"h",title:"t",subtitle:"s"},contentState:{_:"cs",...uT}},gm={intro:{_:"i",...gF},chapters:{_:"c",order:{_:"o",length:"l"},blocks:v({_:"B",...yF})}};var dT={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...Ue,..._t,...uo,...kt,...Nn,...ft,...An,...Gr,...pr,...En,...cr})}},hF={...gm.intro,contentState:{_:"cs",...dT}},xF={key:"k",header:{_:"h",title:"t",subtitle:"s"},contentState:{_:"cs",...dT}},ym={intro:hF,chapters:{_:"c",order:{_:"o",length:"l"},blocks:v({_:"B",...xF})}};var fT={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...Ue,..._t,...uo,...kt,...Nn,...ft,...An,...Gr,...pr,...En,...cr,...Tt})}},SF={...ym.intro,contentState:{_:"cs",...fT}},CF={key:"k",header:{_:"h",title:"t",subtitle:"s"},contentState:{_:"cs",...fT}},hm={intro:SF,chapters:{_:"c",order:{_:"o",length:"l"},blocks:v({_:"B",...CF})}};var gT={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...Ue,..._t,...uo,...kt,...Nn,...ft,...An,...Gr,...pr,...En,...cr,...Tt,...Zf})}},kF={...hm.intro,contentState:{_:"cs",...gT}},_F={key:"k",header:{_:"h",title:"t",subtitle:"s"},contentState:{_:"cs",...gT}},xm={intro:kF,chapters:{_:"c",order:{_:"o",length:"l"},blocks:v({_:"B",..._F})}};var yT={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...ut,..._t,...uo,...kt,..._p,...ft,...jf,...ss,...is,...Ef,...rs,...Tt,...Xf})}},BF={...xm.intro,contentState:{_:"cs",...yT}},vF={key:"k",header:{_:"h",title:"t",subtitle:"s"},contentState:{_:"cs",...yT}},Sm={intro:BF,chapters:{_:"c",order:{_:"o",length:"l"},blocks:v({_:"B",...vF})}};var hT={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...We,..._t,...uo,...kt,...U_,...ft,...ms,...cs,...In,...Ya,...Rn,...Tt,...Oi,...ds})}},bF={...Sm.intro,contentState:{_:"cs",...hT}},TF={key:"k",header:{_:"h",title:"t",subtitle:"s"},contentState:{_:"cs",...hT}},Cm={intro:bF,chapters:{_:"c",order:{_:"o",length:"l"},blocks:v({_:"B",...TF})}};var xT={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...We,..._t,...uo,...kt,...Kf,...ft,...ms,...cs,...In,...Ya,...Rn,...Tt,...Oi,...ds})}},wF={...Cm.intro,key:"k",contentState:{_:"cs",...xT}},PF={key:"k",header:{_:"h",title:"t",subtitle:"s"},contentState:{_:"cs",...xT}},km={intro:wF,chapters:{_:"c",order:{_:"o",length:"l"},blocks:v({_:"B",...PF})}};var ST={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...$e,...Fo,...Pn,...Ao,...$f,...$o,...Vn,...Ko,...Oo,...Mn,...Lo,...No,...Do,...fs})}},EF={...km.intro,key:"k",contentState:{_:"cs",...ST}},MF={key:"k",header:{_:"h",title:"t",subtitle:"s"},contentState:{_:"cs",...ST}},_m={intro:EF,chapters:{_:"c",order:{_:"o",length:"l"},blocks:v({_:"B",...MF})}};var CT={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...$e,...Fo,...Pn,...Ao,...ts,...$o,...Vn,...Ko,...Oo,...Mn,...Lo,...No,...Do,...fs})}},RF={..._m.intro,key:"k",contentState:{_:"cs",...CT}},IF={key:"k",header:{_:"h",title:"t",subtitle:"s"},contentState:{_:"cs",...CT}},Vs={intro:RF,chapters:{_:"c",order:{_:"o",length:"l"},blocks:v({_:"B",...IF})}};var Ig={...Tr(Vs.chapters.blocks),header:{_:"h",title:"t",subtitle:"s",kicker:"k",designSettings:{_:"ds",textColor:"tc",coverInfoState:{_:"cis",src:"s",width:"w",height:"h",color:"c",opacity:"o",isBlob:"i"}}},navigationData:{_:"nd",hiddenHeaders:{_:"hh",length:"l"}}},Bm={pages:{...Vs.chapters,blocks:v({_:"B",...Ig})}};var DF={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...$e,...Fo,...Pn,...Ao,...ts,...$o,...Vn,...Ko,...Oo,...Mn,...Lo,...No,...Do,...Jf})}},Dg={...Ig,contentState:{_:"cs",...DF}},vm={pages:{...Bm.pages,blocks:v({_:"B",...Dg})}};var AF={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...Ye,...np,...qa,...Ga,...os,...Yr,...us,...sp,...qr,...Za,...tp,...zo,...Ur,...eg,...Dn})}},Ag={...Dg,contentState:{_:"cs",...AF}},bm={pages:{...vm.pages,blocks:v({_:"B",...Ag})}};var VF={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...Ye,...as,...qa,...ja,...os,...Yr,...us,...sp,...qr,...Za,...ns,...zo,...Ur,...tg,...Dn})}},na={...Ag,contentState:{_:"cs",...VF}},Tm={pages:{...bm.pages,blocks:v({_:"B",...na})}};var LF={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...Ct,...ip,...L0,...Wl,...m1,...lp,..._1,...f1,...rp,...W0,...op,...zo,...Ql,...w1,...cp})}},OF={...na,contentState:{_:"cs",...LF},header:{...na.header,designSettings:{...na.header.designSettings,coverInfoState:{...na.header.designSettings.coverInfoState,...Io}}}},wm={pages:{...Tm.pages,blocks:v({_:"B",...OF})}};var Pm=wm;var Em=Pm;var kT=Em;var _T={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...ye,...Wr,...Re,...Me,...Cs})}},FF={header:{_:"h",kicker:"k",title:"t",coverInfoState:{_:"c",src:"s",width:"w",height:"h",color:"c",opacity:"o",isBlob:"i"}},contentState:{_:"cs",..._T}},KF={key:"k",header:{_:"h",title:"t"},contentState:{_:"cs",..._T}},BT={intro:{_:"i",...FF},chapters:{_:"c",order:{_:"o",length:"l"},blocks:v({_:"B",...KF})}};var vT={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...ye,...Re,...Me,...Ul,...Cs})}},$F={header:{_:"h",kicker:"k",title:"t",coverInfoState:{_:"c",src:"s",width:"w",height:"h",color:"c",opacity:"o",isBlob:"i"}},contentState:{_:"cs",...vT}},NF={key:"k",header:{_:"h",title:"t"},contentState:{_:"cs",...vT}},bT={intro:{_:"i",...$F},chapters:{_:"c",order:{_:"o",length:"l"},blocks:v({_:"B",...NF})}};var TT={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...ye,...Re,...Me,...Oe,...pg})}},zF={header:{_:"h",kicker:"k",title:"t",coverInfoState:{_:"c",src:"s",width:"w",height:"h",color:"c",opacity:"o",isBlob:"i"}},contentState:{_:"cs",...TT}},HF={key:"k",header:{_:"h",title:"t"},contentState:{_:"cs",...TT}},wT={intro:{_:"i",...zF},chapters:{_:"c",order:{_:"o",length:"l"},blocks:v({_:"B",...HF})}};var PT={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...ye,...Re,...Me,...Oe,...et})}},QF={header:{_:"h",kicker:"k",title:"t",coverInfoState:{_:"c",src:"s",width:"w",height:"h",color:"c",opacity:"o",isBlob:"i"}},contentState:{_:"cs",...PT}},UF={key:"k",header:{_:"h",title:"t"},contentState:{_:"cs",...PT}},ET={intro:{_:"i",...QF},chapters:{_:"c",order:{_:"o",length:"l"},blocks:v({_:"B",...UF})}};var MT={blockMap:{_:"b",order:{_:"o",length:"l"},blocks:v({_:"B",...ye,...Re,...Me,...Oe,...et,...Zt})}},WF={header:{_:"h",kicker:"k",title:"t",coverInfoState:{_:"c",src:"s",width:"w",height:"h",color:"c",opacity:"o",isBlob:"i"}},contentState:{_:"cs",...MT}},qF={key:"k",header:{_:"h",title:"t"},contentState:{_:"cs",...MT}},RT={intro:{_:"i",...WF},chapters:{_:"c",order:{_:"o",length:"l"},blocks:v({_:"B",...qF})}};function Mm(e){return J(`${e}`,{4:BT,5:bT,6:wT,7:ET,8:RT,9:mm,10:rT,11:iT,12:um,13:dm,14:sT,15:fm,16:lT,17:mT,18:gm,19:ym,20:hm,21:xm,22:Sm,23:Cm,24:km,25:_m,26:Vs,27:Bm,28:vm,29:bm,30:Tm,31:wm,32:Pm,33:Em,34:kT})}function IT(e,t){let o=Mm(t),r=Wt(e,o,[]);return Xo(r,Vi)}function DT(e,t){let o=Mm(t);return Ah(e,o).map(r=>({...r,value:Xo(r.value,Vi)}))}var Rm={main:{_:"m",navigationType:"nT",numberingEnabled:"nE",nextButtonEnabled:"nbE",copyingEnabled:"cE",longreadType:"lT"},design:{_:"d",accentColor:"aC",headerFont:"hF",contentFont:"cF"}};var Im=Rm;var AT=Im;var Dm={main:{_:"m",navigationType:"nT",numberingEnabled:"nE",nextButtonEnabled:"nbE",copyingEnabled:"cE",longreadType:"lT"},design:{_:"d",accentColor:"aC",headerFont:"hF",contentFont:"cF"},advanced:{_:"a",direction:"d"}};var Am=Dm;var Vm=Am;var Lm=Vm;var Om=Lm;var Fm=Om;var Km=Fm;var $m=Km;var Nm=$m;var zm=Nm;var VT=zm;var Hm={main:{_:"m",navigationType:"nT",numberingEnabled:"nE",nextButtonEnabled:"nbE",copyingEnabled:"cE",longreadType:"lT",chaptersCount:"chc",grade:{_:"gd",mode:"gM",quizToGradeId:"qTG"}},design:{_:"d",accentColor:"aC",headerFont:"hF",contentFont:"cF"},advanced:{_:"a",direction:"d"}};var Qm=Hm;var LT=Qm;var Um={main:{_:"m",navigationType:"nT",copyingEnabled:"cE",chaptersCount:"chc",grade:{_:"gd",mode:"gM",quizToGradeId:"qTG"}},navigation:{_:"n",contentsDisplayType:"cdt",nextButtonEnabled:"nbE",isNavigationPanelCollapsedByDefault:"inpc"},design:{_:"d",accentColor:"aC",headerFont:"hF",contentFont:"cF"},advanced:{_:"a",direction:"d"}};var Wm=Um;var qm=Wm;var Gm=qm;var OT=Gm;var jm={main:{_:"m",navigationType:"nT",copyingEnabled:"cE",chaptersCount:"chc",grade:{_:"gd",mode:"gM",quizToGradeId:"qTG"}},navigation:{_:"n",contentsDisplayType:"cdt",nextButtonEnabled:"nbE",isNavigationPanelCollapsedByDefault:"inpc"},design:{_:"d",accentColor:"aC",headerFont:{_:"hf",type:"t",id:"i"},contentFont:{_:"cf",type:"t",id:"i"}},advanced:{_:"a",direction:"d"}};var Ym=jm;var FT=Ym;var KT={main:{_:"m",navigationType:"nT",numberingEnabled:"nE",nextButtonEnabled:"nbE",copyingEnabled:"cE"},design:{_:"d",accentColor:"aC",headerFont:"hF",contentFont:"cF"}};var Zm={main:{_:"m",navigationType:"nT",numberingEnabled:"nE",nextButtonEnabled:"nbE",copyingEnabled:"cE"},design:{_:"d",accentColor:"aC",headerFont:"hF",contentFont:"cF"}};var Xm=Zm;var Jm=Xm;var eu=Jm;var $T=eu;function NT(e){return J(`${e}`,{4:KT,5:Zm,6:Xm,7:Jm,8:eu,9:$T,10:Rm,11:Im,12:AT,13:Dm,14:Am,15:Vm,16:Lm,17:Om,18:Fm,19:Km,20:$m,21:Nm,22:zm,23:VT,24:Hm,25:Qm,26:LT,27:Um,28:Wm,29:qm,30:Gm,31:OT,32:jm,33:Ym,34:FT})}function zT(e,t){let o=NT(t);return Wt(e,o,[])}function tu(e){switch(e){case 400:case 600:case 700:return e;default:Qe(e,`Unknown font weight: ${e}`)}}function ou(e){switch(e){case"normal":case"italic":return e;default:Qe(e,`Unknown font style: ${e}`)}}function HT(e){try{return Object.entries(e).map(([t,o])=>({id:t,originalId:t,name:o.name,fallback:o.fallback,fontFaces:o.fontFaces.map(r=>({src:QS(r.path),weight:tu(r.weight),style:ou(r.style)}))}))}catch{return[]}}var QT=[];function UT(){return QT}function WT(){let e=document.querySelector("#builtInDynamicFonts");if(e instanceof HTMLInputElement){let t=JSON.parse(e.value);QT=HT(t)}}function Vg(e){let o=(e.type==="builtIn"?UT():qT()).find(r=>r.id===e.id);return o||(console.warn(`Font with id: ${e.id} is not defined`),null)}function Lg(e,t){let o=t!=null?t:Vg(e);if(!o)return"";let r=`"${o.name}"`;return o.fallback?`${r}, "${o.fallback}"`:r}function GT(e){return e?e.map(({name:t,fonts:o,combinedId:r})=>({id:r.settingsFontFamilyId,originalId:r.originalFontFamilyId,name:t!=null?t:"",fontFaces:o?o.map(n=>({src:He(n.path),weight:tu(n.weight),style:ou(n.style)})):[]})):[]}var jT=[];function YT(e){return e.sort((t,o)=>t.name.localeCompare(o.name))}function GF(e){jT=YT(e)}function qT(){return jT}function ZT(e){let t=GT(e);GF(YT(t))}var jF="condensed";function YF({font:e,fonts:t=document.fonts}){return[...t].some(o=>o.family===e.family&&o.style===e.style&&o.weight===e.weight)}function ZF(e,t){let o=new FontFace(e,`url(${t.src})`,{style:t.style,weight:String(t.weight),stretch:jF});return o.load().then(()=>document.fonts.add(o))}async function XF(e,t){let o=e.name;await Promise.all(e.fontFaces.map(r=>YF({font:{family:o,style:r.style,weight:r.weight.toString()}})?void 0:ZF(o,r))).catch(()=>{t&&CS(B("Common.Editor.Settings.Design.Font.Toast.LoadFailed",{name:o}))})}function XT(e,t=!1){let o=r=>{let n=Vg(r);n&&XF(n,t)};e.forEach(r=>o(r))}function JT({customFonts:e,documentFonts:t,showFailToast:o=!1}){WT(),ZT(e),XT(t,o)}var e4="Inter";function t4({element:e=document.documentElement,designSettings:t}){NS({element:e,baseFonts:{headerFontFamily:t.headerFont?Lg(t.headerFont):e4,contentFontFamily:t.contentFont?Lg(t.contentFont):e4}}),De(e,{"--roll-player-accent-color":t.accentColor})}function o4({settings:e,customFonts:t,resourcesBaseUrl:o}){o&&Y0(o),bx(e.advanced.direction),JT({customFonts:t,documentFonts:[e.design.headerFont,e.design.contentFont]}),t4({designSettings:e.design}),zS({baseColors:{accent:e.design.accentColor}})}function r4(e){let{patches:t,version:o}=e;return{content:t&&t.length?(0,At.applyPatches)(e.content,t):e.content,settings:e.settings,version:o}}function n4(e){let{content:t,settings:o,patches:r,version:n}=e;return{content:IT(t,n),settings:zT(o,n),patches:r?DT(r,n):[],version:n}}var s4=Mt(Jo());function JF(e){return{...e,verticalTextAlign:"top"}}function eK(e){for(let t of e.rowsOrder)for(let o of e.colsOrder){let r=he.getCell(e,t,o);T(e.rowsMap[t]).colsMap[o]=JF(r)}}function i4(e){return e.type==="image"?e:{...e,meta:[]}}function tK(e){e.frontSide=i4(e.frontSide),e.backSide=i4(e.backSide)}function oK(e){ue(e.cardsBlockMap,tK)}function a4(e){ue(e,t=>{t.type===k.TABLE&&eK(t),t.type===k.FLIP_CARDS&&oK(t)})}function c4(e){return(0,s4.produce)(e,t=>{a4(t.intro.contentState.blockMap),ue(t.chapters,o=>{a4(o.contentState.blockMap)})})}var p4=Mt(Jo());function l4(e){ue(e,t=>{if(t.type===k.NOTE){let o=t;o.customIconColor=null,o.customBackgroundColor=null}})}function m4(e){return(0,p4.produce)(e,t=>{l4(t.intro.contentState.blockMap),ue(t.chapters,o=>{l4(o.contentState.blockMap)})})}var d4=Mt(Jo());function u4(e){return fe(e,t=>{if(t.type===k.FLIP_CARDS){let o=t;return{cardsBlockMap:o.cardsBlockMap,maxCardsInRow:o.maxCardsInRow,cardsLayout:o.cardsLayout,type:o.type,key:o.key,designSettings:{background:o.background&&o.background.type==="color"?{color:o.background.color,opacity:o.background.opacity}:null,paddingTop:null,paddingBottom:null}}}return{...t,designSettings:{background:null,paddingTop:null,paddingBottom:null}}})}function f4(e){return(0,d4.produce)(e,t=>{t.intro.contentState.blockMap=u4(t.intro.contentState.blockMap),ue(t.chapters,o=>{o.contentState.blockMap=u4(o.contentState.blockMap)})})}function y4(e){return{...e,viewType:dk(e.viewType)}}function rK(e){let t=e.colsMap,o=e.colsOrder,r={};return o.forEach(n=>{let i=T(t[n]).blockMap,a=fe(i,s=>s.type===k.PARAGRAPH?y4(s):s);r[n]={blockMap:a}}),{...e,colsMap:r}}function g4(e){return fe(e,t=>t.type===k.PARAGRAPH?y4(t):t.type===k.LAYOUT?rK(t):{...t})}function h4(e){return{intro:{...e.intro,contentState:{blockMap:g4(e.intro.contentState.blockMap)}},chapters:fe(e.chapters,t=>({...t,contentState:{blockMap:g4(t.contentState.blockMap)}}))}}function x4(e){return fe(e,t=>{if(t.type===k.EXERCISE){let o=t,r=o.questions.map(a=>a.type==="ti"?{id:a.key,type:a.type,description:a.description,attachment:a.attachment,feedback:a.feedback,content:{caseSensitive:a.content.caseSensitive,answers:a.content.answers.map(l=>({id:l.key,text:l.text}))}}:{id:a.key,type:a.type,description:a.description,attachment:a.attachment,feedback:a.feedback,content:Ve(a.content.choices.map(c=>({id:c.key,text:c.content,correct:c.correct})),c=>c.id)}),n={intro:null,questions:Ve(r,a=>a.id),results:null};return{key:o.key,type:k.QUIZ,longreadQuizId:null,isLoading:!1,alignment:"inner",designSettings:o.designSettings,settings:{main:{attempts:pl,passingScore:80,timeLimit:20*6e4,timeLimitEnabled:!1,shuffleAnswersEnabled:o.settings.shuffleAnswers,shuffleQuestionsEnabled:!1,showCorrectAnswersEnabled:o.settings.showCorrectAnswers,isGraded:!1}},state:n}}return t})}function S4(e){return{intro:{key:gb,header:e.intro.header,contentState:{blockMap:x4(e.intro.contentState.blockMap)}},chapters:Ve(ze(e.chapters).map(t=>({...t,contentState:{blockMap:x4(t.contentState.blockMap)}})),t=>t.key)}}function Og(e){let{designSettings:t}=e;if(!t)return{...e,designSettings:void 0};let o={},r=t.paddingTop!==void 0&&t.paddingTop!==null,n=t.paddingBottom!==void 0&&t.paddingBottom!==null;return t.background!==void 0&&t.background!==null&&(o.background={color:t.background}),(r||n)&&(o.padding={},r&&(o.padding.top=t.paddingTop),n&&(o.padding.bottom=t.paddingBottom)),{...e,designSettings:o}}function nK(e){let t=Og(e).designSettings,o=e.colsMap,r=e.colsOrder,n={};return r.forEach(i=>{let a=T(o[i]).blockMap,s=fe(a,c=>Og(c));n[i]={blockMap:s}}),{...e,colsMap:n,layoutType:"column",designSettings:t}}function C4(e){return fe(e,t=>t.type===k.LAYOUT?nK(t):Og(t))}function k4(e){return{intro:{...e.intro,contentState:{blockMap:C4(e.intro.contentState.blockMap)}},chapters:fe(e.chapters,t=>({...t,contentState:{blockMap:C4(t.contentState.blockMap)}}))}}var B4=Mt(Jo());function _4(e){return fe(e,t=>{var o;if(t.type===k.QUIZ){let r=t;return{...r,state:MB(r.state),alignment:(o=r.alignment)!=null?o:"inner",settings:{...r.settings,main:{...r.settings.main,showFeedbackEnabled:!0}}}}return t})}function v4(e){return(0,B4.produce)(e,t=>{t.intro.contentState.blockMap=_4(t.intro.contentState.blockMap),ue(t.chapters,o=>{o.contentState.blockMap=_4(o.contentState.blockMap)})})}var iK=72,aK="#FFFFFF",sK="#323537";function cK(e){var r,n;let o=((r=e.designSettings)!=null&&r.padding&&ie(e.designSettings.padding.top)?e.designSettings.padding.top:Yp(nn(e),"none"))+iK;return{...e,designSettings:{...e.designSettings,padding:{...(n=e.designSettings)==null?void 0:n.padding,top:o}}}}function lK(e){if(!Rr(e))return e;let[t,...o]=ze(e);return Ve([cK(T(t)),...o],r=>r.key)}function pK(e){return{...e,contentState:{blockMap:e.header.coverInfoState?lK(e.contentState.blockMap):e.contentState.blockMap},header:{title:e.header.title,subtitle:"",kicker:e.header.kicker.toUpperCase(),designSettings:{textColor:e.header.coverInfoState?aK:sK,coverInfoState:e.header.coverInfoState?{src:e.header.coverInfoState.src,width:e.header.coverInfoState.width,height:e.header.coverInfoState.height,color:e.header.coverInfoState.color,opacity:e.header.coverInfoState.opacity,isBlob:e.header.coverInfoState.isBlob}:null}},navigationData:{hiddenHeaders:[]}}}function mK({chapter:e,index:t,needToMigrateNumbering:o,totalChaptersCount:r}){return{...e,header:{title:e.header.title,subtitle:e.header.subtitle,kicker:o?B("Roll.Common.CurrentChapterFromTotal",{current:t+1,total:r}):"",designSettings:{textColor:"#323537",coverInfoState:null}},navigationData:{hiddenHeaders:[]}}}function b4(e,t,o){let r=ze(e.chapters);return{pages:Ve(Zo([t&&pK(e.intro),...ze(e.chapters).map((n,i)=>mK({chapter:n,index:i,totalChaptersCount:r.length,needToMigrateNumbering:o}))]),n=>n.key)}}var T4=Mt(Jo()),uK=24;function dK(e){let t=e.colsMap,o={},r=uK/e.colsOrder.length;return e.colsOrder.forEach(n=>{o[n]={blockMap:T(t[n]).blockMap,width:r}}),{...e,colsMap:o}}function fK(e){return fe(e,t=>t.type===k.LAYOUT?dK(t):t)}function w4(e){return(0,T4.produce)(e,t=>{ue(t.pages,o=>{o.contentState.blockMap=fK(o.contentState.blockMap)})})}function gK(e){return e.viewType==="ul"?{type:k.LIST_ITEM,key:e.key,designSettings:e.designSettings,characters:e.characters,listType:"ul",listViewType:"custom"}:e.viewType==="ol"?{type:k.LIST_ITEM,key:e.key,designSettings:e.designSettings,characters:e.characters,listType:"ol",listViewType:"custom",counterReset:e.isOrderedListFirstItem?1:null}:{type:e.type,key:e.key,designSettings:e.designSettings,characters:e.characters,viewType:e.viewType,textAlign:e.textAlign,defaultCharactersMeta:e.defaultCharactersMeta}}function yK(e){let t=e.colsMap,o={};return e.colsOrder.forEach(r=>{let n=T(t[r]),i=n.blockMap,a=fe(i,P4);o[r]={...n,blockMap:a}}),{...e,colsMap:o}}function P4(e){return e.type===k.PARAGRAPH?gK(e):e.type===k.LAYOUT?yK(e):e}function hK(e){return fe(e,P4)}function E4(e){return{pages:fe(e.pages,t=>({...t,contentState:{...t.contentState,blockMap:hK(t.contentState.blockMap)}}))}}function Fg({enabled:e,text:t}){return{enabled:e||!1,value:t||[]}}function xK({enabled:e}){return{enabled:e||!1}}function SK({enabled:e,url:t}){return{enabled:e||!1,value:t||""}}function CK(e){let t={key:e.key,type:k.COLLAGE,alignment:e.alignment,images:BK(e.images)};return t.designSettings&&(t.designSettings=e.designSettings),t}function kK(e){let t={key:e.key,type:k.VIDEO,alignment:e.alignment,width:e.width,height:e.height,caption:Fg({enabled:e.paragraph&&!!e.paragraph.characters.length,text:e.paragraph.characters}),src:e.src,isLoading:e.isLoading};return e.posterSrc&&(t.posterSrc=e.posterSrc),e.designSettings&&(t.designSettings=e.designSettings),t}function _K(e){let t={key:e.key,type:k.EMBED,alignment:e.alignment,width:e.width,height:e.height,caption:Fg({enabled:e.characters&&!!e.characters.length,text:e.characters}),src:e.src};return e.designSettings&&(t.designSettings=e.designSettings),t}function BK(e){let t=!!e.find(o=>o.characters.length);return e.map(o=>vK(o,t))}function vK(e,t){let o={key:e.key,type:k.IMAGE,parentCollageKey:e.parentCollageKey,src:e.src,isBlob:e.isBlob,width:e.width,height:e.height,alignment:e.alignment,caption:Fg({enabled:t,text:e.characters}),zoom:xK({enabled:!0}),link:SK({enabled:!1,url:""})};return e.designSettings&&(o.designSettings=e.designSettings),e.crop&&(o.crop=e.crop),o}function bK(e){let t=e.colsMap,o={};return e.colsOrder.forEach(r=>{let n=T(t[r]),i=n.blockMap,a=fe(i,M4);o[r]={...n,blockMap:a}}),{...e,colsMap:o}}function M4(e){return e.type===k.COLLAGE?CK(e):e.type===k.VIDEO?kK(e):e.type===k.EMBED?_K(e):e.type===k.LAYOUT?bK(e):e}function TK(e){return fe(e,M4)}function R4(e){return{pages:fe(e.pages,t=>({...t,contentState:{...t.contentState,blockMap:TK(t.contentState.blockMap)}}))}}function I4(e){return{pages:fe(e.pages,t=>({...t,contentState:{...t.contentState,blockMap:fe(t.contentState.blockMap,D4)}}))}}function D4(e){return e.type===k.LAYOUT?wK(e):e.type===k.COLLAGE?PK(e):e}function wK(e){let t=e.colsMap,o={};return e.colsOrder.forEach(r=>{let n=T(t[r]),i=n.blockMap,a=fe(i,D4);o[r]={...n,blockMap:a}}),{...e,colsMap:o}}function PK(e){let t={...e,images:MK(e.images)};return t.designSettings&&(t.designSettings=e.designSettings),t}function EK(e){if(!e.length)return e;let t=e.map(r=>r.caption.enabled);return t.every(r=>r)||t.every(r=>!r)?e:e.map(r=>({...r,caption:{...r.caption,enabled:!0}}))}function MK(e){return EK(e).map(o=>RK(o))}function RK(e){let t={...e,frame:{type:"none"},rounding:{radius:"none"}};return e.designSettings&&(t.designSettings=e.designSettings),e.crop&&(t.crop=e.crop),t}function A4(e,t){return t?{pages:fe(e.pages,o=>({...o,header:{...o.header,designSettings:{...o.header.designSettings,textColor:"#323537"}}}))}:e}var L4=Mt(Jo());function V4(e){return fe(e,t=>{if(t.type===k.IMAGE){let o=t;return{alignment:o.alignment,key:o.key,type:k.COLLAGE,images:[{key:L(),type:o.type,parentCollageKey:o.key,width:o.width,height:o.height,src:o.src,characters:o.characters,isBlob:o.isBlob,alignment:"inner"}]}}if(t.type===k.EMBED){let o=t;return{key:o.key,type:o.type,width:o.width,height:o.height,src:o.src,alignment:o.alignment,characters:o.characters}}return t})}function O4(e){return(0,L4.produce)(e,t=>{t.intro.contentState.blockMap=V4(t.intro.contentState.blockMap),ue(t.chapters,o=>{o.contentState.blockMap=V4(o.contentState.blockMap)})})}function F4(e){let{content:t,versionFrom:o,options:r={}}=e,{convertIntroToPageV27:n=!0,numberingEnabledToV27:i=!1,changeHeaderTextColorToV33:a=!1}=r,c=To({document:t,initialVersion:4,versionFrom:o,versionTo:34,upgraders:[{targetVersion:5,upgradeFn:O4},{targetVersion:6,upgradeFn:ce},{targetVersion:7,upgradeFn:ce},{targetVersion:8,upgradeFn:ce},{targetVersion:9,upgradeFn:ce},{targetVersion:10,upgradeFn:ce},{targetVersion:11,upgradeFn:ce},{targetVersion:12,upgradeFn:c4},{targetVersion:13,upgradeFn:ce},{targetVersion:14,upgradeFn:ce},{targetVersion:15,upgradeFn:ce},{targetVersion:16,upgradeFn:ce},{targetVersion:17,upgradeFn:m4},{targetVersion:18,upgradeFn:ce},{targetVersion:19,upgradeFn:f4},{targetVersion:20,upgradeFn:ce},{targetVersion:21,upgradeFn:ce},{targetVersion:22,upgradeFn:h4},{targetVersion:23,upgradeFn:ce},{targetVersion:24,upgradeFn:S4},{targetVersion:25,upgradeFn:k4},{targetVersion:26,upgradeFn:v4},{targetVersion:27,upgradeFn:l=>b4(l,n,i)},{targetVersion:28,upgradeFn:w4},{targetVersion:29,upgradeFn:E4},{targetVersion:30,upgradeFn:R4},{targetVersion:31,upgradeFn:I4},{targetVersion:32,upgradeFn:ce},{targetVersion:33,upgradeFn:l=>A4(l,a)},{targetVersion:34,upgradeFn:ce}]});return{content:c.upgradedDocument,wasFixed:c.isDocumentFixed}}function K4(e){return{...e,main:{...e.main,longreadType:"multiplePage"}}}function $4(e){return{...e,advanced:{direction:"ltr"}}}function z4(e){return{...e,main:{...e.main,chaptersCount:-1,grade:{mode:"noGrade"}}}}function H4(e){return{...e,main:{navigationType:e.main.navigationType,copyingEnabled:e.main.copyingEnabled,chaptersCount:e.main.chaptersCount,grade:e.main.grade},navigation:{contentsDisplayType:e.main.longreadType==="multiplePage"?"withPages":"hidden",nextButtonEnabled:e.main.nextButtonEnabled,isNavigationPanelCollapsedByDefault:e.main.longreadType==="multiplePage"}}}function Q4(e){let t={"Exo 2":"exo2","IBM Plex Sans":"ibm-plex-sans",Inter:"inter",Lato:"lato",Merriweather:"merriweather",Montserrat:"montserrat","Nunito Sans":"nunito-sans","Open Sans":"open-sans","PT Serif":"pt-serif",Roboto:"roboto","Roboto Slab":"roboto-slab","exo-2":"exo2"};return Object.values(t).includes(e)?e:J(e,t)}function U4(e){let{design:t}=e;return{...e,design:{accentColor:t.accentColor,headerFont:{type:"builtIn",id:Q4(t.headerFont)},contentFont:{type:"builtIn",id:Q4(t.contentFont)}}}}function W4(e){let{settings:t,versionFrom:o}=e,n=To({document:t,initialVersion:4,versionFrom:o,versionTo:34,upgraders:[{targetVersion:5,upgradeFn:ce},{targetVersion:6,upgradeFn:ce},{targetVersion:7,upgradeFn:ce},{targetVersion:8,upgradeFn:ce},{targetVersion:9,upgradeFn:ce},{targetVersion:10,upgradeFn:K4},{targetVersion:11,upgradeFn:ce},{targetVersion:12,upgradeFn:ce},{targetVersion:13,upgradeFn:$4},{targetVersion:14,upgradeFn:ce},{targetVersion:15,upgradeFn:ce},{targetVersion:16,upgradeFn:ce},{targetVersion:17,upgradeFn:ce},{targetVersion:18,upgradeFn:ce},{targetVersion:19,upgradeFn:ce},{targetVersion:20,upgradeFn:ce},{targetVersion:21,upgradeFn:ce},{targetVersion:22,upgradeFn:ce},{targetVersion:23,upgradeFn:ce},{targetVersion:24,upgradeFn:z4},{targetVersion:25,upgradeFn:ce},{targetVersion:26,upgradeFn:ce},{targetVersion:27,upgradeFn:H4},{targetVersion:28,upgradeFn:ce},{targetVersion:29,upgradeFn:ce},{targetVersion:30,upgradeFn:ce},{targetVersion:31,upgradeFn:ce},{targetVersion:32,upgradeFn:U4},{targetVersion:33,upgradeFn:ce},{targetVersion:34,upgradeFn:ce}]});return{settings:n.upgradedDocument,wasFixed:n.isDocumentFixed}}function q4(e,t){return t>=4&&t<27&&e.main&&"numberingEnabled"in e.main?e.main.numberingEnabled:!1}function ru(e){let{content:t,settings:o,version:r}=e,n=F4({content:t,versionFrom:r,options:{convertIntroToPageV27:!0,numberingEnabledToV27:q4(o,r),changeHeaderTextColorToV33:!1}}),i=W4({settings:o,versionFrom:r});return{content:n.content,settings:i.settings,isContentFixed:n.wasFixed,isSettingsFixed:i.wasFixed}}function G4(e){if(!["content","settings","version"].every(n=>n in e))throw new Error("cannot prepare longread document");let o=n4(e),r=r4(o);return ru(r)}var{String:Jt,Int:an,Bool:Ls}=xt,IK=U({start:an(1),end:an(2),style:Jt(3)}),DK=U({start:an(1),end:an(2),url:Jt(3)}),qn=U({text:Jt(1),inlineStyleRanges:me(2,IK),urls:me(3,DK)}),AK=U({src:Jt(1),width:an(2),height:an(3)}),VK=U({src:Jt(1),width:an(2),height:an(3)}),$g=Lt({i:VK,e:AK}),j4=U({key:Jt(1),text:Z(2,qn),correct:Ls(3)}),LK=U({choices:me(1,j4)}),OK=U({choices:me(1,j4)}),FK=U({key:Jt(1),text:Jt(2)}),KK=U({caseSensitive:Ls(1),answers:me(2,FK)}),Ng=U({type:Jt(1),correct:Z(2,qn),incorrect:Z(3,qn),answered:Z(4,qn)}),$K=U({includeInProgress:Ls(1),shuffleAnswers:Ls(2),showCorrectAnswers:Ls(3)}),NK=U({key:Jt(1),description:Z(2,qn),attachment:de(3,$g),content:Z(4,LK),feedback:Z(5,Ng)}),zK=U({key:Jt(1),description:Z(2,qn),attachment:de(3,$g),content:Z(4,OK),feedback:Z(5,Ng)}),HK=U({key:Jt(1),description:Z(2,qn),attachment:de(3,$g),content:Z(4,KK),feedback:Z(5,Ng)}),QK=Lt({mc:NK,mr:zK,ti:HK}),Y4=U({key:Jt(1),settings:Z(2,$K),questions:me(3,QK)});var{String:tt,Int:qo,Float:UK}=xt,zg=U({start:qo(1),end:qo(2),url:tt(3)}),Hg=U({start:qo(1),end:qo(2),style:tt(3)}),WK=U({key:tt(1),text:tt(2),viewType:tt(3),inlineStyleRanges:me(4,Hg),urls:me(5,zg)}),qK=U({key:tt(1),src:tt(2),width:qo(3),height:qo(4),alignment:tt(5),text:tt(6),inlineStyleRanges:me(7,Hg),urls:me(8,zg)}),GK=U({key:tt(1),src:tt(2),width:qo(3),height:qo(4),alignment:tt(5),text:tt(6),inlineStyleRanges:me(7,Hg),urls:me(8,zg)}),Z4=Lt({[k.PARAGRAPH]:WK,[k.IMAGE]:qK,[k.EMBED]:GK,[k.EXERCISE]:Y4}),X4=U({intro:Z(1,{kicker:tt(1),title:tt(2),coverSrc:de(3,tt),coverWidth:de(4,qo),coverHeight:de(5,qo),blocks:me(6,Z4),coverColor:de(7,tt),coverOpacity:de(8,UK)}),chapters:me(2,{key:tt(1),title:tt(2),blocks:me(3,Z4)})});var{String:Ht,Int:fr,Bool:Os,Float:jK}=xt,YK=U({start:fr(1),end:fr(2),style:Z(3,{name:Ht(1),size:de(2,fr),color:de(3,Ht),opacity:de(4,jK)})}),ZK=U({start:fr(1),end:fr(2),url:Ht(3)}),Gn=U({text:Ht(1),inlineStyleRanges:me(2,YK),urls:me(3,ZK)}),XK=U({src:Ht(1),width:fr(2),height:fr(3)}),JK=U({src:Ht(1),width:fr(2),height:fr(3)}),Qg=Lt({i:JK,e:XK}),J4=U({key:Ht(1),text:Z(2,Gn),correct:Os(3)}),e$=U({choices:me(1,J4)}),t$=U({choices:me(1,J4)}),o$=U({key:Ht(1),text:Ht(2)}),r$=U({caseSensitive:Os(1),answers:me(2,o$)}),Ug=U({type:Ht(1),correct:Z(2,Gn),incorrect:Z(3,Gn),answered:Z(4,Gn)}),n$=U({includeInProgress:Os(1),shuffleAnswers:Os(2),showCorrectAnswers:Os(3)}),i$=U({key:Ht(1),description:Z(2,Gn),attachment:de(3,Qg),content:Z(4,e$),feedback:Z(5,Ug)}),a$=U({key:Ht(1),description:Z(2,Gn),attachment:de(3,Qg),content:Z(4,t$),feedback:Z(5,Ug)}),s$=U({key:Ht(1),description:Z(2,Gn),attachment:de(3,Qg),content:Z(4,r$),feedback:Z(5,Ug)}),c$=Lt({mc:i$,mr:a$,ti:s$}),ew=U({key:Ht(1),settings:Z(2,n$),questions:me(3,c$)});var{String:Fe,Int:yo,Float:ow,Bool:l$}=xt,Wg=U({start:yo(1),end:yo(2),url:Fe(3)}),qg=U({start:yo(1),end:yo(2),style:Z(3,{name:Fe(1),size:de(2,yo),color:de(3,Fe),opacity:de(4,ow)})}),p$=U({key:Fe(1),text:Fe(2),viewType:Fe(3),inlineStyleRanges:me(4,qg),urls:me(5,Wg),textAlign:de(6,Fe),isOrderedListFirstItem:de(7,l$)}),m$=U({key:Fe(1),src:Fe(2),width:yo(3),height:yo(4),alignment:Fe(5),text:Fe(6),inlineStyleRanges:me(7,qg),urls:me(8,Wg)}),u$=U({key:Fe(1),src:Fe(2),width:yo(3),height:yo(4),alignment:Fe(5),text:Fe(6),inlineStyleRanges:me(7,qg),urls:me(8,Wg)}),d$=U({key:Fe(1),fileName:Fe(2),fileExtension:Fe(3),fileSize:yo(4)}),tw=Lt({[k.PARAGRAPH]:p$,[k.IMAGE]:m$,[k.EMBED]:u$,[k.EXERCISE]:ew,[k.ATTACHMENT]:d$}),rw=U({intro:Z(1,{kicker:Fe(1),title:Fe(2),coverSrc:de(3,Fe),coverWidth:de(4,yo),coverHeight:de(5,yo),blocks:me(6,tw),coverColor:de(7,Fe),coverOpacity:de(8,ow)}),chapters:me(2,{key:Fe(1),title:Fe(2),blocks:me(3,tw)})});function nw(e){let t=z_(e),o={order:[],blocks:{}};for(let r of t)o.order.push(r.key),o.blocks[r.key]=r;return{blockMap:o}}function f$(e){let t={kicker:e.kicker,title:e.title,coverInfoState:null};return e.coverSrc&&e.coverColor&&ie(e.coverWidth)&&ie(e.coverHeight)&&ie(e.coverOpacity)&&(t.coverInfoState={src:e.coverSrc,width:e.coverWidth,height:e.coverHeight,color:e.coverColor,opacity:e.coverOpacity,isBlob:!1}),{header:{kicker:t.kicker,title:t.title,coverInfoState:t.coverInfoState},contentState:nw(e.blocks)}}function g$(e){return{key:e.key,header:{title:e.title},contentState:nw(e.blocks)}}function iw(e){let t=f$(e.intro),o=(e.chapters||[]).map(r=>g$(r));return{intro:t,chapters:Ve(o,r=>r.key)}}var y$={blockWrapper:"_qpH3GK",blockWrapper_hidden:"_eACrwy",blockWrapper_list:"_DfTVs8",blockWrapper_floatLeft:"_xIv7Z-",blockWrapper_clearBoth:"_5skJ0p",blockWrapper_dir_ltr:"_ryTAWr",blockWrapper_dir_rtl:"_d48IXR",blockWrapper_fitContent:"_8ZBH7N",blockWrapper_beforeLists:"_qSKrOq",alignmentBlockWrapper:"_f48TI-",alignmentBlockWrapper_align_floatLeft:"_SlZ0mr",alignmentBlockWrapper_align_inner:"_-ob_mt",alignmentBlockWrapper_align_outer:"_6qzJfq",alignmentBlockWrapper_align_full:"_m7v-BS",alignmentBlockWrapper_align_fullLayout:"_buNvwx",indentationBlockWrapper:"_ogWs1H"},aw=y$;var h$={mediaResource:"_J2auIZ",image:"_CVnwus",overlay:"_eHGaW8",image_stub:"_zqIYW0"},sw=h$;var Gg=u(sw);function x$(e,{mediaResource:t,position:o,showStub:r}){let n=R(),i=R(),a=D(()=>(t==null?void 0:t.resource)||{width:0,height:0,src:""},[t]),s=Gg.image.withMods({stub:!a.src&&r});return M(()=>{var c;(c=i.current)==null||c.setAttribute("data-background-image","true")},[i]),e`
<div class=${s} save-ref=${n}>
	${e.renderIf(go,()=>!!Xt(a)&&{image:a,imageRef:i,outContainerRef:n,fit:"cover",position:`${o.x}% ${o.y}%`})}
</div>`}function cw(e,{block:t,showStub:o=!0}){let r=hl(t),n={"background-color":ki((r==null?void 0:r.overlay)||GC)};return e`
<div
	class=${Gg.mediaResource}
	contenteditable="false"
>
	${e(x$,{mediaResource:hl(t),showStub:o,position:YC(t)||qC})}
	<div
		class=${Gg.overlay}
		style=${n}
	></div>
</div>`}var jg=u(aw),S$=.89,C$=32,lw=e=>kr()?e*S$:e,Yg=(e,t,o)=>{var r,n;return lw(e.designSettings&&((n=(r=e.designSettings)==null?void 0:r.padding)==null?void 0:n.top)!==void 0?e.designSettings.padding.top:Z2({currentBlockType:nn(e),prevBlockType:t,defaultTopPadding:o}))},Zg=(e,t)=>{var o;return lw(e.designSettings&&((o=e.designSettings.padding)==null?void 0:o.bottom)!==void 0?e.designSettings.padding.bottom:Y2(nn(e),t))},k$=(e,t)=>{let o=xe.toOrderedListItemBlock(e);if(!o)return"";let r=t!==void 0,n=o.listViewType==="default"?`nesting-${Co(e)}`:"linear-counter";return!r&&o.counterReset===null?"":`${n} ${t!=null?t:o.counterReset}`};function nu(e,{selectionBinding:t,controlsBinding:o,blockWrapperExtendClassList:r,...n}){let{block:i,blockAfterType:a,continueProps:s,listItemProps:c,direction:l}=n,p=R(),m=!!xe.toListItemBlock(i),d=i.type===k.LAYOUT?i.key:null,y=D(()=>{let h=$r.toAbstractMediaBlock(i),C=ae(i),S=a==="ol"||a==="ul";return Xe(jg.blockWrapper.withMods({fitContent:Y.isCollageBlock(i),floatLeft:!!h&&h.alignment==="float-left",clearBoth:!C,beforeLists:S,dir:l,hidden:!!s&&s.isHidden,list:m}),r)},[i,a,l,s,m,r]),g=D(()=>{var C,S;return{"background-color":ki((S=(C=i.designSettings)==null?void 0:C.background)==null?void 0:S.color),"counter-reset":k$(i,c==null?void 0:c.counterReset)}},[i,c]);return e`
<div
	save-ref=${p}
    class=${y}
	style=${g}
    draggable="false"
    data-wrapper-key=${i.key}
	data-context-block-key=${d}
	data-at=${j("block-wrapper")}
>
	${e.renderIf(cw,()=>yl(i)&&{block:i})}
	${e(t)}
	${e(o)}
	${e(_$,{...n,wrapperRef:yl(i)?p:void 0})}
</div>`}function _$(e,t){let{block:o,blockBeforeType:r,blockAfterType:n,defaultTopPadding:i,sizeWrapperExtendClassList:a}=t,s=R(),c=D(()=>Xe(a),[a]),l=D(()=>{let p={"padding-block-start":q(Yg(o,r,i)),"padding-block-end":q(Zg(o,n))};return s&&s.current&&(Dt(s.current,"--top-padding-height",p["padding-block-start"]),Dt(s.current,"--bottom-padding-height",p["padding-block-end"])),p},[o,n,r,i,s]);return e`
<div
	class=${c}
	save-ref=${s}
	style=${l}
    draggable="false"
>
	${e(B$,t)}
</div>`}function B$(e,t){let{block:o}=t,r=gl(o),n=Q.toLayoutBlock(o),i=oe.toFlipCardsBlock(o),a="inner";return n&&n.alignment==="full"?a="full-layout":i?a="full":r&&(a=r),e`
<div
    class=${jg.alignmentBlockWrapper.withMods({align:to(a)})}
    draggable="false"
>
	${e(v$,{...t,indentationAvailable:a==="inner"})}
</div>`}function v$(e,{indentationAvailable:t,content:o,columnsDropAreaBinding:r,contextKey:n,...i}){var l;let s=((l=i.block.designSettings)==null?void 0:l.indent)||0,c=t&&s?{"padding-inline-start":q(s*C$)}:null;return e`
<div
    class=${jg.indentationBlockWrapper}
	style=${c}
    draggable="false"
>
	${e(o,i)}
	${e(r)}
</div>`}var iu=0;function au(e){let t={},o=0,r=null,n=null,i=[],a=Te.getBlocksArray(e);return b$(a,t),a.forEach(s=>{we.toContinueBlock(s)&&(r=o);let l=xe.toOrderedListItemBlock(s);if(!l)return;let p=(n==null?void 0:n.listViewType)||l.listViewType,m=Co(n||l),d=Co(l),y=Math.abs(m-d),g=l.listViewType!==p,h=m<d&&!g,C=m>d&&!g,S=h||C||g||!!l.counterReset||r!==null;if(h){i.push(o);for(let _=0;_<y-1;_++)i.push(iu)}if(S){if(o=l.counterReset?l.counterReset-1:r||iu,h&&(o=iu),C)for(let _=0;_<y;_++)o=i.pop()||iu;t[l.key]=o,r=null}n=l,o++}),t}function b$(e,t){let o=e.find(r=>xe.toOrderedListItemBlock(r));o&&(t[o.key]=0)}var T$=["onHyperlinkOverFn"];function w$(e){return Object.fromEntries(Object.entries(e).filter(([t])=>!T$.includes(t)))}function pw(e){let t={};return o=>{let r=o.block.key,n=w$(o);if(ie(t[r])&&js(n,T(t[r]).props))return T(t[r]).result;let i=e.call(null,o);return t[r]={props:n,result:i},i}}function Jg(e,t){let o=e[t-1];return o?nn(o):"none"}function ey(e,t){let o=e[t+1];return o?nn(o):"none"}var Xg={},su=class extends rm{constructor({blockName:t,direction:o,defaultTopPadding:r}){super({blockName:t,direction:o}),this._renderers={},this._readonlyMode=!1,this._renderedBlockIndex=0,this._defaultTopPadding=r,this.onHyperlinkOver=this._createSignal(),this._relatedGroupData={},this._wrapperRenderFn=nu}setDefaultTopPadding(t){this._defaultTopPadding!==t&&(this._defaultTopPadding=t,this._sheduleRender())}getLockedBlocks(){return[]}setReadonlyMode(t){this._readonlyMode!==t&&(this._readonlyMode=t,this._sheduleRender())}setDirection(t){this._direction!==t&&(super.setDirection(t),this._sheduleRender())}registerRenderer({blockType:t,renderFn:o,enableMemoize:r=!1}){this._renderers[t]=r?pw(o):o}_getReadonlyMode(){return this._readonlyMode}_getBlockMap(){}_getVisibleBlocks(){}_getParagraphPlaceholder(t){return""}_getParagraphPrompt(t){return""}_getGroupRelatedData(){return this._relatedGroupData}isLock(t){return!1}isHidden(t){return!1}isSelected(t){}_resetRenderBlockIndex(){this._renderedBlockIndex=0}_renderBlock(t,o,r){let n=this._getPrevBlockType(this._renderedBlockIndex),i=this._getNextBlockType(this._renderedBlockIndex);this.isHidden(t)||this._renderedBlockIndex++;let a=ae(t),s=a?{placeholder:this._getParagraphPlaceholder(a),prompt:this._getParagraphPrompt(a),paragraphIndex:o}:void 0,l=xe.toListItemBlock(t)?{counterReset:r}:void 0,m=T(this._renderers[t.type])({block:t,blockBeforeType:n,blockAfterType:i,defaultTopPadding:this._defaultTopPadding,onHyperlinkOverFn:this.onHyperlinkOver.toFn(),readonlyMode:this._readonlyMode,isLock:this.isLock(t),direction:this._direction,isSelected:this.isSelected(t),paragraphProps:s,listItemProps:l});if(m instanceof Element)return m;let d=$r.toAbstractMediaBlock(t);return d&&d.alignment==="float-left"&&(this._prevFloatedElementRenderer=m),m.domElement()}bindingBlockRenderer(t,o,r,n){return r in Xg||(Xg[r]={}),gn(this._wrapperRenderFn)({...o,content:t},fn(T(Xg[r]),o.block.key,n))}_getPrevBlockType(t){let o=this._getVisibleBlocks();return Jg(o,t)}_getNextBlockType(t){let o=this._getVisibleBlocks();return ey(o,t)}_processBlock({blocks:t,block:o}){t.push(o)}_getCounterResetMap(){return au(this._getBlockMap())}_renderBlocks(t){let o=[];Te.forEach(t,i=>{this._processBlock({blocks:o,block:i})});let r=this._getCounterResetMap(),n=[];return o.forEach((i,a)=>n.push(this._renderBlock(i,a,r[i.key]))),n}};var cu=class extends su{constructor({blockName:t,blockMap:o,direction:r,defaultTopPadding:n,autotestData:i}){super({blockName:t,direction:r,defaultTopPadding:n}),this._blockMap=o,this._autotestData=i}updateBlockMap(t){this._blockMap!==t&&(this._blockMap=t,this._sheduleRender())}isLock(t){return!0}isSelected(t){return!1}_getBlockMap(){return this._blockMap}_getVisibleBlocks(){return ze(this._blockMap)}_renderContent(){}_render(){return this._html`
			<div class=${this._getCssClasses()} data-at=${j(this._autotestData)}>
				${this._renderContent()}
			</div>`}};var P$={attachmentSubblock_uploading:"_B2F9li",attachmentBlock:"_FCE9zV",attachmentBlock_clickable:"_GuBwqD",attachmentBlock_lock:"_zh4gXV",attachmentSubblock:"_TNf81j",attachmentIcon:"_hBV--G",attachmentInfo:"_z8JVIy",attachmentName:"_ffIFX6",attachmentSize:"_3SsCKo",attachmentButtons:"_oCiz1M",placeholder:"_a0RIKK"},mw=P$;var gr=u(mw);function E$(e,{disabled:t,onReplace:o,onDownload:r}){return e`
<div class=${gr.attachmentButtons}>
	${e.renderIf(vf,()=>o&&{component:f(Le,{state:t?"disabled":"default",style:"linkSecondary",structure:"icon",icon:f(Bp),size:"small",onClick:o}),tooltipText:B("Roll.Editor.AttachmentBlock.UpdateButtonTooltip")})}
	${e(vf,{component:f(Le,{state:t?"disabled":"default",style:"linkSecondary",structure:"icon",icon:f(o_),size:"small",onClick:r}),tooltipText:B("Roll.Editor.AttachmentBlock.DownloadButtonTooltip")})}
</div>`}function M$(e,{extension:t}){return e`
<div class=${gr.attachmentIcon}>
	${e.switch(()=>{switch(t){case"doc":case"docx":return f(nB,{});case"ppt":case"pptx":return f(aB,{});case"xls":case"xlsx":return f(cB,{});case"pdf":return f(iB,{});default:return f(sB,{})}})}
</div>`}function R$(e){return e`
<img class=${gr.placeholder} aria-hidden=true src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" />`}function uw(e,{key:t,fileName:o,fileSize:r,fileExtension:n,isLoading:i,isPlayer:a,disabled:s,onReplace:c,onDownload:l}){let p=P();return G(p,"click",()=>{a&&l()}),e`
<div
	class=${gr.attachmentBlock.withMods({clickable:a,lock:!!s})}
	save-ref=${p}
	draggable=true
>
	${e.switch(()=>i?f(_i,{size:"medium"},gr.attachmentIcon):f(M$,{extension:n}))}
	<div class=${gr.attachmentSubblock.withMods({uploading:i})}>
		<div class=${gr.attachmentInfo}>
			${e(vt,{text:o},{className:gr.attachmentName})}
			<div class=${gr.attachmentSize}>${T1(r)}</div>
		</div>
		${e(E$,{disabled:!!s,onReplace:c,onDownload:a?()=>{}:l})}
		${e.renderIf(R$,()=>!a&&!i)}
	</div>
</div>`}var I$={collageBlock:"_J7IGyh",collageBlockWrapper:"_NgFMts",collageBlockWrapper_singleImage:"_4vQ_FT",newImagePlaceholder:"_uKeV5C",collageBlock_addingAnimated:"_bLrY9E",blockMenuButton:"_4gYaB_",collageBlock_oneImage:"_2JCS6J",collageBlock_lock:"_PDB6V_",collageBlock_dndMode:"_NOYy0l",collageBlock_readOnly:"_NHUjKo",collageBlock_selected:"_KIrxVS",selectionFrame:"_M3Wmv6",imageDndIcon:"_JALhU1"},dw=I$;var fw=u(dw);function gw(e){let t=e.map(n=>{let i=St(n);return i.crop?i.width/i.height:n.width/n.height}),o=Math.min(...t);return{imagesGrows:t.map(n=>n/o),minImageRatio:o}}var D$={imageBlock:"_6qcX9U",imageBlock_collaged:"_ww5v2Q",imageBlock_lock:"_K24dyj",imageBlock_first:"_FgM7_g",imageBlock_last:"_0dimrf",imageControls:"_vhRMJN",imageDndIcon:"_OXqZgj",imageBlock_blob:"_4oWOot"},yw=D$;var A$={imageBlockWrapper:"_8xVFa1",imageBlockWrapper_zoomable:"_6JUr--",imageBlockWrapper_clickable:"_kTHicy",imageBlockWrapper_lock:"_odiExl",imageBlockPlaceholder:"_gMw4HX"},hw=A$;var V$={stubContainer:"_woCyLG",preloaderContainer:"_8iSdCl",preloader:"_JHjxVb",loadingLabel:"_Y8nQbX",loadingText:"_vaJ2nM",selectionImage:"_h_hgY8",cropImage:"_7hxOui"},xw=V$;var Fs=u(xw);function L$(e){return e`
<div class=${Fs.stubContainer}>
	<div class=${Fs.preloaderContainer}>
		${e(Ar,{},Fs.preloader)}
		<div class=${Fs.loadingLabel}>
			${e(N1,{})}
			<div class=${Fs.loadingText}>
				${B("Roll.Editor.ImageLoading.Label")}
			</div>
		</div>
	</div>
</div>`}function O$(e,{image:t,onClick:o,isPlayer:r}){let n=mo.isEnabled(t.zoom),i=po.isEnabled(t.link),a=Kr.getRadius(t.rounding),s=Fr.getFrameType(t.frame);return pe(e,f(go,{image:t,withImageSelection:!0,onClick:o,withZoom:n,withLink:i,isPlayer:r,radius:F$(a),decoration:s==="none"?void 0:s}))}function F$(e){return J(e,{none:void 0,medium:"large",large:"xxlarge"})}function Sw(e,{imageBlock:t,className:o,onClick:r,isPlayer:n}){let{isBlob:i,src:a}=t,[s,c]=z(!i);return ee(()=>{if(i){let l=new Image;l.onload=()=>c(!0),l.onerror=()=>c(!1),l.src=a}else c(!0)},[a,i]),e`
<div>
	${e.switch(()=>s?f(O$,{image:t,onClick:r,isPlayer:n},o):f(L$,{},o))}
</div>`}var Cw=u(hw);function kw(e,{imageBlock:t,isDraggable:o=!1,preventCollaging:r=!1,isLock:n,onClick:i,imageContentBinding:a,isPlayer:s}){let c=St(t).width,p=St(t).height/c*100,m=po.isEnabled(t.link),d=mo.isEnabled(t.zoom),y=r?q(c):null,g=a!=null?a:f(Sw,{imageBlock:t,className:"collaged-image",onClick:i,isPlayer:s});return e`
<div
	draggable=${o}
	class=${Cw.imageBlockWrapper.withMods({lock:n,zoomable:s&&d,clickable:s&&m})}
	style=${{"max-width":y}}
>
	${e(g)}
	<div class=${Cw.imageBlockPlaceholder} style=${{"padding-bottom":`${p}%`}}></div>
</div>`}function at(e,t){let{isLock:o,onHyperlinkOverFn:r,readonlyMode:n,paragraphClassName:i,wrapperClassName:a="",paragraphStyles:s}=t,c=K$(t),l=D(()=>{let p=Hi(c,r,n,o);return i&&p.classList.add(...i.split(" ")),s&&De(p,s),p},[c,r,n,o,i,s]);return e`
<div contenteditable=${!n&&!o} class=${a} data-name="paragraph-wrapper">
	${l}
</div>`}function K$(e){return D(()=>{switch(e.propsType){case"paragraphData":return new Qo({paragraph:e.paragraph,idPrefix:e.idPrefix,placeholder:e.placeholder,disableStyles:e.disableStyles});case"wrappedParagraph":return e.wrappedParagraph;default:Qe(e)}},[e])}var $$={captionWrapper_lock:"_cnBEw7",captionWrapper:"_THlIbV",paragraphWrapper:"_a2_a7U",imageText:"_d7N-Np"},_w=$$;var ty=u(_w);function Bw(e,{block:t,isLock:o,readonlyMode:r,onHyperlinkOverFn:n,isSelected:i}){let a=Xe(ty.imageText,"image-text"),s=je.getText(t.caption),c=K.create({key:t.key,characters:s,textAlign:"center"});return e`
<figcaption
	class=${ty.captionWrapper.withMods({lock:o})}
>
	${e(at,{propsType:"paragraphData",paragraph:c,idPrefix:"image-block",isLock:o,readonlyMode:r,onHyperlinkOverFn:n,placeholder:i?B("Roll.Editor.MediaCaptionDefaultText"):"",paragraphClassName:a},ty.paragraphWrapper)}
</figcaption>`}var N$=u(yw);function vw(e,{block:t,readonlyMode:o,isLock:r,onHyperlinkOverFn:n,grow:i,imageContentBinding:a,imageControlsBinding:s,onClick:c,isFirst:l=!1,isLast:p=!1,isDraggable:m=!1,isSelected:d=!1,preventCollaging:y=l&&p,isPlayer:g=!1}){let h=t,C=t,S=je.isEnabled(h.caption),_=N$.imageBlock.withMods({lock:!1,blob:C.isBlob,collaged:!!C.parentCollageKey,first:l,last:p}),x=i?{flex:`${i} 0 0`}:null;return e`
<figure
	data-collaged-key=${t.key}
	data-parent-collage-key=${C.parentCollageKey}
	class=${_}
	style="${x}"
	contenteditable="false"
	tabindex="-1"
>
	${e(kw,{imageBlock:h,imageContentBinding:a,isDraggable:m,isLock:r,preventCollaging:y,onClick:c,isPlayer:g})}
	${e.renderIf(Bw,()=>S&&{block:h,isLock:r,readonlyMode:o,onHyperlinkOverFn:n,isSelected:d})}
	${e(s)}
</figure>
`}var z$={continueWrapper:"_OLRvpM",continueContent:"_QfcvOW"},bw=z$;var H$={button:"_kuzBIh",paragraphWrapper:"_WfFHRi"},Tw=H$;var ww=u(Tw);function Pw(e,{block:t,isLock:o,onHyperlinkOverFn:r,onClick:n=()=>{},readonlyMode:i}){let a=D(()=>f(at,{propsType:"paragraphData",paragraph:t.paragraph,idPrefix:"continue-block",isLock:o,readonlyMode:i,onHyperlinkOverFn:r,paragraphClassName:"continue-text",disableStyles:!0},ww.paragraphWrapper),[t.paragraph,o,r,i]);return pe(e,f(en.PlayerButton,{style:"primary",size:"large",content:a,onClick:n,isEditable:!i&&!o,backgroundColor:t.continueColor,focusBlockKey:t.key},ww.button))}var Ew=u(bw);function Mw(e,{block:t,isLock:o,onHyperlinkOverFn:r,readonlyMode:n,onClick:i}){let a=t;return e`
<div class=${Ew.continueWrapper}>
	${e(Pw,{block:a,isLock:o,onHyperlinkOverFn:r,readonlyMode:n,onClick:i},{className:Ew.continueContent})}
</div>`}var Q$={dividerBlock:"_mFSLtu",menuButton:"_AvvUdo",dividerBlock_lock:"_7od9-6",selectionFrame:"_fiwJRl"},Rw=Q$;var Iw=u(Rw);var U$={dividerContent:"_7xcrB-",draggableBackground:"_prEm1f"},Dw=U$;var W$={dividerContainer:"_bDXc8k"},Aw=W$;var q$=u(Aw);function aa(e,{figure:t}){return e`
<div class=${q$.dividerContainer}>
	${e(t)}
</div>`}var G$=16,j$=56;function Y$(e){return e`
<svg width=${G$} height=${j$} fill="currentColor">
	<mask id="path-1-inside-1_915_7477" fill="white">
		<path fill-rule="evenodd" clip-rule="evenodd" d="M9.25149 1.25C9.25149 0.559644 8.69185 0 8.00149 0C7.31114 0 6.75149 0.559644 6.75149 1.25V43.25H1.78966C1.00734 43.25 0.527991 44.1078 0.93801 44.7741L7.14854 54.8661C7.53903 55.5006 8.46138 55.5006 8.85186 54.8661L15.0622 44.7741C15.4722 44.1078 14.9929 43.25 14.2105 43.25H9.25149V1.25Z"/>
	</mask>
	<path fill-rule="evenodd" clip-rule="evenodd" d="M9.25149 1.25C9.25149 0.559644 8.69185 0 8.00149 0C7.31114 0 6.75149 0.559644 6.75149 1.25V43.25H1.78966C1.00734 43.25 0.527991 44.1078 0.93801 44.7741L7.14854 54.8661C7.53903 55.5006 8.46138 55.5006 8.85186 54.8661L15.0622 44.7741C15.4722 44.1078 14.9929 43.25 14.2105 43.25H9.25149V1.25Z"/>
	<path d="M6.75149 43.25V44.25H7.75149V43.25H6.75149ZM0.93801 44.7741L0.0863544 45.2982L0.086355 45.2982L0.93801 44.7741ZM7.14854 54.8661L6.29689 55.3902L7.14854 54.8661ZM8.85186 54.8661L9.70352 55.3901L9.70352 55.3901L8.85186 54.8661ZM15.0622 44.7741L14.2105 44.25V44.25L15.0622 44.7741ZM9.25149 43.25H8.25149V44.25H9.25149V43.25ZM8.00149 1C8.13956 1 8.25149 1.11193 8.25149 1.25H10.2515C10.2515 0.0073592 9.24413 -1 8.00149 -1V1ZM7.75149 1.25C7.75149 1.11193 7.86342 1 8.00149 1V-1C6.75885 -1 5.75149 0.0073592 5.75149 1.25H7.75149ZM7.75149 43.25V1.25H5.75149V43.25H7.75149ZM1.78966 44.25H6.75149V42.25H1.78966V44.25ZM1.78966 44.25L1.78966 44.25V42.25C0.225014 42.25 -0.73368 43.9657 0.0863544 45.2982L1.78966 44.25ZM8.0002 54.342L1.78966 44.25L0.086355 45.2982L6.29689 55.3902L8.0002 54.342ZM8.0002 54.342H8.0002L6.29689 55.3902C7.07786 56.6592 8.92256 56.6592 9.70352 55.3901L8.0002 54.342ZM14.2105 44.25L8.0002 54.342L9.70352 55.3901L15.9139 45.2982L14.2105 44.25ZM14.2105 44.25L14.2105 44.25L15.9139 45.2982C16.7339 43.9656 15.7752 42.25 14.2105 42.25V44.25ZM9.25149 44.25H14.2105V42.25H9.25149V44.25ZM8.25149 1.25V43.25H10.2515V1.25H8.25149Z" mask="url(#path-1-inside-1_915_7477)"/>
</svg>`}function Vw(e){return aa(e,{figure:f(Y$,{})})}var Z$=3,Lw=10,Ow=6;function X$(e){let t=(Lw+Ow)*Z$-Ow;return e`
<svg width=${t} height=${Lw} fill="currentColor">
	<polygon points="0 5, 5 10, 10 5, 5 0"/>
	<polygon points="16 5, 21 10, 26 5, 21 0"/>
	<polygon points="32 5, 37 10, 42 5, 37 0"/>
</svg>`}function Fw(e){return aa(e,{figure:f(X$,{})})}var lu=32;function J$(e){return e`
<svg width=${lu} height=${lu} fill="currentColor">
	<path d="M8.252 28.704C6.756 28.704 5.532 28.398 4.58 27.786C3.628 27.174 2.846 26.392 2.234 25.44C1.554 24.284 1.078 23.094 0.806 21.87C0.602 20.578 0.5 19.524 0.5 18.708C0.5 15.376 1.35 12.35 3.05 9.63C4.60865 7.13616 6.96757 5.07104 10.1268 3.43463C10.6108 3.18392 11.2007 3.38941 11.4445 3.87694C11.704 4.39597 11.4683 5.02324 10.9526 5.28938C9.247 6.16963 7.7348 7.4125 6.416 9.018C4.92 10.922 4.54672 11.7378 4.30005 13.5C4.05338 15.2622 4.59605 16.362 4.80005 16.974C5.88805 16.09 6.824 15.648 8.252 15.648C10.02 15.648 11.55 16.226 12.842 17.382C14.134 18.538 14.78 20.136 14.78 22.176C14.78 24.08 14.134 25.644 12.842 26.868C11.55 28.092 10.02 28.704 8.252 28.704Z" />
	<path d="M25.252 28.704C23.756 28.704 22.532 28.398 21.58 27.786C20.628 27.174 19.846 26.392 19.234 25.44C18.554 24.284 18.078 23.094 17.806 21.87C17.602 20.578 17.5 19.524 17.5 18.708C17.5 15.376 18.35 12.35 20.05 9.63C21.6087 7.13616 23.9676 5.07104 27.1268 3.43463C27.6108 3.18392 28.2007 3.38941 28.4445 3.87694C28.704 4.39597 28.4683 5.02324 27.9526 5.28938C26.247 6.16963 24.7348 7.4125 23.416 9.018C21.92 10.922 21.5467 11.7378 21.3 13.5C21.0534 15.2622 21.596 16.362 21.8 16.974C22.888 16.09 23.824 15.648 25.252 15.648C27.02 15.648 28.55 16.226 29.842 17.382C31.134 18.538 31.78 20.136 31.78 22.176C31.78 24.08 31.134 25.644 29.842 26.868C28.55 28.092 27.02 28.704 25.252 28.704Z" />
</svg>
`}function e8(e){return e`
<svg width=${lu} height=${lu} fill="currentColor">
	<path d="M13.918 3.71393L13.338 7.94794C11.83 7.83194 10.728 8.14127 10.032 8.87593C9.336 9.6106 8.91067 10.5966 8.756 11.8339C8.60133 13.0713 8.56267 14.4053 8.64 15.8359H13.918V28.0739H4V13.5159C4 9.9586 4.88933 7.2906 6.668 5.51193C8.48533 3.73327 10.902 3.13393 13.918 3.71393Z" />
	<path d="M27.918 3.71393L27.338 7.94794C25.83 7.83194 24.728 8.14127 24.032 8.87593C23.336 9.6106 22.9107 10.5966 22.756 11.8339C22.6013 13.0713 22.5627 14.4053 22.64 15.8359H27.918V28.0739H18V13.5159C18 9.9586 18.8893 7.2906 20.668 5.51193C22.4853 3.73327 24.902 3.13393 27.918 3.71393Z" />
</svg>
`}function t8(e){switch(e){case"quote_1":return f(J$);case"quote_2":return f(e8);default:throw N(e,`Unknown quotes divider style: ${e}`),new Error}}function Kw(e,{style:t}){return aa(e,{figure:t8(t)})}var o8={lineContainer:"_SNiqQP"},pu=o8;function mu(e,{lineWidth:t=2}){let o=t/2;return e`
<svg width="100%" height=${t}>
	<line x1="0" y1="${o}" x2="100%" y2="${o}" stroke="currentColor" stroke-width=${t} stroke-linecap="round"/>
</svg>`}function uu(e,{lineWidth:t=2,isReverse:o=!1}){let r=t/2,n=["0","100%"];o&&n.reverse();let[i,a]=n;return e`
<svg width="100%" height=${t}>
	<line x1="${i}" y1="${r}" x2="${a}" y2="${r}" stroke="currentColor" stroke-width=${t} stroke-dasharray="6 6" stroke-linecap="round"/>
</svg>`}function $w(e,{blockKey:t,lineWidth:o=2}){let r=o/2;return e`
<svg width="100%" height=${o}>
	<line x1="0" y1="${r}" x2="100%" y2="${r}" stroke="url(#linear_gradient_${t})" stroke-width=${o} />
	<defs>
		<linearGradient id="linear_gradient_${t}" x1="100%" y1="0" x2="0" y2="0" gradientUnits="userSpaceOnUse">
			<stop stop-color="currentColor" stop-opacity="0"/>
			<stop offset="0.5" stop-color="currentColor"/>
			<stop offset="1" stop-color="currentColor" stop-opacity="0"/>
		</linearGradient>
	</defs>
</svg>`}function Nw(e,{blockKey:t,lineWidth:o=2,isReverse:r=!1}){let n=o/2,i=[1,0];r&&i.reverse();let[a,s]=i;return e`
<svg width="100%" height=${o}>
	<line x1="0" y1="${n}" x2="100%" y2="${n}" stroke="url(#linear_gradient_${t}_${r})" stroke-width=${o} />
	<defs>
		<linearGradient id="linear_gradient_${t}_${r}" x1="0" y1="0" x2="100%" y2="0" gradientUnits="userSpaceOnUse">
			<stop stop-color="currentColor" stop-opacity="${a}"/>
			<stop offset="1" stop-color="currentColor" stop-opacity="${s}"/>
		</linearGradient>
	</defs>
</svg>`}var r8={dividerContainer:"_IzSy5B",textWrapper:"_qgiNNo",textWrapper_style_rounded:"_udxzBv",textWrapper_style_squared:"_Pts2gl",paragraphWrapper:"_4GX8a_",dividerText:"_LEB9Rt"},du=r8;var n8=u(du),i8=u(pu);function a8(e,{blockKey:t,style:o,isReverse:r}){return e`
<div class=${i8.lineContainer}>
	${e.switch(()=>{switch(o){case"solid":return f(mu,{});case"dotted":return f(uu,{isReverse:r});case"faded":return f($w,{blockKey:t});default:return N(o,`unknown line style ${o}`),null}})}
</div>
`}function zw(e,{block:t,direction:o}){let r=o==="rtl";return e`
<div class=${n8.dividerContainer}>
	${e(a8,{style:t.style,blockKey:t.key,isReverse:r})}
</div>`}var fu=u(du),s8=u(pu);function Hw(e,{blockKey:t,style:o,isReverse:r}){return e`
<div class=${s8.lineContainer}>
	${e.switch(()=>{switch(o){case"solid":return f(mu,{});case"dotted":return f(uu,{isReverse:r});case"faded":return f(Nw,{blockKey:t,isReverse:r});default:return N(o,`unknown line style ${o}`),null}})}
</div>
`}function c8(e,{paragraph:t,paragraphStyle:o,dividerColor:r,isLock:n,readonlyMode:i,onHyperlinkOverFn:a}){let s=D(()=>{let p=r.opacity,m=Ae(pt.whiteDefault),d=[...Ae(r.color),p],[y,g,h]=ti(m,d);return{background:`rgb(${y}, ${g}, ${h})`}},[r]),c=fu.textWrapper.withMods({style:o}),l=Xe(fu.dividerText,"divider-text");return e`
<div class=${c} style=${s}>
	${e(at,{propsType:"paragraphData",paragraph:t,idPrefix:"divider-block",isLock:n,readonlyMode:i,onHyperlinkOverFn:a,paragraphClassName:l},fu.paragraphWrapper)}
</div>`}function Qw(e,{block:t,onHyperlinkOverFn:o,readonlyMode:r,isLock:n,direction:i}){let a=i==="rtl";return e`
<div class=${fu.dividerContainer}>
	${e(Hw,{style:t.style,blockKey:t.key,isReverse:!a})}
	${e(c8,{paragraph:t.paragraph,paragraphStyle:t.paragraphStyle,dividerColor:t.dividerColor,isLock:n,readonlyMode:r,onHyperlinkOverFn:o})}
	${e(Hw,{style:t.style,blockKey:t.key,isReverse:a})}
</div>`}var Uw=u(Dw);function l8(e){let t=Ae(e.color),o=e.opacity;return{color:`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${o})`}}function Ww(e,{block:t,isLock:o,onHyperlinkOverFn:r,readonlyMode:n,direction:i}){let a=D(()=>l8(t.dividerColor),[t.dividerColor]);return e`
<div
	class=${Uw.dividerContent}
	style=${a}
>
	${e.switch(()=>{switch(t.dividerType){case"line":return f(zw,{block:t,direction:i});case"line-with-text":return f(Qw,{block:t,isLock:o,onHyperlinkOverFn:r,readonlyMode:n,direction:i});case"arrow":return f(Vw,{});case"diamonds":return f(Fw,{});case"quotes":return f(Kw,{style:t.style})}})}
	<div class=${Uw.draggableBackground} draggable="true"></div>
</div>`}function qw(e,t){let o=ze(e);return{blockBeforeType:Jg(o,t),blockAfterType:ey(o,t)}}function gu(e){return e?e.type==="color"?{type:"color",color:e.color,opacity:e.opacity}:{type:"image",imageSrc:Xt(e.image)}:null}function Gw(e){return e?{type:"image",imageSrc:Xt(e)}:null}function jw(e,{cardSideData:t}){let o=P(),r=D(()=>m8(t),[t]);return e`
<div
	save-ref=${o}
	onconnected=${()=>p8(o.current,r)}
>
	${e(Bp,{})}
</div>
`}function p8(e,t){im({background:t,setStyle:r=>{let n=J(r,{dark:{background:so("overlay-hovered"),color:so("icon-placeholder")},light:{background:so("overlay-modals-default"),color:so("icon-oncolor-secondary")}});Dt(e,"--color",n.color),Dt(e,"--background",n.background)}})}function m8(e){switch(e.type){case"image":return Gw(e.image);case"imageWithText":case"text":return gu(e.background);default:return null}}var u8={flipCard:"_2IbzkJ",flipCard_readonly:"_TiAjAc",cardFlipContainer:"_33K8fg",flipCardSide:"_gOFOtI",frontSide:"_Nvum2T",backSide:"_GnOSNY",flipCard_activeSideBack:"_KpS4xM",cardFlipHint:"_b8MbvM",cardDndControl:"_5N_SLx",flipCard_mobile:"_5BBRLx",cardSideContent:"_jfIngQ"},Yw=u8;var d8={image:"_xTdX5E",imageToolbar:"_POmqT_",divider:"_-DGI4h",imageContainer:"_OcIPAM",overlay:"_CdjRBJ"},Zw=d8;var sa=u(Zw);function f8(e,{image:t,isLoading:o}){let r=R();return ee(()=>{t.overlay&&t.overlay.color!==co?(r.current.style.background=t.overlay.color,r.current.style.opacity=`${t.overlay.opacity}`):(r.current.style.background="",r.current.style.opacity="")},[t.overlay,r]),e`
<div class=${sa.imageContainer}>
	${e(am,{image:t,isTemporary:o})}
	<div
		class=${sa.overlay}
		save-ref=${r}
	>
	</div>
</div>
`}function g8(e,{onReplaceImage:t,onDeleteImage:o,onCropImage:r}){return e`
<div class=${sa.imageToolbar}>
	${e(Le,{style:"ghostInversed",structure:"icon",icon:f(u_),onClick:t,tooltip:B("Common.Editor.ImageControls.MediaToolbar.Replace")})}
	<div class=${sa.divider}></div>
	${e(Le,{style:"ghostInversed",structure:"icon",icon:f(BB),onClick:r,tooltip:B("Common.Editor.CropImage.TooltipText")})}
	<div class=${sa.divider}></div>
	${e(Le,{style:"ghostInversed",structure:"icon",icon:f(l_),onClick:o,tooltip:B("Common.Editor.DeleteImage.TooltipText")})}
</div>`}function Xw(e,{imageData:t,readonlyMode:o,onUploadImage:r,onDeleteImage:n,onCropImage:i,onOpenFileDialog:a}){let s=sc(t.src),c=sm(r),l=E(()=>{c.browseRef.current(),a()},[c.browseRef,a]);function p(m){ni(m)}return e`
<div class=${sa.image} oninput=${p}>
	${e.renderIf(fp,()=>!o&&c)}
	${e(f8,{image:t,isLoading:s})}
	${e.renderIf(g8,()=>!o&&!s&&{onReplaceImage:l,onDeleteImage:n,onCropImage:i})}
</div>`}var y8={content:"_1hOYOM",imageWithDownload:"_kOBx_L",imageWithStub:"_EE_9DY",downloadStub:"_ZFqnpK",downloadStubText:"_-aYByZ",stubIcon:"_AJj5ZY"},Jw=y8;var ca=u(Jw);function h8(e,{onUploadImage:t,onOpenFileDialog:o}){let r=sm(t),n=E(()=>{r.browseRef.current(),o()},[r.browseRef,o]);function i(a){ni(a)}return e`
<div
	class=${ca.imageWithDownload}
	oninput=${i}
>
	${e(fp,r)}
	<div
		class=${ca.downloadStub}
		onclick=${n}
	>
		${e(CB,{})}
		<span class=${ca.downloadStubText}>
			${B("Roll.Editor.FlipCardsBlock.AddImage.Placeholder")}
		</span>
	</div>
</div>`}function x8(e){return e`
<div class=${ca.imageWithStub}>
	${e(rB,{},ca.stubIcon)}
</div>
`}function yu(e,{image:t,readonlyMode:o,onUploadImage:r,onOpenFileDialog:n,onDeleteImage:i,onCropImage:a}){return e`
<div class=${ca.content}>
	${e.switch(()=>t?f(Xw,{imageData:t,readonlyMode:o,onDeleteImage:i,onUploadImage:r,onOpenFileDialog:n,onCropImage:()=>a(t)}):o?f(x8):f(h8,{onUploadImage:r,onOpenFileDialog:n}))}
</div>`}var S8={imageSideContent:"_6rTSsO"},eP=S8;var C8=u(eP);function tP(e,{sideData:t,readonlyMode:o,onUploadImage:r,onOpenFileDialog:n,onDeleteImage:i,onCropImage:a}){return e`
<div class=${C8.imageSideContent}>
 	${e(yu,{image:t.image,readonlyMode:o,onUploadImage:r,onOpenFileDialog:n,onDeleteImage:i,onCropImage:a})}
</div>
`}var k8={cardParagraphWrapper:"_0C8vGR",flipCardParagraph:"_QnXUMG",flipCardParagraph_currentSide_front:"_NUlKzj",flipCardParagraph_currentSide_back:"_U7DDET",cardParagraphWrapper_verticalAlign_top:"_YJ9rFd",cardParagraphWrapper_verticalAlign_middle:"_9ZUJlP",cardParagraphWrapper_verticalAlign_bottom:"_F08Zss"},oP=k8;var hu=class extends Qo{constructor({paragraph:t,bemInfo:o,blockBeforeType:r,idPrefix:n,placeholder:i,prompt:a,paragraphIndex:s,flipCardSideRef:c}){super({paragraph:t,bemInfo:o,blockBeforeType:r,idPrefix:n,placeholder:i,prompt:a,paragraphIndex:s}),this._flipCardSideElement=c}getFontSize(t){if(t!=="auto")return t;let o=this._flipCardSideElement.current;if(!o)return 0;let{width:r}=o.getBoundingClientRect();return r>=420?24:r>=260?20:r>=200?18:16}};var rP=u(oP);function xu(e,{blockKey:t,cardKey:o,sideData:r,flipCardRef:n,activeSide:i,currentSide:a,isLock:s,readonlyMode:c,onHyperlinkOverFn:l}){let p=r.text,m=r.verticalTextAlign,d=D(()=>{let y=Hi(new hu({paragraph:p,placeholder:B("Roll.Editor.FlipCardsBlock.Card.TextPlaceholder"),idPrefix:"flip-card-paragraph",flipCardSideRef:n}),l,c,s),g=rP.flipCardParagraph.withMods({currentSide:a});return y.classList.add(...g.split(" ")),y},[a,n,s,l,p,c]);return e`
<div
	contenteditable=${!c&&!s}
	class=${rP.cardParagraphWrapper.withMods({verticalAlign:m})}
	data-name='flip-card-text-field'
	data-flip-cards-key=${t}
	data-card-key=${o}
	data-side=${i}
>
	${d}
</div>
`}function Su(e){return D(()=>{let t=e.background;if(!t||t.type!=="color"||t.color===co)return null;let[o,r,n]=Ae(t.color),i=t.opacity;return`background: rgba(${o}, ${r}, ${n}, ${i})`},[e])}var _8={imageWithTextSideContent:"_FCagVa",imageWrapper:"_gOCPSl",textWrapper:"_rQdZue",flipCardParagraph:"_dynhEM"},nP=_8;var oy=u(nP);function iP(e,{onUploadImage:t,onOpenFileDialog:o,onDeleteImage:r,onCropImage:n,...i}){let{sideData:a,readonlyMode:s}=i,c=a.image,l=Su(a);return e`
<div class=${oy.imageWithTextSideContent}>
	<div class=${oy.imageWrapper}>
		${e(yu,{image:c,readonlyMode:s,onUploadImage:t,onOpenFileDialog:o,onDeleteImage:r,onCropImage:n})}
	</div>
	<div class=${oy.textWrapper} style=${l}>
		${e(xu,i)}
	</div>
</div>`}var B8={textSideContent:"_crWHat",textSideBackgroundImage:"_ONgLS0",textSideBackgroundImageOverlay:"_u5NrI2"},aP=B8;var ry=u(aP);function sP(e,t){let{sideData:o}=t,r=Su(o);return e`
<div
	class=${ry.textSideContent}
	style=${r}
>
	${e.renderIf(v8,()=>o.background.type==="image"&&{background:o.background})}
	${e(xu,t)}
</div>`}function v8(e,{background:t}){let o=D(()=>({image:t.image,isTemporary:sc(t.image.src)}),[t.image]),r=E(()=>{let n=t==null?void 0:t.overlay;if(!n||n.color===co)return null;let[i,a,s]=Ae(n.color),c=n.opacity;return`background: rgba(${i}, ${a}, ${s}, ${c})`},[t==null?void 0:t.overlay]);return e`
<div class=${ry.textSideBackgroundImage}>
	${e(am,o)}
	<div
		class=${ry.textSideBackgroundImageOverlay}
		style=${r()}
	/>
</div>`}var Go=u(Yw);function Cu(e,{isLock:t,readonlyMode:o,onHyperlinkOverFn:r,cardData:n,activeSide:i,blockKey:a,showDnd:s,onUploadImage:c,onOpenFileDialog:l,onDeleteImage:p,onCropImage:m}){let d=P(),y=b8(d),g=E((h,C)=>{switch(h.type){case"image":return f(tP,{sideData:h,readonlyMode:o,onUploadImage:S=>c("content",S),onOpenFileDialog:l,onDeleteImage:()=>p("content"),onCropImage:S=>m==null?void 0:m("image",S)},Go.cardSideContent);case"imageWithText":return f(iP,{blockKey:a,cardKey:n.key,sideData:h,flipCardRef:y,activeSide:i,isLock:t,readonlyMode:o,onHyperlinkOverFn:r,onUploadImage:S=>c("content",S),onOpenFileDialog:l,onDeleteImage:()=>p("content"),onCropImage:S=>m==null?void 0:m("imageWithText",S),currentSide:C},Go.cardSideContent);case"text":return f(sP,{blockKey:a,cardKey:n.key,sideData:h,flipCardRef:y,activeSide:i,isLock:t,readonlyMode:o,onHyperlinkOverFn:r,currentSide:C},Go.cardSideContent);default:throw new Error(`Unknown side data: ${h}`)}},[i,a,n,t,r,o,c,l,p,m,y]);return e`
<div
	class=${Go.flipCard.withMods({activeSideBack:i==="back",readonly:o,mobile:Cr()})}
	data-card-key=${n.key}
	save-ref=${d}
>
	<div class=${Go.cardFlipContainer}>
		${e(cP,{cardData:n.frontSide,sideComponent:g(n.frontSide,"front"),readonlyMode:o,showDnd:s},Go.frontSide)}
		${e(cP,{cardData:n.backSide,sideComponent:g(n.backSide,"back"),readonlyMode:o,showDnd:s},Go.backSide)}
	</div>
</div>
`}function cP(e,{cardData:t,sideComponent:o,readonlyMode:r,showDnd:n}){return e`
<div class=${Go.flipCardSide}>
	${e(o)}
	${e.renderIf(Tb,()=>n&&{autotestData:"flip-card-dnd-button"},{className:Go.cardDndControl})}
	${e.renderIf(jw,()=>r&&{cardSideData:t},Go.cardFlipHint)}
</div>
`}function b8(e){let[t]=no(e),[o,r]=z(()=>({current:null}));return M(()=>{e.current&&r({current:e.current})},[e,t]),o}var T8={flipCardsList:"_xoSf_V",listContainer:"_MR7CWi",newCardPlaceholder:"_v5rcJR",newCardPlaceholder_visible:"_gu9nMJ",newCardPlaceholder_animated:"_Qqu1Id"},lP=T8;var ny=u(lP),w8=12,pP=180,P8=468,E8=599,M8=.93;var R8={inner:{defaultScreen:{gap:24,horizontalPadding:0},smallScreen:{gap:20,horizontalPadding:0}},outer:{defaultScreen:{gap:24,horizontalPadding:56},smallScreen:{gap:20,horizontalPadding:20}},"full-width":{defaultScreen:{gap:24,horizontalPadding:56},smallScreen:{gap:20,horizontalPadding:20}}};function mP(e,t){let{block:o,onContentWidthChange:r,insertionPoint:n}=t,i=R(),[a]=no(i),[s,c]=z(()=>null),[l,p]=z(()=>null),m=D(()=>{if(!i.current||!a)return null;let h=i.current,C=Uy(h,o.key);if(!(C!=null&&C.offsetWidth))return null;let{gap:S,horizontalPadding:_}=A8(C.offsetWidth,o.cardsLayout);c({gap:S,horizontalPadding:_});let x=oe.getFlipCardsCount(o),b=Math.min(o.maxCardsInRow,x),w=Math.floor((a+S)/(pP+S)),V=Math.min(b,w);return p(V),{"grid-template-columns":`repeat(${V}, minmax(${pP}px, ${P8}px))`,"padding-inline":`${_}px`,gap:`${S}px`}},[o,i,a]),d=(n==null?void 0:n.blockKey)===o.key,y=s&&s.gap,{updateSelectionWidth:g}=D8(l,y,d,r);return e`
<div
	class=${ny.flipCardsList}
	save-ref=${i}
>
	${e.renderIf(I8,()=>!!m&&{...t,updateSelectionWidth:g,flipCardsListStyles:m,currentCardsCountInRow:l})}
</div>
`}function I8(e,{isLock:t,readonlyMode:o,onHyperlinkOverFn:r,updateSelectionWidth:n,block:i,direction:a,activeSide:s,cardRenderFn:c=Cu,firstCardRef:l,onUploadImage:p,onOpenFileDialog:m,onDeleteImage:d,flipCardsListStyles:y,showPlaceholder:g,currentCardsCountInRow:h,insertionPoint:C}){let S=R(),_=i.cardsBlockMap,{visible:x,animated:b}=V8(S,!!g),w=O8(i,h,C);L8(i,S);let V=ne=>{if(w.before.includes(ne))return"start";if(w.after.includes(ne))return"end"},$=ny.newCardPlaceholder.withMods({visible:x,animated:b}),W=!o&&!t&&_.order.length!==1;return e`
<div
	class=${ny.listContainer}
	style=${y}
>
	${e.renderAll(_.order,ne=>se(ne,c,{isLock:t,direction:a,readonlyMode:o,onHyperlinkOverFn:r,cardData:T(_.blocks[ne]),activeSide:s,blockKey:i.key,onSizeChange:n,isFirstCard:_.order[0]===ne,firstCardRef:l,shifted:V(ne),showDnd:W,onUploadImage:(Ce,ke)=>{p({type:Ce,cardKey:ne,sideType:s,file:ke})},onOpenFileDialog:m,onDeleteImage:Ce=>{d({type:Ce,cardKey:ne,sideType:s})}}))}
	<div class=${$} save-ref=${S}/>
</div>
`}function D8(e,t,o,r){return{updateSelectionWidth:E(i=>{if(!t||!e||!r||!i)return;let a=e*i+(e-1)*t,s=o?a+w8*2:a;r==null||r(s)},[e,t,r,o])}}function A8(e,t){let{defaultScreen:o,smallScreen:r}=R8[t];return e>E8?o:r}function V8(e,t){let[o,r]=z(!1),[n,i]=z(!1),[a,s]=z(!1);return M(()=>{let c=()=>{s(!1),r(!1)},l=()=>s(!0),p=e.current;return t?(r(!0),requestAnimationFrame(()=>i(!0))):(i(!1),a||r(!1),p.addEventListener("transitionend",c),p.addEventListener("transitionstart",l)),()=>{p.removeEventListener("transitionend",c),p.removeEventListener("transitionstart",l)}},[e,t,a]),{animated:n,visible:o}}function L8(e,t){var r,n;let o=(n=(r=e.designSettings)==null?void 0:r.background)==null?void 0:n.color;M(()=>{let i=a=>{let s=J(a,{dark:so("border-default"),light:so("border-oncolor-default")});Dt(t.current,"--placeholder-color",s)};im({background:gu(o?{type:"color",...o}:null),lightnessLimitValue:M8,setStyle:i})},[o,t])}function O8(e,t,o){return D(()=>{if(!t||!o||o.blockKey!==e.key)return{before:[],after:[]};let{insertBefore:r,cardKey:n}=o,i=e.cardsBlockMap.order,a=i.indexOf(n),s=a%t,c=a-s,l=a+(t-s),p=r?a:a+1,m=i.slice(c,p),d=i.slice(p,l);return{before:m,after:d}},[e,t,o])}function uP(e){let t=D(()=>au(e),[e]);return E(o=>{let r,n=xe.toOrderedListItemBlock(o);if(n){let i=t[n.key];ie(i)&&(r={counterReset:i})}return r},[t])}function dP(e,{contentState:t,innerWidth:o=80,getBlockRendererFn:r,...n}){let i=t.blockMap,a=uP(i);return e`
<div style="--inner-width: ${o}%; --inner-max-width: ${o}%" >
	${e.renderAll(i.order,(s,c)=>{let l=T(i.blocks[s]),p=qw(i,c),m=a(l);return se(s,nu,{...n,...p,contextKey:s,block:l,listItemProps:m,content:r(l.type,{...n,...p,listItemProps:m,block:l,isSelected:!1})})})}
</div>
`}var F8={layoutBlock:"_voZ_R_",colContainer:"_tbuwmb",colContainer_verticalAlign_top:"_pK66Fz",colContainer_verticalAlign_middle:"_2VBu5x",colContainer_verticalAlign_bottom:"_7NFvLQ",col:"_6EgUTi",layoutBlock_type_layoutColumn1:"_v_Z47C",layoutBlock_type_layoutColumn2:"_Sk8JzI",layoutBlock_type_layoutColumn3:"_YJCPpy",layoutBlock_type_layoutColumn4:"_t7kUbb"},fP=F8;var ku=u(fP);function K8(e,{countCol:t,columnData:o,colKey:r,controlBinding:n,richTextRenderFn:i,getBlockRendererFn:a,...s}){let{width:c,...l}=o,p=s.block;return e`
<div
	class="${ku.colContainer.withMods({verticalAlign:p.verticalBlockAlign})}"
	style="--col-fr: ${c};"
>
	<div
		class="${ku.col} ${ku.col}-${c}"
		contenteditable=${!s.readonlyMode}
		data-context-col-key=${r}
	>
		${e(i,{...s,defaultTopPadding:null,contentState:l,innerWidth:100,getBlockRendererFn:a})}
	</div>
	${e(n)}
</div>`}function gP(e,{controlsBindings:t={},...o}){let r=o.block,n={type:to(Q.getColumnType(r))},i=D(()=>{let a=Yg(r,o.blockBeforeType,o.defaultTopPadding),s=Zg(r,o.blockAfterType);return{"min-height":`calc(${ZC(r)} - ${a}px - ${s}px)`}},[r,o.blockAfterType,o.blockBeforeType,o.defaultTopPadding]);return e`
<div
	class=${ku.layoutBlock.withMods(n)}
	style=${i}
	data-key=${r.key}
>
	${e.renderAll(r.colsOrder,a=>{let s=T(r.colsMap[a]);return se(a,K8,{...o,countCol:r.colsOrder.length,columnData:s,colKey:a,controlBinding:t[a]})})}
</div>`}var $8={orderedListItemBlock:"_W1MIWT",orderedListItemBlock_type_default:"_V8KlSP",orderedListItemBlock_indent_0:"_u52zQG",orderedListItemBlock_indent_1:"_AdlZow",orderedListItemBlock_indent_2:"_Hy-Q-K",orderedListItemBlock_type_custom:"_w2fw9E",paragraph:"_efoSsg"},yP=$8;var hP=u(yP);function xP(e,t){let{block:o,onHyperlinkOverFn:r,readonlyMode:n,isLock:i}=t,a=D(()=>K.create(o),[o]),s=hP.orderedListItemBlock.withMods({type:o.listViewType,indent:`${Co(o)}`});return e`
<div class=${s}>
    ${e(at,{propsType:"paragraphData",paragraph:a,idPrefix:"ordered-list-item-text",onHyperlinkOverFn:r,readonlyMode:n,isLock:i},hP.paragraph)}
</div>
`}var N8={unorderedListItemBlock:"_XsUYwB",unorderedListItemBlock_type_default:"_FZlwVw",unorderedListItemBlock_indent_0:"_hL5t_l",unorderedListItemBlock_indent_1:"_OZjAqA",unorderedListItemBlock_indent_2:"_o5D3om",unorderedListItemBlock_type_custom:"_ekMB7d",paragraph:"_ZGFv4M"},SP=N8;var CP=u(SP);function kP(e,t){let{block:o,onHyperlinkOverFn:r,readonlyMode:n,isLock:i}=t,a=D(()=>K.create(o),[o]),s=CP.unorderedListItemBlock.withMods({type:o.listViewType,indent:`${Co(o)}`});return e`
<div class=${s}>
    ${e(at,{propsType:"paragraphData",paragraph:a,idPrefix:"list-item-text",onHyperlinkOverFn:r,readonlyMode:n,isLock:i},CP.paragraph)}
</div>
`}function _u(e,t){let o=t.block,r=o.listType;switch(r){case"ul":return e(kP,{...t,block:o});case"ol":return e(xP,{...t,block:o});default:throw N(r),new Error(`Unknown list type: ${r}`)}}function _P(e,t,o){let r={"font-size":"","caret-color":"","line-height":""},n=t==null?void 0:t.style;if(n){let i=Ie.getFontSize(n);if(i&&i!=="auto"&&(r["font-size"]=q(i),r["line-height"]=o(i)),!Jy()&&Ok(e)===0){let a=Ie.getFontColor(n);a&&(r["caret-color"]=a)}}return r}var z8={paragraphBlock:"_bdxJmu",paragraphBlock_type_ul:"_uTCaHg",paragraphBlock_type_ol:"_PKTKCj",paragraphBlock_type_h1:"_x5J7kr",paragraphBlock_type_h2:"_s0BBe5",paragraphBlock_type_h3:"_Cbtbo1",paragraphBlock_type_text:"_JCQLUW",paragraphBlock_type_blockquote:"_NlCaQ-",paragraphBlock_type_pullquote:"_IOaOUy"},BP=z8;var H8=u(BP);function Bu(e,{block:t,blockBeforeType:o,blockAfterType:r,readonlyMode:n,isLock:i,onHyperlinkOverFn:a,direction:s,paragraphProps:c={}}){let l=D(()=>new Qo({paragraph:t,blockBeforeType:o,blockAfterType:r,direction:s,...c}),[r,o,s,t,c]);return e`
<div
	class=${H8.paragraphBlock.withMods({type:l.type()})}
	tabindex="-1"
>
	${Hi(l,a,n,i)}
</div>`}var Q8={snippetContent:"_tHk522",text:"_hyqFtW",heading:"_cnKVol",description:"_iilLf3",refContainer:"_F04AaK",favicon:"_4DhZXz",url:"_WDFrfL",image:"_Z1lY31"},vP=Q8;var sn=u(vP);function U8(e,{description:t}){return e`
<p class=${sn.description}>
	${t}
</p>`}function W8(e,{iconSrc:t}){return e`
<img class=${sn.favicon} src=${He(t)}/>
`}function q8(e,{imageSrc:t}){return e`
<img class=${sn.image} src=${He(t)}/>
`}function bP(e,{block:t}){return e`
<div class=${sn.snippetContent}>
	<div class=${sn.text}>
		<p class=${sn.heading}>
			${t.title}
		</p>
		${e.renderIf(U8,()=>!!t.description&&{description:t.description})}
		<div class=${sn.refContainer}>
			${e.renderIf(W8,()=>!!t.iconSrc&&{iconSrc:t.iconSrc})}
			<p class=${sn.url}>${ux(t.url)}</p>
		</div>
	</div>
	${e.renderIf(q8,()=>!!t.imageSrc&&{imageSrc:t.imageSrc})}
</div>`}var G8={tableBlock:"_abiR_r"},TP=G8;var wP=u(TP);var j8={tableScrollContainer:"_1HvUHB"},PP=j8;var EP=u(PP);function vu(e){return e<=27?"1.5":e<=31?"1.35":e<=56?"1.25":"normal"}var Y8={table:"_pe20sz",tableRow:"_znj95-",tableCell:"_LfION4",table_pinHeaderColumn:"_X36Uix",tableCellContent:"_NalZFk",tableCellContent_verticalAlign_top:"_0-8AGi",tableCellContent_verticalAlign_middle:"_GiXAzc",tableCellContent_verticalAlign_bottom:"_07hCTF",cellParagraph:"_LLFSB4"},MP=Y8;var bu=class extends Qo{getLineHeightForFontSize(t){return vu(t)}};var la=Ne({});function RP(e){let t=D(()=>({tableRef:{current:{}},onCellFocus:()=>{},onCellBlur:()=>{},onCellMouseOver:()=>{},onCellMouseOut:()=>{},onCellKeydown:()=>{},onHyperlinkOverFn:()=>{},onTableCellTabPress:()=>{},onTableCellShiftTabPress:()=>{},onTableCellEnterPress:()=>{},onTableCellUpArrowPress:()=>{},onTableCellDownArrowPress:()=>{},onTableCellRightArrowPress:()=>{},onTableCellLeftArrowPress:()=>{},getCellElementRef:{current:()=>null}}),[]);e.setContext(la,t)}function IP(e,{ref:t,onTableCellDownArrowPress:o,onTableCellEnterPress:r,onTableCellLeftArrowPress:n,onTableCellRightArrowPress:i,onTableCellShiftTabPress:a,onTableCellTabPress:s,onTableCellUpArrowPress:c}){ht(t,qe.TAB,rn(t,s),{shift:!1},!1,!1),ht(t,qe.TAB,rn(t,a),{shift:!0},!1,!1),ht(t,qe.ENTER,rn(t,r),{shift:!1},!1,!1),ht(t,qe.UP,rn(t,c,!1),void 0,!1,!1),ht(t,qe.DOWN,rn(t,o,!1),void 0,!1,!1),ht(t,qe.RIGHT,rn(t,i,!1),void 0,!1,!1),ht(t,qe.LEFT,rn(t,n,!1),void 0,!1,!1)}var Ks=u(MP);function DP(e,{block:t,isLock:o,readonlyMode:r}){let{getCellElementRef:n,tableRef:i}=re(la),a=P({});return M(()=>{i.current&&(n.current=s=>{let c=a.current[s],l=c==null?void 0:c.current;return l!=null?l:null})},[n,i]),e`
<table
	save-ref=${i}
	contenteditable="false"
	class="${Ks.table.withMods({pinHeaderColumn:Kk(t)})}"
>
	${e.renderAll(t.rowsOrder,s=>se(s,Z8,{block:t,rowKey:s,readonlyMode:r,isLock:o,cellsRefsMap:a}))}
</table>`}function Z8(e,{block:t,rowKey:o,readonlyMode:r,isLock:n,cellsRefsMap:i}){return e`
<tr
	contenteditable="false"
	class=${Ks.tableRow}
	data-row-key=${o}
>
	${e.renderAll(t.colsOrder,a=>se(a,X8,{rowKey:o,block:t,colKey:a,readonlyMode:r,isLock:n,cellsRefsMap:i}))}
</tr>`}function X8(e,{rowKey:t,block:o,colKey:r,readonlyMode:n,isLock:i,cellsRefsMap:a}){let s=R(),c=A(o.rowsMap[t]),l=A(c.colsMap[r]),p=ae(l.content);if(!p)throw new Error;M(()=>{a.current[l.key]=s},[l.key,a,s]);let{onCellBlur:m,onCellFocus:d,onCellKeydown:y,onCellMouseOut:g,onCellMouseOver:h,onHyperlinkOverFn:C,onTableCellTabPress:S,onTableCellShiftTabPress:_,onTableCellEnterPress:x,onTableCellUpArrowPress:b,onTableCellDownArrowPress:w,onTableCellRightArrowPress:V,onTableCellLeftArrowPress:$}=re(la),W=()=>d(l.key),ne=()=>m(l.key),Ce=()=>h({cellKey:l.key,rowKey:t,colKey:r}),ke=()=>g({cellKey:l.key,rowKey:t,colKey:r});IP(e,{ref:s,onTableCellTabPress:S,onTableCellShiftTabPress:_,onTableCellEnterPress:x,onTableCellUpArrowPress:b,onTableCellDownArrowPress:w,onTableCellRightArrowPress:V,onTableCellLeftArrowPress:$});let Et=D(()=>J8(l.meta),[l.meta]),ln=D(()=>_P(A(ae(l.content)),Fk(l),vu),[l]),da=Ks.tableCellContent.withMods({verticalAlign:l.verticalTextAlign}),TM=D(()=>new bu({paragraph:p,idPrefix:"divider-block"}),[p]);return e`
<td
	save-ref=${s}
	style=${Et}
	data-table-key=${o.key}
	data-cell-key=${l.key}
	data-row-key=${t}
	data-col-key=${r}
	contenteditable=${!n&&!i}
	class=${Ks.tableCell}
	onmouseover=${Ce}
	onmouseout=${ke}
	onfocus=${W}
	onblur=${ne}
	onkeydown=${y}
>
	${e(at,{propsType:"wrappedParagraph",wrappedParagraph:TM,isLock:i,readonlyMode:n,paragraphStyles:ln,onHyperlinkOverFn:C,paragraphClassName:`${Ks.cellParagraph}`,wrapperClassName:da})}
</td>`}function J8(e){let t="",o="",r=1;if(e.forEach(n=>{switch(n.name){case"backgroundColor":o=n.color;break;case"backgroundOpacity":r=n.opacity;break;case"charactersMeta":break;default:throw N(n),new Error(`unknown meta ${n}`)}}),o){let n=Ae(pt.whiteDefault),i=[...Ae(o),r],[a,s,c]=ti(n,i);t+=`background-color: rgb(${a}, ${s}, ${c});`}return t}var eN={tableShadowContainer:"_nftaWv",tableShadowContainer_dir_ltr:"_u2SMkU",tableShadowContainer_dir_rtl:"_GncTtr",tableShadowContainer_leftShadow:"_WsQqV-",tableShadowContainer_rightShadow:"_xE_292"},AP=eN;var tN=u(AP);function VP(e,{direction:t,tableRef:o,tableScrollContainerRef:r}){let[n,i]=z(!1),[a,s]=z(!1),c=E(()=>{if(!r.current)return;let l=r.current,p=t==="rtl"?Math.abs(Math.ceil(l.scrollLeft)):Math.ceil(l.scrollLeft),m=Math.ceil(l.scrollWidth-l.clientWidth);i(p>0),s(p<m)},[t,r]);return Ze({target:o,onResize:c}),Ze({target:r,onResize:c}),G(r,"scroll",c),e`
<div class=${tN.tableShadowContainer.withMods({dir:t,leftShadow:n,rightShadow:a})}></div>`}var oN={hiddenIndicator:"_SKvA2l",tooltipContent:"__V-PrS"},LP=oN;var OP=u(LP);function iy(e,t){let o=P(),{onHiddenContentClick:r,getHiddenContentIndicatorText:n}=re(wt);return g_({html:e,anchorRef:o,content:f(rN,{text:n(t)||""})}),e`
<button
	save-ref=${o}
	class=${OP.hiddenIndicator}
	onclick=${()=>r(t)}
>
	${e(_0,{})}
</button>`}function rN(e,{text:t}){return e`
<div
	class=${OP.tooltipContent}
>
	${t}
</div>
`}var nN={container:"_SWtzj5",container_backgroundColor_default:"_HipOvw",container_backgroundColor_white:"_ziAZ6m",childItemsContainer:"__SDqlh",headerWrapper:"_B0cj1Q",headerWrapper_position_default:"_7k02Pf",headerWrapper_showSeparator:"_DG4cCa",headerWrapper_position_first:"_dUxAhi",headerWrapper_position_last:"_8E_78b",childItemsContainer_showSeparator:"_eMpLmW"},FP=nN;var iN={moreButton:"_r_jFTr",moreButton_active:"_lF0NL0"},KP=iN;var aN=u(KP);function $P(e,t){let{pageId:o,id:r,onControlsOpenedChange:n}=t,[i,a]=z(!1),s=gx(wb.hidePageHeaderAction),c=[{id:"duplicate",text:B("Roll.Editor.Navigation.HeaderActions.Hide"),prefix:f(wB),autotestData:"hide-from-table-of-contents",helper:B("Roll.Editor.Navigation.HeaderActions.Hide.Helper"),onClick:()=>s({pageKey:o,headerKey:r})}],l=p=>{a(p),n&&n(p)};return e`
<div
	class=${aN.moreButton.withMods({active:i})}
>
	${e(e_,{controlType:"state",opened:i,onClose:()=>l(!1),createControl:()=>f(Le,{structure:"icon",icon:f(tB),style:"linkSecondary",size:"xSmall",onClick:()=>l(!i),autotestData:"navigation-panel-dropdown-button"}),createPopover:()=>i_({items:c,direction:io(),onItemClick:(p,m)=>{a(!1),m.onClick()},prefixType:"custom",width:"adaptive",height:"adaptive"}),align:"start"})}
</div>
`}var sN={container:"_SBRIqQ",container_active:"_vljsen",controlsContainer:"_wPYpIq",controlsBackLayer:"_vgJ1Dr",text:"_GNhE5i",control:"_dIO-A3"},NP=sN;var $s=u(NP);function zP(e,t){let{pageId:o,id:r,title:n,activeItemId:i,controlsParams:a}=t,s=ie(a)&&a.enabled,c=R(),{gotoHeaderHandler:l}=re(wt);return G(c,"click",p=>{p.defaultPrevented||(p.preventDefault(),l(o,r))}),e`
<div
	class=${$s.container.withMods({active:i===r})}
	save-ref=${c}
>
	${e(up,{text:nm(n),maxLines:2},$s.text)}
	${e.renderIf(cN,()=>s&&{pageId:o,id:r,onControlsOpenedChange:a.onControlsOpenedChange})}
</div>
`}function cN(e,{id:t,pageId:o,onControlsOpenedChange:r}){return e`
<div class=${$s.controlsBackLayer}>
	<div class=${$s.controlsContainer}>
		${e($P,{id:t,pageId:o,onControlsOpenedChange:r},$s.control)}
	</div>
</div>
`}var ay={style:"regular",backgroundColorStyle:"default"};var sy=u(FP),lN=20;function HP(e,t){if(t>=e.length)return"default";let o=T(e[t]);return t===0||o.offset!==T(e[t-1]).offset?"first":t===e.length-1||o.offset!==T(e[t+1]).offset?"last":"default"}function Tu(e,t){let{style:o=ay.style,backgroundColorStyle:r=ay.backgroundColorStyle,autotestData:n,items:i,hiddenContent:a}=t,s=R();return ee(()=>{De(s.current,Wc(o))},[s,o]),e`
<div
	class=${sy.container.withMods({backgroundColor:r})}
	data-at=${j(n)}
	save-ref=${s}
>
	${e.renderAll(i,(c,l)=>se(c.key,QP,{...t,item:c,position:HP(i,l)}))}
	${e.renderIf(iy,()=>a)}
</div>
`}function QP(e,t){let{pageId:o,item:r,activeItemId:n,itemControlsParams:i,withSeparator:a,position:s}=t,{key:c,title:l,childHeaders:p,offset:m}=r,d=D(()=>({marginInlineStart:lN*(m-1)}),[m]),y=!!p.length,g=!!a&&m>1;return e`
<div
	class=${sy.headerWrapper.withMods({showSeparator:g,position:s})}
	style=${d}
>
	${e(zP,{pageId:o,id:c,title:l,activeItemId:n,controlsParams:i})}
	${e.renderIf(pN,()=>y&&{...t,items:p,hiddenContent:null})}
</div>
`}function pN(e,t){let{items:o,hiddenContent:r,withSeparator:n}=t;return e`
<div class=${sy.childItemsContainer.withMods({showSeparator:!!n})}>
	${e.renderAll(o,(i,a)=>se(i.key,QP,{...t,item:i,position:HP(o,a)}))}
	${e.renderIf(iy,()=>r)}
</div>`}function wu(){let e=io();return J(e,{ltr:new Map([["inlineStart","right"],["inlineEnd","left"]]),rtl:new Map([["inlineStart","left"],["inlineEnd","right"]])})}var mN={list:"_5-APhn",itemContainer:"_sukyvC",itemContainer_mode_overview:"_CmeD6M",itemContainer_mode_navigation:"_1zMPzS",itemContainer_side_inlineStart:"_9vn9vs",itemContainer_side_inlineEnd:"_t7lGZj",itemContent:"_rPMgYu",itemContent_active:"_lfJN7Q",itemContent_itemType_h1:"_j9AvQh",itemContent_itemType_h2:"_Htzmu3",itemContent_itemType_h3:"_4yc2da"},UP=mN;var Pu=u(UP);function cy(e,t){return e`
<div class=${Pu.list}>
	${e.renderAll(t.items,o=>se(o.key,uN,{...t,item:o}))}
</div>
`}function uN(e,t){let o=f(dN,t),{item:r,mode:n,side:i}=t,{title:a,childHeaders:s}=r;return e`
<div class=${Pu.list}>
	${e.switch(()=>Ry(n,{overview:()=>o,navigation:()=>f(Ln,{component:o,tooltipText:a,size:"small",side:wu().get(i),align:"center",offset:{x:0,y:0},disablePointer:!0})}))}
	${e.renderIf(cy,()=>!!r.childHeaders.length&&{...t,items:s})}
</div>
`}function dN(e,{item:t,pageId:o,side:r,mode:n,activeItemId:i}){let a=R(),{gotoHeaderHandler:s}=re(wt),{key:c,headerType:l}=t;return G(a,"click",p=>{n==="navigation"&&!p.defaultPrevented&&(p.preventDefault(),s(o,c))}),e`
<div
	class=${Pu.itemContainer.withMods({mode:n,side:r})}
	save-ref=${a}
>
	<div
		class=${Pu.itemContent.withMods({itemType:l,active:i===c})}
	></div>
</div>
`}var fN={container:"_w4NROc",itemsContainer:"_jtquG_",itemsContainer_fixedWidth:"_W_qI79",editButton:"_GBvvF4"},WP=fN;var ly={side:"inlineStart",mode:"navigation"};var py=u(WP);function qP(e,t){let{autotestData:o,side:r=ly.side,mode:n=ly.mode,items:i,pageId:a,activeItemId:s,onEditClick:c,fixedWidth:l}=t,p=R();return G(p,"mouseover",()=>{t.mode==="overview"&&t.onHover&&t.onHover()}),e`
<div
	class=${py.container}
	data-at=${j(o)}
	save-ref=${p}
>
	<div class=${py.itemsContainer.withMods({fixedWidth:!!l})}>
		${e(cy,{items:i,pageId:a,activeItemId:s,mode:n,side:r})}
	</div>
	${e.renderIf(Ln,()=>ie(c)&&{component:f(Jr.OverlayButton,{type:"icon",icon:f(oB),style:"ghost",onClick:c,size:"xSmall",circleRadius:!1,scale:!0},py.editButton),tooltipText:B("Roll.Editor.Navigation.Edit"),size:"small",side:wu().get(r),align:"center",disablePointer:!0})}
</div>
`}var gN={chapterWrapper:"_JTTFlj",chapter:"_3s_zox",chapter_readonly:"_IDX0VZ",chapter_dragged:"_CMwFVM",chapter_selected:"_aSCVcN",childHeadersWrapper:"_dlXqb1",content:"_5doJhw",content_minimized:"_KKOtM6",chapter_disabled:"_JIuw_x",text:"_RR2XkB",moreButton:"_Xw9uzQ",icon:"_65imwD"},GP=gN;var cn=u(GP),yN=200;function hN(e,{id:t,title:o,disableTooltip:r}){let{renderPageControls:n,renderPagePrefix:i}=re(wt);return e`
<div
	class=${cn.content.withMods({minimized:!1})}
>
	${e(i(t),cn.icon)}
	${e(up,{text:nm(o),maxLines:2,disableTooltip:r},{className:cn.text})}
	${e(n(t,cn.moreButton))}
</div>`}function xN(e){let t=f(wp);return e`
<div
	class=${cn.content.withMods({minimized:!0})}
>
	${e(t)}
</div>`}var SN=4;function jP(e,{page:t,state:o,isSelected:r,isMinimized:n,showHeaders:i,autotestData:a,selectedHeaderId:s,scrollContainerRef:c,headerControlsParams:l}){let{key:p,title:m,childHeaders:d,hiddenContent:y}=t,g=R();M(()=>{r&&y_({itemRef:g,containerRef:c,scrollDuration:yN})},[r,g,c]);let h=i&&r&&!n&&(!!d.length||!!y)&&o==="normal";return e`
<div
	class=${cn.chapterWrapper}
	save-ref=${g}
>
	${e(kN,{id:p,title:m,state:o,isSelected:r,isMinimized:n,autotestData:a})}
	${e.renderIf(CN,()=>h&&{pageId:p,hiddenContent:y,childHeaders:d,selectedHeaderId:s,headerControlsParams:l})}
</div>`}function CN(e,{pageId:t,hiddenContent:o,childHeaders:r,selectedHeaderId:n,headerControlsParams:i}){return e`
<div class=${cn.childHeadersWrapper}>
	${e(Tu,{pageId:t,items:r,withSeparator:!0,hiddenContent:o,activeItemId:n,itemControlsParams:i})}
</div>`}function kN(e,{id:t,title:o,isSelected:r,isMinimized:n,autotestData:i,state:a}){let s=R(),{isReadonly:c,isPagesDraggable:l,gotoPageHandler:p,isPageDisabled:m,getPageTooltip:d}=re(wt),y=d(t)||"",g=!!y,h=m(t),C=V=>{V.defaultPrevented||h||c||p(t)},S=Kl(),_=P(0),x=P(!1);Eh({ref:s,enabled:l,onStart:V=>{_.current=V.clientY},onDrag:V=>{let $=Math.abs(V.clientY-_.current)>SN;!x.current&&$&&(x.current=!0,S(t,V))},onEnd:()=>{x.current=!1,_.current=0}});let[b,w]=z(!1);return Po(s,{focused:b,onFocusedChange:w}),G(s,"keydown",V=>{V.keyCode===qe.ENTER&&s.current.click()}),Xr({html:e,anchorRef:s,text:y,show:!!y}),e`
<div
	save-ref=${s}
	class=${cn.chapter.withMods({selected:r,dragged:a==="dragged",readonly:c,disabled:h})}
	onclick=${C}
	data-at=${j(i)}
	tabindex="0"
>
	${e.switch(()=>n?f(xN):f(hN,{id:t,title:o,disableTooltip:g}))}
</div>`}var _N={list:"_fZDGto"},YP=_N;var BN=u(YP);function ZP(e,{pages:t,selectedPageId:o,isMinimized:r,showHeaders:n,scrollController:i,selectedHeaderId:a,scrollContainerRef:s,headerControlsParams:c}){let{setPagesOrderHandler:l}=re(wt);return pe(e,f($l,{items:t,getItemId:m=>m.key,onItemsChange:m=>{l(m.map(d=>d.key))},getItemBinding:(m,d,y)=>{let g=o===m.key;return se(m.key,jP,{page:m,state:y,isSelected:g,isMinimized:r,showHeaders:n,autotestData:{[Pa]:"navigation-panel-chapter",[Tx]:g?"selected":"unselected"},selectedHeaderId:a,scrollContainerRef:s,headerControlsParams:c})},scrollController:i},BN.list))}var vN={emptyState:"_EWFyDR"},XP=vN;var bN=u(XP);function JP(e,{text:t}){return e`
<div class="${bN.emptyState}">
	${t}
</div>`}var TN={scrollContainer:"_ZVl_PX",scrollContainer_minimized:"_Ky05FE",minimizedPanel:"_1CHroT",navigationList:"_kfDoD0"},eE=TN;var my=u(eE);function tE(e,{pages:t,selectedPageId:o,isMinimized:r,showHeaders:n,selectedHeaderId:i,headerControlsParams:a}){let s=R(),c=Mr(s),{getEmptyStateText:l}=re(wt);return e`
<div
	save-ref=${s}
	class=${my.scrollContainer.withMods({minimized:r})}
	data-at=${j("navigation-panel-item-list")}
>
	${e.switch(()=>{if(t.length>1||!n)return f(ZP,{pages:t,selectedPageId:o,isMinimized:r,showHeaders:n,scrollController:c,selectedHeaderId:i,scrollContainerRef:s,headerControlsParams:a});let p=T(t[0]);if(p.childHeaders.length||p.hiddenContent)return r?f(qP,{items:p.childHeaders,pageId:p.key,activeItemId:i,mode:"overview"},my.minimizedPanel):f(Tu,{pageId:p.key,items:p.childHeaders,activeItemId:i,hiddenContent:p.hiddenContent,withSeparator:!0,itemControlsParams:a},my.navigationList);let m=l();return m&&!r?f(JP,{text:m}):null})}
</div>`}function oE(e,{block:t}){let o=t,{src:r,fileName:n}=o;return pe(e,f(uw,{...o,isPlayer:!0,onDownload:()=>{let i=document.createElement("a");i.setAttribute("href",He(A(r))),i.setAttribute("download",n),i.click()}}))}var wN={codeBlockView:"_LvoiLK",codeTextWrapper:"_LfJZUc",codeBlockControls:"_5L8M-u",languageLabel:"_Y4DfL_",copyButton:"_2mkbAH",codeTextWrapper_overflowLeft:"_Xu73_C",codeTextWrapper_overflowRight:"_U-TuH0",codeTextWrapper_rtl:"_iIaMXL",codeText:"_4EFE4J",codeText_empty:"_qDy74W"},rE=wN;var uy=Mt(iE());function aE(e){var o;let t=[];for(let r of e)if(r.nodeType===pc.TEXT){if(r.textContent){let n=document.createElement("span");n.textContent=r.textContent,t.push(n)}}else r.nodeType===pc.ELEMENT&&(r.childNodes.length===1&&((o=r.childNodes[0])==null?void 0:o.nodeType)===pc.TEXT?t.push(r):t.push(...aE(r.childNodes)));return t}function sE(e,t){uy.default.configure({classPrefix:`${dy}-`});let o=uy.default.highlight(e,{language:t}),r=document.createElement("div");r.innerHTML=o.value;let n=aE(r.childNodes),[i]=n.slice(-1);if(!i)return xo.ZERO_WIDTH_SPACE;i.innerHTML.endsWith(`
`)&&(i.innerHTML+=xo.ZERO_WIDTH_SPACE);let a=document.createElement("div");return a.append(...n),a.innerHTML}var pa=u(rE),dy="code-text";function PN(e,{textToCopy:t}){let o=()=>{Qy(t),kS(B("Roll.Common.CodeBlock.Copied"))};return Le(e,{style:"linkSecondary",structure:"text",text:B("Roll.Common.CodeBlock.CopyCode"),onClick:o,size:"xSmall"})}function EN(e,{block:t}){return e`
<div class=${pa.codeBlockControls}>
	${e(PN,{textToCopy:Ke.getCharactersText(t.paragraph)},pa.copyButton)}
	<div class=${pa.languageLabel}>${w0(t.language)}</div>
</div>`}function MN(e,t){let[o,r]=z(!1),[n,i]=z(!1),a=Mr(e),s=E(()=>{let c=t==="rtl"?Math.abs(Math.ceil(e.current.scrollLeft)):Math.ceil(e.current.scrollLeft),l=Math.ceil(e.current.scrollWidth-e.current.clientWidth),p=c>0,m=c<l;o!==p&&r(p),n!==m&&i(m)},[t,e,o,n]);return ox(a,s),Ze({target:e,onResize:s}),{overflowLeft:o,overflowRight:n}}function RN(e,{block:t,readonlyMode:o,isLock:r}){let n=!r&&!o,i=o?null:B("Roll.Common.CodeBlock.Placeholder"),a=Pe(pa.codeText.withMods({empty:K.isEmptyParagraph(t.paragraph)}),dy),s=D(()=>sE(Ke.getCharactersText(t.paragraph),t.language),[t.language,t.paragraph]),c=t.fontSize==="auto"?{lineHeight:"auto"}:{fontSize:q(t.fontSize),lineHeight:pp(t.fontSize)};return e`
<pre
    class=${a}
    data-key=${t.paragraph.key}
    contenteditable=${n}
	data-placeholder=${i}
	style=${c}
>${{html:s}}</pre>`}function IN(e,{block:t,readonlyMode:o,isLock:r,direction:n}){let i=R(),a=!o&&!r,s=MN(i,n);return e`
<div
	save-ref=${i}
	class=${pa.codeTextWrapper.withMods({rtl:n==="rtl",...s})}
	contenteditable="${a}"
>
	${e(RN,{block:t,readonlyMode:o,isLock:r})}
</div>`}function Eu(e,{block:t,isLock:o,readonlyMode:r,onHyperlinkOverFn:n}){let i=t;return e`
<div class=${pa.codeBlockView} dir="ltr">
	${e(IN,{block:i,isLock:o,readonlyMode:r,onHyperlinkOverFn:n,direction:"ltr"})}
	${e(EN,{block:i})}
</div>`}function DN(e,t="_blank"){let o=document.createElement("a");o.setAttribute("target",t),o.setAttribute("href",e),o.click(),o.remove()}function cE(e,t){let o=t.block,r=mo.isEnabled(o.zoom),n=po.isEnabled(o.link),i=Cp(e,{style:"light"}),a=()=>{let c=po.getUrl(o.link);c&&DN(c,"_blank")},s=()=>{let c=Xt(o);i(He(c),o)};return pe(e,f(vw,{...t,onClick:()=>{n?a():r&&s()},isPlayer:!0}))}var lE=fw,AN=740;function Mu(e,{renderImageFn:t=cE,block:o,isSelected:r,...n}){var y;let i=R(),a=o,s=Y.isOneImageCollage(a),c=s,l=s?(y=a.images[0])==null?void 0:y.key:null,{imagesGrows:p}=gw(a.images),m=VN(a,c,i),d=!0;return e`
<div
	save-ref=${i}
	data-key=${a.key}
	class=${lE.collageBlockWrapper.withMods({singleImage:c})}>
	<figure
		class=${lE.collageBlock.withMods({lock:!1,addingAnimated:!1,dndMode:!1,oneImage:s,readOnly:d,selected:r})}
		style=${m}
		data-key=${a.key}
		data-collaged-key=${l}
		data-block-type="${k.COLLAGE}"
		draggable="false"
		contenteditable="false"
		tabindex="-1"
	>
		${e.renderAll(a.images,(g,h)=>se(g.key,t,{...n,isSelected:r,block:g,grow:p[h],isFirst:!h,isLast:h===a.images.length-1,readonlyMode:d,isLock:!1,preventCollaging:c},"media-block_collaged"))}
	</figure>
</div>`}function VN(e,t,o){let[r]=no(o);if(Y.isOneImageCollage(e)&&(document.body.clientWidth<=AN||e.alignment==="float-left"||t)){let n=e.images[0],i=St(n).width;return{[i<r?"min-width":"width"]:q(i)}}return null}function pE(e){let t=e.current;return G0(t,q0)}function LN(e){let t=pE(e),o=t&&t.parentElement;return o&&o.nextElementSibling}function mE(e,{block:t,continueProps:o,...r}){let n=R(),i=E(()=>{if(o){let a=LN(n);o.onContinueClick(t.key);let s=pE(n),c=s?s.getBoundingClientRect().height:0;a&&o.scrollToContinueGroupFn(a,c)}},[t.key,o,n]);return e`
<div
	data-key=${t.key}
	save-ref=${n}
	contenteditable="false"
	tabindex="-1"
>
	${e(Mw,{...r,block:t,onClick:i,readonlyMode:!0})}
</div>`}var ON=Iw;function Ru(e,{block:t,onHyperlinkOverFn:o,direction:r}){let n=t;return e`
<figure
	data-key=${n.key}
	class=${ON.dividerBlock.withMods({lock:!1})}
	contenteditable="false"
>
	${e(Ww,{block:n,readonlyMode:!0,isLock:!1,onHyperlinkOverFn:o,direction:r})}
</figure>
`}var FN={embedIframe:"__HOfJl",embedIframe_rounded:"_ojugKT",embedIframe_active:"_fpYqGm"},uE=FN;var KN=u(uE);function dE(e,{block:t,active:o,onContentResize:r}){let n=E(i=>{let a=i.target;try{let s=T(a.contentWindow),c=new ResizeObserver(()=>{c.unobserve(s.document.body),r(s.document.body.clientHeight/s.document.body.clientWidth)});c.observe(s.document.body)}catch{}},[r]);return e`
<iframe
	onload=${n}
	src=${t.src}
	allowfullscreen
	loading="lazy"
	class=${KN.embedIframe.withMods({rounded:t.alignment!=="full",active:o})}
>
</iframe>
`}var $N={embedContainer:"_eGloKG",embedContent:"_Fu-q-a",embedBlockPlaceholder:"_CCnS7m"},fE=$N;var fy=u(fE);function NN(e,t){return e.width?{"padding-bottom":`${(t||e.height/e.width)*100}%`}:{width:"100%",height:q(e.height)}}function gE(e,{block:t,isDraggable:o=!1,isActive:r}){let[n,i]=z(0),a=NN(t,n);return e`
<div class=${fy.embedContainer} draggable=${o}>
	${e(dE,{block:t,active:r,onContentResize:i},fy.embedContent)}
	<div class=${fy.embedBlockPlaceholder} style=${a}></div>
</div>`}var zN={paragraphWrapper:"_nxnjsi",embedText:"_0rWVkW",captionWrapper:"_zAJBrj"},yE=zN;var gy=u(yE);function hE(e,{block:t,isLock:o,readonlyMode:r,onHyperlinkOverFn:n,isSelected:i}){let a=R(),s=je.getText(t.caption),c=Pe(gy.embedText,"embed-text"),l=K.create({key:t.key,characters:s,textAlign:"center"});return M(()=>{a.current&&(a.current.style.display=s.length?"block":"")},[s.length,a]),e`
<div
	save-ref=${a}
	class=${gy.captionWrapper}
>
	${e(at,{propsType:"paragraphData",paragraph:l,idPrefix:"embed-block",isLock:o,readonlyMode:r,onHyperlinkOverFn:n,placeholder:i?B("Roll.Editor.MediaCaptionDefaultText"):"",paragraphClassName:c},gy.paragraphWrapper)}
</div>`}var HN={embedBlockView:"_bK_yDE",embedContainer:"_5yqKGu",embedBlockView_active:"_bpw5q-"},xE=HN;var SE=u(xE);function Iu(e,{block:t,isLock:o,readonlyMode:r,onHyperlinkOverFn:n,isSelected:i,isActive:a=!0,isDraggable:s=!1}){let c=t,l=je.isEnabled(c.caption);return e`
<div
	class=${SE.embedBlockView.withMods({active:a})}
>
	${e(gE,{block:c,isDraggable:s,isActive:a},SE.embedContainer)}
	${e.renderIf(hE,()=>l&&{block:c,isLock:o,readonlyMode:r,onHyperlinkOverFn:n,isSelected:i})}
</div>`}var QN={playerFlipCard:"_qpVP-z"},CE=QN;var UN=u(CE);function kE(e,t){let o=P(),[r,n]=z(t.activeSide),i=E(a=>{let s=a.target&&WN(a.target);!a.defaultPrevented&&!s&&n(r==="front"?"back":"front")},[r]);return e`
<div
	class=${UN.playerFlipCard}
	save-ref=${o}
	onclick=${i}
>
	${e(Cu,{...t,activeSide:r})}
</div>
`}function WN(e){return e.tagName===er.A}var qN={flipCardsBlock:"_7OxlX5",blockMenuButton:"_6Dt4ad",flipCardsBlock_align_inner:"_EMD1ne",flipCardsBlock_align_outer:"_UlbgXW",flipCardsBlock_align_fullWidth:"_Rdzxok"},_E=qN;var GN=u(_E);function BE(e,{block:t,isLock:o,onHyperlinkOverFn:r,direction:n}){let i=t,a=GN.flipCardsBlock.withMods({align:to(i.cardsLayout)});return e`
<figure
	class=${a}
	contenteditable="false"
	draggable="false"
>
	${e(mP,{direction:n,block:i,isLock:o,readonlyMode:!0,onHyperlinkOverFn:r,activeSide:"front",cardRenderFn:kE,onUploadImage:()=>{},onOpenFileDialog:()=>{},onDeleteImage:()=>{}})}
</figure>
`}var jN={noteBlockView:"_u8ekNz",dndLayer:"_2QjNOP",noteTextWrapper:"_t0bkOC",noteTextWrapper_withIcon:"_6aXbIU",paragraph:"_1xpnF_",noteText:"_xhrAxS",iconWrapper:"_J5jWbO",iconWrapper_withIcon:"_k_APHs"},vE=jN;var ma=u(vE);function YN(e){switch(e){case"correct":return f(fB);case"incorrect":return f(gB);case"info":return f(pB);case"minus":return f(mB);case"plus":return f(uB);case"question":return f(dB);case"warning":return f(yB);case"bulb":return f(lB);case"withoutIcon":return null;default:Qe(e)}}function ZN(e,{iconBinding:t,iconColor:o}){return e`
<div
	style=${{color:o.color,opacity:o.opacity}}
>
	${e(t)}
</div>`}function XN(e,{backgroundColor:t,draggable:o}){return e`
<div
	draggable=${o}
	class=${ma.dndLayer}
	style=${{background:t.color,opacity:t.opacity}}
></div>`}function Du(e,{block:t,isLock:o,onHyperlinkOverFn:r,readonlyMode:n}){var d,y;let i=t,a=!n&&!o,s=YN(i.noteType),c=D(()=>K.create({key:i.key,characters:i.characters}),[i.characters,i.key]),l=Xe(ma.noteText,"note-text"),p=(d=i.customBackgroundColor)!=null?d:Oa.getBackgroundColorData(i.noteType,!0),m=(y=i.customIconColor)!=null?y:Oa.getIconColorData(i.noteType,!0);return e`
<div class=${ma.noteBlockView}>
	${e(XN,{backgroundColor:p,draggable:a})}
	<div class=${ma.iconWrapper.withMods({withIcon:!!s})}>
		${e.renderIf(ZN,()=>!!s&&{iconBinding:s,iconColor:m})}
	</div>
	<div
		class=${ma.noteTextWrapper.withMods({withIcon:!!s})}
		contenteditable="false"
	>
		${e(at,{propsType:"paragraphData",paragraph:c,idPrefix:"note-text",onHyperlinkOverFn:r,readonlyMode:n,isLock:o,paragraphClassName:l,placeholder:B("Roll.Note.Placeholder")},ma.paragraph)}
	</div>
</div>`}var JN={snippetBlock:"_Y8Awh3"},bE=JN;var ez=u(bE);function Au(e,{block:t}){let o=t;return e`
<figure
	data-key=${t.key}
	class=${ez.snippetBlock}
	contenteditable="false"
>
	<a href="${o.url}" target="_blank">
		${e(bP,{block:o})}
	</a>
</figure>
`}function TE(e,{src:t,posterSrc:o}){function r(i){ni(i)}let n=o?t:`${t}#t=0.001`;return e`
<video
	src=${He(n)}
	poster=${o&&He(o)}
	preload="metadata"
	controls
	controlsList="nodownload"
	oninput=${r}
></video>`}var tz={videoBlockView:"_b_S0CN",videoContainer:"_yI9a6-",videoBlockView_loading:"_57oZlA",videoBlockView_active:"_HMrkUD"},wE=tz;var oz={videoContainer:"_iH5Qj1",video:"_2tWZHw",videoPlaceholder:"_TIVCd-"},PE=oz;var yy=u(PE);function EE(e,{content:t,width:o,height:r,isDraggable:n=!1}){let i=o>=r?r/o*100:100;return e`
<div
	draggable=${n}
	class=${yy.videoContainer}
>
	${e(t,yy.video)}
	<div class=${yy.videoPlaceholder} style=${{"padding-bottom":`${i}%`}}></div>
</div>`}var rz={paragraphWrapper:"_H3MBAU",videoText:"_a82uE2",captionWrapper:"_e8gGky"},ME=rz;var hy=u(ME);function RE(e,{block:t,isLock:o,readonlyMode:r,onHyperlinkOverFn:n,isSelected:i}){let a=R(),s=je.getText(t.caption),c=K.create({key:t.key,characters:s,textAlign:"center"});M(()=>{a.current&&(a.current.style.display=s.length?"block":"")},[s.length,a]);let l=Pe(hy.videoText,"video-text");return e`
<div
	save-ref=${a}
	class=${hy.captionWrapper}
>
	${e(at,{propsType:"paragraphData",paragraph:c,idPrefix:"video-block",isLock:o,readonlyMode:r,onHyperlinkOverFn:n,placeholder:i?B("Roll.Editor.MediaCaptionDefaultText"):"",paragraphClassName:l},hy.paragraphWrapper)}
</div>`}var IE=u(wE);function Vu(e,{block:t,isLock:o,readonlyMode:r,onHyperlinkOverFn:n,content:i,isSelected:a,isActive:s=!0,isLoading:c=!1,isDraggable:l=!1}){let p=t,m=je.isEnabled(p.caption);return e`
<div
	class=${IE.videoBlockView.withMods({active:s,loading:c})}
>
	${e(EE,{content:i||f(TE,{src:p.src,posterSrc:p.posterSrc}),width:p.width,height:p.height,isDraggable:l},IE.videoContainer)}
	${e.renderIf(RE,()=>m&&{block:p,isLock:o,readonlyMode:r,onHyperlinkOverFn:n,isSelected:a})}
</div>`}function DE(e,t){let o=E((r,n)=>{switch(r){case lo.DIVIDER:return f(Ru,n);case lo.EMBED:return f(Iu,n);case lo.NOTE:return f(Du,n);case lo.VIDEO:return f(Vu,n);case lo.COLLAGE:return f(Mu,n);case lo.PARAGRAPH:return f(Bu,n);case lo.LIST_ITEM:return f(_u,n);case lo.SNIPPET:return f(Au,n);case lo.CODE:return f(Eu,n);default:throw Error(`Unsupported layout block ${r}`)}},[]);return pe(e,f(gP,{...t,getBlockRendererFn:o,richTextRenderFn:dP,readonlyMode:!0}))}var AE="continue-block-group",nz=`${AE}_hidden`,Lu=class{constructor(t,o){this.continueButtonKey=t,this.blockMap=Ve(o,r=>r.key)}},Ou=class extends cu{constructor({state:t,continueKey:o,direction:r=io(),defaultTopPadding:n}){super({blockName:"player-rich-text-editor",blockMap:t.blockMap,direction:r,defaultTopPadding:n,autotestData:"player-rich-text-editor"}),this._state=t,this._continueKey=o,this._passedContinueButtonKeys=[],this._invalidatePassedContinueButtonKeys()}updateState(t,o,r=null){this._state===t&&this._continueKey===o||(this._state=t,this._continueKey=o,this._defaultTopPadding=r,this.updateBlockMap(this._state.blockMap),this._invalidatePassedContinueButtonKeys(),this._sheduleRender())}_invalidatePassedContinueButtonKeys(){if(!this._continueKey)return;let t=[],o=this._getBlockMap();for(let r of o.order)if(we.toContinueBlock(o.blocks[r])&&t.push(r),r===this._continueKey)break;this._passedContinueButtonKeys=t}isHidden(t){let o=we.toContinueBlock(t);return o?this._passedContinueButtonKeys.includes(o.key):!1}_getContinueGroupId(t){return t.blockMap.order.reduce((o,r)=>`${o}-${r}`,"")}_getContinueGroups(){let t=this._getBlockMap(),o=[],r=[];if(Te.forEach(t,n=>{r.push(n);let i=we.toContinueBlock(n);if(i){let a=new Lu(i.key,r);o.push(a),r=[]}}),r.length){let n=new Lu("none",r);o.push(n)}return o}_getVisibleBlocks(){return ze(this._getBlockMap()).filter(t=>!this.isHidden(t))}_renderContinueGroups(){this._resetRenderBlockIndex();let t=this._passedContinueButtonKeys.indexOf(this._continueKey);return this._getContinueGroups().map((o,r)=>{let n=super._renderBlocks(o.blockMap),i=Ut(this._getGroupRelatedData(),this._getContinueGroupId(o)),a=r>t+1,s=Pe(AE,a?nz:null);return i`<div class=${s}>${n}</div>`})}_renderContent(){return this._renderContinueGroups()}};var iz={quizBlock:"_2IopOg",quizPlayer:"_csZ0DG",infoMessagesLayout:"_8NpCFg"},VE=iz;var xy=u(VE),az={title:"",previewMode:!0,proctoringInProgress:!1,subscriptionProduct:null,watermarkUrl:"",showWatermark:!1};function LE(e){let t={sessionState:e.sessionState,attempts:e.attempts,currentSlide:e.currentSlide,typeInQuestionsState:e.typeInQuestionsState,choicesQuestionsState:e.choicesQuestionsState,sequenceQuestionsState:e.sequenceQuestionsState,matchingQuestionsState:e.matchingQuestionsState,questionsViewOrder:e.questionsViewOrder,choicesViewOrderMap:e.choicesViewOrderMap,timeSpent:e.timeSpent,timerStartTime:e.timerStartTime,timerStopTime:e.timerStopTime,bestAttempt:e.bestAttempt};return Dp(t)}function OE(e,t){let o=P(),r=t.block,n=T(t.quizProps),i=n.quizState,a=r.longreadQuizId,s=n.setQuizApi,[c,l]=z(()=>LE(i));M(()=>{l(m=>{let d=LE(i);return Object.assign(m,d)})},[i]);let p=E(m=>{let d=r.settings.main.isGraded;s({quizBlockKey:r.key,quizId:a,isGraded:d,api:m})},[r.settings.main.isGraded,r.key,a,s]);return e.setContext(Zi,o),e`
	<div
		class=${xy.quizBlock}
		data-key=${r.key}
	>
		${e(G2,{...az,quiz:r.state,settings:r.settings.main,direction:t.direction,persistedState:c,initApi:p,insertType:"builtIn",scrollableContainerRef:n.scrollableContainerRef},xy.quizPlayer)}
		<div save-ref=${o} class=${xy.infoMessagesLayout}></div>
	</div>`}var sz=EP;function FE(e,{tableScrollContainerRef:t,block:o,readonlyMode:r,isLock:n,direction:i}){return e`
<div
	save-ref=${t}
	class="${sz.tableScrollContainer}"
	contenteditable="false"
>
	${e(DP,{block:o,direction:i,isLock:n,readonlyMode:r})}
</div>`}var cz=wP;function KE(e,t){return RP(e),e`
<div>
	${e(lz,t)}
</div>`}function lz(e,{block:t,direction:o,isLock:r,readonlyMode:n}){let i=t,a=P(),{tableRef:s}=re(la);return e`
<figure
	class=${cz.tableBlock}
	contenteditable="false"
	draggable="false"
	data-key=${t.key}
	tabindex="-1"
>
	${e(FE,{block:i,tableScrollContainerRef:a,direction:o,isLock:r,readonlyMode:n})}
	${e(VP,{direction:o,tableRef:s,tableScrollContainerRef:a})}
</figure>`}function $E({getState:e,updateStateFn:t,setQuizApi:o,scrollableContainerRef:r,scrollToContinueGroupFn:n,headerCoverPosition:i}){let a=be.selectedSection(e()),s=a.contentState,c=a.continueButtonKey,l=Xp(a.header,i),p=new Ou({state:s,continueKey:c,defaultTopPadding:l}),m=g=>({...g,quizProps:{quizState:T(pz(e(),g.block.key)),setQuizApi:o,scrollableContainerRef:r}}),d=g=>({...g,continueProps:{onContinueClick:h=>t(C=>{be.selectedSection(C).continueButtonKey=h}),isHidden:p.isHidden(g.block),scrollToContinueGroupFn:n}});return[[k.PARAGRAPH,Bu,g=>g],[k.COLLAGE,Mu,g=>g],[k.EMBED,Iu,g=>g],[k.QUIZ,OE,m],[k.ATTACHMENT,oE,g=>g],[k.NOTE,Du,g=>g],[k.TABLE,KE,g=>g],[k.FLIP_CARDS,BE,g=>g],[k.DIVIDER,Ru,g=>g],[k.CONTINUE,mE,d],[k.VIDEO,Vu,g=>g],[k.SNIPPET,Au,g=>g],[k.CODE,Eu,g=>g],[k.LAYOUT,DE,g=>g],[k.LIST_ITEM,_u,g=>g]].forEach(([g,h,C])=>{p.registerRenderer({blockType:g,renderFn:S=>p.bindingBlockRenderer(h,C(S),g)})}),p}function pz(e,t){let n=be.selectedSection(e).contentState.blocksState.find(i=>t===i.key);return n&&n.type===k.QUIZ?n:null}function NE(e,{meta:t,kicker:o,title:r,subtitle:n,designSettings:i,coverPosition:a="over",showKicker:s=!0}){return As.PageHeader(e,{background:i.coverInfoState?{src:i.coverInfoState.src,editedSrc:i.coverInfoState.editedSrc,color:i.coverInfoState.color,opacity:i.coverInfoState.opacity,width:i.coverInfoState.width,height:i.coverInfoState.height,crop:i.coverInfoState.crop,isLoading:!1}:null,content:{textColor:i.textColor,isLocked:!1,meta:t,kicker:s&&o?f(mz,{text:o}):null,title:f(uz,{text:r}),subtitle:n?f(dz,{text:n}):null},coverPosition:a,autotestData:"page-header"})}function mz(e,{text:t}){let o=db(e,t);return e`
<div save-ref=${o}>${t}</div>`}function uz(e,{text:t}){return e`
<div data-area-id="pageTitle">${t}</div>`}function dz(e,{text:t}){return e`
<div>${t}</div>`}function zE({state:e,contentElementRef:t,showHeaders:o,ignoreChangeSelectedHeader:r}){let[n,i]=z(null),a=P(null),s=D(()=>{let c=be.selectedSection(e);return sb(c)},[e]);return M(()=>{!r&&a.current&&i(a.current)},[r]),G(t,"scroll",()=>{if(!o){i(null);return}let c=ab(t.current,s);r?a.current=c:i(c)}),n}var fM=Mt(Jo());var Fu=class{constructor(t){this.chaptersCount=t.main.chaptersCount,this.navigationType=t.main.navigationType,this.nextButtonEnabled=t.navigation.nextButtonEnabled,this.copyingEnabled=t.main.copyingEnabled,this.contentsDisplayType=t.navigation.contentsDisplayType,this.isNavigationPanelCollapsedByDefault=t.navigation.isNavigationPanelCollapsedByDefault}};var Ku={header:ob};var fz="cubic-bezier(0.24, 0.84, 0.26, 0.99)";function HE(e){let t=new KeyframeEffect(e,[{transform:"translateY(50px)",opacity:0,"overflow-y":"hidden"},{transform:"translateY(0)",opacity:1,"overflow-y":"visible"}],{duration:600,easing:fz});new Animation(t).play()}var gz={rollPlayer:"_1-HQ__",withWatermark:"_tJ1gT3",copyingDisabled:"_iT3UbE",main:"_kMYupD",content:"_M9tjg-",nextSectionContentContainer:"_VVPutZ",next:"_n2c_9c",overlay:"_VBmcL-",fadeIn:"_QDa4kf",completeSectionContentContainer:"_ySTEOm",nextSectionLabel:"_wVacDF",tooltipWithTail:"_XQFRlM"},ua=gz;function QE({contentRef:e,nextButtonRef:t,onSelectedSectionProgress:o,richTextRenderer:r}){let n=E(()=>{let i=e.current,a=r.domElement(),s=t.current,c=s?s.clientHeight:0,l=a.children,p=i.scrollHeight-a.scrollHeight-c;for(let m of l)p+=m.scrollHeight;return p},[e,t,r]);return E(()=>{let i=e.current;if(!i)return;let a=n(),s=Bt(Math.ceil(i.scrollTop+i.clientHeight)/a,0,1);o(s)},[e,n,o])}var yz={topPanel:"_xrlGKJ",buttons:"_M0NxBi",navigationButton:"_NE6qwI",closeButton:"_LlZVXp"},UE=yz;var $u=u(UE);function WE(e,{previewMode:t,showNavigationPanel:o,autotestData:r,onShowNavigationButton:n,onCloseButton:i}){return e`
<div
	class=${$u.topPanel}
	data-at=${j(r)}
>
	<div class=${$u.buttons}>
		<div class=${$u.navigationButton}>
			${e.renderIf(Jr.OverlayButton,()=>o&&{style:"ghost",type:"icon",icon:f(TB),onClick:n,circleRadius:!0,scale:!0})}
		</div>
		<div class=${$u.closeButton}>
			${e.renderIf(Jr.OverlayButton,()=>!t&&{style:"ghost",type:"icon",icon:f(bp),onClick:i,circleRadius:!0,scale:!0})}
		</div>
	</div>
</div>`}var Ns=u(ua);function qE({state:e,settings:t,onGotoNextChapter:o,onClosePlayerRequest:r}){let n=E(()=>t.nextButtonEnabled?be.nextSection(e):null,[t.nextButtonEnabled,e]),i=E(()=>{let c=be.getLastContinueButtonKey(e),l=be.selectedSection(e).continueButtonKey,p=!!c&&c!==l;return t.nextButtonEnabled&&!p},[t.nextButtonEnabled,e]),a=E(()=>{let c=t.navigationType==="sequence",l=be.selectedSection(e);return c&&l.progress<1},[t.navigationType,e]),s=E(()=>{let c=n();return c?B("Roll.Player.GotoNextChapterLink",{title:c.header.title||B("Roll.Common.ChapterDefaultTitle")}):""},[n]);return D(()=>i()?n()?f(xz,{labelText:s(),disabled:a(),onGotoNextChapter:()=>{Zp("change-page",{}),o()}}):f(hz,{onClosePlayerRequest:r}):null,[s,n,a,i,r,o])}function hz(e,{onClosePlayerRequest:t}){return e`
<div
	class=${Ns.completeSectionContentContainer}
	data-at=${j("complete-section-content-container")}
>
	${e(en.PlayerButton,{style:"primary",content:B("Roll.Player.Complete"),onClick:()=>t(),size:"large"},Ns.next)}
</div>`}function xz(e,{disabled:t,onGotoNextChapter:o,labelText:r}){return e`
<div class=${Ns.nextSectionContentContainer}>
	<div class=${Ns.nextSectionLabel}>
		${r}
	</div>
	${e(en.PlayerButton,{style:"primary",content:B("Roll.Player.Continue"),onClick:t?()=>{}:()=>o(),size:"large",state:t?"disabled":"default",isNarrow:!0},Ns.next)}
</div>`}var Sz=500,GE=Ku.header.coverPosition;function jE({state:e,setQuizApi:t,updateStateFn:o,contentRef:r}){let n=te(e),i=D(()=>$E({getState:()=>n.current,updateStateFn:o,setQuizApi:t,scrollableContainerRef:r,scrollToContinueGroupFn:(l,p)=>{let m={top:0,bottom:p!=null?p:0};Qi({element:l,container:r.current,duration:Sz,scrollDirection:"bottom",bounds:m})},headerCoverPosition:GE}),[r,t,n,o]),a=E(()=>be.selectedSection(e).contentState,[e]),s=E(()=>{let l=be.selectedSection(e);return Xp(l.header,GE)},[e]),c=E(()=>be.selectedSection(e).continueButtonKey,[e]);return M(()=>{let l=a(),p=c(),m=s();i.updateState(l,p,m)},[c,a,i,s]),i}var Cz=u(ua);function YE(e,{settings:t,state:o,setQuizApi:r,updateStateFn:n,onClosePlayerRequest:i,onGotoNextChapter:a,onSelectedSectionProgress:s,previewMode:c,showNavigationPanel:l,onShowNavigationButton:p,onCloseButton:m}){let d=P(),y=P(),g=be.selectedSection(o),h=jE({state:o,updateStateFn:n,setQuizApi:r,contentRef:d}),C=qE({state:o,settings:t,onGotoNextChapter:a,onClosePlayerRequest:i}),S=QE({contentRef:d,nextButtonRef:y,richTextRenderer:h,onSelectedSectionProgress:s});return kz(S),M(()=>{HE(d.current),S(),or(g.key)},[S,g.key]),ee(()=>{d.current.scrollTop=0,or(g.key)},[d,g.key]),e`
<div
	class=${Cz.content}
	onscroll=${S}
	save-ref=${d}
>
	${e(WE,{previewMode:c,showNavigationPanel:l,autotestData:"roll-top-panel",onShowNavigationButton:p,onCloseButton:m})}
	<div>
		${e(NE,{...Ku.header,...g.header})}
	</div>
	${h.domElement()}
	${e(C,{ref:y})}
</div>`}function kz(e){M(()=>{if(dc()){let t=()=>{ro(()=>{e(),t()})};t()}},[e])}function _z(e){return e.contentState.blocksState.filter(t=>Pt.toQuizState(t))}function ZE(e){let t=_z(e),o=[],r=[];return t.forEach(n=>{let i=n.quizData.settings.main;if(i.isGraded){let s=i.passingScore;n.bestAttempt!==null&&(n.bestAttempt>=s&&r.push(n),o.push(n))}else r.push(n),o.push(n)}),o.length!==t.length?"notCompleted":r.length===t.length?"passed":"failed"}function XE(e,{articleTitle:t}){let o=R(),r=Ph(o);return Ot({html:e,elementRef:o,text:t,show:r}),e`
<div save-ref=${o}>${t}</div>`}var Bz={navigationPanel:"_vbXFbu",navigationPanel_showed:"_57b7u4",navigationPanel_inOverlay:"_dJ0wGh",mainPanel:"_jK2kjP",articleTitle:"_6Ff78a",progress:"_XLPFlh"},JE=Bz;var vz={totalProgress:"_nx2KVG",numeric:"_iv0_mf",indicatorContainer:"_KtKMDV",indicatorProgress:"_UK4nAH"},zs=vz;function eM(e,{progress:t}){let o=Math.floor(t*100)+"%";return e`
<div class=${zs.totalProgress}>
	<div class=${zs.numeric}>${o}</div>
	<div class=${zs.indicatorContainer}>
		<div class=${zs.indicatorProgress} style=${`width: ${o}`}></div>
	</div>
</div>`}var bz={correct:"_T6sMOZ",incorrect:"_9HmMPg"},Sy=bz;function tM(e,{passed:t}){return e`
<div>
	${e.switch(()=>t?f(_B,{},Sy.correct):f(kB,{},Sy.incorrect))}
</div>`}var Tz={progressBar:"_iFmRHS",bar:"_751-kS"},Cy=Tz;function oM(e,{progress:t}){let r=Math.PI*18,n=(100-t*100)/100*r;return e`
		<div class=${Cy.progressBar}>
			<svg width="22" height="22" viewPort="0 0 11 11" version="1.1" xmlns="http://www.w3.org/2000/svg">
				<circle r="${9}" cx="11" cy="11" fill="transparent" stroke-dasharray="56.5" stroke-dashoffset="0"></circle>
				<circle class=${Cy.bar} r="${9}" cx="11" cy="11" fill="transparent" stroke-dasharray="56.5" stroke-dashoffset="${n}"></circle>
			</svg>
		</div>`}var wz=400,Pz=50;function rM({playerContentRef:e,continueButtonKey:t}){let o=T(e.current.querySelector(`[data-key="${t}"]`));Qi({element:o,container:e.current,duration:wz,scrollDirection:"bottom",additionalOffset:Pz,bounds:Pb()})}function nM({selectedPageKey:e,gotoPageHandler:t,playerContentRef:o,setIgnoreChangeSelectedHeader:r}){let n=te(t);return E(i=>{e===i?(r(!0),cb(o.current,()=>r(!1))):n.current(i)},[n,r,o,e])}function iM(e,{selectedPageKey:t,playerContentRef:o,pageStateMap:r,setIgnoreChangeSelectedHeader:n,onGotoPage:i}){let a=nM({selectedPageKey:t,playerContentRef:o,setIgnoreChangeSelectedHeader:n,gotoPageHandler:i}),s=lb({contentElement:o.current,checkNeedToScroll:y=>y===t,onBeforeStartScroll:()=>n(!0),onCompleteScroll:()=>n(!1)}),c=E(y=>{let g=r[y];if(!g)return null;switch(g.state){case"completed":return f(tM,{passed:g.passed});case"notStarted":return f(wp);case"inProgress":return f(oM,{progress:g.progress})}},[r]),l=E(y=>{let g=r[y];return g?g.state==="notStarted"&&g.disabled:!0},[r]),p=E(y=>{let g=r[y];return g&&g.state==="notStarted"&&g.disabled?B("Roll.Player.Navigation.DisabledPage.Tooltip.Text"):null},[r]),m=E(y=>{y.type==="continue"&&rM({playerContentRef:o,continueButtonKey:y.blockKey})},[o]),d=D(()=>({isReadonly:!1,isPagesDraggable:!1,gotoPageHandler:a,gotoHeaderHandler:s,renderPagePrefix:c,isPageDisabled:l,getPageTooltip:p,getHiddenContentIndicatorText:y=>{if(y.type==="continue")return B("Roll.Player.Navigation.HiddenContent.Tooltip.Text")},onHiddenContentClick:m}),[p,a,s,l,m,c]);ib(e,d)}var Nu=u(JE);function aM(e,{state:t,totalProgress:o,settings:r,playerContentRef:n,onSectionClick:i,onTransitionEnd:a}){let s=P(),c=P(window),[l,p]=z(!1),m=D(()=>T(t.pages[0]).header.title||B("Roll.Common.IntroDefaultTitle"),[t.pages]);G(c,"resize",()=>{s.current&&(s.current.style.height=`${window.innerHeight}`)}),ee(()=>{De(s.current,{"--font-family":"var(--header-font-family)",...Wc("compact")})},[s]);let y=be.selectedSection(t).key,g=D(()=>rb(t.pages),[t.pages]),h=D(()=>Ez(t,r.navigationType==="sequence"),[r.navigationType,t]);iM(e,{selectedPageKey:y,playerContentRef:n,pageStateMap:h,onGotoPage:S=>{let _=be.getSectionByKey(t,S);_&&i(_)},setIgnoreChangeSelectedHeader:p});let C=zE({state:t,contentElementRef:n,showHeaders:r.contentsDisplayType==="withPagesAndHeaders",ignoreChangeSelectedHeader:l});return e`
<div
	save-ref=${s}
	class=${Nu.navigationPanel.withMods({showed:t.navigationPanelShowed,inOverlay:gc()||kr()})}
	ontransitionend=${a}
>
	<div class=${Nu.mainPanel}>
		${e(XE,{articleTitle:m},Nu.articleTitle)}
		${e(eM,{progress:o},Nu.progress)}
		${e(tE,{pages:g,selectedPageId:y,isMinimized:!1,showHeaders:r.contentsDisplayType==="withPagesAndHeaders",selectedHeaderId:C})}
	</div>
</div>`}function Ez(e,t){let o={},r=-1;return be.sections(e).forEach((n,i)=>{let a=n.progress;n===be.selectedSection(e)&&(r=a<1?i:i+1);let c=t&&r!==-1&&i>r&&a===0,l=ZE(n),p=l==="passed"||l==="failed";n.progress===1&&p?o[n.key]={state:"completed",passed:l==="passed"}:n.progress===0?o[n.key]={state:"notStarted",disabled:c}:o[n.key]={state:"inProgress",progress:n.progress}}),o}var Mz={progressBarWrapper:"_DVdpAm",progressBar:"_-ksFmB"},sM=Mz;var cM=u(sM);function lM(e,{progress:t}){let o={width:`calc(100% * ${t})`};return e`
<div
	class=${cM.progressBarWrapper}
>
	<div
		class=${cM.progressBar}
		style=${o}
	></div>
</div>`}function pM(e){let t=D(()=>{try{if(window.top&&window.top.location.href)return window.top}catch{}return window},[]),o=E(()=>{let r=T(t).innerHeight;e.current.style.height=`${r}px`},[e,t]);M(()=>{if(eh()){o();let r=[st(T(t),yt.RESIZE,()=>{o()}),st(T(t),yt.SCROLL,()=>{o()}),st(T(t),yt.ORIENTATIONCHANGE,()=>{setTimeout(()=>T(t).scrollTo(0,0),500)})];return()=>r.forEach(It)}},[o,t])}var Hs=u(ua);function mM(e,{state:t,settings:o,previewMode:r,updateStateFn:n,setQuizApi:i,showWatermark:a,progress:s,onClosePlayerRequest:c,onGotoNextChapter:l,onSectionClick:p,onToggleNavigationButtonClick:m,onSelectedSectionProgress:d}){let y=P(),g=P(),[h,C]=z(!0),S=be.selectedSection(t),_=E(()=>{C(!0)},[]),x=E(($=!1)=>{fc()||!h||(C($),m())},[h,m]),b=E($=>{$===S?x(!1):(x(!0),Zp("change-page",{})),p($)},[x,p,S]);pM(y);let w=(gc()||kr())&&t.navigationPanelShowed||!h,V=o.contentsDisplayType!=="hidden";return e`
<div
	class=${Pe(Hs.rollPlayer,!o.copyingEnabled&&Hs.copyingDisabled,a&&Hs.withWatermark)}
	save-ref=${y}
>
	${e.renderIf(aM,()=>V&&{state:t,totalProgress:s,settings:o,playerContentRef:g,onSectionClick:b,onTransitionEnd:_})}
	<div
		class=${Hs.main}
		data-at=${j("roll-player-main")}
	>
		${e(lM,{progress:S.progress})}
		${e(YE,{settings:o,state:t,setQuizApi:i,updateStateFn:n,onClosePlayerRequest:c,onGotoNextChapter:l,onSelectedSectionProgress:d,previewMode:r,showNavigationPanel:V,onShowNavigationButton:m,onCloseButton:c,progress:S.progress},{ref:g})}
	</div>
	${e.renderIf(Rz,()=>w&&{hideNavigationPanel:x})}
</div>`}function Rz(e,{hideNavigationPanel:t}){return e`
<div
	class=${Hs.overlay}
	passive-events=${{ontouchstart:t}}
	onmousedown=${t}
></div>`}var zu=class{constructor({longreadMainSettings:t,updateQuizState:o,onQuizToGradeCompleted:r,onQuizStatisticChange:n}){this._longreadMainSettings=t,this._onQuizStatisticChange=n,this._updateQuizState=o,this._onQuizToGradeCompleted=r,this._quizKeyToApiMap=new Map,this._quizKeyToUnsubs=new Map}setApi({quizBlockKey:t,quizId:o,isGraded:r,api:n}){let i=this._quizKeyToApiMap.get(t);if(i){if(i===n)return;T(this._quizKeyToUnsubs.get(t)).forEach(c=>c())}let a=G_(n);this._quizKeyToApiMap.set(t,n),this._quizKeyToUnsubs.set(t,Zo([n.onPersistedStateChanged.add(()=>this._onQuizPersistedStateChanged(t,n)),r&&!!o&&a.add(s=>this._onQuizStatisticChangedHandler(n,o,s))]))}_onQuizStatisticChangedHandler(t,o,r){var i;let n=this._longreadMainSettings.grade;if(n.mode==="gradeByQuiz"&&n.quizToGradeId===o){let a=(i=t.session)==null?void 0:i.evaluation;a&&this._onQuizToGradeCompleted({passed:a.quizPassed,score:a.score})}this._onQuizStatisticChange.dispatch({...r,quizId:o})}_onQuizPersistedStateChanged(t,o){let r=Fp(Ap(JSON.parse(o.persistedState)));this._updateQuizState(t,r)}};function uM(e){let t=Date.now(),o=setInterval(()=>{let n=Date.now()-t;e(n)},100);return()=>clearInterval(o)}var ky=3e3;var Qs=class extends xr{constructor({container:t,playerData:o,previewMode:r=!1,resumeState:n,showWatermark:i}){super();let a=Rg(o,n);this._attemptDate=Date.now(),this._state=a,this._settings=o.settings,this.onSelectedSectionChange=this._createSignal(),this.onPersistedStateChange=this._createSignal(),this.onSectionProgressChange=this._createSignal(),this.onQuizStatisticChange=this._createSignal(),this.onLongreadResultChange=this._createSignal(),this._longreadResult=this._calculateLongreadResult(),this._quizApiMap=new zu({longreadMainSettings:o.settings.main,updateQuizState:this._updateQuizState.bind(this),onQuizToGradeCompleted:this._onQuizToGradeCompleted.bind(this),onQuizStatisticChange:this.onQuizStatisticChange}),this._playerProps={state:this._state,updateStateFn:this._updateState.bind(this),setQuizApi:this._quizApiMap.setApi.bind(this._quizApiMap),previewMode:r,settings:new Fu(this._settings),showWatermark:i,progress:0,onToggleNavigationButtonClick:()=>this._toggleNavigationPanel(),onSectionClick:c=>this._selectSection(c),onGotoNextChapter:()=>this._gotoNextChapter(),onSelectedSectionProgress:c=>{this._setSelectedSectionProgress(c),this._setLongreadProgress(this._getLongreadProgress()),c>=1&&this._onSectionProgressChangeWithThrottle.flush()},onClosePlayerRequest:()=>this._onClosePlayer()},this._setPlayerProps=vh(mM,c=>{t.appendChild(c)}),this._renderView(),this._onLongreadResultChangedWithThrottle=qs(this.onLongreadResultChange.toFn(),ky),this._onPersistedStateChangeWithThrottle=qs(this.onPersistedStateChange.toFn(),ky),this._onSectionProgressChangeWithThrottle=qs(this.onSectionProgressChange.toFn(),ky),this.onClosePlayerRequest=this._createSignal(),uM(c=>{this._longreadResult.duration=c});let s=ac(()=>this.setInitialNavigationToggleState(),100);this._lastWindowWidth=0,this._listen(window,yt.RESIZE,s.call),this.setInitialNavigationToggleState()}isGraded(){let t=this._settings.main.grade;return t.mode==="gradeByQuiz"&&!!t.quizToGradeId}getTitle(){return T(this._state.pages[0]).header.title||B("Roll.Common.IntroDefaultTitle")}getChaptersCount(){return this._state.pages.length}getCurrentSectionIndex(){return this._state.selectedSectionIndex}getCurrentSectionProgress(){return be.selectedSection(this._state).progress}getCurrentSectionsStateProgress(){return this._state.pages.map(t=>t.progress===1)}getSuspendData(){let t=Kb(tT(this._state),3);return Nb(JSON.stringify({state:t,version:3}))}getArticle(){return{pages:this._state.pages.map(t=>({key:t.key,title:t.header.title}))}}getLongreadResult(){return this._longreadResult}setInitialNavigationToggleState(){let t=window.innerWidth;if(this._lastWindowWidth>un.FULL&&fc())return;this._lastWindowWidth=t;let o=t>un.FULL&&!this._settings.navigation.isNavigationPanelCollapsedByDefault;this._updateState(r=>{if(o===r.navigationPanelShowed){o&&this._renderView();return}r.navigationPanelShowed!==o&&(r.navigationPanelShowed=o)})}_renderView(t={}){this._playerProps={...this._playerProps,...t},this._setPlayerProps(this._playerProps)}_getAllChaptersArray(){return[...this._state.pages]}_getSettingsChaptersCount(){return this._settings.main.chaptersCount===-1?this._getAllChaptersArray().length:this._settings.main.chaptersCount}_getGradedQuizProgressPortion(t){let o=0;return t.contentState.blocksState.forEach(r=>{let n=Pt.toQuizState(r);n&&n.quizData.settings.main.isGraded&&o++}),o?(1-.75)/o:0}_verifyProgress(t){return Sa(t,10)>=1?1:t}_getLongreadProgress(){let t=this._getAllChaptersArray();return t.reduce((o,r)=>o+r.progress,0)/t.length}_getLongreadProgressState(){let t=this._getAllChaptersArray(),o=this._getSettingsChaptersCount(),r=0;return t.forEach(n=>{n.progress===1&&r++}),r>=o}_updateState(t){let o=(0,fM.produce)(this._state,r=>{t(r)});this._state!==o&&(this._state=o,this._renderView({state:o}),this._state.selectedSectionIndex!==o.selectedSectionIndex&&this.onSelectedSectionChange.dispatch(),this._onPersistedStateChangeWithThrottle())}_selectSection(t){this._updateState(o=>{o.selectedSectionIndex=o.pages.findIndex(r=>r.key===t.key)})}_updateQuizState(t,o){this._updateState(r=>{let n=be.selectedSection(r),i=n.contentState,a=this._getGradedQuizProgressPortion(n);i.blocksState.forEach((s,c)=>{let l=Pt.toQuizState(s);l&&l.quizData.key===t&&(l.quizData.settings.main.isGraded&&pn(l.bestAttempt)&&!pn(o.bestAttempt)&&(n.progress=this._verifyProgress(n.progress+a)),i.blocksState[c]={...l,...o})})}),this._setLongreadProgress(this._getLongreadProgress())}_gotoNextChapter(){this._updateState(t=>{let o=be.nextSection(t);o&&(t.selectedSectionIndex=t.pages.findIndex(r=>r.key===o.key))})}_onQuizToGradeCompleted({score:t,passed:o}){let r=this._longreadResult.score;(!r||t>r)&&(this._longreadResult.score=t,this._longreadResult.longreadPassed=o,this._longreadResult.completed=!0,this.onLongreadResultChange.dispatch())}_setLongreadProgress(t){t>this._playerProps.progress&&this._renderView({progress:t});let o=this._normalizeProgress(t);if(this._longreadResult.progress!==o){if(this._longreadResult.progress=o,!this.isGraded()){let r=this._getLongreadProgressState();this._longreadResult.longreadPassed=r,this._longreadResult.completed=r}this._onSectionProgressChangeWithThrottle(),this._onLongreadResultChangedWithThrottle()}}_setSelectedSectionProgress(t){this._updateState(o=>{let r=be.selectedSection(o);if(isNaN(t)||r.progress>=t)return;let n=this._getGradedQuizProgressPortion(r),i=0;r.contentState.blocksState.forEach(s=>{let c=Pt.toQuizState(s);c&&c.quizData.settings.main.isGraded&&!pn(c.bestAttempt)&&(i+=n)});let a=n?this._verifyProgress(t*.75+i):t;r.progress>=a||(r.progress=a)})}_toggleNavigationPanel(){this._updateState(t=>{t.navigationPanelShowed=!t.navigationPanelShowed})}_calculateLongreadResult(){let t=this._settings.main.grade,o=this._attemptDate,r=this._normalizeProgress(this._getLongreadProgress());if(t.mode!=="gradeByQuiz"||!t.quizToGradeId){let a=this._getLongreadProgressState();return{longreadPassed:a,progress:r,score:null,completed:a,attemptDate:o,duration:0}}let n=this._findQuizToGrade(t.quizToGradeId);if(!n)throw new Error(`graded quiz with id ${t.quizToGradeId} is not found`);let i=n.quizData.settings.main.passingScore;return n.bestAttempt?{longreadPassed:n.bestAttempt>=i,progress:r,score:n.bestAttempt,completed:!0,attemptDate:o,duration:0}:{longreadPassed:!1,progress:r,score:null,completed:!1,attemptDate:o,duration:0}}_findQuizToGrade(t){return this._state.pages.reduce((r,n)=>(r.push(...n.contentState.blocksState),r),[]).find(r=>{let n=Pt.toQuizState(r);return n&&n.quizData.longreadQuizId===t})}_normalizeProgress(t){return t*100}_onClosePlayer(){this.onLongreadResultChange.dispatch(),this.onClosePlayerRequest.dispatch()}};function gM(e){e.appendChild(Aa("popup")),e.appendChild(Aa("popover")),e.appendChild(Aa("tooltip")),e.appendChild(Aa("uploader"))}function yM(e){let t=gn(SS)({});Nc("toast",t),e.appendChild(t)}function hM(e){return e.publishSettings.copyingEnabled=!0,e}function xM(e){return hf(e.content.intro.blocks),e.content.chapters&&e.content.chapters.forEach(t=>{hf(t.blocks)}),e}var jo={ACCENT_COLOR:"ACCENT_COLOR",PLAYER_MAIN_FONT:"PLAYER_MAIN_FONT",CONTENT_FONT:"CONTENT_FONT"};var vo={TOOLTIP:"tooltip",PLAYER_MAIN:"playerMain",CONTENT:"content"};function SM({content:e,publishSettings:t,cssReplacements:o}){return{content:iw(e),settings:{main:{navigationType:t.navigationType,numberingEnabled:t.numberingEnabled,nextButtonEnabled:t.nextButtonEnabled,copyingEnabled:t.copyingEnabled},design:{accentColor:T(o[jo.ACCENT_COLOR]),headerFont:T(t.fonts[vo.PLAYER_MAIN]),contentFont:T(t.fonts[vo.CONTENT])}}}}function CM({playerDocument:e,versionFrom:t}){let o=[{targetVersion:2,upgradeFn:hM},{targetVersion:3,upgradeFn:xM},{targetVersion:4,upgradeFn:SM}],{upgradedDocument:r}=To({document:e,initialVersion:1,versionFrom:t,versionTo:4,upgraders:o});return r}var{String:jn,Bool:Hu}=xt,Dz=U({content:Z(1,X4),publishSettings:Z(2,{navigationType:jn(1),searchEnabled:Hu(2),numberingEnabled:Hu(3),nextButtonEnabled:Hu(4),copyingEnabled:de(6,Hu),fonts:Z(5,{[vo.TOOLTIP]:jn(1),[vo.PLAYER_MAIN]:jn(2),[vo.CONTENT]:jn(3)})}),cssReplacements:Z(3,{[jo.ACCENT_COLOR]:jn(1),[jo.CONTENT_FONT]:jn(2),[jo.PLAYER_MAIN_FONT]:jn(3)})}),Qu=new Pr(Dz);var kM=Qu;var{String:Yn,Bool:Uu}=xt,Az=U({content:Z(1,rw),publishSettings:Z(2,{navigationType:Yn(1),searchEnabled:Uu(2),numberingEnabled:Uu(3),nextButtonEnabled:Uu(4),copyingEnabled:de(6,Uu),fonts:Z(5,{[vo.TOOLTIP]:Yn(1),[vo.PLAYER_MAIN]:Yn(2),[vo.CONTENT]:Yn(3)})}),cssReplacements:Z(3,{[jo.ACCENT_COLOR]:Yn(1),[jo.CONTENT_FONT]:Yn(2),[jo.PLAYER_MAIN_FONT]:Yn(3)})}),_M=new Pr(Az);async function BM(e){let t=await qh(e,n=>{switch(n){case 1:return Qu;case 2:return kM;case 3:return _M;default:throw Error("invalid blob document format")}}),{version:o,data:r}=t;return CM({playerDocument:r,versionFrom:o})}async function vM(e){if(e instanceof Blob){let{content:t,settings:o}=await BM(e);return ru({content:t,settings:o,version:4})}return G4(e)}async function Vz(){let e=await wd(Mb);return e||(e=await Uh(Eb),e)?e:null}function Lz(){gM(document.body),yM(document.body)}function bM({i18nFileName:e,showWatermark:t,resumeState:o,subscriptionProduct:r,watermarkUrl:n}){return new Promise(i=>{Promise.all([wd(e),Vz()]).then(([a,s])=>{if(!s)throw new Error;Zy(a||{}),vM(s).then(l=>{if(!l)throw new Error;o4({settings:l.settings,customFonts:mn(s)&&s.customFonts}),j_(document.body,t,r,n);let p=new Qs({container:document.body,playerData:l,resumeState:o,showWatermark:t});i(p),Lz()})})})}function Oz(e,t,o,r,n,i){return bM({i18nFileName:e,showWatermark:i||!1,resumeState:o,subscriptionProduct:r,watermarkUrl:n})}Fy("start",Oz);})();
